!function(zgssearch,window){var gscomponent;zgssearch.gscomponent=(gscomponent=void 0,(gscomponent=zgssearch.gscomponent||{}).UIType=gscomponent.hasOwnProperty("UIType")?gscomponent.UIType:0,gscomponent.isShowAppsData=!1,gscomponent.mount=gscomponent.hasOwnProperty("mount")?gscomponent.mount:"zgs20_globalsearch",gscomponent.searchboxMount=gscomponent.hasOwnProperty("searchboxMount")?gscomponent.searchboxMount:"zgs20_gsSearchBoxRight",gscomponent.searchresultMount=gscomponent.hasOwnProperty("searchresultMount")?gscomponent.searchresultMount:"",gscomponent.searchBoxPosition=gscomponent.hasOwnProperty("searchBoxPosition")?gscomponent.searchBoxPosition:"",gscomponent.searchResultPosition=gscomponent.hasOwnProperty("searchResultPosition")?gscomponent.searchResultPosition:"",gscomponent.zindex=gscomponent.hasOwnProperty("zindex")?gscomponent.zindex:"",gscomponent.theme=gscomponent.hasOwnProperty("theme")?gscomponent.theme:"",gscomponent.query=gscomponent.hasOwnProperty("query")?gscomponent.query:"",gscomponent.showSearchButton=!!gscomponent.hasOwnProperty("showSearchButton")&&gscomponent.showSearchButton,gscomponent.tabIndex=gscomponent.hasOwnProperty("tabIndex")?gscomponent.tabIndex:"",gscomponent.position=gscomponent.hasOwnProperty("position")?gscomponent.position:{},gscomponent.beforeShow=gscomponent.hasOwnProperty("beforeShow")?gscomponent.beforeShow:"",gscomponent.beforeHide=gscomponent.hasOwnProperty("beforeHide")?gscomponent.beforeHide:"",gscomponent.afterShow=gscomponent.hasOwnProperty("afterShow")?gscomponent.afterShow:"",gscomponent.afterHide=gscomponent.hasOwnProperty("afterHide")?gscomponent.afterHide:"",gscomponent.onZSReady=gscomponent.hasOwnProperty("onZSReady")?gscomponent.onZSReady:"",gscomponent.gsserver=gscomponent.hasOwnProperty("gsserver")?gscomponent.gsserver:"zohosearch",gscomponent.suiteServiceObject=gscomponent.hasOwnProperty("suiteServiceObject")?gscomponent.suiteServiceObject:[],gscomponent.isServiceSuite=!!gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite,gscomponent.isEmptySearchAllowed=!!gscomponent.hasOwnProperty("isEmptySearchAllowed")&&gscomponent.isEmptySearchAllowed,gscomponent.isWPSmartViewEnabled=!!gscomponent.hasOwnProperty("isWPSmartViewEnabled")&&gscomponent.isWPSmartViewEnabled,gscomponent.isNoRestrictServicelist=!!gscomponent.hasOwnProperty("isNoRestrictServicelist")&&gscomponent.isNoRestrictServicelist,gscomponent.zsdirection=gscomponent.hasOwnProperty("zsdirection")?gscomponent.zsdirection:"ltr",gscomponent.isRTLEnabled=!!gscomponent.hasOwnProperty("isRTLEnabled")&&gscomponent.isRTLEnabled,gscomponent.isSameQrySearchEnabled=4===gscomponent.UIType,gscomponent.suiteServiceUserConfig=gscomponent.suiteServiceUserConfig||[],gscomponent.suiteServices=gscomponent.suiteServices||[],gscomponent.setSuiteServiceList=function(service,widgetId){gscomponent.suiteServices.push(service),gscomponent.suiteServiceUserConfig.push({app_name:service,zaaid:widgetId})},gscomponent.getSuiteServiceList=function(){return 0<gscomponent.suiteServices.length?gscomponent.suiteServices:[]},gscomponent.getSuiteServicesObject=function(){return gscomponent.suiteServiceUserConfig},gscomponent.setSuiteServiceObject=function(suiteServiceObject){0<suiteServiceObject.length&&(gscomponent.suiteServiceObject=suiteServiceObject)},gscomponent.nonAccountFilterServices=[],gscomponent.setSuiteService=function(){if(gscomponent.isServiceSuite){var suiteServiceData=zgssearch.jsonParse(gscomponent.suiteServiceObject),suiteServicesDataLen=Object.keys(suiteServiceData).length;if(0<suiteServicesDataLen){gscomponent.suiteServiceUserConfig=[],gscomponent.suiteServices=[],gscomponent.suiteServices.push("all");for(var i=0;i<suiteServicesDataLen;i++){var widgetId=suiteServiceData[i],service=widgetId.service,widgetId=widgetId.id||"";gscomponent.setSuiteServiceList(service,widgetId),service===zgssearch.GSConstant.WEBSITE&&0<widgetId.length&&gscomponent.nonAccountFilterServices.push(service)}}}},gscomponent.setSuiteService(),gscomponent.gsCloseIconCallback=function(){2===gscomponent.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("toggleCloseIcon")&&zossearch.toggleCloseIcon()},gscomponent.setUIType=function(){gscomponent.UIType="undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOSObject")?2:gscomponent.UIType},gscomponent.setUIType(),gscomponent.setPCode=function(){var pcode=gscomponent.hasOwnProperty("pcode")?gscomponent.pcode:"ZGS";("ZGS"!==(pcode="undefined"!=typeof zossearch&&zossearch.hasOwnProperty("pcode")?zossearch.pcode:pcode)||0!==gscomponent.UIType&&1!==gscomponent.UIType)&&(gscomponent.isServiceSuite=!0),gscomponent.pcode=pcode},gscomponent.setPCode(),gscomponent.isSettingsEnabled=gscomponent.hasOwnProperty("isSettingsEnabled")?gscomponent.isSettingsEnabled:!gscomponent.isServiceSuite,gscomponent.getMountAttr=function(){var mountCls="",mountId="",mountParentEle="",isAppendToBody=!1;switch(gscomponent.UIType){case 0:case 2:mountCls=" zgs19_direction zgs19_globalsearch zgs19_globalsearch_position zgs19_gsDisplayNone ",mountId="zgs20_globalsearch";break;case 1:mountCls=" zgs19_direction zgs19_zohosearch ",mountId="zgs20_zohosearch",isAppendToBody=!0;break;case 4:var mountCls=" zgs19_direction zgs19_globalsearch zgs19_globalsearch_position zgs19_gsDisplayNone ",serviceSuitCls="";switch(gscomponent.pcode){case"ZO":serviceSuitCls=" zgs19_gsonezoho";break;case"ZW":serviceSuitCls=" zsServiceSuite zsServiceSuite260"}mountCls+=serviceSuitCls,mountId="zgs20_globalsearch",mountParentEle=gscomponent.mount}return{class:mountCls,id:mountId,isAppendToBody:isAppendToBody,mountParentEle:mountParentEle}},gscomponent.getToolTipMountId=function(){var toolTipMountId="zgs20_gsHolder";return toolTipMountId=zgssearch.GSConstant.hasOwnProperty("isEmbedDashboard")&&zgssearch.GSConstant.isEmbedDashboard||zgssearch.GSConstant.hasOwnProperty("isEmbedCard")?"zgs20_globalsearch":toolTipMountId},gscomponent.clearExistingZOS=function(existingEle){existingEle=document.getElementById(existingEle);3!==gscomponent.UIType&&4!==gscomponent.UIType||!existingEle||existingEle.parentNode.removeChild(existingEle)},gscomponent.getMountDetails=function(){var mountAttr=gscomponent.getMountAttr(),mountEle=mountAttr.isAppendToBody;return gscomponent.clearExistingZOS(mountAttr.id),mountEle&&((mountEle=document.createElement("div")).tabIndex=5,""!==gscomponent.zindex&&(mountEle.style.zIndex=gscomponent.zindex),mountEle.id=mountAttr.id,mountEle.className=mountAttr.class,mountEle.setAttribute("gs","globalsearch"),document.body.appendChild(mountEle)),mountAttr},gscomponent.setDOMDirection=function(directCls){var mountEle;gscomponent.hasOwnProperty("pcode")&&"ZO"!=gscomponent.pcode&&zgssearch.hasOwnProperty("isDashboardEnabled")&&!zgssearch.isDashboardEnabled&&(mountEle=gscomponent.getMountAttr(),mountEle=document.getElementById(mountEle.id),gscomponent.zsdirection=directCls||gscomponent.zsdirection,zgssearch.GSConstant.hasOwnProperty("rtlSupportedZSLanguages")&&-1!==zgssearch.GSConstant.rtlSupportedZSLanguages.indexOf(zgssearch.getCurrentLanguage())&&(gscomponent.zsdirection="rtl"),gscomponent.isRTLEnabled="rtl"===gscomponent.zsdirection,directCls=gscomponent.isRTLEnabled?" zgs19_rtl":" zgs19_ltr",mountEle.classList.remove("zgs19_ltr"),mountEle.classList.remove("zgs19_rtl"),mountEle.className+=directCls,mountEle.style.direction=zgssearch.gscomponent.zsdirection,zgssearch.GSConstant.hasOwnProperty("zsdirectioncomponent")&&zgssearch.GSConstant.zsdirectioncomponent&&document.getElementById("zgs20_direction")&&(document.getElementById("zgs20_direction").checked="rtl"===gscomponent.zsdirection)),zgssearch.hasOwnProperty("setSCSSRootConfig")&&zgssearch.setSCSSRootConfig()},gscomponent.getZOUserData=function(){return"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOUserObject")?zossearch.getZOUserObject():gscomponent.hasOwnProperty("getZOUserObject")?gscomponent.getZOUserObject():gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite?gscomponent.getSuiteServicesObject():void 0},gscomponent.uiPosition=function(){return 2===gscomponent.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("getZOSObject")?zossearch.getZOSObject():gscomponent.position},gscomponent.getGSOptions=function(){if(3!==gscomponent.UIType)return"";return'<div id="zgs20_gsOption"><div class="zgs19_gsOptionSub zgs19_gsCurPointer"><div id="zgs20_gsactionmin" class="zgs19_gsOptionMinIcon zgs19_gsOptionIcon zgs19_gsDisplayNone" gs="gsactionmin"></div><div id="zgs20_gsactionmax" class="zgs19_gsOptionMaxIcon zgs19_gsOptionIcon" gs="gsactionmax"></div></div></div></div>'},gscomponent.getSearchButton=function(){if(gscomponent.showSearchButton){var existingSearchBtn=document.getElementsByClassName("zgs19_searchbtnOuter")[0];if(existingSearchBtn)return existingSearchBtn;return(new DOMParser).parseFromString("<div class='zgs19_searchbtnOuter'><input gs='defsearchicon' id='zgs20_gsSearchBtn'  class='zgs19_searchbtn zgs19_gsContentBox' type='button' gsa='biggerUI_search_button'><span gs='defsearchicon' id='zgs20_gsSearchBtnIcon'  class='zgs19_gsSearchBtnIcon zgs18_gsLensIconTab zgs19_gsDisplayNone'></div>","text/html").body.firstChild}return""},gscomponent.getSearchIcon=function(){var searchIcon="<div id='zgs20_gsSearchBoxLeft' class='zgs19_gsSearchBoxLeft zgs19_gsServicesPaneWid zgs19_gsCurPointer' gs='clearAndDisplayHomePage' gsa='smallerUI_search_button'>\n                                            <span class='zgs19_gsSearchIcon zgs18_searchLogo'></span>\n                                            <span class='zgs19_gsZSearchTxt zgs19_gsDisplayNone'>"+zgssearch.getI18NMsg("gs.search.service_welcome_page")+"</span>\n                                            <span class='zgs18_gsLHSMenu zgs19_gsDisplayNone' gs='showSVLHSServices'></span>\n                                        </div>";return(searchIcon=(new DOMParser).parseFromString(searchIcon,"text/html")).body.firstChild},gscomponent.getSearchBox=function(){var existingSearchBoxOuter=document.getElementsByClassName("zgs19_gsqryinnerdiv")[0];if(existingSearchBoxOuter){var searchBox="<div class='zgs19_searchBoxFocusedChild zgs19_gsfl'><div gsfocusedouter='zgs19_searchBoxFocusedParent' id='zgs20_gsQueryBoxHolder' class='zgs19_gsQueryBoxHolder zgs19_gsfl'></div></div>";searchBox=(searchBox=(new DOMParser).parseFromString(searchBox,"text/html")).body.firstChild.appendChild(existingSearchBoxOuter);existingSearchBoxOuter=document.getElementById("zgs20_gsQueryBoxHolder");return existingSearchBoxOuter.parentNode.removeChild(existingSearchBoxOuter),searchBox}searchBox="<div class='zgs19_searchBoxFocusedChild zgs19_gsfl'><div gsfocusedouter='zgs19_searchBoxFocusedParent' id='zgs20_gsQueryBoxHolder' class='zgs19_gsQueryBoxHolder zgs19_gsfl'>\n                                    <div class='zgs19_gsqryinnerdiv'>\n                                          <div id='zgs20_gsQuerySpanBox' tabindex=0 class='zgs19_gsSearchQueryBox zgs19_gsBorderBox zgs19_gsBoxshadow'></div>\n                                          <input id='zgs20_gsQueryBox' tabindex=0 autocomplete='off' spellcheck='false' class='zgs19_gsSearchQueryBox zgs19_gsBorderBox zgs19_gsBoxshadow' placeholder='"+gscomponent.getSearchBoxPlaceholder()+"'/>\n                                </div></div>";return(searchBox=(new DOMParser).parseFromString(searchBox,"text/html")).body.firstChild},gscomponent.getResultsArea=function(){return(new DOMParser).parseFromString("<div id='zgs20_gsSearchResultsArea' class='zgs19_gsSearchResultsArea' tabindex='5'>\n                                <div id='zgs20_gsProgressLoader' class='zgs19_gsProgressLoader zgs19_gsDisplayNone'></div>\n                                <div id='zgs20_gsResultsHolder' class='zgs19_gsSearchResultAreaChild zgs19_gsw100h100 zgs19_gsDisplayNone zgs19_gsfl' style='border: none;' domselector='previewbody'></div>\n                                <div id='zgs20_gsCardsPage' class = 'zgs19_gsCardsPage zgs19_gsDisplayNone'></div>\n                                <div id='zgs20_gsDashboardhome' class = 'zgs19_gsDashboardhome zgs19_gsDisplayNone'></div>\n                                <div id= 'zgs20_cloudIntegration' class='zgs19_cloudIntegration zgs19_gsSettingsPages zgs19_gsDisplayNoneImp'></div>\n                                <div id= 'zgs20_gsbannertip' class='zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone'>\n                                <div id= 'zgs20_gsbannertipicon' class='zgs19_gsbannertipicon zgs19_gsfl'></div>\n                                <div id= 'zgs20_gsbannertiptext' class='zgs19_gsbannertiptext zgs19_gsfl'></div>\n                                </div>\n                            </div>","text/html").body.firstChild},gscomponent.setTheme=function(){"ZO"===gscomponent.pcode&&gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&(2===gscomponent.UIType||4===gscomponent.UIType)?zgssearch.setTheme("zsGreyMode"):zgssearch.GSConstant.hasOwnProperty("theme")&&zgssearch.setTheme(zgssearch.GSConstant.theme)},gscomponent.getZOSSearchBoxPlaceholder=function(){return 2===gscomponent.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("title")?zossearch.title:""},gscomponent.getSearchBoxPlaceholder=function(){return zgssearch.isNICDomain()?zgssearch.getI18NMsg("gs.search_across_apps"):2===gscomponent.UIType&&"undefined"!=typeof zossearch&&zossearch.hasOwnProperty("title")?zossearch.title:4===gscomponent.UIType&&gscomponent.hasOwnProperty("searchboxPlaceholder")?gscomponent.searchboxPlaceholder:zgssearch.hasWmsResource?WmsResource.getRealValue("GS_Search_across_zoho"):""},gscomponent.isToggleZiaEnabled=function(){return 1!==gscomponent.UIType&&4!==gscomponent.UIType},gscomponent.getOverlay=function(){return 0===gscomponent.UIType||2===gscomponent.UIType?"<div id='zgs20_gsOverlay' gs='gsoverlay' class='zgs19_gsOverlay zgs19_globalsearch_position'></div>":""},gscomponent.isResizeEnabled=function(){return 0!==gscomponent.UIType},gscomponent.isHashingAllowed=function(){return 1===gscomponent.UIType},gscomponent.getGSServer=function(){var zsServer="zohosearch";return zsServer=gscomponent.hasOwnProperty("gsserver")?gscomponent.gsserver:zsServer},gscomponent.getContactServer=function(){return 1===gscomponent.UIType?contactServer:""},gscomponent),zgssearch.userAgent=window.navigator.userAgent,zgssearch.isIE=-1!==zgssearch.userAgent.indexOf("MSIE")||-1!==zgssearch.userAgent.indexOf("Trident"),zgssearch.detectBrowser=function(){return-1!=(zgssearch.userAgent.indexOf("Opera")||zgssearch.userAgent.indexOf("OPR"))?"Opera":-1!=zgssearch.userAgent.indexOf("Edg")?"Edge":-1!=zgssearch.userAgent.indexOf("Chrome")?"Chrome":-1!=zgssearch.userAgent.indexOf("Safari")?"Safari":-1!=zgssearch.userAgent.indexOf("Firefox")?"Firefox":-1!=zgssearch.userAgent.indexOf("MSIE")||1==!!document.documentMode?"IE":"Unknown"},zgssearch.detectBrowserVersion=function(){var tem,ua=zgssearch.userAgent,M=ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(M[1])?{name:"IE",version:(tem=/\brv[ :]+(\d+)/g.exec(ua)||[])[1]||""}:"Chrome"===M[1]&&null!=(tem=ua.match(/\b(OPR|Edge)\/(\d+)/))?{name:tem[1].replace("OPR","Opera"),version:tem[2]}:(M=M[2]?[M[1],M[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(tem=ua.match(/version\/(\d+)/i))&&M.splice(1,1,tem[1]),{name:M[0],version:M[1]})},zgssearch.setSCSSRootConfig=function(){var zsroot;"Chrome"===zgssearch.detectBrowser()&&parseInt(zgssearch.detectBrowserVersion().version)<118&&(zsroot=document.querySelector(":root"),zgssearch.gscomponent.isRTLEnabled?(zsroot.style.setProperty("--floatleft--","right"),zsroot.style.setProperty("--floatright--","left")):(zsroot.style.setProperty("--floatleft--","left"),zsroot.style.setProperty("--floatright--","right")))}}(zgssearch,window),function(window){var zgssearch=function(zgssearch){return(zgssearch=window.zgssearch||{}).setTheme=function(themeName){var element=document.body,GSConstant=zgssearch.hasOwnProperty("getGSConstantObj")?zgssearch.getGSConstantObj():{};if("zmNightMode"===themeName&&(themeName="zsNightMode"),GSConstant.SUPPORTED_THEME){var supportedThemeArr=GSConstant.SUPPORTED_THEME.split(",");if(-1<supportedThemeArr.indexOf(themeName)){var tIndex,existingBodyCls=element.className.trim();for(tIndex in supportedThemeArr)var tName=supportedThemeArr[tIndex],tName=zgssearch.GSConstant.isNightModeEnabled&&"zsNightMode"==tName?"":tName,existingBodyCls=existingBodyCls.replace(tName,"");element.className=existingBodyCls+" "+themeName}}},zgssearch.getTheme=function(){var element=document.body,GSConstant=zgssearch.hasOwnProperty("getGSConstantObj")?zgssearch.getGSConstantObj():{};if(GSConstant.SUPPORTED_THEME){var tIndex,supportedThemeArr=GSConstant.SUPPORTED_THEME.split(","),existingBodyClsArr=element.className.trim().split(" ");for(tIndex in existingBodyClsArr){var tName=existingBodyClsArr[tIndex];if(zgssearch.isArrayContain(tName,supportedThemeArr))return tName}}return""},zgssearch.resetTheme=function(){var tIndex,element=document.body,supportedThemeArr=(zgssearch.hasOwnProperty("getGSConstantObj")?zgssearch.getGSConstantObj():{}).SUPPORTED_THEME.split(","),existingBodyCls=element.className.trim();for(tIndex in supportedThemeArr)var tName=supportedThemeArr[tIndex],existingBodyCls=existingBodyCls.replace(tName,"");element.className=existingBodyCls},zgssearch.setMode=function(modeName){var supportedModeArr=["zsDarkMode","zsLightMode"];if(-1<supportedModeArr.indexOf(modeName)){var mIndex,element=document.body,existingBodyCls=element.className.trim();for(mIndex in supportedModeArr)var mName=supportedModeArr[mIndex],existingBodyCls=existingBodyCls.replace(mName,"");element.className=existingBodyCls+" "+modeName,localStorage.setItem("mode",modeName)}},zgssearch.setNightMode=function(isNightModeEnabled){var nightModeCls="zsNightMode",element=document.body,existingBodyCls=element.className.trim();localStorage.setItem("isNightModeEnabled",isNightModeEnabled),isNightModeEnabled?(existingBodyCls.indexOf(nightModeCls)<0&&(element.className=existingBodyCls+" "+nightModeCls),zgssearch.hasWebMessanger&&WebMessanger.hasOwnProperty("enableDarkTheme")&&WebMessanger.enableDarkTheme()):(existingBodyCls=existingBodyCls.replace(nightModeCls,""),element.className=existingBodyCls,zgssearch.hasWebMessanger&&WebMessanger.hasOwnProperty("disableDarkTheme")&&WebMessanger.disableDarkTheme(),existingBodyCls=existingBodyCls.replace(nightModeCls="zmNightMode",""),element.className=existingBodyCls)},zgssearch.resetNightMode=function(){var nightModeCls="zsNightMode",element=document.body,existingThemeOuterEleCls=element.className.trim();localStorage.setItem("isNightModeEnabled",!1),-1<existingThemeOuterEleCls.indexOf(nightModeCls)&&(existingThemeOuterEleCls=existingThemeOuterEleCls.replace(nightModeCls,""),element.className=existingThemeOuterEleCls),zgssearch.hasWebMessanger&&WebMessanger.hasOwnProperty("disableDarkTheme")&&WebMessanger.disableDarkTheme(),-1<existingThemeOuterEleCls.indexOf(nightModeCls="zmNightMode")&&(existingThemeOuterEleCls=existingThemeOuterEleCls.replace(nightModeCls,""),element.className=existingThemeOuterEleCls)},zgssearch}(void 0);window.zgssearch=zgssearch}(window),function(zgssearch){zgssearch.ZSNetwork=(ZSNetwork=!zgssearch.isExtension&&zgssearch.network||{},ZSNetwork.imageRenderer={renderImage:function(url,imgElem,callback){imgElem?zgssearch.renderPhoto("",url,imgElem.class_name,imgElem.errorClass,imgElem.img_elem):callback(url)}},ZSNetwork.download_file=function(parent){var iframe=document.createElement("iframe");iframe.frameBorder=0,iframe.id="download_iframe",iframe.src=parent,iframe.style="display:none";parent=zgssearch.isPreviewOpenedInComponent?"zgs20_pcSearch":"zgs20_globalsearch";document.getElementById(parent).appendChild(iframe),setTimeout(function(){iframe.parentElement.removeChild(iframe)},5e4)},ZSNetwork),zgssearch.network=zgssearch.isExtension?zgssearch.network:zgssearch.ZSNetwork}(zgssearch,window),function(zgssearch,window){zgssearch.gsspacer=zgssearch.gsspacer||zgssearch.network.getFingerPrintFilePath("images/gsspacer.gif"),zgssearch.isUBIDomain=function(){var currInstallation=zgssearch.GSConstant.INSTALLATION;return void 0!==currInstallation&&"UBI"==currInstallation},zgssearch.isNICDomain=function(){var currInstallation=zgssearch.GSConstant.INSTALLATION;return void 0!==currInstallation&&-1<currInstallation.indexOf("Zoho-NIC")},zgssearch.hasWebMessanger=zgssearch.hasWebMessanger||"undefined"!=typeof WebMessanger&&!zgssearch.isUBIDomain(),zgssearch.hasWMSTranscript=zgssearch.hasWMSTranscript||!!zgssearch.hasWebMessanger&&void 0!==WebMessanger.renderTranscript,zgssearch.isCssFileloadedCheck=function(fileName){for(var csslist=document.styleSheets,totalDOMCssfilesLen=csslist.length,i=0;i<totalDOMCssfilesLen;i++)if(csslist[i].href&&csslist[i].href.includes(fileName))return!0;return!1},zgssearch.isQueryValid=function(query){return 0<((query=query instanceof Object?query.hasOwnProperty("query")?query.query:"":query)?query.trim():"").length},zgssearch.getGSConstantObj=function(){return zgssearch.GSConstant},zgssearch.setGSTagElems=function(resDiv){_jQueryGS(resDiv).find("*").each(function(){var gsName=this.getAttribute("gs");gsName&&(resDiv[gsName]=this)})},zgssearch.getTargetElem=function(id){if(""!==id&&void 0!==id)return document.getElementById(id)},zgssearch.I18N={},zgssearch.I18N.getValue=function(msg_key,params){var value=null;if(zgssearch.Utils.isValidValue(msg_key)&&(value=msg_key,zgssearch.GSConstant.hasOwnProperty("jsMessages")&&(value=zgssearch.GSConstant.jsMessages[msg_key],zgssearch.Utils.isValidValue(params))))for(var pi=0;pi<params.length;pi++)value=params[pi]?value.split("{"+pi+"}").join(params[pi]):value.split("{"+pi+"}")[0];return value},zgssearch.getI18NMsg=function(value,convertLowercase){value=value.trim(),value=zgssearch.GSConstant.hasOwnProperty("jsMessages")?zgssearch.GSConstant.jsMessages[value]||value:"";return value=convertLowercase?value.toLowerCase():value},zgssearch.isMobViewport=function(){return zgssearch.hasOwnProperty("gscomponent")&&zgssearch.gscomponent.isServiceSuite?zgssearch.isWPMobViewPort():!(!zgssearch.hasOwnProperty("gscomponent")||1!==zgssearch.gscomponent.UIType||!window.matchMedia("(max-width: 768px)").matches)},zgssearch.uri=function(type,url,param,args,callback){var timeout=args&&args.hasOwnProperty("timeout")?args.timeout:15e3,req={};req.url=url,req.type=type,req.data=param,req.timeout=timeout,req.args=args,req.success=function(result,status,xhr){xhr?xhr.args=this.args:xhr=result,xhr.args=this.args,callback(result,status,xhr)},req.error=function(result,status,xhr){(xhr="object"!=typeof xhr?{}:xhr)?xhr.args=this.args:xhr=result,xhr.args=this.args,callback({},"error",xhr)};req=zgssearch.network.uri(req);return args&&!_jQueryGS.isEmptyObject(args)&&args.hasOwnProperty("isCalloutReq")&&args.isCalloutReq&&(zgssearch.xmlhttpCalloutReq=req),req},zgssearch.uploadFile=function(url,method,url_obj,args,callback){url_obj={url:url,method:method,data:url_obj,contentType:!1,processData:!1,success:function(result,status,xhr){(xhr=xhr||{}).args=this.args,callback(result,status,xhr)},error:function(result,status,xhr){(xhr=xhr||{}).args=this.args,callback(result,status,xhr)}};zgssearch.network.upload_file(url_obj)},zgssearch.getLHSServicePaneWidth=function(){return("ZW"!==zgssearch.gscomponent.pcode||!zgssearch.gscomponent.isWPSmartViewEnabled&&!zgssearch.isWPSmartViewEnabledinZia)&&_jQueryGS("#zgs20_gsSearchResultLeft").width()||0},zgssearch.replaceHTMLEntity=function(text){return/&(?:[a-z\d]+|#\d+|#x[a-f\d]+);/gi.test(text)?zgssearch.gssecurity.textDecoder(text):text},zgssearch.initNotebookcomponent=function(callback){zgssearch.gsnotebookresults=zgssearch.gsnotebookresults||{},zgssearch.gsnotebookresults.nbClient=new NBClient(zgssearch.GSConstant.INSTALLATION,window.location.origin)||{},zgssearch.gsnotebookresults.unSupportedBrowser=zgssearch.gsnotebookresults.nbClient.unSupportedBrowser()||!1,callback&&callback()},zgssearch.loadNotebookComponent=function(callback){zgssearch.isNotebookComponentLoaded||(zgssearch.isNotebookComponentLoaded=!0,zgssearch.network.loadSRIJSFile("js/znb-client-sec.js",function(){zgssearch.initNotebookcomponent(function(){callback&&callback()})}))},zgssearch.initZohoSecurityFileLoad=function(callback){ZSEC&&!_jQueryGS.isEmptyObject(ZSEC)&&(zgssearch.isSecurityComponentLoaded=!0,zgssearch.zohoSecurity=ZSEC,callback&&callback())},zgssearch.preLoadComponentForServices=function(){var serv,sList=(zgssearch.isDashboardEnabled?zgssearch.getConstAllServList():zgssearch.hasOwnProperty("getServiceList")?zgssearch.getServiceList("serviceList"):[])||[];for(serv in zgssearch.isArrayContain(zgssearch.GSConstant.NOTEBOOK,sList)&&zgssearch.loadNotebookComponent(),zgssearch.addToWdSupportedServices)if(zgssearch.isArrayContain(zgssearch.addToWdSupportedServices[serv],sList)){zgssearch.loadWorkdriveComponent();break}var index,load_res_services=zgssearch.getResRequiredServices();for(index in load_res_services){var service=load_res_services[index];zgssearch.loadServiceComponent(service)}},zgssearch.loadServiceComponent=function(instance){zgssearch.res_services&&-1<zgssearch.res_services.indexOf(instance)&&(null!=(instance=(new zgssearch.ResourceFactory).createInstance(instance,!1))&&instance.load())},zgssearch.getResRequiredServices=function(){var load_res_services=[];load_res_services.push(zgssearch.GSConstant.SALESFORCE),load_res_services.push(zgssearch.GSConstant.SLACK);var fileService=zgssearch.getFileServiceIfExists();return fileService&&load_res_services.push(fileService),load_res_services.push(zgssearch.GSConstant.ASANA),load_res_services.push(zgssearch.GSConstant.PROJECTS),load_res_services},zgssearch.getFileServiceIfExists=function(){for(var sList=zgssearch.getServiceList("serviceList")||[],fileService="",servicesStorageLen=zgssearch.SERVICES_STORAGE.length,serv=0;serv<servicesStorageLen;serv++)if(-1<sList.indexOf(zgssearch.SERVICES_STORAGE[serv])){fileService=zgssearch.SERVICES_STORAGE[serv];break}return fileService},zgssearch.isWMSChatPaused=function(){return!zgssearch.hasWebMessanger||!WebMessanger.hasOwnProperty("isChatPaused")||WebMessanger.isChatPaused()},zgssearch.isArrayContain=function(value,array){return-1!==_jQueryGS.inArray(value,array)},zgssearch.isJsonObjectContain=function(value,keys){keys=Object.keys(keys);return-1!==_jQueryGS.inArray(value,keys)},zgssearch.getFourDotLoader=function(id,className){return _jQueryGS("<div>",{id:id,class:className,gs:"loadericon"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderd"}))},zgssearch.getDotLoaderForBtn=function(id){return _jQueryGS("<div>",{id:id,class:"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsAddCardLoader"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera zgs19_gsThreeDotBtnLoader"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb zgs19_gsThreeDotBtnLoader"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc zgs19_gsThreeDotBtnLoader"}))},zgssearch.setButtonLoader=function(target,id,notSetDimesnion,cnfrmtype){zgssearch.btnLoderTar=target,notSetDimesnion||(_jQueryGS(target).css("width",_jQueryGS(target).width()),_jQueryGS(target).css("height",_jQueryGS(target).height())),_jQueryGS(target).attr("texttemp",_jQueryGS(target).text()),_jQueryGS(target).text(""),_jQueryGS(target).append(zgssearch.getDotLoaderForBtn(id)),cnfrmtype||(_jQueryGS(target).attr("gstemp",_jQueryGS(target).attr("gs")),_jQueryGS(target).attr("gs",""),(cnfrmtype=_jQueryGS(target).attr("cnfrmtype"))&&(_jQueryGS(target).attr("cnfrmtypetemp",cnfrmtype),_jQueryGS(target).attr("cnfrmtype","")))},zgssearch.revertButtonLoader=function(){var target=zgssearch.btnLoderTar;target&&(_jQueryGS(target).attr("gs",_jQueryGS(target).attr("gstemp")),_jQueryGS(target).attr("cnfrmtypetemp")&&_jQueryGS(target).attr("cnfrmtype",_jQueryGS(target).attr("cnfrmtypetemp")),_jQueryGS(target).find("zgs19_gsFourDotLoader").remove(),_jQueryGS(target).text(_jQueryGS(target).attr("texttemp")),_jQueryGS(target).removeAttr("gstemp").removeAttr("cnfrmtypetemp").removeAttr("texttemp"))},zgssearch.removeEle=function(ele){ele&&ele.parentNode&&ele.parentNode.removeChild(ele)},zgssearch.getMappedServiceList=function(){return zgssearch.mappedServiceList},zgssearch.getComponentType=function(){if(zgssearch.isPreviewOpenedInComponent){if(zgssearch.hasOwnProperty("pccomponent"))return"pccomponent"}else if(zgssearch.hasOwnProperty("gscomponent"))return"gscomponent";return null},zgssearch.Utils=zgssearch.hasOwnProperty("Utils")?zgssearch.Utils:{},zgssearch.Utils.isValidValue=function(value){return!(null==value||""===value||"null"===value)},zgssearch.Utils.debounce=function(func,delay,funcName,isImmediate){var context=this,args=arguments,funcDebounceTimeout=funcName+"DebounceTimeout";zgssearch[funcDebounceTimeout]&&(clearTimeout(zgssearch[funcDebounceTimeout]),zgssearch[funcDebounceTimeout]=null),zgssearch[funcDebounceTimeout]=setTimeout(function(){zgssearch[funcDebounceTimeout]=null,isImmediate||func.apply(context,args)},delay),isImmediate&&func.apply(context,args)},zgssearch.Utils.throttle=function(func,delay,funcName){zgssearch.throttleTimeout||(func.apply(this,arguments),zgssearch.throttleTimeout=setTimeout(function(){zgssearch.throttleTimeout=null},delay))},zgssearch.getEnabledCloudApps=function(){return zgssearch.GSConstant&&zgssearch.GSConstant.hasOwnProperty("accessible_cloud_apps")?zgssearch.GSConstant.accessible_cloud_apps:[]},zgssearch.addToWDEnabled=function(){return zgssearch.isArrayContain(zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.allserviceslist)&&!zgssearch.isExtension},zgssearch.loadWorkdriveComponent=function(callback){var wdComponentUrl,parent;!zgssearch.workdriveComponentLoaded&&zgssearch.addToWDEnabled()&&(zgssearch.workdrive_component_integrity="sha384-TFZJMtyXCSjW+xo5DuC1KPJrIyOr763u7qQsbhZo6787wpX6GcaiPzqgBgGHEhae",wdComponentUrl=window.location.protocol+"//"+zgssearch.GSConstant.STATIC_RESOURCE_SERVER+"/personal/stable/jsapps/workdrive-third-party/workdrive-frame-sdk-v1.js",parent=zgssearch.gscomponent.getMountAttr().id,_jQueryGS("#"+parent).prepend(_jQueryGS("<div>",{id:"zgs20_wdMount"})),zgssearch.network.loadJSFile(wdComponentUrl,function(){zgssearch.wdComponentLoaded(callback)}))},zgssearch.wdComponentLoaded=function(callback){zgssearch.workdriveComponentLoaded=!0,callback&&callback()},zgssearch.isCardViewOpened=function(){return zgssearch.hasOwnProperty("gscards")&&zgssearch.isCardPageOpened},zgssearch.isDashboardViewOpened=function(){return zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.isDashboardOpened},zgssearch.addLoader=function(par,id){0!=_jQueryGS("#"+id).length&&_jQueryGS("#"+id).remove(),_jQueryGS("#"+par).append(zgssearch.getFourDotLoader(id,"zgs19_gsFourDotLoader zgs19_gsConnectorprevLoader zgs19_gsRequestLoader18"))},zgssearch.Utils.createElement=function(type,id,classname,attributes,text,html){var element=document.createElement(type);if(classname&&(element.className=classname),id&&(element.id=id),text&&(element.textContent=text),html&&(element.innerHTML=html),attributes&&""!==attributes)for(var attr in attributes)element.setAttribute(attr,attributes[attr]);return element},zgssearch.obtainLineIconPaths=function(className,toBeAppendEle,isReturnEle,attributes,isIconPathParentTip){var pathCount=zgssearch.LINE_ICON_MAP[className],existingPathEle=_jQueryGS(toBeAppendEle).children()[0];if(existingPathEle&&existingPathEle.className===className+"_path1 zgs19_path")return toBeAppendEle;for(var i=1;i<=pathCount;i++){var span=zgssearch.Utils.createElement("span","",className+"_path"+i+" zgs19_path",attributes);_jQueryGS(toBeAppendEle).append(span)}if(isIconPathParentTip&&_jQueryGS(toBeAppendEle).attr("isIconPathParentTip","true"),isReturnEle)return _jQueryGS(toBeAppendEle)},zgssearch.getParentNode=function(target,gsName,gsAttrName){for(var parNode=target,global=zgssearch.searchViewport;parNode&&parNode!==global;){if(gsName===(gsAttrName?_jQueryGS(parNode).attr(gsAttrName):_jQueryGS(parNode).attr("gs")))return parNode;parNode=parNode.parentNode}return null},zgssearch.getWidthOfText=function(tdummywidth,maxWidth,className){className=className||"zgs19_gstooltext";var telem1=zgssearch.getTargetElem("zgs20_globalsearch");_jQueryGS(telem1).append(_jQueryGS("<div>",{id:"zgs20_gsDummytootltip",class:"zgs19_gsdummytooltext zgs19_gsOverflow "+className}).text(tdummywidth));tdummywidth=zgssearch.getTargetElem("zgs20_gsDummytootltip").getBoundingClientRect().width;return _jQueryGS("#zgs20_gsDummytootltip").remove(),maxWidth<tdummywidth?maxWidth:tdummywidth},zgssearch.loadIntegFile=function(callback){zgssearch.integrationHandlerFileLoaded?zgssearch.settingsFileLoaded?callback&&callback():zgssearch.network.loadSRIJSFile("js/settings.js",callback):zgssearch.network.loadJSFile(zgssearch.network.getFingerPrintFilePath("js/integrationshandler.js"),function(){zgssearch.gsusersettings.selectedServiceBeforeSettings=zgssearch.searchType,zgssearch.integrationHandlerFileLoaded=!0,zgssearch.loadIntegFile(callback)})},zgssearch.getCapitalizedLtr=function(wrd){var wrdLen,str="";return wrd&&(0<(wrdLen=wrd.length)&&(str=wrd[0]),1<wrdLen&&(str+=wrd[1])),str.toUpperCase()},zgssearch.openInNewTab=function(url){var aElem;url&&((aElem=document.createElement("a")).class="zgs19_gsDisplayNone",aElem.id="zgs20_gsOpenInNewTabLink",aElem.href=url,aElem.target="_blank",aElem.rel="noopener noreferrer",document.body.appendChild(aElem),aElem.click(),_jQueryGS("#zgs20_gsOpenInNewTabLink").remove())},zgssearch.getAppIdForCloudApps=function(connector_id,widObj){widObj=widObj||zgssearch.getCalloutSearchType(),widObj=zgssearch.getWidgetResponseData(widObj);return connector_id&&widObj&&!_jQueryGS.isEmptyObject(widObj)?widObj.aD[connector_id].app_id:""},zgssearch.getServiceList=function(type){return zgssearch.hasOwnProperty(type)?zgssearch[type]:zgssearch.serviceList},zgssearch.isDashboardScopeActive=function(){return zgssearch.hasOwnProperty("gsdbUtils")&&zgssearch.isDashboardViewOpened()},zgssearch.isCardScopeActive=function(){return zgssearch.hasOwnProperty("gscardUtils")&&zgssearch.isCardViewOpened()}}(zgssearch,window),function(zgssearch,GSConstant){GSConstant._jQueryGS;GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.serviceList=zgssearch.serviceList||[],zgssearch.mappedServiceList={},zgssearch.mappedServiceList[GSConstant.ALL]={hash:"all",api_url_service_name:"All Apps",displayName:zgssearch.getI18NMsg("gs.search.service_allapps"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniAllIcon"},zgssearch.mappedServiceList[GSConstant.MAILS]={hash:"zmail",api_url_service_name:"Mail",displayName:zgssearch.getI18NMsg("gs.search.service_mails"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniMailsIcon",listview:!0,callout:"gsmails",results:"gsmailresults",id:"zgs20_gsMailCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),originService:GSConstant.MAILS,url:GSConstant.GS_MAIL_URL},zgssearch.mappedServiceList[GSConstant.STREAMS]={hash:"zmail",api_url_service_name:"Streams",displayName:zgssearch.getI18NMsg("common.streams"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniMailsIcon",listview:!0,callout:"gsstreams",results:"gsstreamsresults",id:"zgs20_gsStreamsCallout",dH:zgssearch.getI18NMsg("common.streams"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),originService:GSConstant.MAILS,is_module:!0,url:GSConstant.GS_MAIL_URL},zgssearch.mappedServiceList[GSConstant.CRM]={hash:"zcrm",api_url_service_name:"CRM",displayName:zgssearch.getI18NMsg("gs.search.service_crm"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCrmIcon",listview:!0,callout:"gscrm",results:"gscrmresults",id:"zgs20_gsCRMCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales"),url:GSConstant.GS_CRM_URL},zgssearch.mappedServiceList[GSConstant.PEOPLE]={hash:"zpeople",api_url_service_name:"People",displayName:zgssearch.getI18NMsg("gs.search.service_people"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniPeopleIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout",category:zgssearch.getI18NMsg("gs.settings.service.type.hr"),url:GSConstant.GS_PEOPLE_URL},zgssearch.mappedServiceList[GSConstant.ORGCONTACTS]={hash:"orgcontacts",api_url_service_name:"Org Contacts",displayName:zgssearch.getI18NMsg("gs.search.service_org_contact"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniOrgIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout",url:GSConstant.GS_CONTACTS_URL},zgssearch.mappedServiceList[GSConstant.PERSONALCONTACTS]={hash:"personalcontacts",api_url_service_name:"Contacts",displayName:zgssearch.getI18NMsg("common.contact"),is_filter_exist:!1,is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniPerIcon",listview:!0,callout:"gscontacts",results:"gscontactresults",id:"zgs20_gsContactsCallout",url:GSConstant.GS_CONTACTS_URL},zgssearch.mappedServiceList[GSConstant.CHAT]={hash:"zchat",api_url_service_name:"Chat",displayName:zgssearch.getI18NMsg("gs.search.service_chat"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniChatIcon",listview:!0,callout:"gschat",results:"gschatresults",id:"zgs20_gsChatCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email"),url:GSConstant.GS_CLIQ_URL},zgssearch.mappedServiceList[GSConstant.CLIQ]={hash:"zcliq",api_url_service_name:"Cliq",displayName:zgssearch.getI18NMsg("gs.search.service_chat"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniChatIcon",listview:!0,callout:"gscliq",results:"gscliqresults",id:"zgs20_gsCliqCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email"),url:GSConstant.GS_CLIQ_URL},zgssearch.mappedServiceList[GSConstant.SUPPORT]={hash:"zdesk",api_url_service_name:"Desk",displayName:zgssearch.getI18NMsg("gs.search.service_desk"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniSupportIcon",listview:!0,callout:"gssupport",results:"gssupportresults",id:"zgs20_gsSupportCallout",dH:zgssearch.getI18NMsg("gs.search.filter.portals"),sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.itdesk"),url:GSConstant.GS_SUPPORT_URL},zgssearch.mappedServiceList[GSConstant.REPORTS]={hash:"zreports",api_url_service_name:"Analytics",displayName:zgssearch.getI18NMsg("gs.search.service_reports"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniReportsIcon",listview:!0,callout:"gsreports",results:"gsreportresults",id:"zgs20_gsReportsCallout",dH:zgssearch.getI18NMsg("gs.search.filter.databases"),category:zgssearch.getI18NMsg("gs.settings.service.type.custom.solutions"),url:GSConstant.GS_REPORTS_URL},zgssearch.mappedServiceList[GSConstant.CONNECT]={hash:"zconnect",api_url_service_name:"Connect",displayName:zgssearch.getI18NMsg("gs.search.service_connect"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniConnectIcon",listview:!0,callout:"gsconnect",results:"gsconnectresults",id:"zgs20_gsConnectCallout",dH:zgssearch.getI18NMsg("common.networks"),sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email"),url:GSConstant.GS_CONNECT_URL},zgssearch.mappedServiceList[GSConstant.WIKI]={hash:"zwiki",api_url_service_name:"Wiki",displayName:zgssearch.getI18NMsg("common.wiki"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniWikiIcon",listview:!0,callout:"gswiki",results:"gswikiresults",id:"zgs20_gsWikiCallout",dH:zgssearch.getI18NMsg("gs.search.filter.wikis"),sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email"),url:GSConstant.GS_WIKI_URL},zgssearch.mappedServiceList[GSConstant.CREATOR]={hash:"zcreator",api_url_service_name:"Creator",displayName:zgssearch.getI18NMsg("gs.search.service_creator"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCreatorIcon",listview:!0,callout:"gscreator",results:"gscreatorresults",id:"zgs20_gsCreatorCallout",dH:zgssearch.getI18NMsg("gs.search.filter.applications"),category:zgssearch.getI18NMsg("gs.settings.service.type.custom.solutions"),url:GSConstant.GS_CREATOR_URL},zgssearch.mappedServiceList[GSConstant.BOOKS]={hash:"zbooks",api_url_service_name:"Books",displayName:zgssearch.getI18NMsg("gs.search.service_books"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBooksIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.finance"),url:GSConstant.GS_BOOKS_URL},zgssearch.mappedServiceList[GSConstant.INVOICE]={hash:"zinvoice",api_url_service_name:"Invoice",displayName:zgssearch.getI18NMsg("gs.search.service_invoice"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniInvoiceIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.finance"),url:GSConstant.GS_INVOICE_URL},zgssearch.mappedServiceList[GSConstant.INVENTORY]={hash:"zinventory",api_url_service_name:"Inventory",displayName:zgssearch.getI18NMsg("gs.search.service_inventory"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniInventoryIcon",listview:!0,callout:"gsbooks",results:"gsbooksresults",id:"zgs20_gsBooksCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.finance"),url:GSConstant.GS_INVENTORY_URL},zgssearch.mappedServiceList[GSConstant.WEBSITE]={hash:"zwebsite",api_url_service_name:"Help Pages",displayName:zgssearch.getI18NMsg("gs.search.service_website"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniWebsiteIcon",listview:!0,callout:"gswebsite",results:"gswebsiteresults",id:"zgs20_gsWebsiteCallout"},zgssearch.mappedServiceList[GSConstant.ORGRESOURCES]={hash:"orgresources",api_url_service_name:"ZIntranet",displayName:zgssearch.getI18NMsg("gs.search.service_connector"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniConnectorIcon",listview:!0,callout:"gsconnector",results:"gsconnectorresults",id:"zgs20_gsConnectorCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations")},zgssearch.mappedServiceList[GSConstant.CAMPAIGNS]={hash:"campaigns",api_url_service_name:"Campaigns",displayName:zgssearch.getI18NMsg("gs.search.service_campaigns"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCampaignIcon",callout:"gscampaign",results:"gscampaignresults",listview:!0,id:"zgs20_gsCampaignCallout",dH:zgssearch.getI18NMsg("common.modules"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales"),url:GSConstant.GS_CAMPAIGNS_URL},zgssearch.mappedServiceList[GSConstant.WORKDRIVE]={hash:"workdrive",api_url_service_name:"WorkDrive",displayName:zgssearch.getI18NMsg("gs.search.service_workdrive"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniWorkDriveIcon",callout:"gsworkdrive",results:"gsworkdriveresults",listview:!0,id:"zgs20_gsWorkDriveCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email"),url:GSConstant.GS_WORKDRIVE_URL},zgssearch.mappedServiceList[GSConstant.CALENDAR]={hash:"calendar",api_url_service_name:"Calendar",displayName:zgssearch.getI18NMsg("gs.search.service_calendar"),is_multi_accounts:!1,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniCalendarsIcon",callout:"gscalendar",results:"gscalendarresults",listview:!0,id:"zgs20_gsCalendarCallout"},zgssearch.mappedServiceList[GSConstant.NOTEBOOK]={hash:"notebook",api_url_service_name:"Notebook",displayName:zgssearch.getI18NMsg("gs.search.service_notebook"),is_multi_accounts:!1,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniNoteBookIcon",callout:"gsnotebook",results:"gsnotebookresults",listview:!0,id:"zgs20_gsNoteBookCallout",sort:"",category:zgssearch.getI18NMsg("gs.settings.service.type.email"),url:GSConstant.GS_NOTEBOOK_URL},zgssearch.mappedServiceList[GSConstant.BIGIN]={hash:"zbigin",api_url_service_name:"Bigin",displayName:zgssearch.getI18NMsg("gs.search.service_bigin"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBiginIcon",callout:"gscrm",results:"gscrmresults",listview:!0,id:"zgs20_gsCRMCallout",dH:zgssearch.getI18NMsg("gs.search.filter.organizations"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales"),url:GSConstant.GS_BIGIN_URL},zgssearch.mappedServiceList[GSConstant.PROJECTS]={hash:"projects",api_url_service_name:"Projects",displayName:zgssearch.getI18NMsg("gs.search.service_projects"),is_multi_accounts:!0,is_sorting_allowed:!0,serviceicon:"zgs18_gsUniProjectsIcon",callout:"",results:"",listview:!0,id:"zgs20_gsProjectsCallout",sort:"",dH:zgssearch.getI18NMsg("gs.search.filter.portals"),category:zgssearch.getI18NMsg("gs.settings.service.type.project"),url:GSConstant.GS_PROJECTS_URL},zgssearch.mappedServiceList[GSConstant.DROPBOX]={hash:"dropbox",api_url_service_name:"Dropbox",displayName:zgssearch.getI18NMsg("gs.con.service.dropbox"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniDropboxIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.dropbox.desc")},zgssearch.mappedServiceList[GSConstant.GOOGLEDRIVE]={hash:"gdrive",api_url_service_name:"Google Drive",displayName:zgssearch.getI18NMsg("gs.con.service.gdrive"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniGdriveIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.gdrive.desc")},zgssearch.mappedServiceList[GSConstant.BOX]={hash:"box",api_url_service_name:"Box",displayName:zgssearch.getI18NMsg("gs.con.service.box"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniBoxIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.box.desc")},zgssearch.mappedServiceList[GSConstant.SLACK]={hash:"slack",api_url_service_name:"Slack",displayName:zgssearch.getI18NMsg("gs.con.service.slack"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniSlackIcon",callout:"gsslack",results:"gsslackres",listview:!0,id:"zgs20_gsSlackCallout",dH:zgssearch.getI18NMsg("gs.search.filter.databases"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),desc:zgssearch.getI18NMsg("gs.settings.service.slack.desc")},zgssearch.mappedServiceList[GSConstant.SALESFORCE]={hash:"salesforce",api_url_service_name:"Salesforce",displayName:zgssearch.getI18NMsg("gs.con.service.salesforce"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniSFIcon",callout:"crm_services",results:"crm_services",listview:!0,id:"zgs20_gsCRMCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.sales"),desc:zgssearch.getI18NMsg("gs.settings.service.sf.desc")},zgssearch.mappedServiceList[GSConstant.O365MAIL]={hash:"outlook",api_url_service_name:"Outlook",displayName:zgssearch.getI18NMsg("gs.con.service.outlook"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUnio365MailIcon",callout:"gso365mail",results:"gso365results",listview:!0,id:"zgs20_gsOutlookcallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),desc:zgssearch.getI18NMsg("gs.settings.service.o365mail.desc")},zgssearch.mappedServiceList[GSConstant.ONEDRIVE]={hash:"onedrive",api_url_service_name:"OneDrive",displayName:zgssearch.getI18NMsg("gs.con.service.onedrive"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniOneDriveIcon",callout:"",results:"",listview:!0,id:"zgs20_gsDocsCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.file"),desc:zgssearch.getI18NMsg("gs.settings.service.onedrive.desc")},zgssearch.mappedServiceList[GSConstant.ASANA]={hash:"asana",api_url_service_name:"Asana",displayName:zgssearch.getI18NMsg("gs.con.service.asana"),is_multi_accounts:!0,is_sorting_allowed:!0,sort:"",serviceicon:"zgs18_gsUniAsanaIcon",listview:!0,dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.project"),desc:zgssearch.getI18NMsg("gs.settings.service.asana.desc")},zgssearch.mappedServiceList[GSConstant.EVERNOTE]={hash:"evernote",api_url_service_name:"Evernote",displayName:zgssearch.getI18NMsg("gs.con.service.evernote"),is_multi_accounts:!0,is_sorting_allowed:!0,sort:"",results:"gsevernoteres",serviceicon:"zgs18_gsUniEvernoteIcon",id:"zgs20_gsEvernoteCallout",listview:!0,dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.project"),desc:zgssearch.getI18NMsg("gs.settings.service.evernote.desc")},zgssearch.mappedServiceList[GSConstant.GMAIL]={hash:"gmail",api_url_service_name:"Gmail",displayName:zgssearch.getI18NMsg("gs.con.service.gmail"),is_multi_accounts:!0,is_sorting_allowed:!1,serviceicon:"zgs18_gsUniGmailIcon",callout:"gsgmail",results:"gsgmailresults",listview:!0,id:"zgs20_gsGmailCallout",dH:zgssearch.getI18NMsg("common.accounts"),category:zgssearch.getI18NMsg("gs.settings.service.type.email"),desc:zgssearch.getI18NMsg("gs.settings.service.gmail.desc")},zgssearch.httptxt="http",zgssearch.httpstxt="https",zgssearch.handlebarDependentService=[zgssearch.GSConstant.EVERNOTE,zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE,zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.PROJECTS],zgssearch.multiModServices=[zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.EVERNOTE],zgssearch.multiModSupportedServices=[zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.CAMPAIGNS],zgssearch.addToWdSupportedServices=[zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.O365MAIL],zgssearch.mailModuleVsDispName={mails:zgssearch.getI18NMsg("gs.search.service_mails"),streams:zgssearch.getI18NMsg("common.streams")},zgssearch.originServiceVsSubService={},zgssearch.originServiceVsSubService[GSConstant.MAILS]=GSConstant.STREAMS,zgssearch.configured_mail_module=zgssearch.configured_mail_module||[],zgssearch.account_based_filter_service_list=zgssearch.account_based_filter_service_list||[],zgssearch.IFRAME="iframe",zgssearch.ZIP="zip",zgssearch.FILE="file",zgssearch.FOLDER="folder",zgssearch.updateActionsURL="/zgssearch/gsserviceaction",zgssearch.getMetaData="/zgssearch/v4/getmetadata",zgssearch.servicesListURL=zgssearch.getMetaData+"?action=fetchserviceslist",zgssearch.initialdataURL=zgssearch.getMetaData+"?action=fetchinitialdata",zgssearch.widgetURL=zgssearch.getMetaData+"?action=fetchwidgetdata",zgssearch.accBgClass=["zgs19_gsE6F5FFCol","zgs19_gsFFF9E6Col","zgs19_gsF2F2F2Col","zgs19_gsE6FFE6Col"],zgssearch.GET="GET",zgssearch.POST="POST",zgssearch.GSConstant.accessible_cloud_apps=[GSConstant.GOOGLEDRIVE,GSConstant.BOX,GSConstant.DROPBOX,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.ONEDRIVE,GSConstant.SALESFORCE,GSConstant.ASANA,GSConstant.GMAIL,GSConstant.EVERNOTE].sort(),zgssearch.account_id="account_id",zgssearch.entity_id="entity_id",zgssearch.module_id="module"}(zgssearch,window),function(zgssearch,window){window._jQueryGS;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.allServiceList=zgssearch.allServiceList||[],zgssearch.hasOwnProperty("gscomponent")&&(zgssearch.isGSOpenedInServiceSuiteApp=zgssearch.gscomponent.isServiceSuite&&(zgssearch.gscomponent.hasOwnProperty("actionHandler")||zgssearch.gscomponent.hasOwnProperty("previewHandler")),zgssearch.gscomponent.isPreviewHandlerEnabledInSuiteApp=zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.hasOwnProperty("previewHandler"),zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp=zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.hasOwnProperty("actionHandler")),zgssearch.eventStats="/zgssearch/gsevent",zgssearch.cursor_supported_services=[GSConstant.DROPBOX,GSConstant.GOOGLEDRIVE,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.ONEDRIVE,GSConstant.GMAIL],zgssearch.LINE_ICON_MAP={zgs18_gsHPVideotime:2,zgs18_leg_filtericon:2,zgs18_leg_searchicon:3,zgs18_leg_ssicon:5,zgs18_leg_cardicon:5,zgs18_leg_dashboardicon:8,zgs18_leg_settingsicon:2,zgs18_gsUniAllIcon:4,zgs18_gsAppsIcon:4,zgs18_gsUniConnectIcon:4,zgs18_gsUniDocsIcon:3,zgs18_gsUniPeopleIcon:10,zgs18_gsUniPerIcon:5,zgs18_gsUniOrgIcon:6,zgs18_gsUniMailsIcon:2,zgs18_gsUniNoteBookIcon:6,zgs18_gsUniCreatorIcon:2,zgs18_gsUniWebsiteIcon:2,zgs18_gsUniCampaignIcon:2,zgs18_gsUniChatIcon:2,zgs18_gsUniProjectsIcon:9,zgs18_wone:7,zgs18_wmarketplace:3,zgs18_wofficeintegrator:5,zgs18_wbugtracker:10,zgs18_wsign:5,zgs18_wpayroll:4,zgs18_wmail:2,zgs18_wcliq:2,zgs18_wchat:2,zgs18_wconnect:6,zgs18_wcampaigns:2,zgs18_wmotivator:8,zgs18_wsocial:9,zgs18_wsurvey:8,zgs18_wbugTracker:10,zgs18_wprojects:9,zgs18_wassist:3,zgs18_wpeople:10,zgs18_wcreator:2,zgs18_wdeveloper:9,zgs18_wcalendar:9,zgs18_wnotebook:6,zgs18_wsites:6,zgs18_wsprints:3,zgs18_wvault:7,zgs18_wpagesense:8,zgs18_winventory:4,zgs18_worchestly:2,zgs18_wcatalyst:2,zgs18_wbookings:3,zgs18_wmarketinghub:5,zgs18_wlens:5,zgs18_wsite24x7:3,zgs18_wdocs:3,zgs18_wflow:2,zgs18_wcheckout:5,zgs18_analytics_table:12,zgs18_analytics_report:18,zgs18_analytics_analysisview:4,zgs18_analytics_summaryview:4,zgs18_analytics_pivot:2,zgs18_analytics_querytable:3,zgs18_analytics_dashboard:8,zgs18_gsSuppRequestIcon:7,zgs18_gsSuppSolutionIcon:5,zgs18_gsSuppAccountIcon:6,zgs18_gsSuppContactIcon:2,zgs18_gsUniEvernoteIcon:3,zgs18_gsPlusCircle:4,"zgs18_tourbus-done":12,zgs18_gsUniInventoryIcon:4,zgs18_gsInformationIcon:4,zgs18_gsErrorIcon:3,zgs18_gsExpandpanel:4,zgs18_gsQuickAddBtn:2,zgs18_gsMagicWandIcon:7,zgs18_gsAutoDbcollaboration:8,zgs18_gsRoadBlock:14,zgs18_gsErrorMsgIcon:5,zgs18_gsTickMark:2,zgs18_gsDarkMode:7,zgs18_gsLightMode:7,zgs18_gsNightMode:7,zgs18_cloudNoRequestData:6},zgssearch.SERVICES_CRM=[zgssearch.GSConstant.CRM,zgssearch.GSConstant.SALESFORCE],zgssearch.SERVICES_MAIL=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.O365MAIL],zgssearch.SERVICES_STORAGE=[zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE],zgssearch.SERVICES_PROJECT=[zgssearch.GSConstant.PROJECTS,zgssearch.GSConstant.ASANA],zgssearch.SERVICES_NOTES=[zgssearch.GSConstant.EVERNOTE],zgssearch.specialkeys={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,CUT:88},zgssearch.originParam=zgssearch.isExtension?"":"frameorigin="+window.location.origin,zgssearch.isCliqDomain=zgssearch.isCliqDomain||!(!zgssearch.hasWebMessanger||!WebMessanger.isCliqDomain)&&WebMessanger.isCliqDomain(),zgssearch.hasWmsResource=zgssearch.hasWmsResource||"undefined"!=typeof WmsResource,zgssearch.pcEnabledSer=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.CONNECT,zgssearch.GSConstant.CLIQ,zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.PEOPLE,zgssearch.GSConstant.SUPPORT,zgssearch.GSConstant.WIKI],zgssearch.fetchActionsURL="/zgssearch/gsservicedata",zgssearch.nps="&nps=202",zgssearch.workdriveServices=["zohosheet","zohoshow","writer","docs","spreadsheet","presentation","image","pdf","video","audio","file","folder"],zgssearch.campaigns_version=zgssearch.campaigns_version||{},zgssearch.docIdsVsEncryptedIds=zgssearch.docIdsVsEncryptedIds||{},zgssearch.entityTypeTitleMap={1:{title:zgssearch.getI18NMsg("common.email"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasemails"),notitle:"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")"},2:{title:zgssearch.getI18NMsg("gs.search.filter.notes"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasnotes"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},3:{title:zgssearch.getI18NMsg("gs.search.filter.tasks"),hasText:zgssearch.getI18NMsg("gs.search.filter.hastasks"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},4:{title:zgssearch.getI18NMsg("gs.search.filter.events"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasevents"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},6:{title:zgssearch.getI18NMsg("common.message"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},10:{title:zgssearch.getI18NMsg("gs.search.filter.bookmarks"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"}},zgssearch.previewIframeOnlyServ=[zgssearch.GSConstant.PROJECTS,zgssearch.GSConstant.CONNECT],zgssearch.EXCLUDED_CONNECT_POSTTYPE=["EVENT","MEETING_EVENT","ZOHOSURVEY","ZOHOCONFERENCE","CAMPAIGN","BROADCAST","BADGE_REWARD","SCHEDULED_CONF","SHOWTIME_EVENT","FILE_FEED","BULKFILE_FEED","MANUAL","VIDEOCONF","USER_ONBOARDING","BOT_BIRTHDAY","BOT_WORK_ANNIVERSARY"]}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.removeLocalStorageVal=function(){zgssearch.deleteLocalStorageValue("zs_connector_configure_code"),zgssearch.deleteLocalStorageValue("zs_service_id"),zgssearch.deleteLocalStorageValue("zs_connector_id"),zgssearch.deleteLocalStorageValue("zs_connector_name"),zgssearch.deleteLocalStorageValue("zs_error_message"),zgssearch.deleteLocalStorageValue("zsoid")},zgssearch.showManageAppPopUp=function(){var manageAppsOverlay;null!=zgssearch.gsusersettings.servicesArrayList&&0!=zgssearch.gsusersettings.servicesArrayList.length||(manageAppsOverlay=zgssearch.getAllServiceListFromWidget(),zgssearch.gsusersettings.storeServicesListInfo(manageAppsOverlay)),document.getElementById("zgs20_manageApps")||(manageAppsOverlay=zgssearch.manageApps(),_jQueryGS("#zgs20_gsResultsHolder").append(manageAppsOverlay),zgssearch.gssettingsapptab.enabledServicesList=zgssearch.getEnabledServiceList()),_jQueryGS("#zgs20_manageApps").css("display","block"),zgssearch.isManageAppPopUpOpened=!0,_jQueryGS("#zgs20_gsSettingsHolder").removeClass("zgs19_gsDisplayNone")},zgssearch.openWindowForAuthWithTimer=function(connector_auth_url,service,target,window_reference){zgssearch.removeLocalStorageVal();var newTabFeatures=zgssearch.getAuthenticationTabFeatures();(window_reference||window).open("/zgssearch/cloudconnector/TPAuthentication?action=redirect&connector_auth_url="+encodeURIComponent(connector_auth_url),"connector_auth",newTabFeatures);var interval_start_time=(new Date).getTime(),window_open_timer=setInterval(function(){var conId,confCode;1e5<(new Date).getTime()-interval_start_time?clearInterval(window_open_timer):(conId=zgssearch.getLocalStorageValue("zs_connector_id"),confCode=zgssearch.getLocalStorageValue("zs_connector_configure_code"),(conId||confCode)&&(clearInterval(window_open_timer),service==zgssearch.GSConstant.ASANA?zgssearch.gssettingsapptab.service_modules.displayServiceAuthenticationPage(service,target):(service==zgssearch.GSConstant.SALESFORCE&&zgssearch.gssettingsapptab.crm_modules.enableDefaultModules(service),zgssearch.auth_complete(service,target,"","","",window_open_timer))))},500)},zgssearch.openWindowForAuth=function(connector_auth_url,window_reference){zgssearch.removeLocalStorageVal();var newTabFeatures=zgssearch.getAuthenticationTabFeatures(),child_window=window_reference.open("../TPAuthentication?connector_auth_url="+encodeURIComponent(connector_auth_url),"connector_auth",newTabFeatures),window_open_timer=setInterval(function(){child_window.closed&&(clearInterval(window_open_timer),zgssearch.auth_complete())},500)},zgssearch.getAuthenticationTabFeatures=function(){let features="";var top,left;return zgssearch.uiServiceProperties.hasOwnProperty("authenticateInPopupWindow")&&zgssearch.uiServiceProperties.authenticateInPopupWindow&&(top=screen.height/2-350,left=screen.width/2-325,features="width=650,height=700,top="+top+",left="+left+",scrollbars=no,resizable=no"),features},zgssearch.auth_complete=function(service,target,modules,hideSuccessMsg,isAccDisabled,zsoid){var connector_name,accObj,zsConfigCode=zgssearch.getLocalStorageValue("zs_connector_configure_code");zsConfigCode&&null!==zsConfigCode&&(clearInterval(zsoid),connector_name=zgssearch.getLocalStorageValue("zs_connector_name"),accObj=zgssearch.getLocalStorageValue("zs_connector_id"),zsoid=zgssearch.getLocalStorageValue("zsoid"),zgssearch.removeLocalStorageVal(),accObj={ACC_ID:zsoid,ACC_NAME:connector_name,ADDED_TIME:zgssearch.Utils.getUIDisplayTime(new Date),APP_ID:zgssearch.GSConstant.cloud_app_id,CONNECTOR_ID:accObj,UPDATED_TIME:-1},zgssearch.connectors.handleConnectorAuthResponse(connector_name,service,zsConfigCode,target,hideSuccessMsg,accObj))},zgssearch.updateLatestDataInWidget=function(service,connector_id,connector_name,connector_configure_code,target,module_data,hideSuccessMsg,accEnabled,zsoid,obj){var current_data=zgssearch.gssettingsapptab.getStoredApplicationData(service),enableSer=!!(service!=zgssearch.GSConstant.ASANA||module_data&&0!=module_data.length),aD=current_data.aD||{},all=current_data.all||[],e=current_data.e||enableSer,s=void 0!==obj&&-1==current_data.s?obj:current_data.s,eO=current_data.eO||[],obj={};obj.e=enableSer,obj.n=connector_name,obj.added_time=zgssearch.Utils.getUIDisplayTime(new Date),(service==zgssearch.GSConstant.O365MAIL||service==zgssearch.GSConstant.SALESFORCE||service==zgssearch.GSConstant.ASANA||service==zgssearch.GSConstant.EVERNOTE)&&module_data&&0<module_data.length?aD[connector_id]={e:!0,n:connector_name,added_time:zgssearch.Utils.getUIDisplayTime(new Date),modules:module_data,app_id:zsoid}:aD[connector_id]={e:accEnabled,n:connector_name,added_time:zgssearch.Utils.getUIDisplayTime(new Date),app_id:zsoid},current_data.aD=aD,current_data.all=all,current_data.e=e,current_data.s=s,current_data.eO=eO,zgssearch.gssettingsapptab.storeApplicationData(service,current_data),zgssearch.connectors.handleConnectorAuthResponse(connector_name,service,connector_configure_code,target,hideSuccessMsg)},zgssearch.reloadAppData=function(service,services_info,target){var accDetails=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");_jQueryGS("#zgs20_gsServiceAccountsBlock").empty().append(accDetails);var wholeList,data=zgssearch.gssettingsapptab.getStoredApplicationData(service);data.hasOwnProperty("all")&&(wholeList=data.hasOwnProperty("all")?data.all:"",accDetails=data.hasOwnProperty("aD")?data.aD:"",(widget_info=zgssearch.getLocalStorageValue("zs_connector_id"))&&void 0===accDetails[widget_info]&&(wholeList.push(widget_info),accDetails[widget_info]={e:!0,n:services_info}),zgssearch.deleteLocalStorageValue("zs_connector_id")),zgssearch.gssettingsapptab.getCurrentSelectedService()===service&&(_jQueryGS("#zgs20_gsSettingprevLoader").css("display","block"),setTimeout(function(){_jQueryGS("#zgs20_gsSettingprevLoader").css("display","none"),zgssearch.gssettingsapptab.setCurrentSelectedService(service),zgssearch.connectors.loadConnectorAccounts(service,target);var service_account_info=zgssearch.gssettingsapptab.getStoredApplicationData(service);(1===(service_account_info.all?service_account_info.all.length:0)||service==zgssearch.GSConstant.ASANA&&!_jQueryGS("#"+service+"_enable").prop("checked"))&&service_account_info.e&&(_jQueryGS("#"+service+"_enable_detailview").prop("checked","checked"),_jQueryGS("#zgs20_gsAppBlock").find(".zgs19_enableContainer").removeClass("zgs19_gsHideEleme"),_jQueryGS("#"+service+"_enable").prop("checked","checked"),zgssearch.gssettingsapptab.serviceEnablingActions(service))},500));var widget_info=zgssearch.GSConstant.widgetObject||{},services_info=widget_info.servicesinfo||{},eO=(services_info[service]=data).eO||[];if(eO.length<1){for(var all_length=data.all.length,index=0;index<all_length;index++)eO.push(data.all[index]);data.eO=eO,services_info[service]=data}widget_info.servicesinfo=services_info,zgssearch.GSConstant.widgetObject=widget_info,zgssearch.loadWidgetList(zgssearch.GSConstant.widgetObject)},zgssearch.constructDiv=function(id,ele,parId,toAppend,otherAttr){var attr,parId=parId||"zgs20_globalsearch",ele=_jQueryGS("<div>",{id:id,class:ele});for(attr in toAppend?_jQueryGS("#"+parId).append(ele):_jQueryGS("#"+parId).prepend(ele),otherAttr)_jQueryGS("#"+id).css(attr,otherAttr[attr])},zgssearch.hideDelAccOrderOverlay=function(){_jQueryGS(".zgs19_gsDelAccOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderOverlay").remove()}}(zgssearch,window),zgssearch.API=zgssearch.API||{},zgssearch.API.METADATA_V4="/zgssearch/v4/getmetadata",zgssearch.API.SERVICE_ACTIONS="/zgssearch/v4/records/",zgssearch.API.DASHBOARD={BASE:"/zgssearch/v4/dashboard/",EXPORT:"/export",IMPORT:"/zgssearch/v4/dashboard/import",SAVE_IMPORT:"/zgssearch/v4/dashboard/import/save",DISCARD_IMPORT:"/zgssearch/v4/dashboard/import/discard"},zgssearch.featureNameConst={DASHBOARDS:"dashboards",CARDS:"cards"},zgssearch.featureNameMapping={[zgssearch.featureNameConst.DASHBOARDS]:"dashboards",[zgssearch.featureNameConst.CARDS]:"cards",settings:"gssettings"},zgssearch.curUserfeaturesData={},zgssearch.curUserfeatures={},zgssearch.globalinit=function(setPropertiesPromise,featurePropObj){var getMetaPromise;featurePropObj&&(0<setPropertiesPromise.length&&zgssearch.setFeatureObjForUser(setPropertiesPromise,featurePropObj),getMetaPromise=new Promise(function(resolve,reject){zgssearch.getMetaDetails(resolve,reject)}),setPropertiesPromise=new Promise(function(resolve,reject){zgssearch.setPropertiesAndConstants(resolve,reject)}),Promise.all([getMetaPromise,setPropertiesPromise]).then(function(){zgssearch.featuresInit(featurePropObj)},function(){}))},zgssearch.setFeatureObjForUser=function(featuresArr,featurePropObj){var scope=featurePropObj.hasOwnProperty("viewport")?featurePropObj.viewport:"";zgssearch.curUserfeatures[scope]=featuresArr;for(var i=0;i<featuresArr.length;i++)zgssearch.curUserfeaturesData[featuresArr[i]+"_"+scope]=zgssearch.getFeatureObj(featuresArr[i],scope)},zgssearch.getFeatureObj=function(feature,scopeIdentifier){switch(feature){case zgssearch.featureNameConst.DASHBOARDS:case zgssearch.featureNameConst.CARDS:return{permission:"Edit",theme:"none",viewportID:""}}},zgssearch.createFeatureInstance=function(feature,name,featurePropObj){zgssearch[name]=new zgssearch[zgssearch.featureNameMapping[feature]](featurePropObj)},zgssearch.featurePermission={},zgssearch.setPermissionObject=function(feature,permission,viewportID){zgssearch.curUserfeaturesData.push({feature:{permission:permission,viewportID:viewportID}}),zgssearch.featurePermission[feature]=permission},zgssearch.getPermissionObject=function(){return zgssearch.featurePermission},zgssearch.featuresInit=function(featurePropObj){for(var viewportID=featurePropObj.hasOwnProperty("viewport")?featurePropObj.viewport:"",curScopeFeatures=zgssearch.curUserfeatures.hasOwnProperty(viewportID)?zgssearch.curUserfeatures[viewportID]:[],i=0;i<curScopeFeatures.length;i++){var feature=curScopeFeatures[i];zgssearch.createFeatureInstance(feature,"embed_"+feature,featurePropObj)}},zgssearch.getMetaDetails=function(resolve,reject){var initialMetaPromise=new Promise(function(resolve,reject){var paramsObj={callback:zgssearch.dataProcess.initialUserMetaDataProcess,action:"fetchinitialdata",callback:function(responseData){zgssearch.dataProcess.initialUserMetaDataProcess(resolve,reject,responseData)}};zgssearch.request.get(paramsObj,zgssearch.API.METADATA_V4,!1)}),widgetDataPromise=new Promise(function(resolve,reject){var paramsObj={callback:zgssearch.dataProcess.initialUserMetaDataProcess,action:"fetchwidgetdata",usd:!0};paramsObj.bdate=GSConstant.BUILD_DATE,paramsObj.callback=function(responseData){zgssearch.dataProcess.userWidgetDataProcess(resolve,reject,responseData)},zgssearch.request.get(paramsObj,zgssearch.API.METADATA_V4,!1)}),servicesDataPromise=new Promise(function(resolve,reject){var paramsObj={action:"fetchserviceslist",callback:function(responseData){zgssearch.dataProcess.servicesMetaDataProcess(resolve,reject,responseData)}};zgssearch.request.get(paramsObj,zgssearch.API.METADATA_V4,!1)});Promise.all([initialMetaPromise,widgetDataPromise,servicesDataPromise]).then(function(){resolve(!0)},function(){reject(!0)})},zgssearch.setPropertiesAndConstants=function(resolve,reject){resolve(!0)},zgssearch.dataProcess=zgssearch.dataProcess||{},zgssearch.dataProcess.initialUserMetaDataProcess=function(resolve,reject,responseData){var gsConstObj=responseData.gsConstant;responseData.hasOwnProperty("gsConstant")&&(zgssearch.isDashboardEnabled=!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&(!!gsConstObj.hasOwnProperty("dashboard")&&gsConstObj.dashboard),zgssearch.setGSConstantObj(gsConstObj),zgssearch.hasOwnProperty("gsusercontacts")&&(zgssearch.gsusercontacts.fetContactsCount=gsConstObj.hasOwnProperty("getContactsLimit")?gsConstObj.getContactsLimit:50,zgssearch.gsusercontacts.clientSearchLimit=gsConstObj.hasOwnProperty("clientAutoSuggLimit")?gsConstObj.clientAutoSuggLimit:10,zgssearch.gsusercontacts.isEmailOnlyResult=!!gsConstObj.hasOwnProperty("emailOnlyResult")&&gsConstObj.emailOnlyResult)),zgssearch.isTabModelCSSFileLoaded||zgssearch.loadNewUICSS(),responseData.hasOwnProperty("settings")&&(zgssearch.applyUserThemeAndMode(responseData),zgssearch.loadFeatureCarouselComponent(responseData.settings)),zgssearch.GSConstant.nlpSearchEnabled=zgssearch.GSConstant.hasOwnProperty("nlp_enabled"),zgssearch.isDashboardEnabled&&(zgssearch.cardAutoRefreshTime=zgssearch.GSConstant.cardAutoRefreshTime||18e4,zgssearch.GSConstant.cardsLimitInDB=zgssearch.GSConstant.cardsLimitInDB||30,zgssearch.includes("cards",zgssearch.gsautocomplete.querymodifiers)||zgssearch.gsautocomplete.querymodifiers.splice(2,0,"cards"),zgssearch.includes("dashboard",zgssearch.gsautocomplete.querymodifiers)||zgssearch.gsautocomplete.querymodifiers.splice(3,0,"dashboard"),zgssearch.dashboardEventListeners()),zgssearch.hasOwnProperty("sendGSOpenedStats")&&zgssearch.sendGSOpenedStats(),resolve(!0)},zgssearch.dataProcess.userWidgetDataProcess=function(resolve,reject,pcode){var accessibleSerList=zgssearch.jsonParse(pcode);zgssearch.isWidgetCallWaitNeeded=zgssearch.isWidgetCallWaitNeeded&&!1;var allserList={};accessibleSerList.hasOwnProperty("gsConstant")&&(allserList=accessibleSerList.gsConstant,zgssearch.setGSConstantObj(allserList),allserList&&!_jQueryGS.isEmptyObject(allserList)&&(zgssearch.isAllGSConstantsSet=!0)),accessibleSerList.hasOwnProperty("widget")&&(pcode=accessibleSerList.widget,zgssearch.GSConstant.widgetObject=pcode,zgssearch.loadWidgetList(pcode),allserList=zgssearch.getEnabledServiceList(),accessibleSerList=zgssearch.getAccessibleServiceList(),0<allserList.length&&0<!accessibleSerList.length&&zgssearch.setAccessibleServiceList(allserList),allserList=zgssearch.getConstAllServList()||[],pcode.allserviceslist&&0<!allserList.length&&zgssearch.setConstAllServList(pcode.allserviceslist),"ZO"!=(pcode=zgssearch.gscomponent.pcode)&&"SS"!=pcode&&"ZW"!=pcode&&zgssearch.updateAndRenderServicelistWithLatestWidgetData(),zgssearch.fetchAdditionlInfo()),zgssearch.hasOwnProperty("fetchTopContacts")&&zgssearch.fetchTopContacts(),resolve(!0)},zgssearch.dataProcess.servicesMetaDataProcess=function(resolve,reject,services){var responseData=zgssearch.jsonParse(services);responseData.hasOwnProperty("enabledserviceslist")&&(services=zgssearch.getEnabledServiceList()||[],zgssearch.setAccessibleServiceList(responseData.enabledserviceslist),zgssearch.setEnabledServiceList(responseData.enabledserviceslist),zgssearch.storeServiceList(services,"serviceList"),zgssearch.storeServiceList(services,"orderedServiceList")),responseData.hasOwnProperty("allserviceslist")&&zgssearch.setConstAllServList(responseData.allserviceslist),zgssearch.preLoadComponentForServices(),resolve(!0)},zgssearch.request={},zgssearch.request={ajax:function(object,abort){var data,csrf;return zgssearch.httpReqObject&&zgssearch.abortXMLHTTPReq(zgssearch.httpReqObject),(object.type||zgssearch.GET)===zgssearch.POST&&(data=object.data,csrf=zgssearch.security.csrfParam.get()+"="+zgssearch.security.csrfToken.get(),object.data=data?data+"&"+csrf:csrf),_jQueryGS.ajax(object)},convertToParams:function(param_obj){var key,params="";for(key in param_obj)"callback"!==key&&"error"!==key&&(params+=(params?"&":"")+(key+"="+param_obj[key]));return params},setUrlObj:function(type,param_obj,url_obj){var action_url=url_obj&&""!==url_obj?url_obj:"",params=zgssearch.request.convertToParams(param_obj),url_obj={};return url_obj.url=action_url,url_obj.type=type,url_obj.dataType="text",url_obj.data=params,url_obj.success=function(resp){resp=JSON.parse(resp),param_obj.callback&&param_obj.callback(resp)},url_obj.error=function(resp){param_obj.error&&param_obj.error(resp)},url_obj},get:function(param_obj,url_obj,isAbort){url_obj=zgssearch.request.setUrlObj(zgssearch.GET,param_obj,url_obj);url_obj.error=function(resp){param_obj.error&&param_obj.error(resp)},zgssearch.request.initiateAjaxCall(isAbort,url_obj)},post:function(param_obj,url_obj,isAbort){url_obj=zgssearch.request.setUrlObj(zgssearch.POST,param_obj,url_obj);url_obj.error=function(response){var response_json=response.responseText,response=response_json;try{response=JSON.parse(response_json)}catch(e){}response_json=response;response&&response.response&&(response_json=response.response),param_obj.error&&param_obj.error(response_json)},zgssearch.request.initiateAjaxCall(isAbort,url_obj)},initiateAjaxCall:function(isAbort,url_obj){isAbort?zgssearch.httpReqObject=zgssearch.request.ajax(url_obj):zgssearch.request.ajax(url_obj)}},function(window){var document=window.document,zgssearch=function(zgssearch){(zgssearch=window.zgssearch||{}).GSConstant=zgssearch.GSConstant||{};var gscomponent=zgssearch.gscomponent||{};return zgssearch.rpxmlhttp=zgssearch.rpxmlhttp||"",zgssearch.GSConstant.GS_APPS="Apps",zgssearch.relatedProductURL="/zgssearch/gsrelatedproducts?",zgssearch.rpUIConfig=zgssearch.hasOwnProperty("rpUIConfig")?zgssearch.rpUIConfig:[],zgssearch.rpUIConfig.shownAllFetchedAppsInResults=!1,zgssearch.rpUIConfig.showAllFetchedAppsInResults=!1,zgssearch.rpUIConfig.isRPSearchCallActive=!1,zgssearch.rpUIConfig.resultData={},zgssearch.rpUIConfig.startAutoSuggestRPCount=0,zgssearch.rpUIConfig.fetchResCount=70,zgssearch.rpUIConfig.isShowMoreCall=!1,zgssearch.rpUIConfig.currCallType="",zgssearch.rpUIConfig.query="",zgssearch.rpUIConfig.searchedQuery="",zgssearch.rpUIConfig.onholdQuery="",zgssearch.rpUIConfig.callEntries={},zgssearch.rpUIConfig.renderedResCount=0,zgssearch.rpUIConfig.iconIncludedApps=zgssearch.rpUIConfig.hasOwnProperty("iconIncludedApps")?zgssearch.rpUIConfig.iconIncludedApps:[],zgssearch.rpUIConfig.appVsUrl=zgssearch.rpUIConfig.hasOwnProperty("appVsUrl")?zgssearch.rpUIConfig.appVsUrl:{},zgssearch.setShowAppsResMin=function(existingRenderedCount){if(1===gscomponent.UIType||4===gscomponent.UIType){var canAvailMinCount=Math.floor(_jQueryGS("#zgs20_gsSearchResultMiddle").width()/70);if("resize"===existingRenderedCount){if(null!==document.getElementById("zgs20_gsAppsResults")&&!zgssearch.rpUIConfig.shownAllFetchedAppsInResults){existingRenderedCount=zgssearch.rpUIConfig.renderedResCount;if(canAvailMinCount<existingRenderedCount&&null!==document.getElementById("zgs20_gsAppsResults").offsetParent)for(var allAppsEle=document.getElementById("zgs20_gsAppsResults").getElementsByClassName("zgs19_gsAppsRes"),i=--existingRenderedCount;canAvailMinCount<=i;i--){var childEle=allAppsEle[i];childEle.parentNode.removeChild(childEle),zgssearch.rpUIConfig.renderedResCount--}else zgssearch.rpUIConfig.showAppsResMin=canAvailMinCount-existingRenderedCount,zgssearch.renderRelatedProductResults(!1)}}else zgssearch.rpUIConfig.showAppsResMin=canAvailMinCount,zgssearch.rpUIConfig.showAppsResMax=2*canAvailMinCount}else zgssearch.rpUIConfig.showAppsResMin=6,zgssearch.rpUIConfig.showAppsResMax=12},zgssearch.getRelatedProductResults=function(searchURL){zgssearch.network.xmlHttpReq("GET",searchURL,!0,function(result){result?zgssearch.onSuccessRelatedProducts(result.response):zgssearch.toggleResultsRelatedProducts()})},zgssearch.canSearchRelatedProducts=function(){var query=zgssearch.getQueryText();return 0<(query.trim()?encodeURIComponent(query):"").length},zgssearch.getRelatedProducts=function(url){var query,encodeQuery=zgssearch.getSearchType();0<zgssearch.rpUIConfig.iconIncludedApps.length&&encodeQuery===zgssearch.GSConstant.ALL&&(encodeQuery=(query=zgssearch.getQueryText()).trim()?encodeURIComponent(query):"",zgssearch.canSearchRelatedProducts()&&!zgssearch.rpUIConfig.isRPSearchCallActive?(zgssearch.rpUIConfig.currCallType=void 0!==url?url:"",url="autosuggest"!==zgssearch.rpUIConfig.currCallType,url=(zgssearch.rpUIConfig.isRPSearchCallActive=url)?zgssearch.rpUIConfig.start||0:zgssearch.rpUIConfig.startAutoSuggestRPCount,zgssearch.rpUIConfig.searchedQuery=query,url=zgssearch.relatedProductURL+"is_zs=true&query="+encodeQuery+"&site_name=zoho&type=2&start="+url+"&no_of_results="+zgssearch.rpUIConfig.fetchResCount+"&__T="+(new Date).getTime(),zgssearch.getRelatedProductResults(url)):zgssearch.toggleResultsRelatedProducts())},zgssearch.resetRelatedProducts=function(){zgssearch.rpUIConfig.resultData={},zgssearch.rpUIConfig.callEntries={},zgssearch.rpUIConfig.start=0,zgssearch.rpUIConfig.totalcount=0,zgssearch.rpUIConfig.length=0,zgssearch.rpUIConfig.renderedResCount=0,zgssearch.rpUIConfig.shownAllFetchedAppsInResults=!1;var element=document.getElementById("zgs20_gsAppsResults");void 0!==element&&null!=element&&(element.innerHTML=""),zgssearch.setShowAppsResMin()},zgssearch.getSearchResultsForRelatedProducts=function(callOrigin){zgssearch.rpUIConfig.isShowMoreCall=void 0!==callOrigin,zgssearch.rpUIConfig.isShowMoreCall||zgssearch.resetRelatedProducts(),zgssearch.getRelatedProducts(callOrigin)},zgssearch}(void 0);window.zgssearch=zgssearch}(window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.searchbox=zgssearch.searchbox||{};var searchbox=zgssearch.searchbox;searchbox.spanLeftSpacing=2,searchbox.spanRightSpacing=2,zgssearch.getAllQueryText=function(){return _jQueryGS("#zgs20_gsQueryBox").val()||""},zgssearch.getQueryText=function(pquery){for(var queryLen=(query=pquery||zgssearch.getAllQueryText()).length,spanElem=_jQueryGS(".zgs19_gsSpanBoxElement"),i=0;i<spanElem.length;i++)var text=zgssearch.getSpanText(spanElem[i]),index=query.indexOf(text),query=query.substring(0,index).trim()+" "+query.substring(index+text.length,queryLen).trim();return query.trim()},zgssearch.getSpanText=function(spanElem){return _jQueryGS(spanElem).text()},zgssearch.emptySearchBoxValues=function(){_jQueryGS("#zgs20_gsQueryBox").val(""),_jQueryGS("#zgs20_gsQuerySpanBox").empty()},zgssearch.getQueryOrder=function(){var zuid,userIndex=_jQueryGS("#zgs20_gsusersSpanEleme"),userDispName=_jQueryGS("#zgs20_gsservicesSpanEleme"),queryArr=[],mentionedObj="",query1="",query2="",qryText=zgssearch.getAllQueryText();return 0<userDispName.length&&(qryText=qryText.replace(zgssearch.getSpanText(userDispName),"").trim()),0<userIndex.length?(zuid=userIndex.attr("ZUID"),userDispName=userIndex.attr("EMAILID"),zuid&&-1!=zuid?mentionedObj={men_user_zuid:zuid}:userDispName&&(mentionedObj={men_user_email:userDispName}),userDispName=zgssearch.getSpanText(userIndex),userIndex=qryText.indexOf(userDispName),query1=(query1=qryText.substring(0,userIndex))?query1.trim():"",query2=(query2=qryText.substring(userIndex+userDispName.length))?query2.trim():""):query1=qryText,query1&&queryArr.push({query:query1}),mentionedObj&&queryArr.push(mentionedObj),query2&&queryArr.push({query:query2}),queryArr},zgssearch.updateQueryDiv=function(){var query;(0<(zgssearch.getAccessibleServiceList()||[]).length||GSConstant.hasOwnProperty("widgetObject"))&&(query=zgssearch.getAllQueryText(),zgssearch.gsautocomplete.hasOwnProperty("setAutoSuggestAppsData")&&zgssearch.gsautocomplete.setAutoSuggestAppsData(),zgssearch.removeQuerySugg(),zgssearch.updateSearchBox(query),zgssearch.updatesuggtext())},zgssearch.updateSearchBox=function(query,resType){var curpos=zgssearch.getCursorPositionForSearchBox(),lastIndex=query[curpos];if(!lastIndex||" "==lastIndex){var stext=query.substr(0,curpos);zgssearch.gsautocomplete.asMatchedObj=[];for(var aqryfilters=zgssearch.getAvailableQueryFilters(),amodifier=zgssearch.gsautocomplete.querymodifiers,isMatched=!1,aml=amodifier.length,i=0;i<aml;i++){var mi0=amodifier[i],lind=""!=(mi1=zgssearch.gsautocomplete.modifiers[mi0].symbol)?stext.lastIndexOf(mi1):-1;if(zgssearch.isQueryValid(stext)&&-1<lind&&!aqryfilters.includes(mi0))if(0==lind||" "==stext[lind-1]){var squery=stext.substr(0,lind-1),pquery=stext.substr(lind,curpos),hmleng=(hmatches=zgssearch.gsautocomplete.findMatchedData(mi0,pquery)).length;if(0<hmleng){var isMatched=!0,fobj={key:mi0,value:mi1,matches:hmatches,pquery:pquery,squery:squery,length:hmleng,max:zgssearch.gsautocomplete.modifiers[mi0].asMax,start:0};zgssearch.gsautocomplete.asMatchedObj.push(fobj),zgssearch.gsautocomplete.renderAutoSuggList(fobj);break}}}var lastIndex=searchbox.getLastIndexOfFilters(curpos),squrey2=stext.substr(lastIndex,curpos).trimStart();if(!isMatched){for(var shmatches=[],j=0;j<aml;j++){var hmatches,mi0=amodifier[j],mi1=zgssearch.gsautocomplete.modifiers[mi0].symbol,lind=squrey2&&mi1?squrey2.lastIndexOf(mi1):-1;aqryfilters.includes(mi0)||0<(hmatches=zgssearch.gsautocomplete.findMatchedData(mi0,pquery=0==lind?squrey2:mi1+squrey2)).length&&shmatches.push([mi0,hmatches])}var shmlen=shmatches.length;if(0<shmlen){isMatched=!0;for(var lastindex=""==squrey2?stext.length:stext.lastIndexOf(squrey2),squery=stext.substr(0,lastindex),pquery=" "+squrey2,k=0;k<shmlen;k++){var tempMax=shmatches[k],mi0=tempMax[0],lhmatches=tempMax[1],tempMax=1==shmlen?zgssearch.gsautocomplete.modifiers[mi0].asMax:zgssearch.gsautocomplete.modifiers[mi0].asMin,fobj={key:mi0,value:" ",matches:lhmatches,pquery:pquery,squery:squery,length:lhmatches.length,max:tempMax,start:0};zgssearch.gsautocomplete.asMatchedObj.push(fobj),zgssearch.gsautocomplete.renderAutoSuggList(fobj)}}}isMatched||(zgssearch.removeQuerySugg(),"serverResponse"==resType&&zgssearch.updateSearchBox(query))}},zgssearch.getAvailableQueryFilters=function(){return _jQueryGS(".zgs19_gsSpanBoxElement").map(function(){return _jQueryGS(this).attr("key")}).get()},zgssearch.updateautosuggest=function(target,event){var key=_jQueryGS(target).attr("key");if("relatedproducts"===key)zgssearch.gsautocomplete.openApp(event,target);else{var value=_jQueryGS(target).attr("value"),suggValue=_jQueryGS(target).attr("unhigh"),finalObj=zgssearch.gsautocomplete.get(key),typeObj={};switch(key){case"users":var userObj=zgssearch.gsusercontacts.getProximityContactsObject(),queriedContacts=zgssearch.gsusercontacts.getQueriedProxContactsObject(),cachedContacts=zgssearch.gsusercontacts.getCurrCacheQryContact(),userObj=(finalObj=_jQueryGS.extend({},queriedContacts,cachedContacts,userObj,finalObj))[value],typeObj={name:zgssearch.replaceHTMLEntity(userObj.DNAME),zuid:userObj.ZUID,emailId:value};break;case"cards":typeObj.name=finalObj[value].name;break;case"services":typeObj.services=value;default:typeObj.name=finalObj[value]}if(finalObj.hasOwnProperty(value)||-1<finalObj.indexOf(value)){switch(key){case"dashboard":var dashboardId=target.getAttribute("viewid"),index=zgssearch.dbViewType.specificDashboard;let dbView=zgssearch.gsdbUtils.setDashboardViewDetails(index);dbView.setDashboardId(dashboardId),_jQueryGS("#zgs20_gsDashboardhome").css("display","block"),zgssearch.isDashboardViewOpened()?dashboardId!==zgssearch.gsdbhome.currentlyOpenedDbId&&(zgssearch.gsdbhome.checkIfDefaultDashboardOpened()?zgssearch.gsdbhome.defaultDbSuccAction=target:dashboardId!==zgssearch.gsdbhome.currentlyOpenedDbId&&zgssearch.gsdbhome.renderDashboardPage(index,dbView)):zgssearch.openDashboard(index,dbView);break;case"cards":zgssearch.isCardViewOpened()?_jQueryGS(target).attr("viewid")!==_jQueryGS(".zgs19_gsCrdHdrTitle").attr("cardId")&&zgssearch.gscards.loadCardsPage("preview",target):zgssearch.openCards("preview",target);break;case"recentsearch":zgssearch.gsautocomplete.handleRecentSearch(typeObj.name);break;case"users":for(var matchObj=zgssearch.gsautocomplete.asMatchedObj,mlen=matchObj.length,finalQuery="",i=0;i<mlen;i++){var pQuery,lind=matchObj[i];lind.key==key&&(pQuery=lind.pquery,value=zgssearch.gsautocomplete.modifiers[key].symbol,finalQuery=0<=(lind=pQuery.lastIndexOf(value))?pQuery.substring(lind+1,pQuery.length):pQuery)}index=_jQueryGS(target).attr("index");zgssearch.gsautocomplete.sendAutoSuggClickPosition(parseInt(index)+1,finalQuery.trim());case"services":searchbox.updateQueryFilterSpanElement(key,suggValue,typeObj),zgssearch.gsautocomplete.handleSuggestionSearch();break;default:searchbox.triggerAutoSuggestCall()}zgssearch.removeQuerySugg()}}},zgssearch.updatesuggtext=function(){zgssearch.Utils.debounce(function(){var tabpress=zgssearch.getCursorPositionForSearchBox();_jQueryGS(".zgs19_gssuggtext").remove();var tabtext,tabelem=_jQueryGS(".zgs19_gsAutoSuggChild").length,tabtoselect=zgssearch.getAllQueryText(),vunhigh=tabtoselect.length;1<tabpress&&tabpress==vunhigh&&0<tabelem&&zgssearch.gsautocomplete.isAutoSuggDisplay&&zgssearch.isQueryValid(tabtoselect)&&((tabpress=zgssearch.gsautocomplete.currselecelem)||(tabtext=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),tabpress=zgssearch.getTargetElem(tabtext)),vunhigh=_jQueryGS(tabpress).attr("unhigh"),tabelem="","relatedproducts"!==(tabtoselect=_jQueryGS(tabpress).attr("key"))&&(tabtext=zgssearch.getI18NMsg("gs.search.sugg.tab"),tabpress="  ("+zgssearch.getI18NMsg("gs.search.sugg.press")+" ",tabtoselect=" "+("cards"==tabtoselect||"dashboard"==tabtoselect?zgssearch.getI18NMsg("gs.search.sugg.toopen"):zgssearch.getI18NMsg("gs.search.sugg.toselect"))+")",tabelem=_jQueryGS("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox zgs19_gsFontSize14Px"}).append(_jQueryGS("<span>").text(tabpress)).append(_jQueryGS("<span>",{class:"zgs19_gssuggtab"}).text(tabtext)).append(_jQueryGS("<span>").text(tabtoselect))),_jQueryGS("#zgs20_gsSuggestionDiv").empty(),searchbox.updateAutoSuggestDivPosition(),_jQueryGS("#zgs20_gsSuggestionDiv").append(_jQueryGS("<span>",{class:"zgs19_gssuggtext zgs19_gsBorderBox"}).text(vunhigh)).append(tabelem))},100,"updatesuggtext")},zgssearch.handleSearchCloseIcon=function(){var closeIconProperty=zgssearch.getAllQueryText()?"block":"none";_jQueryGS("#zgs20_gsQueryCloseBox").css("display",closeIconProperty),zgssearch.setSearchBoxSegmentSize()},zgssearch.removeQuerySugg=function(){_jQueryGS(".zgs19_gssuggtext").remove(),_jQueryGS("#zgs20_gsQuerySugg").html("").css("display","none"),zgssearch.gsautocomplete.currselecelem="",zgssearch.gsautocomplete.showLoadingIcon=!1,zgssearch.gsautocomplete.isAutoSuggDisplay=!1},zgssearch.getQueryScrollLeft=function(inputElement){if(zgssearch.isBrowserSupportSSE)return _jQueryGS(inputElement).scrollLeft();if(inputElement.hasOwnProperty("createTextRange")){var rangeRect=inputElement.createTextRange(),paddingLeft=window.getComputedStyle(inputElement,void 0),paddingLeft=parseFloat(paddingLeft.paddingLeft),rangeRect=rangeRect.getBoundingClientRect();return inputElement.getBoundingClientRect().left+inputElement.clientLeft+paddingLeft-rangeRect.left}},zgssearch.isQueryHasServiceCriteria=function(){return 0<_jQueryGS("#zgs20_gsservicesSpanEleme").length},zgssearch.isQueryHasUserCriteria=function(){return 0<_jQueryGS("#zgs20_gsusersSpanEleme").length},zgssearch.getCurrentQueryCriteria=function(type){return _jQueryGS("#zgs20_gs"+type+"SpanEleme").attr(type)||""},zgssearch.addEventForSearchBox=function(){_jQueryGS("#zgs20_gsQueryBox").off().on({focus:function(event){searchbox.handleFocusActionsForSearchBox(event)},blur:function(event){searchbox.handleBlurActionsForSearchBox(event)},mouseup:function(event){searchbox.handleMouseUpActionsForSearchBox(event)},click:function(event){searchbox.handleClickActionsForSearchBox(event)},keydown:function(event){searchbox.handleKeyDownActionsForSearchBox(event)},input:function(event){searchbox.handleInputActionsForSearchBox(event)},keyup:function(event){searchbox.handleKeyUpActionForSearchBox(event)},paste:function(event){searchbox.handlePasteActionsForSearchBox(event)},scroll:function(event){searchbox.handleScrollActionsForSearchBox(event)},drop:function(event){event.preventDefault()},resize:function(event){searchbox.updateSpanElementPosition(event.target)}},!0),_jQueryGS("#zgs20_gsQueryCloseBox").off().on({click:function(){zgssearch.clearCloseIconInSearchBoxAction()}})},zgssearch.renderQuerySpanElement=function(criteriaObj){var key,queryBox=_jQueryGS("#zgs20_gsQueryBox")[0];for(key in criteriaObj){var dataObj=criteriaObj[key];if("query1"===key||"query2"===key||"query3"===key)queryBox.value+=dataObj.name;else if(!_jQueryGS.isEmptyObject(dataObj)){let typeElement=_jQueryGS("#zgs20_gs"+key+"SpanEleme");var curText,text,dispName=zgssearch.gsautocomplete.modifiers[key].symbol+dataObj.name;0===typeElement.length?(text=_jQueryGS("<span>",{id:"zgs20_gs"+key+"SpanEleme",class:"zgs19_gsSpanBoxElement zgs19_gsuserselnone zgs19_gsBorderBox",key:key}).text(dispName),_jQueryGS("#zgs20_gsQuerySpanBox").append(text),typeElement=_jQueryGS(text),queryBox.value+="   "+dispName+"   "):(curText=typeElement.text(),typeElement.text(dispName),text=zgssearch.getAllQueryText(),queryBox.value=text?text.replace(curText,dispName):"   "+dispName+"   "),"users"===key?(typeElement.attr(key,dataObj.name),typeElement.attr("zuid",dataObj.zuid),typeElement.attr("emailId",dataObj.emailId)):typeElement.attr(key,dataObj.services)}}zgssearch.focusForWeb("zgs20_gsQueryBox"),searchbox.updateSpanElementPosition(queryBox)},zgssearch.getCursorPositionForSearchBox=function(){return document.getElementById("zgs20_gsQueryBox").selectionStart},zgssearch.clearCloseIconInSearchBoxAction=function(){zgssearch.network.removeEventSource(),searchbox.clearSearchQueryBox(),zgssearch.handleSearchCloseIcon(),zgssearch.hideSearchPageLoader(),zgssearch.gsfilters.checkFiltersAppliedOrNot()},searchbox.handleFocusActionsForSearchBox=function(event){var len;zgssearch.isQueryFocused=!0,zgssearch.hasOwnProperty("hideAllDropdownList")&&zgssearch.hideAllDropdownList(),this.setSelectionRange&&(len=_jQueryGS(this).val().length,this.setSelectionRange(len,len))},searchbox.handleBlurActionsForSearchBox=function(event){zgssearch.isQueryFocused=!1,_jQueryGS(".zgs19_gsSpanBoxElement").removeClass("zgs19_gsSelectedSpanElement"),zgssearch.gsautocomplete.mousedown?(zgssearch.stopEvent(event),zgssearch.focusForWeb(event.target.id),zgssearch.gsautocomplete.mousedown=!1):zgssearch.gsautocomplete.isAutoSuggDisplay&&zgssearch.removeQuerySugg()},searchbox.handleMouseUpActionsForSearchBox=function(event){searchbox.checkIfCursorInsideRange(event)},searchbox.handleClickActionsForSearchBox=function(event){event.target.selectionStart===zgssearch.getAllQueryText().length?searchbox.triggerAutoSuggestCall(event):zgssearch.removeQuerySugg()},searchbox.handleKeyDownActionsForSearchBox=function(event){var keycode=event.keyCode||event.which;(keycode==zgssearch.specialkeys.BACKSPACE||keycode==zgssearch.specialkeys.DELETE||(event.ctrlKey||event.metaKey)&&keycode==zgssearch.specialkeys.CUT)&&zgssearch.isQueryHasServiceCriteria()&&(zgssearch.hasServiceCriteriaRemoved=!0),keycode!==zgssearch.specialkeys.LEFT&&keycode!==zgssearch.specialkeys.RIGHT||zgssearch.removeQuerySugg(),searchbox.handleKeyboardShortCuts(event,keycode)?event.preventDefault():searchbox.handleKeyDownMovementsInsideSpanElement(event,keycode)},searchbox.handleInputActionsForSearchBox=function(event){searchbox.updateSpanElementPosition(event.target),searchbox.clearSearchResults(),searchbox.triggerAutoSuggestCall(event)},searchbox.handleKeyUpActionForSearchBox=function(event){var keycode=event.keyCode||event.which;(keycode===zgssearch.specialkeys.BACKSPACE||keycode===zgssearch.specialkeys.DELETE||(event.ctrlKey||event.metaKey)&&keycode===zgssearch.specialkeys.CUT)&&(!zgssearch.isQueryHasServiceCriteria()&&zgssearch.hasServiceCriteriaRemoved&&searchbox.clearResultsOnEmptySearchBox(),zgssearch.stopEvent(event)),searchbox.handleCursorPositionNearSpanElement(event.target,!1)},searchbox.handlePasteActionsForSearchBox=function(event){searchbox.clearSearchResults(),zgssearch.updateQueryDiv(),zgssearch.handleSearchCloseIcon()},searchbox.handleScrollActionsForSearchBox=function(event){searchbox.updateSpanElementPosition(event.target)},searchbox.handleCursorPositionNearSpanElement=function(inputElement,moveBackword,inputStart,inputEnd){var query=zgssearch.getAllQueryText();inputStart=inputStart||inputElement.selectionStart,inputEnd=inputEnd||inputElement.selectionEnd;for(var spanBoxes=_jQueryGS(".zgs19_gsSpanBoxElement"),i=0;i<spanBoxes.length;i++){var eachSpan=spanBoxes[i],isInputStartInsideSpan=zgssearch.getSpanText(eachSpan),isInputEndInsideSpan=query.indexOf(isInputStartInsideSpan),afterSpanPosition=isInputEndInsideSpan+isInputStartInsideSpan.length+searchbox.spanRightSpacing,beforeSpanPosition=isInputEndInsideSpan-searchbox.spanLeftSpacing,isInputStartInsideSpan=beforeSpanPosition<inputStart&&inputStart<afterSpanPosition,isInputEndInsideSpan=beforeSpanPosition<inputEnd&&inputEnd<afterSpanPosition;if(isInputStartInsideSpan||isInputEndInsideSpan){var finalPos=moveBackword?beforeSpanPosition:afterSpanPosition;if(finalPos>query.length){let tempQuery=inputElement.value,queryLen=query.length;for(;queryLen<finalPos;)tempQuery+=" ",queryLen++;inputElement.value=tempQuery}inputElement.selectionStart=isInputStartInsideSpan?finalPos:inputStart,inputElement.selectionEnd=isInputEndInsideSpan?finalPos:inputEnd,_jQueryGS(eachSpan).addClass("zgs19_gsSelectedSpanElement")}else inputStart<=afterSpanPosition&&beforeSpanPosition<inputStart||beforeSpanPosition<=inputStart&&inputStart<afterSpanPosition?_jQueryGS(eachSpan).addClass("zgs19_gsSelectedSpanElement"):_jQueryGS(eachSpan).removeClass("zgs19_gsSelectedSpanElement")}},searchbox.handleKeyDownMovementsInsideSpanElement=function(event,keycode){var spanBoxes=_jQueryGS(".zgs19_gsSpanBoxElement");if(keycode===zgssearch.specialkeys.LEFT||keycode===zgssearch.specialkeys.RIGHT||keycode===zgssearch.specialkeys.BACKSPACE||keycode===zgssearch.specialkeys.DELETE)for(var inputElement=event.target,curText=zgssearch.getAllQueryText(),i=0;i<spanBoxes.length;i++){var eachBox=spanBoxes[i],text=zgssearch.getSpanText(eachBox),index=curText.indexOf(text);if(searchbox.keySpecificAction(eachBox,inputElement,index,text,keycode,event))break}},searchbox.keySpecificAction=function(textval,inputElement,index,text,keycode,event){var curStart=inputElement.selectionStart,curEnd=inputElement.selectionEnd,isRTLEnabled=zgssearch.gscomponent.isRTLEnabled,beforeSpanPosition=index-searchbox.spanLeftSpacing,toBeReplacedText=index+text.length+searchbox.spanRightSpacing;let isLeftKey=keycode===zgssearch.specialkeys.LEFT,isRightKey=keycode===zgssearch.specialkeys.RIGHT;isRTLEnabled&&(targetCursor=isLeftKey,isLeftKey=isRightKey,isRightKey=targetCursor);var targetCursor=isLeftKey?beforeSpanPosition:toBeReplacedText;if(isLeftKey||isRightKey){if(isLeftKey&&(curStart===toBeReplacedText||curEnd===toBeReplacedText)||isRightKey&&(curStart===beforeSpanPosition||curEnd===beforeSpanPosition))return searchbox.updateInputCursor(targetCursor,index,text,inputElement,curStart,curEnd),event.preventDefault(),!0}else if(keycode===zgssearch.specialkeys.BACKSPACE&&curStart===toBeReplacedText&&curStart===curEnd||keycode===zgssearch.specialkeys.DELETE&&curStart===beforeSpanPosition){_jQueryGS(textval).remove();textval=inputElement.value,toBeReplacedText=textval.slice(beforeSpanPosition,toBeReplacedText-1);return inputElement.value=textval.replace(toBeReplacedText,""),inputElement.setSelectionRange(index-1,index-1),searchbox.updateSpanElementPosition(event.target),_jQueryGS(".zgs19_gssuggtext").remove(),event.preventDefault(),!0}return!1},searchbox.updateInputCursor=function(targetCursor,index,text,inputElement,inputStart,inputEnd){inputEnd===inputStart?inputElement.setSelectionRange(targetCursor,targetCursor):inputEnd>=index-searchbox.spanLeftSpacing&&inputEnd<=index+text.length+searchbox.spanRightSpacing?inputElement.selectionEnd=targetCursor:inputStart>=index-searchbox.spanLeftSpacing&&inputStart<=index+text.length+searchbox.spanRightSpacing&&(inputElement.selectionStart=targetCursor)},searchbox.handleKeyboardShortCuts=function(event,isRangeNeeded){var inputElement=event.target;let value=inputElement.value;var trimmedValue=inputElement.selectionStart,curStart=inputElement.selectionEnd,isRTLEnabled=zgssearch.gscomponent.isRTLEnabled;let shortCutHandled=!1;var isLeftKeyPressed=isRangeNeeded===zgssearch.specialkeys.LEFT,isRightKeyPressed=isRangeNeeded===zgssearch.specialkeys.RIGHT,isUPKeyPressed=isRangeNeeded===zgssearch.specialkeys.UP,isDownKeyPressed=isRangeNeeded===zgssearch.specialkeys.DOWN,isRangeNeeded=event.shiftKey||!1;if(event.shiftKey||event.ctrlKey||event.altKey||event.metaKey){let isStart=!1;if(isUPKeyPressed||event.metaKey&&isLeftKeyPressed?(isStart=!0,shortCutHandled=!0):(isDownKeyPressed||event.metaKey&&isRightKeyPressed)&&(isStart=!1,shortCutHandled=!0),shortCutHandled)return searchbox.moveCursor(inputElement,isStart,value,isRangeNeeded),!0}if(event.ctrlKey||event.altKey&&!isRangeNeeded){let isForward=!1;if(isLeftKeyPressed?(isForward=isRTLEnabled,shortCutHandled=!0):isRightKeyPressed&&(isForward=!isRTLEnabled,shortCutHandled=!0),shortCutHandled){trimmedValue=isForward?value.substring(trimmedValue,value.length):value.substring(0,curStart),curStart=isForward?0:trimmedValue.length;return searchbox.moveOneWord(inputElement,isForward,curStart,trimmedValue,value),!0}}return!1},searchbox.moveCursor=function(inputElement,isStart,value,isRangeNeeded){let startRange,endRange;isRangeNeeded?isStart?inputElement.selectionStart=0:inputElement.selectionEnd=value.length:(startRange=endRange=isStart?0:value.length,inputElement.setSelectionRange(startRange,endRange)),searchbox.checkAndScrollContainer(inputElement,startRange,endRange)},searchbox.moveOneWord=function(inputElement,isForward,curPos,trimmedValue,value){const regex=/\b/g;let addOnValue,checkValue;if(checkValue=isForward?(addOnValue=1,0):addOnValue=-1,0<trimmedValue.length){for(regex.test(trimmedValue.charAt(curPos+checkValue))||(curPos+=addOnValue);regex.test(trimmedValue.charAt(curPos+checkValue));)curPos+=addOnValue;curPos=isForward?value.length-trimmedValue.length+curPos:curPos,inputElement.setSelectionRange(curPos,curPos),searchbox.handleCursorPositionNearSpanElement(inputElement,!isForward,curPos,curPos),searchbox.checkAndScrollContainer(inputElement)}},searchbox.checkIfCursorInsideRange=function(event){let inputElement=event.target,startPos=inputElement.selectionStart,endPos=inputElement.selectionEnd;var newPos;startPos!==endPos&&(newPos=inputElement.getBoundingClientRect(),newPos=event.pageX-newPos.left-parseFloat(_jQueryGS(inputElement).css("padding-inline-start")),newPos=searchbox.getInputWidth(inputElement.value,newPos),startPos=endPos=newPos),searchbox.handleCursorPositionNearSpanElement(inputElement,!1,startPos,endPos)},searchbox.clearResultsOnEmptySearchBox=function(){var allPage=GSConstant.ALL,mlist=zgssearch.getWidgetServiceList(allPage);zgssearch.updateMultiPageFlag(allPage,mlist.key),zgssearch.updateSearchType(allPage),zgssearch.gsfilters.removeAppliedFilterIconColor(),zgssearch.updateCurrentPage(allPage),zgssearch.disablingSSIcon(),zgssearch.removeQuerySugg(),zgssearch.hasServiceCriteriaRemoved=!1},searchbox.clearSearchQueryBox=function(){zgssearch.emptySearchBoxValues(),zgssearch.focusForWeb("zgs20_gsQueryBox"),searchbox.clearResultsOnEmptySearchBox()},searchbox.triggerAutoSuggestCall=function(event){zgssearch.handleSearchCloseIcon(),zgssearch.hasOwnProperty("gsautocomplete")&&(zgssearch.updateQueryDiv(),event&&zgssearch.gsmousewheelevent(event)),zgssearch.hasOwnProperty("gsusercontacts")&&zgssearch.gsusercontacts.checkProxConTresholdLimit()},searchbox.getLastIndexOfFilters=function(curpos){for(var qfObj=_jQueryGS(".zgs19_gsSpanBoxElement"),tquery=zgssearch.getAllQueryText(),lind=0,i=0;i<qfObj.length;i++){var tempdn=zgssearch.getSpanText(qfObj[i]),tlind=tquery.indexOf(tempdn);-1<tlind&&lind<=(tlind+=tempdn.length)&&tlind<=curpos&&(lind=tlind)}return lind},searchbox.updateSpanElementPosition=function(inputElement){for(var span=_jQueryGS(".zgs19_gsSpanBoxElement"),value=zgssearch.getAllQueryText(),i=0;i<span.length;i++){var textObj,status,positionX,paddingLeft=zgssearch.getSpanText(span[i]),diffX=value.indexOf(paddingLeft)-searchbox.spanLeftSpacing;diffX<0?_jQueryGS(span[i]).remove():(status=(textObj=searchbox.getCharacterPosition(inputElement,diffX,paddingLeft.length)).status,positionX=0<textObj.left?textObj.left:0,diffX=searchbox.getInputWidth("  "+paddingLeft+" "),paddingLeft=_jQueryGS(inputElement).css("padding-inline-start"),positionX+=parseFloat(paddingLeft),-2===status||1===status?_jQueryGS(span[i]).addClass("zgs19_gsDisplayNone"):(-1!==status&&2!==status||(diffX=diffX-textObj.diff+searchbox.spanRightSpacing+1,positionX=positionX-searchbox.spanLeftSpacing-1),_jQueryGS(span[i]).removeClass("zgs19_gsDisplayNone").css({"inset-inline-start":positionX,width:diffX})))}},searchbox.getCharacterPosition=function(diff,textRight,inputWidth){var scrollLeft=diff.value.substring(0,textRight),status=diff.value.substring(0,textRight+inputWidth+searchbox.spanRightSpacing),textLeft=searchbox.getInputWidth(scrollLeft),textRight=searchbox.getInputWidth(status),inputWidth=diff.clientWidth,scrollLeft=zgssearch.gscomponent.isRTLEnabled?0-diff.scrollLeft:diff.scrollLeft,status=0,diff=0;return textRight<scrollLeft?status=-2:textLeft<scrollLeft?(status=-1,diff=scrollLeft-textLeft):inputWidth<textLeft-scrollLeft?status=1:inputWidth<textRight-scrollLeft&&(status=2,diff=textRight-scrollLeft-inputWidth),{left:0<(textLeft-=scrollLeft)?textLeft:0,status:status,diff:diff}},searchbox.getCurrentQueryFilterObj=function(type,position){var length=_jQueryGS("#zgs20_gs"+type+"SpanEleme");if(0<length.length){var typeObj={};return"users"===type?(typeObj.name=length.attr(type)||"",typeObj.zuid=length.attr("zuid")||"",typeObj.emailId=length.attr("emailId")||""):(typeObj.services=length.attr(type),typeObj.name=zgssearch.getSpanText(length).replace("#","")),position&&(length=zgssearch.getSpanText(length),position=position.indexOf(length),length=length.length,typeObj.pos=position,typeObj.length=length),typeObj}return""},searchbox.updateAutoSuggestDivPosition=function(){let inputElement=document.getElementById("zgs20_gsQueryBox");var width=inputElement.selectionStart,positionX=inputElement.value.substring(0,width),width=_jQueryGS(inputElement).css("padding-inline-start"),positionX=searchbox.getInputWidth(positionX)+parseFloat(width),width=_jQueryGS("#zgs20_gsQueryBox").outerWidth()-positionX;_jQueryGS("#zgs20_gsSuggestionDiv").css({"inset-inline-start":positionX,width:width})},searchbox.getInputWidth=function(value,positionObj){_jQueryGS("#zgs20_gsQuerySpanBox").append(_jQueryGS("<span>",{id:"zgs20_gsDummyQueryToolTip",class:"zgs19_gsdummySearchBox"}));let dummyElem=zgssearch.getTargetElem("zgs20_gsDummyQueryToolTip"),valueToBeReturned=0;if(positionObj){var offsetX=positionObj,valueLength=value.length;for(let i=1;i<=valueLength;i++){if(!(dummyElem.offsetWidth<offsetX))break;valueToBeReturned=i,dummyElem.textContent=value.substring(0,i)}}else{dummyElem.textContent=value;positionObj=dummyElem.getBoundingClientRect();valueToBeReturned=positionObj.width}return _jQueryGS("#zgs20_gsDummyQueryToolTip").remove(),valueToBeReturned},searchbox.updateQueryFilterSpanElement=function(key,suggValue,selectedObj){var highlightMailId,curText=zgssearch.getAllQueryText(),userObj={},serviceObj={},selectedValue="";key?"users"===key?(userObj=selectedObj,serviceObj=searchbox.getCurrentQueryFilterObj("services",curText)||{},suggValue?selectedValue=selectedObj.name.replace(suggValue,""):(highlightMailId=_jQueryGS("#zgs20_gsQuerySugg").find(".zgs19_gshighlight").text()||"")&&(selectedValue=highlightMailId)):(userObj=searchbox.getCurrentQueryFilterObj("users",curText)||{},selectedValue=(serviceObj=selectedObj).name.replace(suggValue,"")):(serviceObj=searchbox.getCurrentQueryFilterObj("services",curText)||{},userObj=searchbox.getCurrentQueryFilterObj("users",curText)||{}),searchbox.updateSelectedSpanObjInQueryBox(curText,serviceObj,userObj,key,selectedValue),searchbox.updateCursorPositionAfterSpan(selectedObj.name)},searchbox.updateSelectedSpanObjInQueryBox=function(curText,serviceObj,userObj,key,finalObj){finalObj=searchbox.getQueryObjectForRendering(curText,serviceObj,userObj,key,finalObj);zgssearch.emptySearchBoxValues(),zgssearch.renderQuerySpanElement(finalObj)},searchbox.getQueryObjectForRendering=function(curText,serviceObj,userObj,key,selectedValue){var userIndex,criteriaArr=[];serviceObj&&serviceObj.hasOwnProperty("pos")&&serviceObj.hasOwnProperty("length")&&(userIndex=serviceObj.pos,criteriaArr.push({key:"services",pos:userIndex,length:serviceObj.length})),userObj&&userObj.hasOwnProperty("pos")&&userObj.hasOwnProperty("length")&&(userIndex=userObj.pos,criteriaArr.push({key:"users",pos:userIndex,length:userObj.length}));for(var finalPositionArr=searchbox.removeAutoSuggestMatchedQuery(key,curText,selectedValue,criteriaArr),finalObj={},orderLen=finalPositionArr.length,i=0;i<orderLen;i++){var eachArray=finalPositionArr[i];switch(eachArray.key){case"services":finalObj.services=serviceObj;break;case"users":finalObj.users=userObj;break;case"query1":finalObj.query1={name:eachArray.value};break;case"query2":finalObj.query2={name:eachArray.value};break;case"query3":finalObj.query3={name:eachArray.value}}}return finalObj},searchbox.updateCursorPositionAfterSpan=function(curPos){var inputElement=document.getElementById("zgs20_gsQueryBox"),curPos=zgssearch.getAllQueryText().indexOf(curPos)+curPos.length+searchbox.spanRightSpacing+1;inputElement.setSelectionRange(curPos,curPos),searchbox.checkAndScrollContainer(inputElement)},searchbox.removeAutoSuggestMatchedQuery=function(selectedKey,pos,finalKeyValue,criteriaArr){var curPos,selectedMod,lastIndexPosition,textAfterLastIndex,selectedModIndex,selectedTextLen,curText=pos;selectedKey&&(curPos=zgssearch.getCursorPositionForSearchBox(),selectedMod=zgssearch.gsautocomplete.modifiers[selectedKey].symbol,lastIndexPosition=searchbox.getLastIndexOfFilters(curPos),selectedModIndex=-1===(selectedModIndex=(textAfterLastIndex=curText.substring(lastIndexPosition,curText.length)).indexOf(selectedMod))?lastIndexPosition:selectedModIndex+lastIndexPosition,selectedTextLen=curText.substring(selectedModIndex,curPos).length,pos=new RegExp(finalKeyValue.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),0<=(pos=textAfterLastIndex.search(pos))&&finalKeyValue&&(selectedTextLen=finalKeyValue.length,curText[(pos+=lastIndexPosition)-1]===selectedMod&&(pos-=1,selectedTextLen+=1),selectedModIndex=curPos-pos<curPos-selectedModIndex?pos:selectedModIndex),-1<selectedModIndex&&criteriaArr.push({key:selectedKey,pos:selectedModIndex,length:selectedTextLen})),searchbox.sortArray(criteriaArr,"pos");var start=0,criLength=criteriaArr.length;let finalCriteria=[],qryLen=0;for(var i=0;i<criLength;i++){var qry=curText.slice(start,criteriaArr[i].pos).trim();qry&&finalCriteria.push({key:"query"+ ++qryLen,value:qry}),finalCriteria.push({key:criteriaArr[i].key}),start=criteriaArr[i].pos+criteriaArr[i].length,i===criLength-1&&(qry=curText.slice(start+1).trim())&&finalCriteria.push({key:"query"+ ++qryLen,value:qry})}return finalCriteria},searchbox.sortArray=function(array,key){array.sort(function(a,b){return a[key]-b[key]})},searchbox.checkAndScrollContainer=function(inputElement,currentScrollLeft,finalPos){0<inputElement.scrollWidth-inputElement.clientWidth&&(currentScrollLeft=currentScrollLeft||inputElement.selectionStart,finalPos=finalPos||inputElement.selectionEnd,finalPos=searchbox.getCharacterPosition(inputElement,currentScrollLeft,finalPos-currentScrollLeft),currentScrollLeft=_jQueryGS(inputElement).scrollLeft(),currentScrollLeft=zgssearch.gscomponent.isRTLEnabled?0-currentScrollLeft:currentScrollLeft,(finalPos.left<currentScrollLeft||finalPos.left>currentScrollLeft+inputElement.clientWidth)&&(finalPos=zgssearch.gscomponent.isRTLEnabled?0-finalPos.left:finalPos.left,_jQueryGS(inputElement).scrollLeft(finalPos)))},searchbox.clearSearchResults=function(){var search_type,mlist;""===zgssearch.getAllQueryText()&&(0<zgssearch.total_no_of_results||zgssearch.noMoreResults)&&(zgssearch.network.removeEventSource(),search_type=zgssearch.getSearchType(),zgssearch.clearOldSearchData(search_type),mlist=zgssearch.getWidgetServiceList(search_type),0<Object.keys(mlist).length&&0==zgssearch.getCurrentValue(mlist.key,search_type)&&(zgssearch.multiPageEnabled=!0),zgssearch.isDashboardViewOpened()||zgssearch.isCardViewOpened()||zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened?(zgssearch.hideCalloutHolder(),zgssearch.clearAndReturnCurrResultPage()):zgssearch.updateCurrentPage(search_type),zgssearch.disablingSSIcon(),zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)")))}}(zgssearch,window),function(window){var _jQueryGS=window._jQueryGS,document=window.document,zgssearch=function(zgssearch){var gscomponent=(zgssearch=window.zgssearch||{}).gscomponent||{};zgssearch.eventSource,zgssearch.GSConstant=zgssearch.GSConstant||{},zgssearch.xmlhttpReq=zgssearch.xmlhttpReq||"",zgssearch.searchType=zgssearch.searchType||"all",zgssearch.resultHolder=zgssearch.resultHolder||[],zgssearch.fetchResCount=zgssearch.fetchResCount||25,zgssearch.domainOriginObj=zgssearch.domainOriginObj||{},zgssearch.domainOriginInfo=zgssearch.domainOriginInfo||{},zgssearch.isBrowserSupportSSE=!!window.EventSource,zgssearch.isWidgetCallWaitNeeded=zgssearch.isWidgetCallWaitNeeded||!1,zgssearch.isSettingsEnabled=zgssearch.isSettingsEnabled||gscomponent.isSettingsEnabled&&4!==gscomponent.UIType,zgssearch.isDashboardEnabled=zgssearch.isDashboardEnabled||!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&zgssearch.isDashboardEnabled,zgssearch.isEmbedDashboardEnabled=!1,zgssearch.isEmbedCardEnabled=!1,zgssearch.isEmbed=!1,zgssearch.getserviceresultsURL="/zgssearch/v4/getfallbackserviceresults",zgssearch.getcardresultsURL="/zgssearch/v4/getsearchresultsforcard?",zgssearch.getmultiplecardresultsURL="/zgssearch/v4/getsearchresultsformultiplecards?",zgssearch.domainURL=zgssearch.isBrowserSupportSSE?"/zgssearch/v4/getserviceresults":zgssearch.getserviceresultsURL,zgssearch.postCardsURL="/zgssearch/gsupdatecards",zgssearch.getCardsURL="/zgssearch/gscards",zgssearch.GET_DASHBOARDS="/zgssearch/gsdashboards",zgssearch.postUserSettingsDataURL="/zgssearch/gsUpdateSettings",zgssearch.getUserSettingsDataURL="/zgssearch/gsFetchSettings",zgssearch.gsserver=zgssearch.gsserver||gscomponent.hasOwnProperty("getGSServer")&&gscomponent.getGSServer(),zgssearch.contactServer=zgssearch.contactServer||gscomponent.hasOwnProperty("getContactServer")&&gscomponent.getContactServer(),zgssearch.isBulkProximityContactsFetched=zgssearch.isBulkProximityContactsFetched||!1,zgssearch.isAppsInfoFetched=zgssearch.isAppsInfoFetched||!1,zgssearch.autoSuggestApiConsumer="zos_contacts_suggestion",zgssearch.isQueryObjectModel=zgssearch.isQueryObjectModel||!0,zgssearch.isTabModelCSSFileLoaded=zgssearch.isTabModelCSSFileLoaded||!1,zgssearch.queryOrigin=zgssearch.queryOrigin||1,zgssearch.lastSearchedQueryObject=zgssearch.lastSearchedQueryObject||{},zgssearch.mail_module_subset=zgssearch.mail_module_subset||[],zgssearch.isClearRenderedFilters=zgssearch.isClearRenderedFilters||!1,zgssearch.filterFallback=!1,zgssearch.serviceActionDetails={};var GSConstant=zgssearch.getGSConstantObj();return zgssearch.show=function(elem){elem.style.display="block"},zgssearch.hide=function(elem){elem.style.display="none"},zgssearch.focus=function(id){return zgssearch.getTargetElem(id).focus()},zgssearch.getValue=function(id){return zgssearch.getTargetElem(id)?zgssearch.getTargetElem(id).value:""},zgssearch.getBuildDetails=function(){if(zgssearch.hasOwnProperty("GSConstant")){var buildDate=GSConstant.BUILD_DATE;if(void 0!==buildDate)return"&bdate="+buildDate}return""},zgssearch.loadUserPropic=function(id,photoURL,clsName){try{var serviceImgDummy=new Image;serviceImgDummy.src=photoURL,serviceImgDummy.setAttribute("gs",id),serviceImgDummy.className="zgs19_gsDisplayNone";var prefix=document.addEventListener?"":"on";serviceImgDummy[document.addEventListener?"addEventListener":"attachEvent"](prefix+"load",function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(clsName&&(imgEle.className=imgEle.className+" "+clsName),imgEle.setAttribute("src",this.src),imgEle.className=imgEle.className.replace("zgs19_gsFetchImgLoader",""),imgEle.className=imgEle.className.replace("zgs19_gstopFetchLoader","")),zgssearch.removeEle(this)},!0)}catch(ex){zgssearch.throwClientError("Unable to load user profile pic.",ex)}},zgssearch.initBiggerGlobalsearch=function(){var userImg=zgssearch.contactServer+"/file?fs=thumb&nocache="+(new Date).getTime(),searchBox=1===zgssearch.gscomponent.UIType||0===zgssearch.gscomponent.UIType?"zgs19_gsOldUI":"",searchBtn=zgssearch.isNICDomain()?"zgs19_userDetailsNonHam":"",searchBtn="<div id='zgs20_zohosearchWrapper' class='zgs19_gszohosearchWrapper zgs19_gsfl "+searchBox+"'>\n                            <div id='zgs20_gsSearchTopBandHolder' class='zgs19_gsSearchTopBandHolder'>\n                            <div id='zgs20_gsLogoHolder' class='zgs19_gsLogoHolder zgs19_gsServicesPaneWid'>\n                                <a class='zgs19_gsSearchIcon zgs18_searchLogo' href='/searchhome'></a>\n                                <div id ='zgs20_gsMobBandName' class='zgs19_gsMobBandName'></div>\n                            </div>\n                            <div id='zgs20_gsSearchBoxRight' class='zgs19_gsInfoBox'>\n                              <span class='zgs18_gsSettingsIconTop' gs='settingsPanelMenu' style='display: none;'></span>\n                              <span class='zgs18_gsIntegIcon zgs19_gsDisplayNoneImp' gs='openIntegUserPageInNewTab'></span>\n                              <div class='zgs19_gsUserProfile' gs='userDetails'gsa='user_profile'><img src='"+zgssearch.gsspacer+"'  id='zgs20_gsUserProPic'  gs='gsProfilePhoto' class='zgs19_gsFetchImgLoader zgs19_gstopFetchLoader'></div>\n                              <div id='zgs20_gsUserDetails' class='zgs19_userDetails zgs19_gsDisplayNone "+searchBtn+"' gs='userData'></div>\n                              <div id='zgs20_gsHamburger' class='zmHamburger' gs='hamburger' gsa='hamburger'><div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div></div>\n                              <div id='zgs20_gsHamburgerData' class='zgs19_gsHamburgerData zmHApps zgs19_gsDisplayNone' gs='hamburgerData'></div>\n                            </div>\n                    </div>\n                    <div id='zgs20_gsOverlayDialog' class='zgs19_gsOverlayDialog zgs19_gsDisplayNone'></div>\n                    <div id='zgs20_zohosearchLoader' class='zgs19_zohosearchLoader'>\n                            <div class='zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader'><div class='zgs19_gsRequestLoadera'></div><div class='zgs19_gsRequestLoaderb'></div><div class='zgs19_gsRequestLoaderc'></div><div class='zgs19_gsRequestLoaderd'></div></div>\n                    </div>\n                    <div id='zgs20_globalsearch' class='zgs19_globalsearch zgs19_globalsearch_position_new zgs19_gsDisplayNone'>\n                        <div id='zgs20_gsHolder' class='zgs19_gsHolder "+searchBox+"' tabindex='5'>\n                            <div id='zgs20_gsSearchResultLeft' class='zgs19_gsSearchResultLeft zgs19_gsServicesPaneWid zgs19_isPanelHidden' gs='serviceLeftPanel' rkey='refresh'>\n                                <div class='zgs19_gsServicesPaneWid zgs19_gsSkeletonLoading'></div>\n                            </div>\n                            <div id='zgs20_gsSearchBottomHolder' class='zgs19_gsSearchBottomHolder'></div>\n                        </div>\n                    </div>\n                    <div id='zgs20_gsTopbannertip' class='zgs19_gsTopbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone'>\n                    <div id='zgs20_gsTopbannertipicon' class='zgs19_gsTopbannertipicon zgs19_gsfl'></div>\n                    <div id='zgs20_gsTopbannertiptext' class='zgs19_gsTopbannertiptext zgs19_gsOverflow zgs19_gsfl'></div>\n                    </div>\n                    <div id='zgs20_feedback' class='zgs19_gsDisplayNone'></div>",searchBox=gscomponent.getMountDetails().id;document.getElementById(searchBox).innerHTML=searchBtn,gscomponent.setDOMDirection();searchBox=gscomponent.getSearchBox(),searchBtn=document.getElementById("zgs20_gsLogoHolder");searchBtn.parentNode.insertBefore(searchBox,searchBtn.nextSibling);searchBtn=gscomponent.getSearchButton();document.getElementById("zgs20_gsQueryBoxHolder").appendChild(searchBtn),zgssearch.loadUserPropic("zgs20_gsUserProPic",userImg,"zgs19_gsUserImg"),(-1<zgssearch.GSConstant.INSTALLATION.indexOf("Fuji")||zgssearch.isNICDomain())&&(zgssearch.removeEle(document.getElementById("zgs20_gsHamburger")),zgssearch.removeEle(document.getElementById("zgs20_gsHamburgerData"))),document.getElementById("zgs20_gsSearchBottomHolder").appendChild(gscomponent.getResultsArea()),document.getElementById("zgs20_zohosearchLoader").className+=" zgs19_gsDisplayNone",document.getElementById("zgs20_globalsearch").className=document.getElementById("zgs20_globalsearch").className.replace("zgs19_gsDisplayNone",""),zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_zohosearch")},zgssearch.initGlobalsearch=function(){var overlay=gscomponent.getOverlay(),toAppendEle=gscomponent.getMountDetails(),searchIcon=document.createElement("div");searchIcon.tabIndex=5,searchIcon.id=toAppendEle.id,searchIcon.className=toAppendEle.class,searchIcon.setAttribute("gs","globalsearch"),searchIcon.style.zIndex=gscomponent.zindex;var gsOptions=gscomponent.getGSOptions(),oldUIModelCls=1===zgssearch.gscomponent.UIType||0===zgssearch.gscomponent.UIType?"zgs19_gsOldUI":"";searchIcon.innerHTML=overlay+gsOptions+("<div id='zgs20_gsHolder' class='zgs19_gsHolder "+oldUIModelCls+"' tabindex='5'>\n                                    <div id='zgs20_gsSearchTopBandHolder' class='zgs19_gsSearchTopBandHolder'>\n                                        <div id='zgs20_gsSearchBoxRight' class='zgs19_gsSearchBoxRight zgs19_gsBorderBox'>\n                                        </div>\n                                    </div>\n                                    <div id='zgs20_gsSearchResultLeft' class='zgs19_gsSearchResultLeft zgs19_gsServicesPaneWid zgs19_isPanelHidden' gs='serviceLeftPanel' rkey='refresh'>\n                                        <div class='zgs19_gsServicesPaneWid zgs19_gsSkeletonLoading'></div>\n                                    </div>\n                                    <div id='zgs20_gsOverlayDialog' class='zgs19_gsOverlayDialog zgs19_gsDisplayNone'></div>\n                                   </div>");toAppendEle=toAppendEle.mountParentEle;(void 0!==toAppendEle&&""!==toAppendEle?document.getElementById(toAppendEle):document.body).appendChild(searchIcon),gscomponent.setDOMDirection();searchIcon=gscomponent.getSearchIcon();searchIcon&&(searchBox=document.getElementById("zgs20_gsSearchBoxRight")).parentNode.insertBefore(searchIcon,searchBox);var searchBox=gscomponent.getSearchBox();document.getElementById("zgs20_gsSearchBoxRight").appendChild(searchBox),document.getElementById("zgs20_gsHolder").appendChild(gscomponent.getResultsArea()),zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_globalsearch")},zgssearch.renderNewUI=function(){zgssearch.isDashboardEnabled?zgssearch.renderLHSPaneTab():zgssearch.renderLHSPane()},zgssearch.updateUIPostServiceListCall=function(){1===zgssearch.gscomponent.UIType&&(zgssearch.GSConstant.IS_READ_ONLY_MODE&&zgssearch.renderWholeNotification({ty:2,msg:zgssearch.getI18NMsg("gs.search.read_only_mode_message")}),zgssearch.hasOwnProperty("setGSElemSize")&&zgssearch.setGSElemSize())},zgssearch.renderWholeNotification=function(req_class){var bannerelem=req_class.msg,req_iconclass=req_class.ty||2,req_class=zgssearch.getBannerClass()[req_iconclass],req_iconclass=zgssearch.getBannerIconClass()[req_iconclass],bannerelem=_jQueryGS("<div>",{id:"zgs20_gsNotificationBanner",class:"zgs19_gsNotificationBanner"}).append(_jQueryGS("<div>",{class:"zgs19_gsNotificationIcon "+req_iconclass})).append(_jQueryGS("<div>",{class:"zgs19_gsNotificationText zgs19_gsOverflow"}).text(bannerelem));_jQueryGS("#zgs20_zohosearchWrapper").before(bannerelem),bannerelem.attr("style",req_class)},zgssearch.fetchWidgetDetails=function(argParams){zgssearch.isWidgetFetched||(zgssearch.isWidgetFetched=!0,zgssearch.getWidgetDetails(argParams))},zgssearch.disableParentDOMScroll=function(){zgssearch.currDOMScrollAttr=_jQueryGS("body").css("overflow"),document.body.style.overflow="hidden"},zgssearch.enableParentDOMScroll=function(){document.body.style.overflow=zgssearch.currDOMScrollAttr||"auto",zgssearch.currDOMScrollAttr=""},zgssearch.attachZiaEvent=function(){zgssearch.deattachZiaEvent(),zgssearch.searchViewport.addEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,{passive:!0}),zgssearch.searchViewport.addEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.searchViewport.addEventListener("click",zgssearch.clickEvent,!0)},zgssearch.deattachZiaEvent=function(){zgssearch.searchViewport.removeEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,{passive:!0}),zgssearch.searchViewport.removeEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.searchViewport.removeEventListener("click",zgssearch.clickEvent,!0)},zgssearch.toggleOnTheFlyDashboard=function(cardObj){let email="",layout=0;if(cardObj&&(email=cardObj.email,layout=zgssearch.isSupportedDashboardLayout(cardObj.layout)?cardObj.layout:0),zgssearch.isGSOpened)zgssearch.customDashboardView?zgssearch.handleOnTheFlyCloseAction():zgssearch.isDashboardEnabled&&zgssearch.openOnTheFlyDashboardFromProfile(email,layout);else if(0===zgssearch.gscomponent.UIType&&(zgssearch.handleOnTheFlyOpenAction(),_jQueryGS("#zgs20_gsHolder").removeClass("zgs19_gsMinLeftDivision").addClass("zgs19_gsOnTheFlyParent zgs19_gsMaxLeftDivisionOtherTab"),_jQueryGS(".zgs19_gsSearchResultLeft, .zgs19_gsSearchTopBandHolder").addClass("zgs19_gsDisplayNone"),zgssearch.toggleGlobalSearchParent(!0)),zgssearch.isWidgetFetched)zgssearch.openOnTheFlyView(email,layout);else{let paramObj={callback:function(){zgssearch.isDashboardEnabled?zgssearch.openOnTheFlyView(email,layout):zgssearch.handleOnTheFlyCloseAction()}};zgssearch.fetchWidgetDetails(paramObj)}},zgssearch.isSupportedDashboardLayout=function(layout){return layout&&0<layout&&layout<4},zgssearch.getErrorMessageForOnTheFlyDashboard=function(text){let parentElem=_jQueryGS("#zgs20_gsOnTheFlyErrorMsg");0===parentElem.length?_jQueryGS("#zgs20_gsDashboardhome").empty().append(_jQueryGS("<div>",{id:"zgs20_gsOnTheFlyErrorMsg",class:"zgs19_gsdashboard"}).text(text)):parentElem.text(text)},zgssearch.handleOnTheFlyOpenAction=function(){zgssearch.hideCardsPage(),zgssearch.Utils.hideSettingsPage(),zgssearch.handleOpeningOfCardsAndDashboard("dashboard");var dashboardHome=_jQueryGS("#zgs20_gsDashboardhome");dashboardHome.html("").append(zgssearch.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader")),dashboardHome.css("display","block"),zgssearch.isDashboardOpened=!0},zgssearch.toggleGlobalSearchParent=function(isOpenAction){var afterShownCallback=gscomponent.beforeShow;afterShownCallback&&afterShownCallback();afterShownCallback=isOpenAction?"block":"none";_jQueryGS("#zgs20_globalsearch").css("display",afterShownCallback).attr("data-isgsopened",isOpenAction),zgssearch.isGSOpened=isOpenAction,zgssearch.customDashboardView=isOpenAction,zgssearch.hasOwnProperty("handleToggleGSEvent")&&zgssearch.handleToggleGSEvent();afterShownCallback=gscomponent.afterShow;afterShownCallback&&afterShownCallback(),isOpenAction?(zgssearch.disableParentDOMScroll(),zgssearch.attachZiaEvent()):(zgssearch.enableParentDOMScroll(),zgssearch.deattachZiaEvent())},zgssearch.handleOnTheFlyCloseAction=function(){zgssearch.toggleGlobalSearchParent(!1),_jQueryGS("#zgs20_gsHolder").removeClass("zgs19_gsOnTheFlyParent zgs19_gsMaxLeftDivisionOtherTab"),_jQueryGS(".zgs19_gsSearchResultLeft, .zgs19_gsSearchTopBandHolder").removeClass("zgs19_gsDisplayNone"),zgssearch.unHideTab(zgssearch.getPrevStateforTabChanges())},zgssearch.openOnTheFlyView=function(email,layout){if(email&&zgssearch.emailRegexPattern.test(email)){zgssearch.isDefaultDbNeeded=!0,zgssearch.gsdbUtils.userEmail=email.toLowerCase(),zgssearch.gsdbUtils.dashboardLayout=layout||0;let dbView=zgssearch.gsdbUtils.setDashboardViewDetails(zgssearch.dbViewType.autoGenerate);dbView.setAutoGenerateType(zgssearch.onTheFly),zgssearch.loadCardsandDashboardFile(function(){zgssearch.gsdbhome.constructOnTheFlyDashboardPage()})}else zgssearch.getErrorMessageForOnTheFlyDashboard(zgssearch.getI18NMsg("gs.search.calendar.callout.emailError"))},zgssearch.showZiaSearch=function(afterShownCallback,elem){var beforeShownCallback;window.ZSLite&&(window.hasOwnProperty("openZiaAPIHandler")||window.hasOwnProperty("openZSHandler"))?(beforeShownCallback=window.hasOwnProperty("openZiaAPIHandler")?"openZiaAPIHandler":"openZSHandler",window[beforeShownCallback](afterShownCallback),elem&&elem()):(zgssearch.isIntegViewPage&&zgssearch.updateSearchType("",""),zgssearch.attachZiaEvent(),(beforeShownCallback=gscomponent.beforeShow)&&beforeShownCallback(),zgssearch.checkAndRenderServiceList(elem),zgssearch.wmsuiSelectGS(!0),(elem=zgssearch.getTargetElem("zgs20_globalsearch")).style.display="block",elem.setAttribute("data-isgsopened",!0),zgssearch.isGSOpened=!0,zgssearch.focus("zgs20_gsQueryBox"),zgssearch.fetchWidgetDetails(),zgssearch.domainOriginObj=afterShownCallback||{},zgssearch.hasOwnProperty("handleGSSearch")&&zgssearch.handleGSSearch(),zgssearch.hasOwnProperty("handleToggleGSEvent")&&zgssearch.handleToggleGSEvent(),(afterShownCallback=gscomponent.afterShow)&&afterShownCallback(),zgssearch.hasOwnProperty("setSearchProperty")&&zgssearch.setSearchProperty(!0),zgssearch.disableParentDOMScroll())},zgssearch.hideZiaSearch=function(afterHideCallback){var elem=gscomponent.beforeHide;elem&&elem();elem=zgssearch.getTargetElem("zgs20_globalsearch");elem.style.display="none",elem.setAttribute("data-isgsopened",!1),zgssearch.isGSOpened=!1,zgssearch.wmsuiSelectGS(!1),zgssearch.domainOriginObj=afterHideCallback||{},zgssearch.hasOwnProperty("handleToggleGSEvent")&&zgssearch.handleToggleGSEvent();afterHideCallback=gscomponent.afterHide;afterHideCallback&&afterHideCallback(),zgssearch.hasOwnProperty("setSearchProperty")&&zgssearch.setSearchProperty(!1),zgssearch.enableParentDOMScroll(),zgssearch.deattachZiaEvent()},zgssearch.serviceSearch=function(service,query,filterObj){zgssearch.isServiceSearch=!0,zgssearch.isWidgetCallWaitNeeded=!zgssearch.isWidgetFetched,service=zgssearch.hasOwnProperty("gshistory")?zgssearch.gshistory.getProperServiceName(service):service,zgssearch.hasOwnProperty("updateSearchType")&&zgssearch.updateSearchType(service),zgssearch.showZiaSearch({service:service,query:query,filter:filterObj})},zgssearch.helpSearch=function(query,appToSearch,categType){var filterObj={cI:"all_applications",pT:"all_page_types"};void 0!==appToSearch&&""!==appToSearch&&zgssearch.includes(appToSearch,["mail","crm","campaigns","pagesense","forms","contactmanager","sign","motivator","social","salesiq","survey","salesinbox","bugtracker","cliq","writer","showtime","projects","connect","assist","people","creator","analytics","flow","crmplus","one","recruit","subscriptions","books","invoice","expense","inventory","calendar","developer","workerly","accounts","desk","sprints","meeting","sites","show","notebook","backstage","workdrive"])&&(filterObj.cI=appToSearch),void 0!==categType&&""!==categType&&zgssearch.includes(categType,["deskkb","help"])&&(filterObj.pT=categType),zgssearch.serviceSearch("website",query,filterObj)},zgssearch.open=function(){zgssearch.toggleGlobalsearch()},zgssearch.search=function(query){zgssearch.toggleGlobalsearch({query:query})},zgssearch.advancedSearch=function(paramObj){zgssearch.toggleGlobalsearch(paramObj)},zgssearch.toggleGlobalsearch=function(paramObj){1!==gscomponent.UIType&&(gscomponent.gsCloseIconCallback(),zgssearch.isGSOpened?4!==gscomponent.UIType&&(zgssearch.isBuildChanged||zgssearch.hideZiaSearch(paramObj),zgssearch.isDashboardViewOpened()&&zgssearch.gscardinDb.clearIntervalForAutoRefresh()):(zgssearch.isBuildChanged||zgssearch.showZiaSearch(paramObj),zgssearch.isDashboardViewOpened()&&zgssearch.gscardinDb.setIntervalForCardsAutoRefresh()))},zgssearch.globalToggleHandling=function(paramObj){zgssearch.isDashboardOpened&&zgssearch.customDashboardView?zgssearch.gsdbhome.discardCustomDbAction(zgssearch.onTheFly):zgssearch.toggleGlobalsearch(paramObj)},zgssearch.wmsuiSelectGS=function(ishow){zgssearch.getTargetElem("wmsglobalsearch")&&(ishow?WMSUI.selectGS&&WMSUI.selectGS():WMSUI.unselectGS&&WMSUI.unselectGS())},zgssearch.addQueryEvent=function(){var gsQueryBox=zgssearch.getTargetElem("zgs20_gsQueryBox");gsQueryBox.onfocus=function(){1===gscomponent.UIType&&(document.getElementById("zgs20_gsQueryBoxHolder").className+=" zgs19_gsQueryBoxHolderActive"),4===gscomponent.UIType&&(document.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className+=" zgs19_gsqryinnerdivActive"),zgssearch.isQueryFocused=!0},gsQueryBox.onblur=function(){1===gscomponent.UIType&&(document.getElementById("zgs20_gsQueryBoxHolder").className=document.getElementById("zgs20_gsQueryBoxHolder").className.replace("zgs19_gsQueryBoxHolderActive","")),4===gscomponent.UIType&&(document.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className=document.getElementsByClassName("zgs19_gsqryinnerdiv")[0].className.replace("zgs19_gsqryinnerdivActive","")),zgssearch.isQueryFocused=!1}},zgssearch.addSearchLoader=function(){zgssearch.getTargetElem("zgs20_gsProgressLoader").innerHTML="<div class='zgs19_gsProgressLoadera'></div>\n                                 <div class='zgs19_gsProgressLoaderb'></div>\n                                 <div class='zgs19_gsProgressLoaderc'></div>\n                                 <div class='zgs19_gsProgressLoaderd'></div>"},zgssearch.initiateSearchComponent=function(){zgssearch.addQueryEvent(),zgssearch.addSearchLoader()},zgssearch.triggerGlobalsearch=function(){zgssearch.isGSCreated||(zgssearch.isGSCreated=!0,zgssearch.initGlobalsearch(),zgssearch.initiateSearchComponent())},zgssearch.triggerBiggerGlobalsearch=function(){zgssearch.isBiggerGSCreated||(zgssearch.isBiggerGSCreated=!0,zgssearch.isGSOpened=!0,zgssearch.initBiggerGlobalsearch(),zgssearch.initiateSearchComponent())},zgssearch.getInitialGSData=function(){var initialdataURL=zgssearch.initialdataURL;zgssearch.uri("GET",initialdataURL,null,null,function(gsConstObj){var responseData;!gsConstObj||(responseData=zgssearch.jsonParse(gsConstObj)).hasOwnProperty("gsConstant")&&(gsConstObj=responseData.gsConstant,zgssearch.setDashboardFlag(gsConstObj),zgssearch.setGSConstantObj(gsConstObj),zgssearch.setOtherGSConstantObj(gsConstObj),"search"==zgssearch.selectedLeftPanelDivision&&zgssearch.obtainServicesLoader("zgs19_gsSkeletonLoading"),zgssearch.renderLandingPage(),responseData.hasOwnProperty("settings")&&(zgssearch.applyUserThemeAndMode(responseData),zgssearch.loadFeatureCarouselComponent(responseData.settings)),zgssearch.GSConstant.nlpSearchEnabled=zgssearch.GSConstant.hasOwnProperty("nlp_enabled"),zgssearch.GSConstant.nlpSearchEnabled&&zgssearch.hasOwnProperty("gsnlpsearch")&&zgssearch.gsnlpsearch.createNLPTemplate(),zgssearch.setDashboardRelatedData(),zgssearch.hasOwnProperty("sendGSOpenedStats")&&zgssearch.sendGSOpenedStats())})},zgssearch.mapAppsData=function(responseData){for(var iamAppsData=zgssearch.jsonParse(responseData),appsLen=iamAppsData.length,m=0;m<appsLen;m++){var appObj=iamAppsData[m];zgssearch.rpUIConfig.appVsUrl[appObj.aN]=[appObj.aURL,appObj.dN],-1===zgssearch.rpUIConfig.iconIncludedApps.indexOf(appObj.aN)&&zgssearch.rpUIConfig.iconIncludedApps.push(appObj.aN)}},zgssearch.getWidgetDetails=function(paramObj){zgssearch.getInitialGSData(),zgssearch.getServicesListInCommon(),zgssearch.getWidgetDetailsInCommon()},zgssearch.getServicesListInCommon=function(){var fullServiceURL=zgssearch.servicesListURL+zgssearch.getExtraServiceSuiteURL();zgssearch.uri("GET",fullServiceURL,null,null,function(pcode){var responseData;pcode&&(responseData=zgssearch.jsonParse(pcode),(pcode=zgssearch.gscomponent.pcode)&&"ZO"===pcode&&zgssearch.gscomponent.zsoid&&"-1"!=zgssearch.gscomponent.zsoid&&responseData.cloud_z1_accounts&&(zgssearch.setCloudAppObjFromServiceList(responseData.cloud_z1_accounts),zgssearch.storeSuitServiceList()),responseData.hasOwnProperty("enabledserviceslist")&&(zgssearch.setAccessibleServiceList(responseData.enabledserviceslist),zgssearch.setEnabledServiceList(responseData.enabledserviceslist)),responseData.hasOwnProperty("allserviceslist")&&zgssearch.setConstAllServList(responseData.allserviceslist),zgssearch.processServListFromServicelistCall(),zgssearch.initAutoSuggestServiceList(),zgssearch.setDashboardFlag(responseData),"search"==zgssearch.selectedLeftPanelDivision&&zgssearch.obtainServicesLoader("zgs19_gsSkeletonLoading"),zgssearch.renderNewUI(),zgssearch.renderServiceList(),zgssearch.dispSetting(),zgssearch.preLoadComponentForServices())})},zgssearch.setDashboardFlag=function(isGSConstantDashboardEnabled){isGSConstantDashboardEnabled=!!isGSConstantDashboardEnabled.hasOwnProperty("dashboard")&&isGSConstantDashboardEnabled.dashboard;zgssearch.isDashboardEnabled=!(gscomponent.hasOwnProperty("pcode")&&"ZO"==gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite||zgssearch.isExtension)&&isGSConstantDashboardEnabled},zgssearch.setDashboardRelatedData=function(){zgssearch.isDashboardEnabled&&(zgssearch.createSaveIconinSearchBox(),zgssearch.cardAutoRefreshTime=zgssearch.GSConstant.cardAutoRefreshTime||18e4,zgssearch.GSConstant.cardsLimitInDB=zgssearch.GSConstant.cardsLimitInDB||30,zgssearch.includes("cards",zgssearch.gsautocomplete.querymodifiers)||zgssearch.gsautocomplete.querymodifiers.splice(2,0,"cards"),zgssearch.includes("dashboard",zgssearch.gsautocomplete.querymodifiers)||zgssearch.gsautocomplete.querymodifiers.splice(3,0,"dashboard"),zgssearch.dashboardEventListeners())},zgssearch.loadFeatureCarouselComponent=function(settingsData){zgssearch.isDashboardEnabled&&!zgssearch.gscomponent.isRTLEnabled&&zgssearch.network.loadSRIJSFile("js/featurecarousel.js",function(){zgssearch.hasOwnProperty("gstourcomponent")&&zgssearch.gstourcomponent.preLoadTourComponent(settingsData),zgssearch.hasOwnProperty("gsfeatureComponent")&&zgssearch.gsfeatureComponent.preLoadFeatureCarouselComponent()})},zgssearch.getWidgetDetailsInCommon=function(){var fullWidgetURL=zgssearch.widgetURL+zgssearch.getServiceListAndWidgetIdsURL()+zgssearch.getBuildDetails();zgssearch.uri("GET",fullWidgetURL,null,null,function(gsConstObj,status,pcode){var widgetObject;gsConstObj&&(pcode.args,(pcode=zgssearch.jsonParse(gsConstObj)).hasOwnProperty("build_details")&&(zgssearch.GSConstant.gsbuildDetails=pcode.build_details),gsConstObj={},pcode.hasOwnProperty("gsConstant")&&(gsConstObj=pcode.gsConstant,zgssearch.setDashboardFlag(gsConstObj),zgssearch.setGSConstantObj(gsConstObj),zgssearch.setOtherGSConstantObj(gsConstObj),gsConstObj&&!_jQueryGS.isEmptyObject(gsConstObj)&&(zgssearch.isAllGSConstantsSet=!0),zgssearch.GSConstant.hasOwnProperty("isCloudIntegIconEnabledInZiaSearch")&&zgssearch.GSConstant.isCloudIntegIconEnabledInZiaSearch&&((widgetObject=_jQueryGS("#zgs20_gsSearchBoxRight").find(".zgs18_gsIntegIcon")).insertBefore(_jQueryGS(".zgs19_gsUserProfile")[0]),widgetObject.removeClass("zgs19_gsDisplayNoneImp"))),pcode.hasOwnProperty("widget")&&(widgetObject=pcode.widget,pcode=zgssearch.gscomponent.pcode,widgetObject.hasOwnProperty("enabledserviceslist")&&(zgssearch.setAccessibleServiceList(widgetObject.enabledserviceslist),zgssearch.setEnabledServiceList(widgetObject.enabledserviceslist)),widgetObject.hasOwnProperty("allserviceslist")&&zgssearch.setConstAllServList(widgetObject.allserviceslist),zgssearch.GSConstant.widgetObject=widgetObject,zgssearch.readyToLoadServiceList(),pcode&&"ZO"===pcode&&zgssearch.gscomponent.zsoid&&"-1"!=zgssearch.gscomponent.zsoid&&(zgssearch.zosCloudUserConfig=[],zgssearch.setCloudAppObj(widgetObject),zgssearch.storeSuitServiceList(),zgssearch.renderServiceList()),zgssearch.hasOwnProperty("handleGSSearch")&&zgssearch.isWidgetCallWaitNeeded&&(zgssearch.isWidgetCallWaitNeeded=!1,zgssearch.handleGSSearch()),zgssearch.addCloudIntegIconToLHSInZ1(!0)))})},zgssearch.filterCloudAppObj=function(appNames){for(var tempList=[],i=0;i<zgssearch.zosCloudUserConfig.length;i++){var appInfo=zgssearch.zosCloudUserConfig[i];zgssearch.isArrayContain(appInfo.app_name,appNames)||tempList.push(appInfo)}return tempList},zgssearch.setCloudAppObjFromServiceList=function(cloudAppInfo){if(cloudAppInfo){for(var tempList=[],cloudApps=zgssearch.getEnabledCloudApps(),i=0;i<cloudApps.length;i++){var app=cloudApps[i];cloudAppInfo.hasOwnProperty(app)&&tempList.push({app_name:app,app_id:zgssearch.gscomponent.zsoid,zaaid:cloudAppInfo[app]})}zgssearch.zosCloudUserConfig=tempList}},zgssearch.setCloudAppObj=function(widgetdata,service_name){if(widgetdata&&widgetdata.servicesinfo){for(var serviceinfo=widgetdata.servicesinfo,apps=zgssearch.GSConstant.accessible_cloud_apps,tempList=[],services=[],i=0;i<apps.length;i++){var connectorIds,app=apps[i];serviceinfo.hasOwnProperty(app)&&(connectorIds=serviceinfo[app].all,tempList.push({app_name:app,app_id:zgssearch.gscomponent.zsoid,zaaid:connectorIds}),services.push(app))}service_name&&services.push(service_name),zgssearch.zosCloudUserConfig=zgssearch.filterCloudAppObj(services).concat(tempList)}},zgssearch.applyUserThemeAndMode=function(settingsData){settingsData=settingsData.settings;zgssearch.GSConstant.isNightModeEnabled=/true/i.test(zgssearch.getLocalStorageValue("isNightModeEnabled")||!1),1!==gscomponent.UIType||zgssearch.isIE?zgssearch.isDashboardEnabled&&(0==zgssearch.gscomponent.UIType?zgssearch.setMode("zsDarkMode"):zgssearch.setMode("zsLightMode")):zgssearch.gstopband.setAppearanceAndAccent(settingsData)},zgssearch.readyToLoadServiceList=function(){zgssearch.hasOwnProperty("initServiceList")&&zgssearch.initServiceList(),zgssearch.hasOwnProperty("initWidgetList")&&zgssearch.initWidgetList(),zgssearch.hasOwnProperty("onSuccessFunction")&&zgssearch.hasOwnProperty("serviceList")&&zgssearch.loadResultsFromHolder()},zgssearch.setGSHomeFilterParams=function(){var filters={sort:"sortrelv",queryOrigin:zgssearch.queryOrigin};return zgssearch.hasOwnProperty("setDefaultFiltersParams")&&zgssearch.setDefaultFiltersParams(filters),"&filters="+encodeURIComponent(JSON.stringify(filters))},zgssearch.loadNewUICSS=function(){zgssearch.isDashboardEnabled&&zgssearch.network.loadSRICSSFile("css/gstabmodel.css",function(){zgssearch.isTabModelCSSFileLoaded=!0})},zgssearch.getAppsInfoDetails=function(){zgssearch.isAppsInfoFetched||(zgssearch.isAppsInfoFetched=!0,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,"action=fetchAppsInfo",null,function(appsinfo,status,xhr){appsinfo&&(xhr.args,appsinfo=zgssearch.jsonParse(appsinfo),gscomponent.isShowAppsData&&appsinfo.hasOwnProperty("appsinfo")?(appsinfo=appsinfo.appsinfo,zgssearch.mapAppsData(appsinfo)):gscomponent.isShowAppsData=!1)}))},zgssearch.setOtherGSConstantObj=function(gsConstObj){gsConstObj.hasOwnProperty("cuo")&&!zgssearch.isWPEleCreated&&(zgssearch.isWPEleCreated=!0,zgssearch.hasOwnProperty("appendMobSupportInWelPage")&&zgssearch.appendMobSupportInWelPage()),zgssearch.isDashboardEnabled&&(zgssearch.isDashboardEnabledEleCreated||(zgssearch.isDashboardEnabledEleCreated=!0,zgssearch.isTabModelCSSFileLoaded||zgssearch.loadNewUICSS(),_jQueryGS("#zgs20_gsHolder").removeClass("zgs19_gsOldUI"),_jQueryGS("#zgs20_zohosearchWrapper").removeClass("zgs19_gsOldUI"),_jQueryGS("#zgs20_gsHideScrollPage").removeClass("zgs19_gsServicesPaneLeft"),_jQueryGS("#zgs20_gsSearchResultMiddle").removeClass("zgs19_gsServicesPaneLeft"),1!=gscomponent.UIType?(zgssearch.isLeftDivisonPanelHidden=!0,zgssearch.isDashboardOpened||_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivision"),0!=gscomponent.UIType&&_jQueryGS("#zgs20_gsHolder").addClass("zgs_defaultTheme"),_jQueryGS("#zgs20_gsSearchBoxRight").removeClass("zgs19_gsServicesPaneLeft"),_jQueryGS(".zgs19_gsZSearchTxt").removeClass("zgs19_gsDisplayNone")):("search"!=zgssearch.selectedLeftPanelDivision?_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivisionOtherTab"):_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivision"),_jQueryGS("#zgs20_gsQueryBoxHolder").addClass("zgs19_searchQryboxOuter"),_jQueryGS(".zgs19_searchbtnOuter").addClass("zgs19_searchNewbtnOuter"),_jQueryGS("#zgs20_gsSearchBtn").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsSearchBtnIcon").removeClass("zgs19_gsDisplayNone"),zgssearch.renderCreateNewButton())),zgssearch.isDashboardRespRecieved&&zgssearch.renderDefaultDbDetailTemplate(),zgssearch.isDashboardViewOpened()&&(zgssearch.gsdbhome.toggleMagicWandIcon(),zgssearch.gsdbhome.getDefaultDashboardTemplates(),zgssearch.gsdbhome.toggleImportIcon())),zgssearch.hasOwnProperty("gsusercontacts")&&(zgssearch.gsusercontacts.fetContactsCount=gsConstObj.hasOwnProperty("getContactsLimit")?gsConstObj.getContactsLimit:50,zgssearch.gsusercontacts.clientSearchLimit=gsConstObj.hasOwnProperty("clientAutoSuggLimit")?gsConstObj.clientAutoSuggLimit:10,zgssearch.gsusercontacts.isEmailOnlyResult=!!gsConstObj.hasOwnProperty("emailOnlyResult")&&gsConstObj.emailOnlyResult)},zgssearch.checkisSSECall=function(searchType){var isSSECall=zgssearch.isBrowserSupportSSE;return isSSECall=GSConstant.ALL!==searchType&&!zgssearch.multiPageEnabled&&!zgssearch.subMultiPageEnabled&&zgssearch.isBrowserSupportSSE?!1:isSSECall},zgssearch.getSearchResultsForNonSSE=function(searchURL){zgssearch.network.xmlHttpReq("GET",searchURL,!1,function(result){result&&result.status&&"error"!=result.status?zgssearch.handleSearchResults("NONSSE",result.response):zgssearch.handleSearchResults("ERROR",result.response)},{})},zgssearch.handleSearchResults=function(key,data){var keyVsData;zgssearch.hasOwnProperty("onSuccessFunction")&&GSConstant.hasOwnProperty("widgetObject")?(zgssearch.loadResultsFromHolder(),zgssearch.onSuccessFunction(key,data)):((keyVsData={})[key]=data,zgssearch.resultHolder.push(keyVsData))},zgssearch.loadResultsFromHolder=function(){var length=zgssearch.resultHolder.length;if(0<length){for(var i=0;i<length;i++){var key,obj=zgssearch.resultHolder[i];for(key in obj)zgssearch.onSuccessFunction(key,obj[key])}zgssearch.resultHolder=[]}},zgssearch.isShortcutDisabled=function(){var isShortcut=!1;return"undefined"!=typeof zossearch&&(isShortcut=zossearch.hasOwnProperty("getGSShortCutKey")?zossearch.getGSShortCutKey():isShortcut),isShortcut=gscomponent.hasOwnProperty("isZiaShortcutDisabled")?gscomponent.isZiaShortcutDisabled:isShortcut},zgssearch.isZohoDomain=function(){var currInstallation=zgssearch.GSConstant.INSTALLATION;return void 0!==currInstallation&&("Zoho"==currInstallation||"Zoho-CN"==currInstallation||"localzoho"==currInstallation)},zgssearch.getLocalStorageValue=function(key){return localStorage.getItem(key)||""},zgssearch.deleteLocalStorageValue=function(key){return localStorage.removeItem(key)},window.removeEventListener("keydown",zgssearch.globalgsKeydown),zgssearch.globalgsKeydown=function(event){var paramObj,keycode=event.keyCode||event.which;(event.ctrlKey||event.metaKey)&&191===keycode?zgssearch.isShortcutDisabled()||(paramObj={service:"ZS",origin:event.metaKey?"ZSSM":"ZSSC"},zgssearch.isOpenViaShortcut=!0,zgssearch.globalToggleHandling(paramObj),1!==gscomponent.UIType&&zgssearch.stopEvent(event)):zgssearch.isGSOpened&&(zgssearch.hasOwnProperty("handleKeydownAction")?zgssearch.handleKeydownAction(event):keycode===zgssearch.specialkeys.ESC?(zgssearch.globalToggleHandling(),zgssearch.stopEvent(event)):keycode===zgssearch.specialkeys.ENTER&&zgssearch.isQueryFocused&&(zgssearch.newHandleUserSearchQuery(zgssearch.getSearchType()),zgssearch.stopEvent(event)))},window.addEventListener("keydown",zgssearch.globalgsKeydown),window.removeEventListener("extlistener",zgssearch.extensionListener),zgssearch.extensionListener=function(detailJSON){var paramObj=detailJSON.detail,detailJSON=zgssearch.jsonParse(paramObj);detailJSON.toggleGlobalsearch&&(paramObj={service:"ZS",origin:"ZSSC",query:detailJSON.query},zgssearch.isGSOpened&&detailJSON.query?zgssearch.showZiaSearch(paramObj):zgssearch.toggleGlobalsearch(paramObj))},window.addEventListener("extlistener",zgssearch.extensionListener),zgssearch.stopEvent=function(event){event&&(event.preventDefault(),event.stopPropagation())},zgssearch.wmsGSIconClickEvent=function(){var chatBarSearchIcon,oldChatBarSearchIcon=document.getElementById("wmsglobalsearch");oldChatBarSearchIcon&&!zgssearch.iswmsglobalsearchIcon&&(zgssearch.iswmsglobalsearchIcon=!0,chatBarSearchIcon=oldChatBarSearchIcon.cloneNode(!0),oldChatBarSearchIcon.parentNode.replaceChild(chatBarSearchIcon,oldChatBarSearchIcon),chatBarSearchIcon.removeEventListener("click",zgssearch.chatBarSearchIconClickEvent,!0),zgssearch.chatBarSearchIconClickEvent=function(){zgssearch.globalToggleHandling()},chatBarSearchIcon.addEventListener("click",zgssearch.chatBarSearchIconClickEvent,!0))},zgssearch.wmsGSIconClickEvent(),zgssearch}(void 0);window.zgssearch=zgssearch}(window),function(zgssearch){zgssearch.zosUserConfig=zgssearch.zosUserConfig||[],zgssearch.zosCloudUserConfig=zgssearch.zosCloudUserConfig||[];var GSConstant=zgssearch.hasOwnProperty("getGSConstantObj")?zgssearch.getGSConstantObj():{},gscomponent=zgssearch.gscomponent||{};zgssearch.zosConfMultiPortalServices=[GSConstant.SUPPORT,GSConstant.BOOKS,GSConstant.INVOICE],zgssearch.calendarSupportedModules=zgssearch.calendarSupportedModules||[4,8,9,13],zgssearch.checkAndAddMandatoryService=function(){if("ZO"===gscomponent.pcode){for(var zosuc=zgssearch.getZOSUserConfig(),restrictedSuiteService=[],addonServices=[GSConstant.WEBSITE,GSConstant.ORGRESOURCES],len=zosuc.length,dupServicesMap={mail:GSConstant.MAILS,teamdrive:GSConstant.WORKDRIVE},i=0;i<len;i++){var appname=zosuc[i].app_name;dupServicesMap.hasOwnProperty(appname)&&(appname=dupServicesMap[appname],zosuc[i].app_name=appname),restrictedSuiteService.push(appname)}for(var addonServicesLen=addonServices.length,i=0;i<addonServicesLen;i++){var addonService=addonServices[i];-1==restrictedSuiteService.indexOf(addonService)&&(restrictedSuiteService.push(addonService),zgssearch.zosUserConfig.push({app_name:addonService}))}if(zgssearch.GSConstant.hasOwnProperty("widgetObject")){var allowedAllServices=zgssearch.GSConstant.widgetObject.allserviceslist;if(0<allowedAllServices.length)for(addonServicesLen=addonServices.length,i=0;i<addonServicesLen;i++){addonService=addonServices[i];-1==allowedAllServices.indexOf(addonService)&&(-1<restrictedSuiteService.indexOf(addonService)&&zgssearch.zosUserConfig.splice(restrictedSuiteService.indexOf(addonService),1),-1<zgssearch.serviceList.indexOf(addonService)&&zgssearch.serviceList.splice(zgssearch.serviceList.indexOf(addonService),1))}}}},zgssearch.setZOSUserConfig=function(){var zosUserObj=gscomponent.hasOwnProperty("getZOUserData")?gscomponent.getZOUserData():{};zosUserObj&&(zgssearch.isZOSConfUpdated=!0,zgssearch.zosUserConfig=zosUserObj),zgssearch.checkAndAddMandatoryService()},zgssearch.updateZOSUserConfig=function(zosUserObj){zosUserObj&&(zgssearch.zosUserConfig=zosUserObj),zgssearch.checkAndAddMandatoryService()},zgssearch.getZOSUserConfig=function(){return zgssearch.zosUserConfig.concat(zgssearch.zosCloudUserConfig)},zgssearch.updateZOSConfig=function(){zgssearch.isZOSConfUpdated||(zgssearch.setZOSUserConfig(),zgssearch.isZOSConfUpdated&&zgssearch.hasOwnProperty("readyToLoadServiceList")&&zgssearch.readyToLoadServiceList())},zgssearch.getExtraServiceSuiteURL=function(){var pcodeURL="";zgssearch.updateZOSConfig();var pcode=gscomponent.pcode;return pcode&&("ZW"===pcode||"ZO"===pcode||"SS"===pcode)&&gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite?(pcodeURL="&pcode=SS&usd=false","ZO"===pcode&&zgssearch.gscomponent.zsoid&&"-1"!=zgssearch.gscomponent.zsoid&&(pcodeURL+="&cloud_app_id="+zgssearch.gscomponent.zsoid)):pcodeURL="&usd=true",pcodeURL},zgssearch.getServiceListAndWidgetIdsURL=function(){var serviceURL=zgssearch.getExtraServiceSuiteURL();zgssearch.updateZOSConfig();var zosuc=zgssearch.getZOSUserConfig(),len=zosuc.length||0;if(0<len){var widgetServicesArr=(GSConstant.STATIC_WIDGET_CONFIGURED||"").split(","),serList="all"===zgssearch.searchType?zgssearch.serviceList:[zgssearch.searchType];zgssearch.preCheckForServices();for(var sindex=zgssearch.GSConstant.widgetObject,services_info=sindex&&sindex.hasOwnProperty("servicesinfo")?sindex.servicesinfo:{},widgetIdsObj={},i=0;i<len;i++){var data=zosuc[i],appname=data.app_name,zaaid=data.zaaid;if(-1<serList.indexOf(appname)&&-1<widgetServicesArr.indexOf(appname)&&zaaid){if(-1<zaaid.indexOf("-")&&(zaaid=zaaid.slice(zaaid.indexOf("-")+1,zaaid.length)),appname===GSConstant.CALENDAR)if("string"!=typeof zaaid||zgssearch.isArrayContain(zaaid,zgssearch.calendarSupportedModules)){if("object"==typeof zaaid)for(i=0;i<zaaid.length;i++)zgssearch.isArrayContain(zaaid[i],zgssearch.calendarSupportedModules)||(zaaid="")}else zaaid="";data=services_info[appname];if(data){var eO=zgssearch.getEnabledAccListFromWidget(appname,data);if(0<eO.length){for(var widgetIds="",all_length=eO.length-1,index=0;index<=all_length;index++)widgetIds+=eO[index],index!=all_length&&(widgetIds+=",");widgetIdsObj[appname]=widgetIds}}else""!==zaaid&&(widgetIdsObj[appname]=zaaid)}}0<Object.keys(widgetIdsObj).length&&(serviceURL+="&widgetIds="+encodeURIComponent(JSON.stringify(widgetIdsObj)));var slistOrig=serList.slice(),sindex=slistOrig.indexOf("all");-1<sindex&&slistOrig.splice(sindex,1),serviceURL+=0<slistOrig.length?"&services_list="+encodeURIComponent(slistOrig.toString()):""}return serviceURL},zgssearch.updateZOSConfig()}(zgssearch,window),function(zgssearch,window){var gsnlpsearch,_jQueryGS=window._jQueryGS,gscomponent=(zgssearch=window.zgssearch||{}).gscomponent||{};zgssearch.GSConstant=zgssearch.GSConstant||{},zgssearch.gsnlpsearch=(gsnlpsearch=void 0,(gsnlpsearch=zgssearch.gsnlpsearch||{}).isNLPTracerOpened=!1,gsnlpsearch.createNLPTemplate=function(){var searchNLPZiaEle;_jQueryGS(".zgs19_gsnlpZia").length<=0&&(searchNLPZiaEle=_jQueryGS("<div>",{class:"zgs19_gsnlpZia"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfl"})).append(_jQueryGS("<div>",{class:"zgs19_gsnlpZiaTxt zgs19_gsfl"}).text("Zia")).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsnlpZiaIcon"}).append(_jQueryGS("<label>",{class:"zgs19_switch",for:"checkbox"}).append(_jQueryGS("<input>",{type:"checkbox",id:"zgs20_gsNLPSearchEnabled",gsa:"nlp_zia"})).append(_jQueryGS("<div>",{class:"zgs19_slider zgs19_round"})))),_jQueryGS(".zgs19_gsqryinnerdiv").append(searchNLPZiaEle).addClass("zgs19_nlpEnabled"),zgssearch.setSearchBoxSegmentSize(),zgssearch.gsnlpsearch.toggleNLPSearchForServices()),1===gscomponent.UIType&&zgssearch.GSConstant.isNLPTracerEnabled&&!zgssearch.gsnlpsearch.isTracerObtained&&(zgssearch.gsnlpsearch.isTracerObtained=!0,zgssearch.network.loadSRIJSFile("js/nlptracer.js"))},gsnlpsearch.toggleNLPSearchForServices=function(){var service;zgssearch.GSConstant.hasOwnProperty("nlp_enabled_apps")&&(service=zgssearch.getSearchType(),zgssearch.isArrayContain(service,zgssearch.GSConstant.nlp_enabled_apps)?(document.getElementById("zgs20_gsNLPSearchEnabled").disabled=!1,_jQueryGS(".zgs19_gsnlpZia").removeClass("zgs19_gsHideEleme")):(document.getElementById("zgs20_gsNLPSearchEnabled").disabled=!0,document.getElementById("zgs20_gsNLPSearchEnabled").checked=!1,_jQueryGS(".zgs19_gsnlpZia").addClass("zgs19_gsHideEleme")))},gsnlpsearch.storeNLPTracerData=function(tracer_data){!tracer_data||(tracer_data="string"==typeof tracer_data?JSON.parse(tracer_data):tracer_data).hasOwnProperty("tracer")&&(zgssearch.gsnlpsearch.nlptracerdata=tracer_data.tracer)},gsnlpsearch.clearNLPTracerData=function(){zgssearch.gsnlpsearch.nlptracerdata="",_jQueryGS(".zgs19_nlpTracerContent").html("")},gsnlpsearch.toggleNLPTracer=function(){var elem;gsnlpsearch.isNLPTracerOpened?gsnlpsearch.hideNLPTracer():(elem=zgssearch.getTargetElem("zgs20_gsnlpTracerData"),_jQueryGS(".zgs19_nlpTracerLink").addClass("zmHactive"),_jQueryGS(elem).css("display","block"),zgssearch.gsnlpsearch.nlptracerdata?(zgssearch.gsnlpsearch.nlptracerdata=zgssearch.gsnlpsearch.nlptracerdata.replaceAll("zgs_search_nonce_value",zgssearch.GSConstant.nonceVal),_jQueryGS(".zgs19_nlpTracerContent").html("").html(zgssearch.gsnlpsearch.nlptracerdata),_jQueryGS(".zgs19_nlpTracerContent").scrollTop(0),_jQueryGS(".zgs19_nlpTracerContent").scrollLeft(0)):_jQueryGS(".zgs19_nlpTracerContent").html("").append(_jQueryGS("<div>",{class:"zgs19_nlpTracerNoContent"}).text("No Tracer Data Availalble")),gsnlpsearch.isNLPTracerOpened=!0)},gsnlpsearch.hideNLPTracer=function(){var elem;gsnlpsearch.isNLPTracerOpened&&(elem=zgssearch.getTargetElem("zgs20_gsnlpTracerData"),_jQueryGS(".zgs19_nlpTracerLink").removeClass("zmHactive"),_jQueryGS(elem).css("display","none"),gsnlpsearch.isNLPTracerOpened=!1)},gsnlpsearch)}(zgssearch,window),zgssearch.ProximityContacts=zgssearch.ProximityContacts||{},zgssearch.ProximityContacts.proximityContacts=[],zgssearch.ProximityContacts.zuidVsEmailId=zgssearch.ProximityContacts.zuidVsEmailId||{},zgssearch.ProximityContacts.autoSuggContactsURL="/zgssearch/api/v1/contactsSuggestions",zgssearch.ProximityContacts.cuz=zgssearch.ProximityContacts.cuz||"",zgssearch.ProximityContacts.cuo=zgssearch.ProximityContacts.cuo||"",zgssearch.ProximityContacts.peoplePhotoURL=zgssearch.ProximityContacts.peoplePhotoURL||"",zgssearch.ProximityContacts.contacts_photo_url=zgssearch.ProximityContacts.contacts_photo_url||"",zgssearch.ProximityContacts.getTopContacts=function(apiConsumer,isEmailOnlyResParam,argparams){isEmailOnlyResParam=isEmailOnlyResParam.hasOwnProperty("addEmailOnlyContacts")?"&add_email_only_contacts="+isEmailOnlyResParam.addEmailOnlyContacts:"";zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts("action=topContacts&api_consumer="+apiConsumer+isEmailOnlyResParam,{argparams:argparams})},zgssearch.ProximityContacts.getQueriedContacts=function(finalQueryParams,isEmailOnlyResParam,argparams){var params="action=getContacts&api_consumer="+finalQueryParams,finalQueryParams="&start="+isEmailOnlyResParam.start+"&limit="+isEmailOnlyResParam.limit+"&query="+isEmailOnlyResParam.query,isEmailOnlyResParam=isEmailOnlyResParam.hasOwnProperty("addEmailOnlyContacts")?"&add_email_only_contacts="+isEmailOnlyResParam.addEmailOnlyContacts:"";zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts(params+finalQueryParams+isEmailOnlyResParam,{argparams:argparams})},zgssearch.ProximityContacts.fetchAutoSuggestProximityContacts=function(totalParams,finalArgParams){zgssearch.uri("GET",zgssearch.ProximityContacts.autoSuggContactsURL+"?"+totalParams,null,finalArgParams,function(response,status,service){var argObj,queryParams,callback,contactsObj;response&&(contactsObj={},queryParams=(argObj=(service&&service.args?service.args:{}).argparams).hasOwnProperty("queryUrl")?argObj.queryUrl:"",callback=argObj.hasOwnProperty("callback")?argObj.callback:"",service=argObj.hasOwnProperty("service")?argObj.service:"",contactsObj=zgssearch.ProximityContacts.processContacts(response),"zia"===service?zgssearch.gsusercontacts.storeExtraValuesForContacts(response,contactsObj,queryParams,argObj):callback&&callback(contactsObj))})},zgssearch.ProximityContacts.processContacts=function(response){zgssearch.ProximityContacts.cuz=response.hasOwnProperty("cuz")?response.cuz:"",zgssearch.ProximityContacts.cuo=response.hasOwnProperty("cuo")?response.cuo:"",zgssearch.ProximityContacts.peoplePhotoURL=response.hasOwnProperty("people_photo_url")?response.people_photo_url:"",zgssearch.ProximityContacts.contacts_photo_url=response.hasOwnProperty("contacts_photo_url")?response.contacts_photo_url:"";var resArr=[],finalUserObj={};if(response.hasOwnProperty("contacts"))for(var lenResArr=(resArr=response.contacts||[]).length,ra=0;ra<lenResArr;ra++){var userObj=resArr[ra]||{},zuid=userObj.cz,contact_zuid=zuid&&-1!=zuid?zuid:"",emailID=userObj.em||"",fullName=userObj.hasOwnProperty("fN")?userObj.fN.trim():"",contact_nick_name=userObj.hasOwnProperty("nN")?userObj.nN.trim():"",userObj={DNAME:contact_nick_name||fullName,NICKNAME:contact_nick_name,FULLNAME:fullName,EMAILID:emailID,ZUID:contact_zuid,UC:lenResArr-ra,PURL:zgssearch.ProximityContacts.constructPhotoUrl(userObj)};zgssearch.ProximityContacts.proximityContacts.push(userObj),(zgssearch.ProximityContacts.zuidVsEmailId[zuid]=emailID)&&!finalUserObj.hasOwnProperty(emailID)&&(finalUserObj[emailID]=userObj)}return finalUserObj},zgssearch.ProximityContacts.constructPhotoUrl=function(peopPhoURL){var cId,erec,photoUrl="";return peopPhoURL.hasOwnProperty("cId")?(cId=peopPhoURL.cId,photoUrl=zgssearch.ProximityContacts.contacts_photo_url+zgssearch.ProximityContacts.cuz+"/contacts/"+cId+"/photo?include=default_photo"):peopPhoURL.hasOwnProperty("ocId")?(erec=peopPhoURL.ocId,photoUrl=zgssearch.ProximityContacts.contacts_photo_url+zgssearch.ProximityContacts.cuo+"/contacts/"+erec+"/photo?include=default_photo"):peopPhoURL.hasOwnProperty("erec")&&(erec=peopPhoURL.erec,peopPhoURL=zgssearch.ProximityContacts.peoplePhotoURL,erec&&peopPhoURL&&(photoUrl=peopPhoURL+erec)),photoUrl},zgssearch.ProximityContacts.jsonParse=function(data){try{return JSON.parse(data)}catch(ex){return zgssearch.throwClientError("Error while parsing data",ex),data}},zgssearch.QUERY_OBJ_NAME="name",zgssearch.QUERY_OBJ_VALUE="value",zgssearch.QUERY_OBJ_TYPE="type",zgssearch.QUERY_OBJ_OPERATOR="operator",zgssearch.QUERY_OBJ_EXPANDED_VALUE="ExpandedValue",zgssearch.QUERY_OBJ_DT_QUERY=0,zgssearch.QUERY_OBJ_DT_MENTION=1,zgssearch.QUERY_OBJ_DT_STRING=2,zgssearch.QUERY_OBJ_DT_DATE_TIME=3,zgssearch.QUERY_OBJ_DT_RELATIVE_DATE=4,zgssearch.QUERY_OBJ_DT_LONG=5,zgssearch.QUERY_OBJ_DT_INT=6,zgssearch.QUERY_OBJ_DT_BOOLEAN=7,zgssearch.QUERY_OBJ_DT_MAILID=8,zgssearch.QUERY_OBJ_DT_DECIMAL=9,zgssearch.QUERY_OBJ_DT_DATE=10,zgssearch.QUERY_OBJ_STRING_CONTAINS=0,zgssearch.QUERY_OBJ_STRING_NOT_CONTAINS=1,zgssearch.QUERY_OBJ_LONG_IS=0,zgssearch.QUERY_OBJ_LONG_IS_NOT=1,zgssearch.QUERY_OBJ_LONG_BETWEEN=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS=0,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_PREV=1,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT=3,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY=0,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK=1,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH=2,zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_YEAR=3,zgssearch.TYPE_TEXT=0,zgssearch.TYPE_NUMBER=1,zgssearch.TYPE_BOOLEAN=2,zgssearch.TYPE_DATETIME=3,zgssearch.TYPE_RELATIVEDATE=4,zgssearch.TYPE_SINGLE_SELECT_PICKLIST=5,zgssearch.TYPE_MULTI_SELECT_PICKLIST=6,zgssearch.TYPE_SINGLE_SELECT_USER=7,zgssearch.TYPE_MULTI_SELECT_USER=8,zgssearch.TYPE_LOOKUP=9,zgssearch.WS="workspaces",zgssearch.SETTINGS_ACTION_NAMES={APPLICATION_TAB:"S_A",GENERAL_TAB:"S_G",SAVEDSEARCHES_TAB:"S_S",CLOSE_TAB:"S_C"},zgssearch.maxSelFiltersCount=10,function(window){var gstopband,_jQueryGS=window._jQueryGS,document=window.document,zgssearch=window.zgssearch||{};zgssearch.userDetailsTemplateCreated=!1,zgssearch.gstopband=(gstopband=void 0,gstopband=zgssearch.gstopband||{},zgssearch.userDisplayName="undefined"!=typeof userDisplayName&&userDisplayName||"",zgssearch.userEmailId="undefined"!=typeof userEmailId&&userEmailId||"",gstopband.createHamburgerTemplate=function(hamburgerText){var list=gstopband.jsonParse(hamburgerText),hamburgerText={allApps:zgssearch.getI18NMsg("gs.search.hamburger.allApps"),workPlaceApps:zgssearch.getI18NMsg("gs.search.hamburger.workPlaceApps"),allAppsSwitch:zgssearch.getI18NMsg("gs.search.hamburger.allAppsSwitch"),workPlaceSwitch:zgssearch.getI18NMsg("gs.search.hamburger.workPlaceSwitch")};window.topApps.init(list,hamburgerText)},gstopband.appendThemeSupportInProfile=function(){_jQueryGS(".zgs19_gsUserDetailsDataNavi").append(_jQueryGS("<div>",{class:"zgs19_gsAppearanceOuterContainer zgs19_gsPPSegment"}).append(_jQueryGS("<div>",{class:"zgs19_gsAppearanceContainer zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow zgs19_gsfl",title:zgssearch.getI18NMsg("gs.search.themesupport.Appearance")}).text(zgssearch.getI18NMsg("gs.search.themesupport.Appearance"))).append(_jQueryGS("<div>",{class:"zgs19_gsmodeboxcontainer"})))),gstopband.appendModeElem(zgssearch.getI18NMsg("gs.search.themesupport.mode.dark"),"DarkMode"),gstopband.appendModeElem(zgssearch.getI18NMsg("gs.search.themesupport.mode.light"),"LightMode"),gstopband.appendModeElem(zgssearch.getI18NMsg("gs.search.themesupport.nightmode"),"NightMode"),_jQueryGS(".zgs19_gsAppearanceOuterContainer").append(_jQueryGS("<div>",{class:"zgs19_gsAccentContainer zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow",title:zgssearch.getI18NMsg("gs.search.themesupport.Accent")}).text(zgssearch.getI18NMsg("gs.search.themesupport.Accent"))).append(_jQueryGS("<div>",{class:"zgs19_gsAccentBoxContainer"})));for(var themes=["Blue","Red","Green","Yellow"],themesDataLength=themes.length,i=0;i<themesDataLength;i++)gstopband.renderThemes(themes[i]);gstopband.setAppearanceAndAccent(zgssearch.GSConstant)},gstopband.appendMobSupportInProfile=function(){var androidIconCls;zgssearch.isZohoDomain()&&(androidIconCls=-1<zgssearch.GSConstant.INSTALLATION.indexOf("Zoho-CN")?"zgs19_gsCNAndroidSupLink":"zgs19_gsAndroidSupLink",_jQueryGS(".zgs19_gsUserDetailsDataNavi").append(_jQueryGS("<div>",{class:"zgs19_gsUDMobSup zgs19_gsPPSegment"}).append(_jQueryGS("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow",title:zgssearch.getI18NMsg("gs.search.themesupport.downloadapp")}).text(zgssearch.getI18NMsg("gs.search.themesupport.downloadapp"))).append(_jQueryGS("<div>",{class:"zgs19_gsUPScannerOuter"}).append(_jQueryGS("<div>",{class:"zgs19_gsUPScanner"}))).append(_jQueryGS("<div>",{class:"zgs19_gsWPSupportInner"}).append(_jQueryGS("<a>",{rel:"noopener noreferrer",class:androidIconCls+" zgs19_gsfl",href:zgssearch.GSConstant.ANDROID_LINK,target:"_blank"})).append(_jQueryGS("<a>",{rel:"noopener noreferrer",class:"zgs19_gsiOSSupLink zgs19_gsfl",href:zgssearch.GSConstant.IOS_LINK,target:"_blank"})))))},gstopband.appendExtensionProfilePage=function(){if(zgssearch.isZohoDomain()){_jQueryGS(".zgs19_gsUserDetailsDataNavi").append(_jQueryGS("<div>",{class:"zgs19_gsPPSegment zgs19_extensionprofilepage"}).append(_jQueryGS("<div>",{class:"zgs19_gsProfileTitles zgs19_gsOverflow",title:zgssearch.getI18NMsg("gs.search.themesupport.downloadextension")}).text(zgssearch.getI18NMsg("gs.search.themesupport.downloadextension"))).append(_jQueryGS("<div>",{class:"zgs19_extensionslinks"})));for(var extensionElements=[{type:"Chrome",href:"https://chrome.google.com/webstore/detail/zia-search-from-zoho/jebapbhanimlfnddnammimbopafiddkd",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/chrome.svg"},{type:"Firefox",href:"https://addons.mozilla.org/en-US/firefox/addon/zia-search-from-zoho/",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/firefox.svg"},{type:"Edge",href:"https://microsoftedge.microsoft.com/addons/detail/zia-search-from-zoho/imkodkffjmeohejablcfikcgcpmddbml",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/edge.svg"},{type:"Safari",href:"https://apps.apple.com/in/app/zia-search-from-zoho/id1595570784",src:"https://www.zohowebstatic.com/sites/zweb/images/othercompanylogos/safari.svg"}],extensionDataLength=extensionElements.length,i=0;i<extensionDataLength;i++)gstopband.renderExtensionElements(extensionElements[i])}},gstopband.createUserDetailsTemplate=function(code){var userImg;zgssearch.userDetailsTemplateCreated||(zgssearch.userDetailsTemplateCreated=!0,userImg=zgssearch.contactServer+"/file?fs=thumb&nocache="+(new Date).getTime(),zgssearch.network.imageRenderer.renderImage(userImg,null,function(userDetailsButton1){var target=userDetailsButton1||userImg,accountElement=zgssearch.isExtension?zgssearch.httpstxt+"://"+GSConstant.searchdomainURL:"",arrow="zgs19_userDetailsArrow",userDetails="zgs19_gsUserDetailsData",userDetailsAccountsPane="zgs19_gsUserDetailsAccountsPane",userDetailsButton="zgs19_userDetailsButton",userDetailsButton1="zgs19_gsUserLogoutButton";code&&1===code&&(arrow="zgs19_userDetailsArrowPopup",userDetails="zgs19_gsUserDetailsDataPopup",userDetailsAccountsPane="zgs19_gsUserDetailsAccountsPanePopup",userDetailsButton="zgs19_userDetailsButtonPopup",userDetailsButton1="zgs19_gsUserLogoutButtonPopup");let helpDeskInfo="",userInfoHtClass="";if(zgssearch.GSConstant.supportMail||zgssearch.GSConstant.helpDeskPhoneNo){let supportMailEle="",helpDeskNo="";zgssearch.GSConstant.supportMail&&(supportMailEle=_jQueryGS("<div>",{class:"zgs19_gsHelpDeskInfo"}).append(_jQueryGS("<span>",{class:"zgs19_gsHelpDeskInfoKey zgs19_gsOverflow"}).text(zgssearch.getI18NMsg("gs.help_desk.email_support"))).append(_jQueryGS("<span>",{class:"zgs19_gsHelpDeskInfoVal zgs19_gsOverflow",mail_id:zgssearch.GSConstant.supportMail}).text(zgssearch.GSConstant.supportMail)).append(_jQueryGS("<span>",{class:"zgs18_gsCopyLink zgs19_gsHelpDeskMailCopyIcon",gs:"copyHelpDeskMail"}))),zgssearch.GSConstant.helpDeskPhoneNo&&(helpDeskNo=_jQueryGS("<div>",{class:"zgs19_gsHelpDeskInfo"}).append(_jQueryGS("<span>",{class:"zgs19_gsHelpDeskInfoKey zgs19_gsOverflow"}).text(zgssearch.I18N.getValue("gs.help_desk",[zgssearch.GSConstant.supportMailDomain]))).append(_jQueryGS("<span>",{class:"zgs19_gsHelpDeskInfoVal zgs19_gsMxWid70PerImp zgs19_gsOverflow"}).text(zgssearch.GSConstant.helpDeskPhoneNo))),helpDeskInfo=_jQueryGS("<div>",{class:"zgs19_gsHelpDeskInfoWrapper"}).append(supportMailEle).append(helpDeskNo),userInfoHtClass="zgs19_gsUserInfoNewHt"}_jQueryGS("#zgs20_gsUserDetails").empty().append(_jQueryGS("<div>",{class:arrow})).append(_jQueryGS("<div>",{class:userDetails}).append(_jQueryGS("<div>",{class:"zgs19_gsUserInfo "+userInfoHtClass}).append(_jQueryGS("<div>",{class:"zgs19_gsUserDetailsDataPhoto"}).append(_jQueryGS("<img>",{src:target,class:"zgs19_gsUserImgProf zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsUserDetailsDatainformation"}).append(_jQueryGS("<div>",{class:"zgs19_gsUserDetailsDataName",title:zgssearch.getI18NMsg(zgssearch.userDisplayName),gs:"userdisplayname"}).text(zgssearch.userDisplayName)).append(_jQueryGS("<div>",{class:"zgs19_gsUserDetailsDataEmail",title:zgssearch.getI18NMsg(zgssearch.userEmailId),gs:"useremailid"}).text(zgssearch.userEmailId)))).append(helpDeskInfo).append(_jQueryGS("<div>",{class:"zgs19_gsUserDetailsDataNavi"}))),1!=code&&(gstopband.appendRTLSwitch(),zgssearch.isDashboardEnabled&&gstopband.addFeaturesets(),zgssearch.isIE||gstopband.appendThemeSupportInProfile(),gstopband.appendMobSupportInProfile(),gstopband.appendExtensionProfilePage());target="_blank";"zgs19_gsUserLogoutButton"===userDetailsButton1&&(target="_self");accountElement=_jQueryGS("<div>",{class:userDetailsAccountsPane}).append(_jQueryGS("<a>",{rel:"noopener noreferrer",gs:"myaccounts",class:userDetailsButton+" zgs19_gsfl",href:"javascript:void(0);",target:"_blank",gstitle:zgssearch.getI18NMsg("gs.search.userdetails.myaccount")}).text(zgssearch.getI18NMsg("gs.search.userdetails.myaccount")).append(_jQueryGS("<span>",{class:"zgs18_gsppicons_popout zgs19_iconforaccount",gs:"myaccounts"}))).append(_jQueryGS("<a>",{class:userDetailsButton1+" zgs19_gsfr",target:target,gs:"signout",href:accountElement+"/logout",gstitle:zgssearch.getI18NMsg("gs.search.userdetails.signout")}).text(zgssearch.getI18NMsg("gs.search.userdetails.signout")));_jQueryGS(".zgs19_gsUserDetailsDataNavi").append(accountElement),gstopband.resizeProfilePage(),gstopband.profileClickEvents()}))},gstopband.appendRTLSwitch=function(){zgssearch.GSConstant.hasOwnProperty("zsdirectioncomponent")&&zgssearch.GSConstant.zsdirectioncomponent&&_jQueryGS(".zgs19_gsUserDetailsDataNavi").append(_jQueryGS("<div>",{class:"zgs19_gsDirectionPPSegment"}).append("RTL").append(_jQueryGS("<label>",{class:"zgs19_switch",for:"checkbox"}).append(_jQueryGS("<input>",{type:"checkbox",id:"zgs20_direction"})).append(_jQueryGS("<div>",{class:"zgs19_slider zgs19_round"}))))},gstopband.getTheme=function(data){return zgssearch.GSConstant.theme=data&&data.hasOwnProperty("theme")?data.theme:zgssearch.getLocalStorageValue("theme")||"zsBlueTheme"},gstopband.getMode=function(data){return zgssearch.GSConstant.mode=data&&data.hasOwnProperty("mode")?data.mode:zgssearch.getLocalStorageValue("mode")||"zsDarkMode"},gstopband.getIsNightModeEnabled=function(nightMode){nightMode=nightMode&&nightMode.hasOwnProperty("isNightModeEnabled")?nightMode.isNightModeEnabled:zgssearch.getLocalStorageValue("isNightModeEnabled")||!1;return nightMode=zgssearch.GSConstant.isNightModeEnabled=/true/i.test(nightMode)},gstopband.setAppearanceAndAccent=function(isNightModeEnabled){var selectTheme=gstopband.getTheme(isNightModeEnabled);zgssearch.setTheme(selectTheme),localStorage.setItem("theme",selectTheme);var selectMode=gstopband.getMode(isNightModeEnabled);zgssearch.setMode(selectMode);isNightModeEnabled=gstopband.getIsNightModeEnabled(isNightModeEnabled);zgssearch.setNightMode(isNightModeEnabled),gstopband.selectAppearanceAndAccent(selectMode=isNightModeEnabled?"zsNightMode":selectMode,selectTheme)},gstopband.selectAppearanceAndAccent=function(selectMode,selectTheme){zgssearch.userDetailsTemplateCreated&&(_jQueryGS("[mode="+selectMode+"]").addClass("zgs19_gsModeSelected"),_jQueryGS('[theme="'+selectTheme+'"]').prop("checked",!0))},gstopband.resizeProfilePage=function(){var actualheight,userDetailsHeight;1===zgssearch.gscomponent.UIType&&(actualheight=_jQueryGS(window).height()-zgssearch.getWMSBarHeight()-_jQueryGS(".zgs19_gsUserProfile").outerHeight()-2*parseInt(_jQueryGS("#zgs20_gsUserDetails").css("borderWidth")),userDetailsHeight=_jQueryGS(".zgs19_gsUserInfo").outerHeight(),_jQueryGS(".zgs19_gsUserDetailsDataNavi").css("max-height",actualheight-userDetailsHeight))},gstopband.getHamburgerData=function(){gstopband.isHamburgerDataLoaded||(gstopband.isHamburgerDataLoaded=!0,gstopband.getAllAppsData())},gstopband.hamburgerMouseEvent=function(){_jQueryGS("div#zgs20_gsHamburger").off().on({mouseenter:function(){gstopband.getHamburgerData()}})},gstopband.triggerHamburger=function(){_jQueryGS("#zgs20_gsHamburgerData").append("<div class='zgs19_gsHamburgerDataLoader'><div class='zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader'><div class='zgs19_gsRequestLoadera'></div><div class='zgs19_gsRequestLoaderb'></div><div class='zgs19_gsRequestLoaderc'></div><div class='zgs19_gsRequestLoaderd'></div></div></div>"),gstopband.hamburgerMouseEvent()},gstopband.toggleHamburger=function(){var elem;gstopband.isAllappsOpened?gstopband.hideHamburger():(elem=gstopband.getTargetElem("zgs20_gsHamburgerData"),_jQueryGS("#zgs20_gsHamburger").addClass("zmHactive"),_jQueryGS("#zgs20_gsHamburgerData").removeClass("zmHApps"),_jQueryGS(elem).show(),gstopband.isAllappsOpened=!0)},gstopband.hideHamburger=function(){var elem;gstopband.isAllappsOpened&&(elem=gstopband.getTargetElem("zgs20_gsHamburgerData"),_jQueryGS("#zgs20_gsHamburger").removeClass("zmHactive"),_jQueryGS(elem).hide(),gstopband.isAllappsOpened=!1)},gstopband.toggleUserDetails=function(){gstopband.isUserDetailsOpened?gstopband.hideUserDetails():(_jQueryGS("#zgs20_gsUserDetails").addClass("zmHactive").show(),gstopband.isUserDetailsOpened=!0,gstopband.resizeProfilePage())},gstopband.hideUserDetails=function(){gstopband.isUserDetailsOpened&&(_jQueryGS("#zgs20_gsUserDetails").removeClass("zmHactive").hide(),gstopband.isUserDetailsOpened=!1)},gstopband.addFeaturesets=function(){_jQueryGS(".zgs19_gsUserDetailsDataNavi").append(_jQueryGS("<div>",{class:"zgs19_featuresets"}).append(_jQueryGS("<div>",{class:"zgs19_gsTourOpt zgs19_gsCurPointer zgs19_gsOverflow",gstour:"tourbus-start"}).append(_jQueryGS("<span>",{class:"zgs18_gsppicons_tour zgs19_touricon"})).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer"}).text(zgssearch.getI18NMsg("t.tak_tour")))).append(_jQueryGS("<div>",{class:"zgs19_gsFeatureOpt zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer"}).text(zgssearch.getI18NMsg("t.new_features")))))},gstopband.handleHamburgerError=function(key,data){var keyVsData={};keyVsData[key]=data,zgssearch.resultHolder.push(keyVsData)},gstopband.getAllAppsData=function(){zgssearch.network.xmlHttpReq("POST","/allapps",!1,function(result){result&&result.status&&"error"!=result.status?gstopband.createHamburgerTemplate(result.response):gstopband.handleHamburgerError("ERROR",result)})},gstopband.getTargetElem=function(id){return document.getElementById(id)},gstopband.jsonParse=function(data){try{return JSON.parse(data)}catch(ex){return zgssearch.throwClientError("Error while parsing data",ex),data}},gstopband.renderExtensionElements=function(extensionElement){_jQueryGS(".zgs19_extensionslinks").append(_jQueryGS("<a>",{class:"zgs19_gs"+extensionElement.type+"Elem zgs19_gsExtensionImage",href:extensionElement.href,target:"_blank"}).append(_jQueryGS("<img>",{src:extensionElement.src})))},gstopband.renderThemes=function(theme){_jQueryGS(".zgs19_gsAccentBoxContainer").append(_jQueryGS("<label>",{class:"zgs19_gsthemecontainer zgs19_gsfl"}).append(_jQueryGS("<input>",{name:"zstheme",theme:"zs"+theme+"Theme",type:"radio"})).append(_jQueryGS("<span>",{class:"zgs18_checkmark zgs19_gsAccentSelected zgs19_cb"+theme})))},gstopband.appendModeElem=function(mode,modeText){var modeTextClass="zgs18_gs"+modeText;_jQueryGS(".zgs19_gsmodeboxcontainer").append(_jQueryGS("<div>",{class:"zgs19_gsModeContainerOuter",mode:"zs"+modeText}).append(_jQueryGS("<div>",{class:modeTextClass+" zgs19_gsModeIcon"})).append(_jQueryGS("<span>",{class:"zgs19_gsmodecontainertext zgs19_gsOverflow"}).text(mode))),zgssearch.obtainLineIconPaths(modeTextClass,"."+modeTextClass)},gstopband.profileClickEvents=function(){_jQueryGS("#zgs20_direction").change(function(){var directionVal=document.getElementById("zgs20_direction").checked?"rtl":"ltr";zgssearch.gscomponent.setDOMDirection(directionVal)}),_jQueryGS(".zgs19_gsModeContainerOuter").off().on("click",function(){var modeName=_jQueryGS(this).attr("mode"),params="",params="zsNightMode"==modeName?(zgssearch.GSConstant.isNightModeEnabled=!0,"action=updatesettingsdata&isNightMode="+zgssearch.GSConstant.isNightModeEnabled):(zgssearch.GSConstant.isNightModeEnabled=!1,zgssearch.setMode(modeName),"action=updatesettingsdata&mode="+modeName);zgssearch.uri(zgssearch.POST,zgssearch.postUserSettingsDataURL,params,"",function(data,status,xhr){}),zgssearch.setNightMode(zgssearch.GSConstant.isNightModeEnabled),_jQueryGS(".zgs19_gsModeSelected").removeClass("zgs19_gsModeSelected"),_jQueryGS(this).addClass("zgs19_gsModeSelected")}),_jQueryGS('input[name^="zstheme"]').change(function(){var themeName=_jQueryGS(this).attr("theme");zgssearch.setTheme(themeName),localStorage.setItem("theme",themeName),zgssearch.uri(zgssearch.POST,zgssearch.postUserSettingsDataURL,"action=updatesettingsdata&theme="+themeName,"",function(data,status,xhr){})}),_jQueryGS(".zgs19_gsTourOpt").off().on("click",function(event){zgssearch.hideAllDropdownList();var target=event.target;"tourbus-start"!==_jQueryGS(target).attr("gstour")&&!zgssearch.getParentNode(target,"tourbus-start","gstour")||(zgssearch.gsfeatureComponent.hideFeatureCarousel(),zgssearch.gstourcomponent.showTourComponent(),zgssearch.stopEvent(event))}),_jQueryGS(".zgs19_gsFeatureOpt").off().on("click",function(event){zgssearch.hideAllDropdownList(),zgssearch.gsfeatureComponent.showFeatureCarousel()})},gstopband),window.zgssearch=zgssearch}(window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.quickActionsConstants=zgssearch.quickActionsConstants||{},zgssearch.quickActionsConstants.dashboard={icon:"zgs18_gsDashboardIcon zgs19_gsDashboardIcon",dispName:"common.d.dashboards",gsAttr:"createDbAction"},zgssearch.quickActionsConstants.cards={icon:"zgs18_CardsIcon zgs19_gsCardsIcon",dispName:"gs.cards.title",gsAttr:"createCardAction"},zgssearch.renderHomePageQuickActions=function(){var homePageId,url,homeState;zgssearch.isShowQuickActionsPage&&(document.getElementById("zgs20_gsQuickActionsSection")?"none"==_jQueryGS("#zgs20_gsQuickActionsPage").css("display")&&zgssearch.showQuickActionsPage():(zgssearch.displayDefaultPage(),_jQueryGS("#zgs20_gsSearchTab").addClass("zgs19_gsTabOptionSelected"),_jQueryGS("#"+(homePageId="zgs20_gsQuickActionsPage")).length?_jQueryGS("#"+homePageId).css("display","block"):(_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:homePageId,class:"zgs19_gsHght100Per zgs19_gsOvfwYAuto"}).append("<div id='zgs20_gsQuickActionsSection' class='zgs19_gsQuickActionsPage zgs19_gsDisplayNone'>")),url=Object.keys(zgssearch.cardTypeConstants),zgssearch.isCardRespRecieved=!1,zgssearch.isDashboardRespRecieved=!1,zgssearch.renderQuickActionsSection(),zgssearch.constructQuickActionSection("cards",zgssearch.getI18NMsg("gs.cards.title")),zgssearch.gscardUtils.getMergedCardMetaData(url,0,100,0,zgssearch.renderQuickActionsCardsSection),zgssearch.constructQuickActionSection("dashboard",zgssearch.getI18NMsg("common.d.dashboards"),""),homeState={sort:0,callback:zgssearch.renderQuickDashboardSection},url="start=0&count="+zgssearch.dashboardCount,zgssearch.gsdbUtils.getDashboardMeta(url,homeState),zgssearch.constructAnnouncementSection()),homeState={id:"search_home",title:"homepage",url:url=window.location.origin+"/searchhome"},1===gscomponent.UIType?history.pushState(homeState,homeState.title,url):zgssearch.currState=homeState))},zgssearch.constructAnnouncementSection=function(){var title=zgssearch.getI18NMsg("gs.announcement.header"),tagDiv=zgssearch.getI18NMsg("gs.announcement.tagline"),announcementDiv=zgssearch.getI18NMsg("gs.search.trynow"),tagDiv=_jQueryGS("<span>",{gstitle:tagDiv,class:"zgs19_gsOverflowWrap zgs19_gsMxWid80Per zgs19_gsLineHgt22Px zgs19_gsTwoLineEllipsis"}).text(tagDiv),announcementDiv=_jQueryGS("<span>",{gstitle:announcementDiv,class:"zgs19_gsTryNow zgs19_gsOverflow zgs19_gsCurPointer",gs:"announcementSearch"}).text(announcementDiv),announcementDiv=_jQueryGS("<div>",{class:"zgs19_gsAnnouncementBanner"}).append(_jQueryGS("<div>",{class:"zgs19_gsBanner"}).append(_jQueryGS("<div>",{class:"zgs19_gsAnnouncementIcon"}).append(_jQueryGS("<div>",{class:"zgs18_gsAnnouncementIcon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsAnnouncementDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsAnnouncementHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow"}).text(title))).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsAnnouncementText zgs19_gsfl"}).append(tagDiv).append(announcementDiv))));_jQueryGS("#zgs20_gsQuickActionsPage").append(announcementDiv)},zgssearch.constructQuickActionSection=function(viewType,title,eachSection){zgssearch.isShowQuickActionsPage=!0,zgssearch.hideWelcomePage();eachSection=_jQueryGS("<div>",{id:"zgs20_gs"+viewType+"QuickActions",class:"zgs19_gsQuickActSection"}).append(_jQueryGS("<div>",{class:"zgs19_gsQuickActSectInr"}).append(_jQueryGS("<span>",{class:"zgs19_gsQuickActHdr"}).text(title)).append(_jQueryGS("<div>",{id:"zgs20_gs"+viewType+"QuickActList",class:"zgs19_gsQuickActCont"})).append(_jQueryGS("<div>",{id:"zgs20_gs"+viewType+"More",class:"zgs19_gsQuickActMore zgs19_gsDisplayNone",gs:viewType+"More",type:eachSection}).text(zgssearch.getI18NMsg("gs.search.sevice_view_all"))));_jQueryGS("#zgs20_gsQuickActionsSection").css("display","flex"),_jQueryGS("#zgs20_gsQuickActionsSection").append(eachSection),zgssearch.getSkeletonLoader("zgs20_gs"+viewType+"QuickActList",viewType)},zgssearch.getSkeletonLoader=function(parId,tag){for(var loaderDiv=_jQueryGS("<div>",{id:"zgs20_gs"+tag+"ViewSkeletonLoader"}),i=0;i<4;i++){var div=zgssearch.Utils.createElement("div","zgs20_gsSkeletonLoader","zgs19_gsHgt40Px zgs19_gsPdng7Px","","","<div class='zgs19_gsLoadSkeletonCircle zgs19_gsfl'></div><div class='zgs19_gsLoadSkeletonLine'></div>");_jQueryGS(loaderDiv).append(div)}_jQueryGS("#"+parId).append(loaderDiv)},zgssearch.hideSkeletonLoader=function(tag){_jQueryGS("#zgs20_gs"+tag+"ViewSkeletonLoader").remove()},zgssearch.setQuickActionSectionWidth=function(){_jQueryGS(".zgs19_gsQuickActSection").css("width",100/3+"%")},zgssearch.removeQuickActionsSection=function(view){_jQueryGS("#zgs20_gs"+view+"QuickActions").remove()},zgssearch.renderQuickActionsElements=function(parentId,viewid,serviceIcon,ssElement,type,gsattr,cardType,subcardtype){var iconHolder=_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl "+serviceIcon}),ssElement=_jQueryGS("<span>",{class:"zgs19_gsSSTitle zgs19_gsOverflow zgs19_gsQuickActionsEle"}).text(ssElement);_jQueryGS("#zgs20_gs"+parentId+"Loader").remove();ssElement=_jQueryGS("<div>",{viewid:viewid,class:"zgs19_gsCardsInfoHome zgs19_gsSSServiceIcon zgs19_gsHgt35Px",type:type,gs:gsattr,cardType:cardType,subcardtype:subcardtype}).append(_jQueryGS("<div>",{class:"zgs19_gsQuickActEachElem"}).append(iconHolder).append(ssElement).append(_jQueryGS("<div>",{class:"zgs19_gsCardActionHolder zgs19_gsCurPointer zgs19_gsVisibleHidden"})));_jQueryGS("#zgs20_gs"+parentId+"QuickActList").append(ssElement),zgssearch.LINE_ICON_MAP.hasOwnProperty(serviceIcon)&&zgssearch.obtainLineIconPaths(serviceIcon,_jQueryGS(iconHolder)[0])},zgssearch.renderQuickActionsSection=function(){zgssearch.constructQuickActionSection("actions",zgssearch.getI18NMsg("gs.search.service_welcome_quickactions")),zgssearch.hideSkeletonLoader("actions"),zgssearch.renderQuickActionsElements("actions","","zgs18_gsPlusIcon",zgssearch.getI18NMsg("gs.cards.create_card"),"","createCardAction",zgssearch.SAVED_CARD),zgssearch.renderQuickActionsElements("actions","","zgs18_gsPlusIcon",zgssearch.getI18NMsg("gs.dashboard.createDashboard"),"","createDbAction"),zgssearch.renderQuickActionsElements("actions","","zgs18_gsPlusIcon",zgssearch.getI18NMsg("gs.cards.create_bookmark_card"),"","createCardAction",zgssearch.BOOKMARK_CARD),zgssearch.renderQuickActionsElements("actions","","zgs18_gsSettingsIconAction",zgssearch.getI18NMsg("gs.menu.settings"),"","settingsPanelMenu")},zgssearch.renderQuickActionsCardsSection=function(cardData,argparams,maxheight){var eachCardLen=cardData.length;zgssearch.hideSkeletonLoader("cards");var cardsContainer=_jQueryGS("#zgs20_gscardsQuickActList");if(maxheight)cardsContainer.append(_jQueryGS("<div>",{class:"zgs19_gsFontSize12Px zgs19_gsMxWid310Px zgs19_gsOverflow"}).text(maxheight)),cardsContainer.addClass("zgs19_gsCenteredColumnFlex");else if(0<eachCardLen){for(var j=0;j<eachCardLen&&j<10;j++){var data=cardData[j],serviceIcon=data.hasOwnProperty("service")?zgssearch.mappedServiceList[data.service].serviceicon:"";!serviceIcon&&data.subcardtype&&zgssearch.gscardUtils.isEmbedBookmarkCard(data.subcardtype)&&(serviceIcon=zgssearch.gscardUtils.getIconForSubType(data.subcardtype));var cardId=data.id||data.cardid,title=data.name||data.cardname;zgssearch.renderQuickActionsElements("cards",cardId,serviceIcon,title,data.cardtype,"cardMenuTitle",data.cardtype,data.subcardtype)}10==j&&j<eachCardLen&&_jQueryGS("#zgs20_gscardsMore").css("display","block");maxheight=_jQueryGS("#zgs20_gscardsQuickActions").height()-_jQueryGS("#zgs20_gscardsQuickActions .zgs19_gsQuickActHdr").outerHeight()-_jQueryGS("#zgs20_gscardsMore").outerHeight()-20;cardsContainer.css("max-height",maxheight+"px")}else cardsContainer.append(zgssearch.renderEmptyQuickActionsSection("cards")),cardsContainer.addClass("zgs19_gsCenteredColumnFlex");zgssearch.setQuickActionSectionWidth()},zgssearch.renderQuickDashboardSection=function(argparams,maxheight){zgssearch.isDashboardRespRecieved=!0;var dashboardContainer=_jQueryGS("#zgs20_gsdashboardQuickActList");if(zgssearch.hideSkeletonLoader("dashboard"),maxheight)dashboardContainer.append(_jQueryGS("<div>",{class:"zgs19_gsFontSize11Px"}).text(maxheight)).addClass("zgs19_gsCenteredColumnFlex");else{var dbData=zgssearch.gsdbUtils.dashboardMeta,dbList=zgssearch.gsdbUtils.listOfDashboards,dbLen=dbList.length;if(0<dbLen){for(var i=0;i<dbLen&&i<10;i++){var dbId=dbList[i],dbName=dbData[dbId].name;zgssearch.renderQuickActionsElements("dashboard",dbId,"zgs18_gsDashboardIcon zgs19_gsDashboardIcon",dbName,"","dbHomeTitle")}10==i&&i<dbLen&&_jQueryGS("#zgs20_gsdashboardMore").css("display","block");maxheight=_jQueryGS("#zgs20_gsdashboardQuickActions").height()-_jQueryGS("#zgs20_gsdashboardQuickActions .zgs19_gsQuickActHdr").outerHeight()-_jQueryGS("#zgs20_gsdashboardMore").outerHeight()-20;dashboardContainer.css("max-height",maxheight+"px")}else 0==dashboardContainer.find(".zgs19_gsZeroDbContainer").length&&dashboardContainer.append(zgssearch.renderEmptyQuickActionsSection("dashboard")),zgssearch.renderDefaultDbDetailTemplate(),dashboardContainer.addClass("zgs19_gsCenteredColumnFlex");zgssearch.setQuickActionSectionWidth()}zgssearch.toggleHomePageBasedOnQuickActResp()},zgssearch.toggleHomePageBasedOnQuickActResp=function(){zgssearch.isCardRespRecieved&&zgssearch.isDashboardRespRecieved&&(zgssearch.isDashboardRespRecieved=!1,zgssearch.isCardRespRecieved=!1,0===_jQueryGS(".zgs19_gsQuickActSection").length&&"search"===zgssearch.selectedLeftPanelDivision&&zgssearch.showWelcomePage())},zgssearch.showQuickActionsPage=function(){zgssearch.isShowQuickActionsPage=!0,_jQueryGS("#zgs20_gsQuickActionsPage").css("display","block")},zgssearch.hideQuickActionsPage=function(){zgssearch.isShowQuickActionsPage=!1,_jQueryGS("#zgs20_gsQuickActionsPage").css("display","none")},zgssearch.renderLandingPage=function(){zgssearch.isDashboardEnabled&&!zgssearch.isMobViewport()?(zgssearch.hideWelcomePage(),zgssearch.renderHomePageQuickActions()):zgssearch.renderWelcomePage(),zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED&&zgssearch.createOverlayButton()},zgssearch.renderWelcomePage=function(){var wtitle,wtips,childElem1,childElem2,childElem3,searchType,searchedQuery;zgssearch.loadWelcomePage||(_jQueryGS("#zgs20_gsWelcomePage").is(":visible")?zgssearch.isWPRNeeded=!0:(zgssearch.loadWelcomePage=!0,wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_pagetips"),_jQueryGS("#zgs20_gsHideScrollPage").exists()&&zgssearch.removeEle(_jQueryGS("#zgs20_gsHideScrollPage")[0]),_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsHideScrollPage",class:"zgs19_gsHideScroll zgs19_gsServicesPaneLeft zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsWelcomePage",class:"zgs19_gsWelcomePage"}).append(_jQueryGS("<div>",{id:"zgs20_gsWelcomeHeaderScroll",class:"zgs19_gsWelcomeHeaderScroll"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeTitleNew zgs19_gsOverflow zgs19_gsBorderBox",id:"zgs20_gsWelcomePageTitle"}).append(_jQueryGS("<span>").text(wtitle))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeTips zgs19_gsOverflow zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{gstitle:wtips}).text(wtips))))))),searchedQuery=_jQueryGS("<div>",{class:"zgs19_gsWelcomeulNew"}),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyapps"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappstips"),childElem3=(zgssearch.gscomponent.hasOwnProperty("suiteServices")&&zgssearch.gscomponent.suiteServices[1]?"#"+zgssearch.gscomponent.suiteServices[1]:"")||zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappsMail"),searchType=zgssearch.getI18NMsg("gs.search.service_common_or"),childElem1=(zgssearch.gscomponent.hasOwnProperty("suiteServices")&&zgssearch.gscomponent.suiteServices[2]?"#"+zgssearch.gscomponent.suiteServices[2]:"")||zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappsCliq"),childElem2=zgssearch.getI18NMsg("gs.search.service_welcome_searchbyappstips")+childElem3+searchType+childElem1,searchType=_jQueryGS("<span>",{gstitle:childElem2}).text(wtips).append(_jQueryGS("<span>",{class:"zgs19_gsWelcomementionNew"}).text(childElem3)).append(searchType).append(_jQueryGS("<span>",{class:"zgs19_gsWelcomementionNew"}).text(childElem1)),childElem1=zgssearch.renderWelcomeChild("zgs18_gsWelcomeHash",wtitle,searchType),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontact"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontacttips"),childElem3=zgssearch.getI18NMsg("gs.search.service_welcome_searchbycontactJohn"),searchType=_jQueryGS("<div>",{gstitle:childElem2=wtips+childElem3}).text(wtips).append(_jQueryGS("<div>",{class:"zgs19_gsFitContent zgs19_gsWelcomementionNew"}).text(childElem3)),childElem2=zgssearch.renderWelcomeChild("zgs18_gsWelcomeAT",wtitle,searchType),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_filter"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_filtertips"),searchType=_jQueryGS("<span>",{gstitle:wtips}).text(wtips),childElem3=zgssearch.renderWelcomeChild("zgs18_gsWelcomeFilter",wtitle,searchType),wtitle=zgssearch.getI18NMsg("gs.search.service_welcome_quickactions"),wtips=zgssearch.getI18NMsg("gs.search.service_welcome_quickactionstip"),searchType=_jQueryGS("<span>",{gstitle:wtips}).text(wtips),searchType=zgssearch.renderWelcomeChild("zgs18_gsWelcomeQuickActions",wtitle,searchType),searchedQuery.append(_jQueryGS("<div>",{class:"zgs19_gsDispInlblk"}).append(childElem1).append(childElem2)).append(_jQueryGS("<div>",{class:"zgs19_gsDispInlblk"}).append(childElem3).append(searchType)),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeFooter"}).append(searchedQuery)),_jQueryGS(".zgs19_gsWPSupportOuter").remove(),zgssearch.appendMobSupportInWelPage(),_jQueryGS("#zgs20_gsHomeIcon").hide(),searchType=zgssearch.getSearchType(),searchedQuery=zgssearch.searchedQuery||"",GSConstant.ALL==searchType&&""==searchedQuery&&(zgssearch.showWelcomePage(),zgssearch.displayDefaultPage(!1)))),zgssearch.isEmbedDashboardEnabled||zgssearch.appendGoToInWelPage()},zgssearch.renderWelcomeChild=function(icon,title,tipdiv){return _jQueryGS("<div>",{class:"zgs19_gsWelcomeli zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich1 zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomeIconHol zgs19_gsfl"}).append(_jQueryGS("<div>",{class:icon}))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomechnameNew zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:title}).text(title)))).append(_jQueryGS("<div>",{class:"zgs19_gsWelcomelich2New zgs19_gsfl zgs19_gsOverflowWrap"}).append(tipdiv)))},zgssearch.showWelcomePage=function(){zgssearch.hideHomeIcon(),_jQueryGS("#zgs20_gsHideScrollPage").css("display","block")},zgssearch.hideWelcomePage=function(){_jQueryGS("#zgs20_gsHideScrollPage").css("display","none")},zgssearch.showHomeIcon=function(){zgssearch.hideHomeIcon();var searchType=zgssearch.getSearchType();GSConstant.ALL!=searchType||0<zgssearch.total_no_of_results||zgssearch.noMoreResults||_jQueryGS("#zgs20_gsHomeIcon").css("display","block")},zgssearch.hideHomeIcon=function(){_jQueryGS("#zgs20_gsHomeIcon").css("display","none")},zgssearch.renderCreateNewButton=function(){zgssearch.isCreateNewBtnCreated||(zgssearch.isCreateNewBtnCreated=!0,_jQueryGS("<div>",{id:"zgs20_gsCreateNewBtn",class:"zgs19_gsCreateNewBtn"}).append(_jQueryGS("<span>",{class:"zgs19_gsCreateBtn zgs18_gsQuickAddBtn",gs:"createNewBtn"})).insertBefore(_jQueryGS(".zgs19_gsUserProfile")[0]),zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsQuickAddBtn")&&zgssearch.obtainLineIconPaths("zgs18_gsQuickAddBtn",_jQueryGS(".zgs19_gsCreateBtn")))},zgssearch.showCreateNewPopup=function(){var popUp;0==_jQueryGS(".zgs19_gsCreateNewPopup").length?(popUp=zgssearch.gsnlpsearch.isTracerObtained?"zgs19_gsTracerCreateNewPopup":"",popUp=_jQueryGS("<div>",{class:"zgs19_gsCreateNewPopup "+popUp}).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSection",gs:"createCardAction",cardType:zgssearch.SAVED_CARD}).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecCardsIcon zgs18_CardsIcon",gs:"createCardAction"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionTitle",gs:"createCardAction",cardType:"0",gsa:"create_new_card"}).text(zgssearch.getI18NMsg("gs.cards.create_card"))))).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSection",gs:"createDbAction"}).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecDashboardIcon zgs18_gsDashboardIcon",gs:"createDbAction"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionTitle",gs:"createDbAction",gsa:"create_new_dashboard"}).text(zgssearch.getI18NMsg("gs.dashboard.createDashboard"))))).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSection",gs:"createCardAction",cardType:zgssearch.BOOKMARK_CARD}).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecCardsIcon zgs18_CardsIcon",gs:"createCardAction",cardType:"3",gsa:"create_new_bookmark_card"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionTitle",gs:"createCardAction",cardType:"3"}).text(zgssearch.getI18NMsg("gs.cards.create_bookmark_card"))))),_jQueryGS("#zgs20_gsSearchBoxRight").append(popUp)):_jQueryGS(".zgs19_gsCreateNewPopup").css("display","block"),zgssearch.appendImportDashboardOption(),zgssearch.appendAutoGenerateDbOption()},zgssearch.appendAutoGenerateDbOption=function(){var distanceFromEnd;0<zgssearch.validateDefaultDashbordServices().length&&0==_jQueryGS(".zgs19_gsAutoGenerateDb").length&&(distanceFromEnd=_jQueryGS("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecMagicWandIcon zgs18_gsMagicWandIcon",gs:"autogenerateDb"}),_jQueryGS(".zgs19_gsCreateNewPopup").append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSectElem zgs19_gsAutoGenerateDb"}).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSection",gs:"autogeneratedb"}).append(distanceFromEnd).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionTitle",gs:"autogeneratedb"}).text(zgssearch.getI18NMsg("gs.dashboard.autogenerate"))).append(_jQueryGS("<span>",{class:"zgs18_gsarrowright",gs:"autogeneratedb"})))),zgssearch.defaultDbMouseEvent(),zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsMagicWandIcon")&&zgssearch.obtainLineIconPaths("zgs18_gsMagicWandIcon",distanceFromEnd)),_jQueryGS(".zgs19_gsAutoGenerateDb .zgs19_gsCreateNewSection").removeClass("zgs19_gsSectionSelected"),distanceFromEnd=_jQueryGS("#"+zgssearch.gscomponent.getMountAttr().id).attr("class").includes("zgs19_rtl")?_jQueryGS("#zgs20_gsCreateNewBtn").get(0).getBoundingClientRect().left:window.innerWidth-_jQueryGS("#zgs20_gsCreateNewBtn").get(0).getBoundingClientRect().right,_jQueryGS(".zgs19_gsCreateNewPopup").css("inset-inline-end",distanceFromEnd)},zgssearch.appendImportDashboardOption=function(){var tooltipTitle;GSConstant.isExportDashboardEnabled&&0==_jQueryGS(".zgs19_gsImportDbTopBand").length&&(tooltipTitle=zgssearch.getI18NMsg("gs.dashboard.import_xml"),_jQueryGS(".zgs19_gsCreateNewPopup").append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSectElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCreateNewSection zgs19_gsImportDbTopBand",gs:"importDbAction",title:tooltipTitle}).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionIcon zgs19_gsNewSecImportDbIcon zgs18_gsImportIcon",gs:"importDbAction",title:tooltipTitle})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSectionTitle",gs:"importDbAction",gsa:"import_dashboard",title:tooltipTitle}).text(zgssearch.getI18NMsg("gs.dashboard.import"))))))},zgssearch.hideCreateNewPopUp=function(){_jQueryGS(".zgs19_gsCreateNewPopup").css("display","none"),_jQueryGS(".zgs19_gsAutoGenerateDb > #zgs20_gsAutoGenerateDbList").css("display","none")},zgssearch.renderEmptyQuickActionsSection=function(viewType){var noDataContainer=_jQueryGS("<div>",{class:"zgs19_gsZeroDbContainer zgs19_gsCenteredColumnFlex"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsnoDashboardText"}).text(zgssearch.getEmptyMessage(viewType)));return noDataContainer.append(zgssearch.createManuallyButton(viewType)),noDataContainer},zgssearch.getPageViewIcon=function(viewType){return _jQueryGS("<div>",{class:"zgs19_gsDashboardCreateIcon zgs19_gsThemeColor "+zgssearch.quickActionsConstants[viewType].icon})},zgssearch.getEmptyMessage=function(dispMsg){dispMsg=zgssearch.getI18NMsg(zgssearch.quickActionsConstants[dispMsg].dispName);return zgssearch.I18N.getValue("gs.search.service_welcome_emptymsg",[dispMsg])},zgssearch.createManuallyButton=function(viewType){var gsAttr=zgssearch.quickActionsConstants[viewType].gsAttr,createManually=_jQueryGS("<div>",{class:"zgs19_gsCreateNewElem",gs:gsAttr}).append(_jQueryGS("<span>",{class:"zgs19_gsCreateNew zgs19_gsfl",gs:gsAttr}).text("+ "+zgssearch.getI18NMsg("gs.cards.create")));return"dashboard"==viewType&&1!==zgssearch.gscomponent.UIType&&createManually.append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsEditDbArrow",gs:gsAttr})),createManually},zgssearch.renderDefaultDbDetailTemplate=function(){if(0==zgssearch.gsdbUtils.listOfDashboards&&GSConstant.hasOwnProperty("customDefaultDashboard")&&0==_jQueryGS("#zgs20_gsDbDetailTemplate").length){var defaultDbList=zgssearch.validateDefaultDashbordServices(),totalDefaultDb=defaultDbList.length;if(0<totalDefaultDb){_jQueryGS("#zgs20_gsdashboardQuickActList").append(_jQueryGS("<div>",{id:"zgs20_gsDbDetailTemplate",class:"zgs19_gsDbDetailTemplate"}).append(_jQueryGS("<div>",{class:"zgs19_gsDefaultDbHdr"}).text(zgssearch.getI18NMsg("gs.dashboard.autogenerate"))).append(_jQueryGS("<div>",{class:"zgs19_gsDefaultDbContainer"}).append(_jQueryGS("<div>",{class:"zgs19_gsDefaultDbList"}))));for(var bgColor=["zgs19_gsD5E6FFCol","zgs19_gsD8D8FFCol","zgs19_gsFFF2CECol","zgs19_gsFBCEFFCol"],i=0,j=0;i<totalDefaultDb;i++){var listContent=defaultDbList[i],type=listContent.type,autodbicon="zgs18_gsAutoDb"+type,infoIconHolder=_jQueryGS("<div>",{class:"zgs19_gsdefaultDbInfo zgs18_gsInformationIcon zgs19_gsDisplayNone",gstitle:listContent?.description,visibility:"hidden"}),dbIconHolder=_jQueryGS("<div>",{class:"zgs19_gsdefaultDbIcon "+autodbicon+" "+bgColor[j],gstitle:listContent?.description}),listContent=_jQueryGS("<div>",{class:"zgs19_gsEachDefaultDbCont",gs:"zeroDashBoardAction",type:type,gstitle:listContent?.description}).append(dbIconHolder).append(_jQueryGS("<div>",{class:"zgs19_gsdefaultDbText zgs19_gsOverflow ",gstitle:listContent?.description}).text(listContent.name)).append(infoIconHolder);j<bgColor.length?j++:j=0,zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsInformationIcon")&&zgssearch.obtainLineIconPaths("zgs18_gsInformationIcon",infoIconHolder,!1,"",!0),zgssearch.LINE_ICON_MAP.hasOwnProperty(autodbicon)&&zgssearch.obtainLineIconPaths(autodbicon,dbIconHolder,!1,"",!0),_jQueryGS(".zgs19_gsDefaultDbList").append(listContent)}}}zgssearch.defaultDbMouseEvent()},zgssearch.defaultDbMouseEvent=function(){_jQueryGS(".zgs19_gsEachDefaultDbCont").off().on({mouseenter:function(){_jQueryGS(this).find(".zgs19_gsdefaultDbInfo").css("display","block")},mouseleave:function(){_jQueryGS(this).find(".zgs19_gsdefaultDbInfo").css("display","none")}}),_jQueryGS(".zgs19_gsdefaultdbCont").off().on({mouseenter:function(){_jQueryGS(this).find(".zgs19_gsdefaultDbInfo").css("display","block")},mouseleave:function(){_jQueryGS(this).find(".zgs19_gsdefaultDbInfo").css("display","none")}}),_jQueryGS(".zgs19_gsAutoGenerateDb").off().on({mouseenter:function(){zgssearch.showDefaultDbHomepagePopup(_jQueryGS(this))},mouseleave:function(event){1!==_jQueryGS(event.target).closest("#zgs20_gsAutoGenerateDbList").length&&(_jQueryGS("#zgs20_gsAutoGenerateDbList").css("display","none"),_jQueryGS(this).find(".zgs19_gsCreateNewSection").removeClass("zgs19_gsSectionSelected"))}})},zgssearch.showDefaultDbHomepagePopup=function(tarElem){tarElem.find(".zgs19_gsCreateNewSection").addClass("zgs19_gsSectionSelected"),0==_jQueryGS(".zgs19_gsAutoGenerateDb > #zgs20_gsAutoGenerateDbList").length?zgssearch.renderDefaultDbPlainTemplate(_jQueryGS(".zgs19_gsAutoGenerateDb")):_jQueryGS(".zgs19_gsAutoGenerateDb > #zgs20_gsAutoGenerateDbList").css("display","block")},zgssearch.renderDefaultDbPlainTemplate=function(parentContainer){var defaultDbList=zgssearch.validateDefaultDashbordServices(),totalDefaultDb=defaultDbList.length;if(0<totalDefaultDb)for(var popupContainer=_jQueryGS("<div>",{id:"zgs20_gsAutoGenerateDbList",class:"zgs19_gsAutoGenerateDbList"}),i=0;i<totalDefaultDb;i++){var dbInfo=defaultDbList[i],isTopBandAutoGeneratePopup="zgs20_gsAutoGenerateDbPopup"!==parentContainer.attr("id"),descAttrLabel=isTopBandAutoGeneratePopup?"title":"gstitle",iconHolder=_jQueryGS("<div>",{class:"zgs19_gsdefaultDbInfo zgs18_gsInformationIcon zgs19_gsDisplayNone"});iconHolder.attr(descAttrLabel,dbInfo?.description);var dbParentElem=_jQueryGS("<div>",{class:"zgs19_gsdefaultdbCont",gs:"zeroDashBoardAction",type:dbInfo.type}),attr=_jQueryGS("<div>",{class:"zgs19_gsdefaultDbText zgs19_gsOverflow zgs19_gsfl"}).text(dbInfo.name);dbParentElem.attr(descAttrLabel,dbInfo?.description),attr.attr(descAttrLabel,dbInfo?.description),popupContainer.append(dbParentElem.append(attr).append(iconHolder)),zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsInformationIcon")&&(attr={},isTopBandAutoGeneratePopup&&(attr[descAttrLabel]=dbInfo?.description),zgssearch.obtainLineIconPaths("zgs18_gsInformationIcon",iconHolder,!1,attr,!0))}parentContainer.append(popupContainer),zgssearch.defaultDbMouseEvent()},zgssearch.getCurrentDashboardType=function(){return _jQueryGS(".zgs19_gsDBCardsContent").attr("dashboardtype")},zgssearch.validateDefaultDashbordServices=function(){for(var defaultDb=[],accessibleServices=zgssearch.getConstAllServList(),configuredb=GSConstant.hasOwnProperty("customDefaultDashboard")?GSConstant.customDefaultDashboard:"",totalDb=configuredb.length,i=0;i<totalDb;i++){for(var dbInfo=configuredb[i],dbServicelist=dbInfo.services,totalServices=dbServicelist.length,services=[],j=0;j<totalServices;j++)zgssearch.isArrayContain(dbServicelist[j],accessibleServices)&&services.push(dbServicelist[i]);0<services.length&&defaultDb.push(dbInfo)}return defaultDb}}(zgssearch,window),zgssearch.Utils=zgssearch.hasOwnProperty("Utils")?zgssearch.Utils:{},zgssearch.Utils.RESULTS_WIDTH={},zgssearch.Utils.SERVICE_MOD_RESULTS_INFO={},zgssearch.Utils.trim=function(value){return null!=value?value.replace(/^\s+|\s+$/g,""):value},zgssearch.Utils.isUndefined=function(value){return void 0===value},zgssearch.Utils.isValidDepartmentInfo=function(value){return!("none"===(value=null!=value?value.trim().toLowerCase():value)||""===value||"-"===value||"na"===value||"nil"===value||"-na-"===value)},zgssearch.Utils.addEvent=function(el,evname,func,useCapture,args){useCapture="boolean"!=typeof useCapture||useCapture;function handlerFn(ev){func.call(this,ev,args)}return el.addEventListener?el.addEventListener(evname,handlerFn,useCapture):el.attachEvent?el.attachEvent("on"+evname,handlerFn):el["on"+evname]=handlerFn,handlerFn},zgssearch.Utils.isEmptyString=function(content){return!(content&&0<content.trim().length)},zgssearch.Utils.isEmpty=function(val){return null==val||""===val},zgssearch.Utils.getEventTarget=function(event){return event?event.target:window.event.srcElement},zgssearch.Utils.indexOf=function(arrayobj,elem){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(arrayobj,elem);for(var i=0;i<arrayobj.length;i++)if(elem===arrayobj[i])return i;return-1},zgssearch.Utils.showMessage=function(textWidth){var banner_msg=textWidth.message,banner_class=textWidth.banner_class,banner_icon_class=textWidth.banner_icon_class,banner_tip_text_elem=textWidth.icon_class||"",banner_tip_elem=zgssearch.integViewPort?zgssearch.gsCloud.par:zgssearch.getTargetElem("zgs20_gsSearchResultsArea"),left=(zgssearch.integViewPort?zgssearch.getTargetElem(zgssearch.gsCloud.par):zgssearch.getTargetElem("zgs20_gsSearchResultsArea")).getBoundingClientRect().width-70,textWidth=zgssearch.getWidthOfText(banner_msg,300)+50,left=(left-textWidth)/2,textWidth=textWidth-30;_jQueryGS("#zgs20_gsbannertip").length||zgssearch.constructBanner(banner_tip_elem);banner_tip_elem=_jQueryGS("#zgs20_gsbannertip");banner_tip_elem.find("#zgs20_gsbannertipicon").attr("style",banner_icon_class),banner_tip_elem.find("#zgs20_gsbannertipicon").addClass(banner_tip_text_elem);banner_tip_text_elem=_jQueryGS("#zgs20_gsbannertiptext");banner_tip_text_elem.css("maxWidth","470px"),banner_tip_text_elem.text(banner_msg),banner_tip_text_elem.hasClass("zgs19_gsfl")?300<textWidth&&banner_tip_text_elem.removeClass("zgs19_gsfl"):textWidth<300&&banner_tip_text_elem.addClass("zgs19_gsfl"),banner_tip_elem.stop(!0).attr("style",banner_class).css({maxWidth:"500px",left:left,opacity:0}),setTimeout(function(){_jQueryGS("#zgs20_gsbannertip").css("display","block"),_jQueryGS("#zgs20_gsbannertip").animate({opacity:1})},200),setTimeout(function(){_jQueryGS("#zgs20_gsbannertip").fadeOut(),_jQueryGS("#zgs20_gsbannertip").hide()},3e3)},zgssearch.Utils.showInfoMsg=function(message){var props={};props.message=message,props.banner_class="background-color: #ededed; border-color: #c7c6c5;",props.banner_icon_class="background-position: -82px -700px;",zgssearch.Utils.showMessage(props)},zgssearch.Utils.showSuccessMsg=function(message){var props={};props.message=message,props.banner_class="background-color: #e6f3fb; border-color: #70b2db;",props.icon_class="zgs18_gsSuccessIcon",zgssearch.Utils.showMessage(props)},zgssearch.Utils.showErrorMsg=function(message){var props={};props.message=message,props.banner_class="background-color: #f6dede; border-color: #ec9789;",props.banner_icon_class="background-position: -57px -700px;",zgssearch.Utils.showMessage(props)},zgssearch.Utils.getUIDisplayTime=function(ampm){var hours=ampm.getHours(),minutes=ampm.getMinutes(),ampm=12<=hours?"PM":"AM";return(hours=(hours%=12)||12)+":"+(minutes=minutes<10?"0"+minutes:minutes)+" "+ampm},zgssearch.Utils.getServiceIcon=function(service){return service&&zgssearch.mappedServiceList.hasOwnProperty(service)?zgssearch.mappedServiceList[service].serviceicon:""},zgssearch.Utils.openSettingsTemplate=function(pageName,tabName){zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage();var closeIconCls=zgssearch.isDashboardEnabled?"zgs19_gsDisplayNone":"",loadericon=zgssearch.getFourDotLoader("zgs20_gsSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsAutoSuggestLoader");return _jQueryGS("<div>",{id:"zgs20_gsSettingsPage",class:"zgs19_gsSettingsPage"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetNavHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetHPage"}).append(_jQueryGS("<div>",{class:"zgs19_gsSetHTitle"}).text(pageName))).append(_jQueryGS("<div>",{class:"zgs19_gsSetClose "+closeIconCls,gs:"renderPrefActions",datatype:"S_C",tabName:tabName}).append(_jQueryGS("<span>",{class:"zgs18_gsCloseIcon zgs19_gsSetCloseIcon",gs:"renderPrefActions",datatype:"S_C",tabName:tabName})))).append(_jQueryGS("<div>",{class:"zgs19_gsSettingsNavigationContent",id:"zgs20_gsSettingsNavigationContent"}).append(loadericon))},zgssearch.Utils.settingsPageActionsCallable=function(target_element,action){_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","none"),action===zgssearch.SETTINGS_ACTION_NAMES.APPLICATION_TAB?(zgssearch.gssettingsapptab.fillWidgetResponseByServiceList(),zgssearch.gssettingsapptab.constructServiceAccountsPage(),zgssearch.gssettingsapptab.renderTabsView(),zgssearch.gsusersettings.showServiceReorderPage()):action===zgssearch.SETTINGS_ACTION_NAMES.CLOSE_TAB?"Cards"===target_element.attr("tabName")?zgssearch.closeActionForCards():(zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.closeActionForSettings()):action===zgssearch.SETTINGS_ACTION_NAMES.GENERAL_TAB&&(zgssearch.gssettingsgeneraltab.constructGeneralPanelInSettings(),zgssearch.gssettingsgeneraltab.renderConfigurations())},zgssearch.Utils.calculatePositionForSettings=function(){var temptopPos=_jQueryGS("#zgs20_gsResultsHolder").height(),settingsPageLoaderTop=_jQueryGS(".zgs19_gsSetNavHeader").height()+1,navContentHeight=temptopPos-settingsPageLoaderTop,temptopPos="0";zgssearch.isMobViewport()&&(navContentHeight-=temptopPos=_jQueryGS("#zgs20_gsSearchResultLeft").height()),_jQueryGS("#zgs20_gsSettingsNavigationContent").css({"inset-block-start":settingsPageLoaderTop+"px",height:navContentHeight+"px"});settingsPageLoaderTop=navContentHeight/2-settingsPageLoaderTop;_jQueryGS("#zgs20_gsSettingsPageLoader").css({position:"relative","inset-block-start":settingsPageLoaderTop+"px"}),_jQueryGS("#zgs20_gsSettingsPage").css({"inset-block-start":temptopPos+"px"})},zgssearch.Utils.hideSettingsPage=function(){_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),_jQueryGS("#zgs20_gsServiceReOrdering").css("display","none"),_jQueryGS("#zgs20_gsServiceAccountsReOrdering").css("display","none"),_jQueryGS(".zgs19_gsServiceAccOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),zgssearch.isDashboardEnabled?_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").addClass("zgs19_gsLeftPanelTabUnselected"):_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),zgssearch.gsusersettings.isSettingsOpened=!1};var GSConstant=zgssearch.getGSConstantObj()||{};function dashboardHome(){this.get=function(currEvent){var dashboardId=zgssearch.dashboard.Hash.getDBIdFromURL(),defaultdbId="";zgssearch.gsaddcards.removeAddCardPopupAction(!1,currEvent),zgssearch.hideCardsPage(),zgssearch.gsdbhome.isAutoGenerateDashboard(zgssearch.gsdbhome.currentlyOpenedDbId)?zgssearch.gsdbhome.emptyDashboardDetail(zgssearch.defaultDashboardId):zgssearch.gsdbhome.isImportedDashboard(zgssearch.gsdbhome.currentlyOpenedDbId)&&zgssearch.gsdbhome.emptyDashboardDetail(zgssearch.importDashboardId),dashboardId?(zgssearch.gscomponent.isHashingAllowed()&&dashboardId&&-1<zgssearch.gsdbUtils.listOfDashboards.indexOf(dashboardId)&&(defaultdbId=dashboardId),zgssearch.gsdbUtils.dashboardDataObtained&&defaultdbId?(zgssearch.handleOpeningOfCardsAndDashboard("dashboard"),zgssearch.isDashboardOpened=!0,zgssearch.gsdbhome.renderDashboardContent(defaultdbId),zgssearch.gsdbUtils.sendDashboardAnanlytics(zgssearch.DASHBOARD_TYPE,"dashboardPreview",defaultdbId)):zgssearch.clickActionForDashboards()):zgssearch.gsdbUtils.dashboardDataObtained?(zgssearch.handleOpeningOfCardsAndDashboard("dashboard"),zgssearch.isDashboardOpened=!0,zgssearch.gsdbhome.openDashboardListContent(),_jQueryGS("#zgs20_gsDashboardhome").css("display","block")):zgssearch.clickActionForDashboards()}}function dashboardCreate(){this.get=function(currEvent){zgssearch.gsaddcards.removeAddCardPopupAction(!1,currEvent),zgssearch.hideCardsPage(),zgssearch.clickActionForDashboards(zgssearch.dbViewType.createDashboard),zgssearch.isDashboardOpened?zgssearch.gsdbhome.openAddcardAction():zgssearch.clickActionForDashboards(zgssearch.dbViewType.createDashboard)}}function dashboardEdit(){this.get=function(){var defaultdbId,dashboardId=zgssearch.dashboard.Hash.getDBIdFromURL();zgssearch.isIE?(zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.dashboard.no_edit_info_IE")}),zgssearch.gshistory.pushDashboardsState("/dashboards/"+dashboardId,"#"+zgssearch.dashboard.Hash.home)):(defaultdbId="",zgssearch.gscomponent.isHashingAllowed()&&dashboardId&&-1<zgssearch.gsdbUtils.listOfDashboards.indexOf(dashboardId)?zgssearch.gsaddcards.addCardPopup(dashboardId):(defaultdbId=zgssearch.gsdbUtils.pinnedDashboardId||zgssearch.gsdbUtils.listOfDashboards[0],zgssearch.gshistory.pushDashboardsState("/dashboards/"+defaultdbId,"#"+zgssearch.dashboard.Hash.home),zgssearch.dashboard.Hash.render()))}}function cardsHome(){this.get=function(){var cardHashPreview,cardId=zgssearch.cardHash.getcardIdFromURL();cardId?(zgssearch.hideDashboard(),zgssearch.isCardViewOpened()||zgssearch.openCards("preview"),cardHashPreview=zgssearch.gscards.getcardTypeWithId(cardId),"block"==_jQueryGS("#zgs20_gsCreateCardPage").css("display")&&zgssearch.gscreatecards.closeCreateCard(),zgssearch.gscards.getCardsInfo(cardId,cardHashPreview,zgssearch.gscards.loadCardsPreview)):(cardHashPreview=(cardHashPreview=zgssearch.cardHash.pageView)&&"preview"!==cardHashPreview?cardHashPreview:"allCards",zgssearch.isCardViewOpened()?zgssearch.gscards.renderSpecificCardSection(cardHashPreview):zgssearch.openCards("allCards"),zgssearch.cardHash.pageView="")}}function cardsEdit(){this.get=function(){var cardId=zgssearch.cardHash.getcardIdFromURL(),currentType=zgssearch.gscards.getcardTypeWithId(cardId);currentType?zgssearch.gscards.cardsEditbasedUpohashChange(cardId,currentType):zgssearch.gscards.getCardsInfo(cardId,currentType,zgssearch.gscards.cardsEditbasedUpohashChange)}}function cardsCreate(){this.get=function(){var type="links"==zgssearch.cardHash.getCardTypeFromURL()?zgssearch.BOOKMARK_CARD:zgssearch.SAVED_CARD;zgssearch.gscreatecards.createCardPage("createCard",type)}}zgssearch.gsusersettings=zgssearch.gsusersettings||{},zgssearch.gsusersettings.getTempSortableListOfServices=function(){return zgssearch.gsusersettings.tempServicesArrayList},zgssearch.gsusersettings.getSortableListOfServices=function(){return zgssearch.gsusersettings.servicesArrayList},zgssearch.gsusersettings.storeServicesListInfo=function(servicesList){zgssearch.gsusersettings.servicesArrayList=servicesList&&0<servicesList.length?servicesList:[]},zgssearch.gsusersettings.getServicesListInfo=function(){var servicesArrayListLen=zgssearch.gsusersettings.hasOwnProperty("servicesArrayList")?zgssearch.gsusersettings.servicesArrayList.length:0;return zgssearch.gsusersettings.servicesArrayList=0<servicesArrayListLen?zgssearch.gsusersettings.servicesArrayList:zgssearch.getAccessibleServiceList(),zgssearch.gsusersettings.servicesArrayList},zgssearch.gsusersettings.updateReorderActions=function(action){"cancelSerOrder"!==action&&"saveSerOrder"!==action&&(_jQueryGS("#zgs20_gsSearchResultMiddle").hide(),_jQueryGS("#zgs20_gsSearchResultRight").hide()),"saveSerOrder"===action?zgssearch.gsusersettings.isSettingsOpened?zgssearch.gsusersettings.updateServiceOrder(!0):zgssearch.gsusersettings.updateServiceOrderWithoutSettings(!0):"cancelSerOrder"===action&&(zgssearch.gsusersettings.cancelServiceReOrder(),zgssearch.hideServiceOrderOverlay()),zgssearch.selectedLeftPanelDivision="search"},zgssearch.gsusersettings.updateServiceOrderWithoutSettings=function(isAllDataCalled){var tempSortedData=zgssearch.gsusersettings.getTempSortableListOfServices(),params="action=updateservicereorder&appsorder="+JSON.stringify(tempSortedData);zgssearch.uri(zgssearch.POST,zgssearch.postUserSettingsDataURL,params,"",function(data,status,xhr){if("1008"===zgssearch.jsonParse(data).status){zgssearch.gsusersettings.saveServiceReOrder(),zgssearch.setConstAllServList(tempSortedData),zgssearch.hideServiceOrderOverlay();var sortedData=zgssearch.gsusersettings.getSortableListOfServices(),length=sortedData.length;zgssearch.orderedServiceList=[GSConstant.ALL];for(var ol=0;ol<length;ol++){var oservice=sortedData[ol];zgssearch.orderedServiceList.push(oservice)}zgssearch.gsusersettings.storeServicesListInfo(sortedData),zgssearch.renderServiceList(),zgssearch.gsusersettings.SERVICE_MODIFIED=!1,zgssearch.changeBgcolorForLHS(),isAllDataCalled&&zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.settings.order.success")}),_jQueryGS("#zgs20_gsServiceSave").addClass("zgs19_gsHideEleme")}else zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.settings.order.failure")})})},zgssearch.gsusersettings.saveServiceReOrder=function(){zgssearch.gsusersettings.servicesArrayList=zgssearch.gsusersettings.tempServicesArrayList},zgssearch.gsusersettings.cancelServiceReOrder=function(){zgssearch.gsusersettings.tempServicesArrayList=[]},zgssearch.gsusersettings.updateTempSortableListOfServices=function(sortedServicesList){0<sortedServicesList.length&&(zgssearch.gsusersettings.tempServicesArrayList=sortedServicesList)},zgssearch.gsusersettings.changeUrlBeforeSettingsClose=function(){var previousState;1===zgssearch.gscomponent.UIType&&((!(previousState=history.state.previousState)||zgssearch.isMobViewport()||zgssearch.gsusersettings.selectedServiceBeforeSettings==zgssearch.GSConstant.ALL&&"zsearch"==previousState.id)&&(previousState={id:"zsearch",title:zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:null,url:window.location.origin+"/searchhome"}),history.pushState(previousState,previousState.title,previousState.url))},zgssearch.gssettingsapptab=zgssearch.gssettingsapptab||{},zgssearch.gssettingsapptab.assignServiceListBeforeReorder=function(){var servList;null!=zgssearch.gsusersettings.servicesArrayList&&0!=zgssearch.gsusersettings.servicesArrayList.length||(servList=zgssearch.getAllServiceListFromWidget(),zgssearch.gsusersettings.storeServicesListInfo(servList)),null!=zgssearch.gssettingsapptab.enabledServicesList&&0!=zgssearch.gssettingsapptab.enabledServicesList.length||(zgssearch.gssettingsapptab.enabledServicesList=zgssearch.getEnabledServListFromWidget())},zgssearch.gssettingsapptab.displayServicesReOrderingOverlay=function(){var mList,ulRes,sty,serList;zgssearch.isSettingsEnabled&&(zgssearch.selectedLeftPanelDivision="reorder",0<zgssearch.gsusersettings.servicesArrayList.length&&(mList=zgssearch.getMappedServiceList(),ulRes=_jQueryGS("<ul>",{class:"zgs19_gsTabCont zgs19_dragger zgs19_gsTabContService",id:"zgs20_ulservices"}),sty=0===zgssearch.gscomponent.UIType?"max-width:80px;":"",_jQueryGS.each(zgssearch.gsusersettings.servicesArrayList,function(index,value){var enabledClass=zgssearch.isArrayContain(value,zgssearch.gssettingsapptab.enabledServicesList)?"zgs19_serReorderEnblName":"zgs19_serReorderDisbName",liRes=mList[value],liRes=_jQueryGS("<li>",{id:value}).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsServiceEle zgs19_gsDragCursor zgs19_gsDummyHoverServices"}).append(_jQueryGS("<div>",{class:"zgs10_gsSerFullWid"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsServiceDrag zgs19_gsResultsUniIcons"})).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsFS13 "+enabledClass,id:"servicetext",ser:value,style:sty}).text(liRes.displayName))).append(_jQueryGS("<div>",{class:"zgs19_gsSSDummyServiceM2T",gs:"serviceM2T",dt:"services"})));_jQueryGS(ulRes).append(_jQueryGS(liRes))}),serList="",0!=zgssearch.gscomponent.UIType&&2!=zgssearch.gscomponent.UIType||(serList="zgs19_gsPd5Px"),_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),_jQueryGS("#zgs20_gsHolder").append(_jQueryGS("<div>",{class:"zgs19_gsServiceOrderDialog"}).html(_jQueryGS("<div>",{class:"zgs19_gsServiceOrderOverlay zgs19_gsSSDialogPos",gs:"gsSerOrderoverlay"})).append(_jQueryGS("<div>",{id:"zgs20_gsServiceReOrdering",class:"zgs19_gsSerOverlayLayer zgs19_gsServiceOrderOverlayLayer"}).append(_jQueryGS("<div>",{id:"zgs20_gsServicesListOrder",class:"zgs19_gsSetReorderAppsList zgs19_gsZSTabOrg"}).append(ulRes)).append(_jQueryGS("<div>",{class:"zgs19_gsServiceSaveNew zgs19_gsPdLt14Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsFontSize13Px "+serList,gs:"reorderfields",gstitle:zgssearch.getI18NMsg("common.cancel"),datatype:"cancelSerOrder",isparenttip:"true",gsparenttip:"true"}).text(zgssearch.getI18NMsg("common.cancel"))).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsHideEleme zgs19_gsFontSize13Px "+serList,gs:"reorderfields",gstitle:zgssearch.getI18NMsg("gs.settings.application.save"),datatype:"saveSerOrder",isparenttip:"true",gsparenttip:"true"}).text(zgssearch.getI18NMsg("gs.settings.application.save")))))),zgssearch.isLeftDivisonPanelHidden&&_jQueryGS(".zgs19_gsSerOverlayLayer").css("inset-inline-start","50px"),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:_jQueryGS("#zgs20_gsSearchResultsArea").height()+"px"}),zgssearch.isServiceOverlayOpened=!0,zgssearch.gssettingsapptab.attachHoverEventForReorder(),serList=_jQueryGS("#zgs20_gsServListHolder").height(),_jQueryGS("#zgs20_gsServicesListOrder").css({height:serList+"px","border-bottom":"1px solid #ddd;"}),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:serList+_jQueryGS("#zgs20_gsSettingsHolder").outerHeight()+"px"}),zgssearch.gssettingsapptab.sortableOptionsForServices("zgs20_gsServiceReOrdering")))},zgssearch.gssettingsapptab.attachHoverEventForReorder=function(){_jQueryGS(".zgs19_gsDummyHoverServices").off().on({mouseenter:function(){zgssearch.gssettingsapptab.actionForTopMoveIcon(0,this)},mouseleave:function(){zgssearch.gssettingsapptab.actionForTopMoveIcon(1,this)}})},zgssearch.gssettingsapptab.sortableOptionsForServices=function(orderId){var mBody=_jQueryGSUI("#zgs20_gsHolder").find("#"+orderId);mBody.find(".zgs19_dragger").sortable({placeholder:"zgs19_gsMoverHolder",start:function(del){del=_jQueryGS(del.item),del=_jQueryGS(del).find(".zgs19_gsSSDummyServiceM2T").get();_jQueryGS(del).removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer")},update:function(){var tempList=[];mBody.find(".zgs19_dragger").children().each(function(ind,ser){ser=_jQueryGS(ser).attr("id");tempList.push(ser)}),zgssearch.gsusersettings.updateTempSortableListOfServices(tempList),zgssearch.gsusersettings.SERVICE_MODIFIED=!0,_jQueryGS("#zgs20_ulservices>li:first").find(".zgs18_gsMoveToTopIcon").removeClass("zgs18_gsMoveToTopIcon"),_jQueryGS(".zgs19_gssave").removeClass("zgs19_gsHideEleme")}}).disableSelection()},zgssearch.gssettingsapptab.actionForTopMoveIcon=function(type,dummyPin){_jQueryGS(dummyPin).parent("li").attr("id")!==_jQueryGS("#zgs20_gsServicesListOrder>ul>li:first-child").attr("id")&&(dummyPin=_jQueryGS(dummyPin).find(".zgs19_gsSSDummyServiceM2T"),0===type?_jQueryGS(dummyPin).addClass("zgs19_gsfr zgs18_gsMoveToTopIcon zgs19_gsCurPointer").attr("title",zgssearch.I18N.getValue("gs.settings.reorder.top.title")).show():1===type&&_jQueryGS(dummyPin).addClass("zgs19_gsSSDummyServiceM2T").removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer").hide())},zgssearch.gssettingsapptab.removeMoveToTopIcon=function(dummyPin,className){dummyPin=_jQueryGS(dummyPin).closest("."+className);_jQueryGS(dummyPin).addClass(className).removeClass("zgs18_gsMoveToTopIcon zgs19_gsCurPointer")},zgssearch.gssettingsapptab.moveToTopForServices=function(parEle){var moveUp,moveDown=_jQueryGS(parEle).parents("li"),clicked=_jQueryGS(moveDown),previousAll=_jQueryGS(moveDown).prevAll();0<previousAll.length&&(moveUp=_jQueryGS(previousAll[previousAll.length-1]),moveDown=_jQueryGS(previousAll[0]),moveUp=clicked.offset().top-moveUp.offset().top,moveDown=clicked.offset().top+clicked.outerHeight()-(moveDown.offset().top+moveDown.outerHeight()),zgssearch.gssettingsapptab.removeMoveToTopIcon(parEle,"zgs19_gsDummyHoverServices"),clicked.css("position","relative"),previousAll.css("position","relative"),parEle=_jQueryGS(parEle).parents(".zgs19_gsDummyHoverServices"),clicked.animate({top:-moveUp},1e3),previousAll.animate({top:moveDown},1e3,function(){clicked.parent().prepend(clicked),clicked.css({position:"static",top:0}),previousAll.css({position:"static",top:0})}),_jQueryGS(".zgs19_gsTabContService").scrollTop(0),zgssearch.gssettingsapptab.animateWithHighlightForServices(parEle))},zgssearch.gssettingsapptab.animateWithHighlightForServices=function(parEle){_jQueryGSUI(parEle).effect("highlight",{"background-color":"#000000",opacity:"0.5"},2e3,function(){_jQueryGS(parEle).css({opacity:"1.0"}).fadeIn(1e3),zgssearch.gsusersettings.SERVICE_MODIFIED=!0,_jQueryGS(".zgs19_gssave").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsServicesListOrder").scrollTop(0),zgssearch.gssettingsapptab.updateServicesOrderForMoveToTop("zgs20_ulservices")})},zgssearch.gssettingsapptab.updateServicesOrderForMoveToTop=function(orderId){for(var accIdOrder=[],serviceFullObj=_jQueryGS("#zgs20_gsServicesListOrder").find("#"+orderId+">li").get(),len=serviceFullObj.length,i=0;i<len;i++){var id=serviceFullObj[i],id=_jQueryGS(id).attr("id");id&&accIdOrder.push(id)}zgssearch.gsusersettings.updateTempSortableListOfServices(accIdOrder)},zgssearch.gssettingsapptab.animateWithChangeInBG=function(parEle){_jQueryGS(parEle).animate({"background-color":"#000000",opacity:"0.5"},1e3,function(){setTimeout(function(){_jQueryGS(parEle).css({opacity:"1.0"}).fadeIn(2e3)},1e3)})},zgssearch.Utils.obtainPageOpenBtn=function(menuEl,resObj,paramsObj){var service=(paramsObj=paramsObj||{}).service||GSConstant.ORGRESOURCES,txt=paramsObj.text||zgssearch.getI18NMsg("gs.search.result.website.callout.open_preview_page"),connectorprev=paramsObj.btnTxt||zgssearch.getI18NMsg("gs.search.result.website.callout.open_page");paramsObj=paramsObj||{};connectorprev=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<span>").text(txt)).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"connPage",service:service,style:"margin-top: 10px"}).append(_jQueryGS("<div>",{style:"margin-right:5px"}).text(connectorprev)).append(_jQueryGS("<div>",{style:"float:left;max-width:200px;"})));_jQueryGS("#zgs20_gsconnectorprevLoader").remove(),service===GSConstant.DROPBOX||service===GSConstant.GOOGLEDRIVE||service===GSConstant.BOX||service===GSConstant.ONEDRIVE?(_jQueryGS("#zgs20_gsdocsprevLoader").remove(),_jQueryGS("#zgs20_gscoutLoadHolder").remove(),_jQueryGS(menuEl.docspreviewHolder).html(connectorprev),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")):service===GSConstant.SLACK?(zgssearch.hideCalloutLoader(),_jQueryGS(menuEl.slackpreviewHolder).html(connectorprev)):_jQueryGS(menuEl.connectorpreviewHolder).html(connectorprev),zgssearch.setGSTagElems(menuEl),resObj.url||resObj.webUrl||_jQueryGS(menuEl.connPage).css("display","none"),zgssearch.gsconnector.setPreviewBtnPosition(menuEl)},zgssearch.Utils.clearAllModResInfo=function(){zgssearch.Utils.SERVICE_MOD_RESULTS_INFO={}},zgssearch.Utils.clearServiceModResInfo=function(service_name){zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]=[]},zgssearch.Utils.setServiceModInfo=function(service_name,mod_info){var mod_data=zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]||[];mod_data.push(mod_info),zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]=mod_data},zgssearch.Utils.setServiceModResultsWidth=function(service_name){for(var mod_data=zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]||[],mod_length=mod_data.length,mod=0;mod<mod_length;mod++)zgssearch.Utils.setResultsWidth(mod_data[mod]);zgssearch.Utils.SERVICE_MOD_RESULTS_INFO[service_name]=[]},zgssearch.Utils.setResultsWidthInfo=function(service_name,account_id,service_info){null!=account_id?(zgssearch.Utils.RESULTS_WIDTH[service_name]={},zgssearch.Utils.RESULTS_WIDTH[service_name][account_id]=service_info):zgssearch.Utils.RESULTS_WIDTH[service_name]=service_info},zgssearch.Utils.getResultsWidthInfo=function(service_name,account_id){return null!=account_id?zgssearch.Utils.RESULTS_WIDTH[service_name]&&zgssearch.Utils.RESULTS_WIDTH[service_name][account_id]||{}:zgssearch.Utils.RESULTS_WIDTH[service_name]||{}},zgssearch.Utils.setResultsWidth=function(service_info){var div_id,service_name=service_info.service_name,account_id=service_info.account_id,results_parent_id=service_info.results_parent_id,results_area_width=service_info.total_results_area_width,is_cursor_need=void 0===service_info.is_cursor_need||service_info.is_cursor_need,prev_last_element_id=(service_info=zgssearch.Utils.getResultsWidthInfo(service_name,account_id)).current_last_elem_id||"",current_last_elem_id="",results_area_rem_width=results_area_width-50-15,second_row_remaining_width=Math.floor(results_area_rem_width/100*90),elem_widths_obj={};for(div_id in(""===prev_last_element_id?_jQueryGS("#"+results_parent_id+" >div"):_jQueryGS("#"+results_parent_id).find("#"+prev_last_element_id).first().nextAll()).each(function(index){var header1_elem_width,header2_elem_width,elements_width,div_id=_jQueryGS(this).attr("id"),footer1_elem_width=_jQueryGS(this).find(".zgs19_gsCRMResultTitleNew"),footer2_elem_width=footer1_elem_width.length;0<footer2_elem_width&&(header1_elem_width=0<footer2_elem_width?_jQueryGS(_jQueryGS(footer1_elem_width)[0]).outerWidth()+15:0,0===(header2_elem_width=1<footer2_elem_width?_jQueryGS(_jQueryGS(footer1_elem_width)[1]).outerWidth()+15:0)?header1_elem_width=results_area_rem_width:header2_elem_width=results_area_rem_width<=header1_elem_width?(header1_elem_width=results_area_rem_width,0):results_area_rem_width-header1_elem_width,footer1_elem_width=0<(footer2_elem_width=(elements_width=_jQueryGS(this).find(".zgs19_gsCRMResultField")).length)?_jQueryGS(_jQueryGS(elements_width)[0]).outerWidth()+15:0,footer2_elem_width=1<footer2_elem_width?_jQueryGS(_jQueryGS(elements_width)[1]).outerWidth()+15:0,0===(footer2_elem_width=footer1_elem_width<second_row_remaining_width?second_row_remaining_width-footer1_elem_width:0)?footer1_elem_width=second_row_remaining_width:footer2_elem_width=second_row_remaining_width<=footer1_elem_width?(footer1_elem_width=second_row_remaining_width,0):second_row_remaining_width-footer1_elem_width,(elements_width=[]).push(header1_elem_width),elements_width.push(header2_elem_width),elements_width.push(footer1_elem_width),elements_width.push(footer2_elem_width),elem_widths_obj[div_id]=elements_width,current_last_elem_id=div_id)}),elem_widths_obj){var footer_elements_length=_jQueryGS("#"+div_id),elements_width=elem_widths_obj[div_id],footer_elements=footer_elements_length.find(".zgs19_gsCRMResultTitleNew"),header_elements_length=footer_elements.length;0<header_elements_length&&(_jQueryGS(_jQueryGS(footer_elements)[0]).css("max-width",elements_width[0]+"px"),1<header_elements_length&&_jQueryGS(_jQueryGS(footer_elements)[1]).css("max-width",elements_width[1]+"px"));footer_elements=footer_elements_length.find(".zgs19_gsCRMResultField"),footer_elements_length=footer_elements.length;0<footer_elements_length&&(_jQueryGS(_jQueryGS(footer_elements)[0]).css("max-width",elements_width[2]+"px"),1<footer_elements_length&&_jQueryGS(_jQueryGS(footer_elements)[1]).css("max-width",elements_width[3]+"px"))}is_cursor_need&&((service_info={}).results_area_width=results_area_width,service_info.results_icon_width=50,service_info.prev_last_element_id=prev_last_element_id,service_info.current_last_elem_id=current_last_elem_id,zgssearch.Utils.setResultsWidthInfo(service_name,account_id,service_info))},zgssearch.Utils.removePageLoader=function(pageLoaderTag){_jQueryGS(pageLoaderTag).remove()},zgssearch.Utils.isArrayContainsObject=function(object,array,key){var isContains=!1;return _jQueryGS.each(array,function(index,val){object[key]===val[key]&&(isContains=!0)}),isContains},zgssearch.Utils.objectEntries=function(initObj){return"function"!=typeof Object.entries&&(Object.entries=function(obj){for(var ownProps=Object.keys(obj),i=ownProps.length,resArray=new Array(i);i--;)resArray[i]=[ownProps[i],obj[ownProps[i]]];return resArray}),Object.entries(initObj)},zgssearch.Utils.fromEntries=function(entries){return"function"!=typeof Object.fromEntries&&(Object.fromEntries=function(entries){for(var res={},i=0;i<entries.length;i++)res[entries[i][0]]=entries[i][1];return res}),Object.fromEntries(entries)},zgssearch.Utils.getServiceRelatedInfo=function(service){var serviceObj={};switch(service){case GSConstant.PERSONALCONTACTS:case GSConstant.ORGCONTACTS:serviceObj={dbCardColor:"zgs19_gsFeF2F2Color",cardColor:"zgs19_gsFeF2F2Color",bordercolor:"zgs19_gsFFACACColor"};break;case GSConstant.PEOPLE:serviceObj={dbCardColor:"zgs19_gsEBF7F0Color",cardColor:"zgs19_gsF0FFF3Color",bordercolor:"zgs19_gs7BED66Color"};break;case GSConstant.CLIQ:case GSConstant.CHAT:serviceObj={dbCardColor:"zgs19_gsEDF3F9Color",cardColor:"zgs19_gsEAF7FFColor",bordercolor:"zgs19_gs6B99CBColor"};break;case GSConstant.STREAMS:case GSConstant.MAILS:case GSConstant.CALENDAR:serviceObj={dbCardColor:"zgs19_gsEDF3F9Color",cardColor:"zgs19_gsEAF7FFColor",bordercolor:"zgs19_gs6B99CBColor"};break;case GSConstant.CONNECT:serviceObj={dbCardColor:"zgs19_gsFFF6E2Color",cardColor:"zgs19_gsFFF6E2Color",bordercolor:"zgs19_gsFFD77EColor"};break;case GSConstant.WIKI:case GSConstant.CREATOR:case GSConstant.WORKDRIVE:case GSConstant.CRM:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.INVENTORY:case GSConstant.ORGRESOURCES:case GSConstant.WEBSITE:serviceObj={dbCardColor:"zgs19_gsEDF3F9Color",cardColor:"zgs19_gsEAF7FFColor",bordercolor:"zgs19_gs6B99CBColor"};break;case GSConstant.REPORTS:case GSConstant.CAMPAIGNS:serviceObj={dbCardColor:"zgs19_gsFeF2F2Color",cardColor:"zgs19_gsFeF2F2Color",bordercolor:"zgs19_gsFFACACColor"};break;case GSConstant.NOTEBOOK:serviceObj={dbCardColor:"zgs19_gsFFF6E2Color",cardColor:"zgs19_gsFFF6E2Color",bordercolor:"zgs19_gsFFD77EColor"};break;case GSConstant.SUPPORT:case GSConstant.BIGIN:serviceObj={dbCardColor:"zgs19_gsEBF7F0Color",cardColor:"zgs19_gsF0FFF3Color",bordercolor:"zgs19_gs7BED66Color"};break;case GSConstant.PROJECTS:serviceObj={dbCardColor:"zgs19_gsFFF6E2Color",cardColor:"zgs19_gsFFF6E2Color",bordercolor:"zgs19_gsFFD77EColor"};break;case GSConstant.GOOGLEDRIVE:case GSConstant.ONEDRIVE:case GSConstant.BOX:case GSConstant.DROPBOX:case GSConstant.SALESFORCE:case GSConstant.O365MAIL:case GSConstant.ASANA:case GSConstant.SLACK:case GSConstant.EVERNOTE:serviceObj={dbCardColor:"zgs19_gsEDF3F9Color",cardColor:"zgs19_gsEAF7FFColor",bordercolor:"zgs19_gs6B99CBColor"}}return serviceObj},zgssearch.Utils.copyLink=function(selection,msg="gs.search.callout.linkcopied"){var range,copyText=document.createElement("textArea");copyText.className="zgs19_gsDisplayNone",copyText.value=selection,document.body.appendChild(copyText),zgssearch.isIOS()?(range=document.createRange(),selection=window.getSelection(),range.selectNodeContents(copyText),selection.removeAllRanges(),selection.addRange(range),copyText.setSelectionRange(0,999999)):copyText.select(),document.execCommand("copy"),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg(msg)}),document.body.removeChild(copyText)},zgssearch.Utils.endsWithAny=function(value,suffixList){for(var suffix of suffixList)return zgssearch.endsWith(value,suffix);return!1},zgssearch.Utils.convertToTitleCase=function(text){let inputFormat;switch(inputFormat=text.includes(" ")?"space-separated":text.includes("_")?"snake_case":text.includes("-")?"kebab-case":"camelCase",inputFormat){case"space-separated":text=text.split(" ").map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(" ");break;case"camelCase":text=text.replace(/([a-z])([A-Z])/g,"$1 $2");case"snake_case":case"kebab-case":text=text.replace(/[_-]/g," ").split(" ").map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(" ");break;default:return text}return text},zgssearch.workspaceRelatedFilters=["projects","tags"],zgssearch.gsprojects={},zgssearch.gsprojects.portalTimezone={},zgssearch.gsprojects.portalTzOffset={},zgssearch.gsprojects.portalTzOffsetStr={},zgssearch.gsprojects.projects="projects",zgssearch.gsprojects.modules="modules",zgssearch.gsprojects.modChildFilters={3:["dueDate"],4:["modifiedTime"],5:["dueDate"],6:["dueDate"],7:["modifiedTime"]},zgssearch.gsprojects.childFilterModules=["3","5","6","7"],zgssearch.loadProjectsModChildFilter=function(service,currMod,currProj,currPortal,callbackObj){var modFilters=zgssearch.gsprojects.modChildFilters[currMod];if(modFilters&&0<modFilters.length){var isCrd=callbackObj&&callbackObj.hasOwnProperty("cards")&&callbackObj.cards,eachModFil=modFilters[0];if(childFil=zgssearch.getFilterInfo(service,eachModFil,"data"),zgssearch.gsfilters.updateDynamicFilterDetails(service,childFil,eachModFil),-1==zgssearch.Utils.indexOf(zgssearch.gsprojects.childFilterModules,currMod))return!0;if(1<modFilters.length){var projId=currProj+"_"+currMod;if((childFil=zgssearch.getFilterInfo(service,modFilters[1],"data"))[projId]){if(isCrd)return!0;for(var fil=1;fil<modFilters.length;fil++){var eachModFil=modFilters[fil],childFil=zgssearch.getFilterInfo(service,eachModFil,"data");zgssearch.gsfilters.updateDynamicFilterDetails(service,childFil[projId],eachModFil)}return!0}}return _jQueryGS("#zgs20_gsnewFltrHdr").append(zgssearch.gsadvancesearch.loaderElement()),zgssearch.gsprojects.setModFilters(currMod,modFilters,currPortal,currProj,callbackObj),!1}return!0},zgssearch.gsprojects.setModFilters=function(mod,childFil,portalId,projId,callbackObj){zgssearch.uri(zgssearch.GET,"/zgssearch/gsfilters","action=getprojectsmoduledata&module="+mod+"&portal_id="+portalId+"&project_id="+projId,{childFil:childFil,module:mod,projectId:projId,callbackObj:callbackObj},function(cardConfig,status,callbackObj){var argparams=callbackObj.args,callbackObj=argparams.callbackObj,cardConfig=zgssearch.jsonParse(cardConfig);if(cardConfig&&!_jQueryGS.isEmptyObject(cardConfig)&&cardConfig.filters){for(var p1,p2,modFilters=cardConfig.filters,service=zgssearch.GSConstant.PROJECTS,gffo=zgssearch.getFilterObj(service),mlength=modFilters.length,i=0;i<mlength;i++){var fmod=modFilters[i],filterUnorderedData=fmod.data,filterData={};if(_jQueryGS.isEmptyObject(filterUnorderedData))return;for(var dispName,currFilId="0",defFilId="0",filterOrder=fmod.filter_key_order,filIndex=0;filIndex<filterOrder.length;filIndex++){var filVal=filterUnorderedData[filKey=filterOrder[filIndex]];filterData[filKey]=filVal}1==Object.keys(filterData).length?(currFilId=defFilId=Object.keys(filterData)[0],dispName=filterData[0]):filterData[0]=dispName=zgssearch.getI18NMsg("common.all")+" "+fmod.display_name;var order={},filData={};filData[projId+"_"+argparams.module]=filterData;var oldData,filKey=fmod.key;zgssearch.Utils.indexOf(argparams.childFil,filKey)<0?zgssearch.gsprojects.modChildFilters[argparams.module].push(filKey):(order=zgssearch.getFilterObj(service)[filKey]||{},_jQueryGS.isEmptyObject(order)||((oldData=order.data)[projId+"_"+argparams.module]=filterData,filData=oldData)),zgssearch.setFiltersDetails(order,"title",fmod.display_name),zgssearch.setFiltersDetails(order,"type","3"),zgssearch.setFiltersDetails(order,"default",defFilId),zgssearch.setFiltersDetails(order,"current",currFilId),zgssearch.setFiltersDetails(order,"dispname",dispName),zgssearch.setFiltersDetails(order,"length",Object.keys(filterData).length),zgssearch.setFiltersDetails(order,"parKey","modules"),zgssearch.setFiltersDetails(order,"data",filData),zgssearch.setFiltersDetails(order,"key",fmod.key),zgssearch.setFiltersDetails(order,"parId",[argparams.module]),zgssearch.setFiltersDetails(order,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(order,"mulSelectKey",!0),zgssearch.setFiltersDetails(order,"filterLevel",4),zgssearch.setFiltersDetails(gffo,filKey,order),zgssearch.includes(filKey,gffo.order)||((order=gffo.order).splice(order.length-2,0,filKey),zgssearch.setFiltersDetails(gffo,"order",order))}return!zgssearch.hasEditCard||zgssearch.hasFilterChanged||(cardConfig=zgssearch.gscardUtils.cardIdsVsObject[zgssearch.gscardfilter.currentCardId].cardconfig)&&zgssearch.gsfilters.updateCurrentFilterObj(zgssearch.gscardfilter.getFiltersInfoForService(service,cardConfig)),void(callbackObj&&(p1=callbackObj.param1,p2=callbackObj.param2,_jQueryGS("#zgs20_gsEditFieldsLoader").remove(),callbackObj.hasOwnProperty("callback")&&callbackObj.callback(p1,p2)))}callbackObj&&callbackObj.isCallbackForError&&(p1=callbackObj.param1,p2=callbackObj.param2,callbackObj.hasOwnProperty("callback")&&callbackObj.callback(p1,zgssearch.getI18NMsg("gs.search.error.generic_error_messege")))})},function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.ZSCRMSuiteAction=function(){var actionObj;this.createActionObj=function(service){switch(service){case zgssearch.GSConstant.CRM:actionObj=new zgssearch.CRMAction;break;case zgssearch.GSConstant.BIGIN:actionObj=new zgssearch.BiginAction}return actionObj.orgDetails={},actionObj.usersInfo={},actionObj.allUsers={},actionObj.modProf={},actionObj.usersInMod={},actionObj.modData={},actionObj.setOrgDetails=function(servObj){for(var org in this.orgDetails.domain={},servObj)this.setDomain(org,servObj[org].domain_name)},actionObj.setDomain=function(orgId,domain){this.orgDetails.domain[orgId]=domain},actionObj.getDomain=function(orgId){return this.orgDetails.domain[orgId]},actionObj.isUserExists=function(orgId){return 0<this.getUsersInfoObj(orgId).count},actionObj.setProfileForMod=function(crmModProfile,orgId){this.modProf[orgId]=crmModProfile},actionObj.getProfileForMod=function(mod,orgId){return this.modProf[orgId][mod].split(",")},actionObj.setModuleData=function(moduleData,orgId){this.modData[orgId]=moduleData},actionObj.getModuleData=function(module,orgId){return this.modData[orgId][module]},actionObj.getUsersInfo=function(orgId,extraInfo){var argParams,self,callback=extraInfo.callback||"",params=this.getUsersInfoObj(orgId);params.more_records&&params.count<1e3?(argParams={timeout:0,extraInfo:extraInfo},params="action="+this.getActionForUsers()+"&page="+params.page+"&orgId="+orgId,self=this,zgssearch.advSearchXMLHttpReq=zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(usersObj,status,extraInfo){var callback=extraInfo.args||{},extraInfo=zgssearch.jsonParse(usersObj),usersObj=extraInfo.hasOwnProperty("info")?extraInfo.info:{};self.setUserInfo(usersObj,orgId),extraInfo.hasOwnProperty("users")&&(usersObj=extraInfo.users||{},self.setUserData(orgId,usersObj),(callback=(extraInfo=callback.extraInfo||{}).callback)&&callback(usersObj,extraInfo))})):callback&&callback({},extraInfo)},actionObj.fetchUsersInfo=function(argParams,orgId){var self,params=this.getUsersInfoObj(orgId);params.more_records&&params.count<1e3&&(argParams={timeout:0,curCount:zgssearch.gsusercontacts.getServerCallCount(),obj:argParams},params="action="+this.getActionForUsers()+"&page="+params.page+"&orgId="+orgId,self=this,zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(activeUsersRespObj,status,response){var argObj=response.args||{},response=zgssearch.jsonParse(activeUsersRespObj),activeUsersRespObj=response.hasOwnProperty("info")?response.info:{};self.setUserInfo(activeUsersRespObj,orgId),response.hasOwnProperty("users")&&(aObj=response.users||{},self.setUserData(orgId,aObj));var aObj=argObj.obj||{};aObj.hasOwnProperty("type")&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&argObj.curCount==zgssearch.gsusercontacts.getServerCallCount()&&self.renderInnerEditFieldsUI(aObj,orgId)}))},actionObj.renderInnerEditFieldsUI=function(acrmObj,err3){if(zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),this.isUserExists(err3)){var id,uniqueIds=[],ownerList=this.getUsersInMod(err3),curOwnerId=zgssearch.gsaction.currSearchType.getCurrentCRMOwner()||"";for(id in ownerList){var ownerObj=ownerList[id];if(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.gsaction.renderEditFieldsChild(id,ownerObj,acrmObj.type,"")),10<=uniqueIds.length)break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").css("display","block"),uniqueIds.length<1&&(_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<span>",{class:"zgs19_gsEditFieldNoUser"}).text(zgssearch.getI18NMsg("common.no_users"))),_jQueryGS("#zgs20_gsEditFieldsNotify").css("display","none"),_jQueryGS("#zgs20_gsEditFieldsBottom").css("display","none")),zgssearch.gsaction.displayEditFieldsUI(acrmObj.tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox")),zgssearch.isDashboardViewOpened()&&zgssearch.gsaction.updateEditFieldsHeight(acrmObj.tarElem)}else{err3=zgssearch.getI18NMsg("gs.search.callout.crm.errorresp3");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err3))}},actionObj.setUserData=function(orgId,userRespData){this.allUsers[orgId]||(this.allUsers[orgId]={}),_jQueryGS.extend(this.allUsers[orgId],userRespData)},actionObj.getUserData=function(orgId){return _jQueryGS.isEmptyObject(this.allUsers)?{}:this.allUsers[orgId]},actionObj.getUsersInfoObj=function(orgId){if(this.usersInfo[orgId]&&!_jQueryGS.isEmptyObject(this.usersInfo[orgId]))return this.usersInfo[orgId];this.usersInfo[orgId]={};return{count:0,page:1,more_records:!0}},actionObj.setUserInfo=function(userInfo,orgId){var oldUsersInfoObj=this.getUsersInfoObj(orgId);this.usersInfo[orgId].page=userInfo.page||1,this.usersInfo[orgId].more_records=userInfo.more_records||!1,this.usersInfo[orgId].count=oldUsersInfoObj.count+(userInfo.count||0)},actionObj.getUsersInMod=function(orgId){var mod=zgssearch.gsaction.currSearchType.getCurrentResultObj().mod,service=zgssearch.gsaction.currSearchType.getServiceName(),allUsers=this.getUserData(orgId);if(_jQueryGS.isEmptyObject(this.usersInMod)||_jQueryGS.isEmptyObject(this.usersInMod[orgId])||_jQueryGS.isEmptyObject(this.usersInMod[orgId][mod])){_jQueryGS.isEmptyObject(this.usersInMod[orgId])&&(this.usersInMod[orgId]={}),this.usersInMod[orgId][mod]={};var user,profilesInMod=zgssearch[service+"OrgInfo"].getProfileForMod(mod,orgId);for(user in allUsers)zgssearch.isArrayContain(allUsers[user].profile,profilesInMod)&&(this.usersInMod[orgId][mod][user]=allUsers[user])}return this.usersInMod[orgId][mod]},actionObj}},zgssearch.CRMAction=function(){this.usersInMod={},this.getActionForUsers=function(){return"fetchCRMUserInfo"},this.getServiceName=function(){return GSConstant.CRM}},zgssearch.BiginAction=function(){this.getActionForUsers=function(){return"fetchBiginUserInfo"},this.getServiceName=function(){return GSConstant.BIGIN}}}(zgssearch,window),function(zgssearch,window){var gshistory,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gshistory=(gshistory=void 0,(gshistory=zgssearch.gshistory||{}).isURLParamsHandled=gshistory.isURLParamsHandled||!1,zgssearch.currState=zgssearch.currState||{},gshistory.getSearchParams=function(){for(var sURLVariables=location.search.substring(1).split("&"),paramVsValues={},i=0;i<sURLVariables.length;i++){var paramValue=sURLVariables[i].split("="),paramName=paramValue[0],paramValue=paramValue[1];paramVsValues[paramName]=paramValue}return paramVsValues},gshistory.getQueryFromUrl=function(){var paramVsValues=gshistory.getSearchParams();return paramVsValues.hasOwnProperty("q")?paramVsValues.q:""},gshistory.getServFromUrl=function(){var paramVsValues=gshistory.getSearchParams();return paramVsValues.hasOwnProperty("s")?paramVsValues.s:""},gshistory.handleURLSearch=function(){if(1===gscomponent.UIType&&!gshistory.isURLParamsHandled){gshistory.isURLParamsHandled=!0;try{var slist,query=gshistory.getQueryFromUrl(),service=gshistory.getServFromUrl();zgssearch.isQueryValid(service)&&(service=decodeURIComponent(service),service=gshistory.getProperServiceName(service),slist=zgssearch.getServiceList("serviceList")||[],zgssearch.isArrayContain(service,slist)?(zgssearch.setService(service),zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.displayDefaultPage(!1)):(service=GSConstant.ALL,zgssearch.setService(service))),zgssearch.hasOwnProperty("setClearRenderedFiltersFlag")&&zgssearch.setClearRenderedFiltersFlag(!0),zgssearch.isQueryValid(query)?(query=decodeURIComponent(query),service=zgssearch.isQueryValid(service)?service:GSConstant.ALL,document.getElementById("zgs20_gsQueryBox").value=query,zgssearch.queryOrigin=2,gshistory.docommonURLSearch(),zgssearch.newHandleUserSearchQuery(service)):zgssearch.hasOwnProperty("isServiceHasEmptySearch")&&zgssearch.isServiceHasEmptySearch(service)&&(gshistory.docommonURLSearch(),zgssearch.newHandleUserSearchQuery(service)),zgssearch.handleSearchCloseIcon()}catch(ex){zgssearch.throwClientError("Error in handleURLSearch",ex)}}},gshistory.docommonURLSearch=function(){zgssearch.isURLParamsSearch=!0,zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.displayDefaultPage(!1),zgssearch.showSearchPageLoader()},gshistory.getProperServiceName=function(service){for(var serviceList=zgssearch.getServiceList("serviceList"),slist=0<serviceList.length?serviceList:Object.keys(zgssearch.mappedServiceList),mlist=zgssearch.getMappedServiceList()||[],i=0;i<slist.length;i++){var ser=slist[i];if(mlist.hasOwnProperty(ser))if((mlist[ser].api_url_service_name||"").toLowerCase()==service.toLowerCase()){service=ser;break}}return service},gshistory.updateSearchURLParams=function(oldState,slist){var stateObj,appMetaEle,existingContent,newContent;gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&gscomponent.hasOwnProperty("queryChange")&&(zgssearch.isQueryValid(oldState)||zgssearch.isQueryValid(slist))&&(appMetaEle=zgssearch.getMappedServiceList()[oldState])&&(stateObj=appMetaEle.api_url_service_name||"",newContent=slist&&slist.trim(),zgssearch.gscomponent.queryChange(stateObj.toLowerCase(),newContent)),void 0!==history.pushState&&(existingContent=window.location.href.split("?")[0]||"",newContent=window.location.pathname,newContent=(existingContent=!zgssearch.includes("/searchhome",newContent)?window.location.origin+"/searchhome":existingContent)+"?",zgssearch.isQueryValid(newContent)&&(existingContent=newContent,zgssearch.isQueryValid(slist)&&(existingContent+="q="+encodeURIComponent(slist)),newContent=existingContent,zgssearch.isQueryValid(oldState)&&(slist=zgssearch.getServiceList("serviceList")||[],zgssearch.isArrayContain(oldState,slist)&&(existingContent+="&s="+(stateObj=(appMetaEle=zgssearch.getMappedServiceList()[oldState]).api_url_service_name||"").toLowerCase(),newContent+="&s="+oldState)),stateObj={id:"zsearch",title:appMetaEle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:oldState,url:existingContent},oldState=zgssearch.currState,zgssearch.currState=Object.assign({},stateObj),zgssearch.currState.prevState=oldState,1===gscomponent.UIType?(history.state&&existingContent==history.state.url||(stateObj.previousState=gshistory.getPreviousHistoryState(),history.pushState(stateObj,appMetaEle,existingContent)),(appMetaEle=document.querySelector('meta[name*="apple-itunes-app"]'))&&(newContent=(existingContent=appMetaEle.getAttribute("content")).slice(0,existingContent.lastIndexOf("app-argument"))+"app-argument="+newContent,appMetaEle.setAttribute("content",newContent))):gshistory.setPreviousStateForOtherUI(stateObj)))},gshistory.pushStateOfAView=function(viewPageObj){var targetURL=window.location.origin+viewPageObj.url,stateObj={id:viewPageObj.id,title:viewPageObj.title,url:targetURL};1===gscomponent.UIType?history.state&&targetURL==history.state.url||(stateObj.previousState=gshistory.getPreviousHistoryState(),history.pushState(stateObj,viewPageObj.title,targetURL)):gshistory.setPreviousStateForOtherUI(stateObj)},gshistory.pushDashboardsState=function(pathname,hash,stateObj){var targetURL=stateObj||window.location.origin+pathname+hash,stateObj={id:"dashboards",title:"Dashboards Page",url:targetURL};1===gscomponent.UIType?history.state&&targetURL==history.state.url||(stateObj.previousState=gshistory.getPreviousHistoryState(),history.pushState(stateObj,"Dashboards Page",targetURL)):zgssearch.gscomponent.hasOwnProperty("isServiceSuite")&&zgssearch.gscomponent.isServiceSuite?zgssearch.gscomponent.queryChange("dashboards/"+pathname+hash):gshistory.setPreviousStateForOtherUI(stateObj)},gshistory.pushCardsState=function(pathname,hash,stateObj){var targetURL=stateObj||window.location.origin+pathname+hash,stateObj={id:"cards",title:"Cards Page",url:targetURL};1===gscomponent.UIType?history.state&&targetURL==history.state.url||(stateObj.previousState=gshistory.getPreviousHistoryState(),history.pushState(stateObj,"Cards Page",targetURL)):zgssearch.gscomponent.hasOwnProperty("isServiceSuite")&&zgssearch.gscomponent.isServiceSuite?zgssearch.gscomponent.queryChange("cards/"+pathname+hash):gshistory.setPreviousStateForOtherUI(stateObj)},gshistory.getPreviousHistoryState=function(){var prevState;return void 0!==history.state?(prevState=history.state)&&prevState.hasOwnProperty("previousState")&&delete prevState.previousState:prevState={id:"zsearch",title:zgssearch.getI18NMsg("gs.search.service_welcome_page"),service:null,url:window.location.origin+"/searchhome"},prevState},gshistory.setPreviousStateForOtherUI=function(stateObj){var oldState;1!=zgssearch.gscomponent.UIType&&(delete(oldState=zgssearch.currState||{}).prevState,zgssearch.currState=Object.assign({},stateObj),zgssearch.currState.prevState=oldState)},gshistory.getPreviousState=function(){var prevState=1===gscomponent.UIType?!_jQueryGS.isEmptyObject(history.state)&&history.state.hasOwnProperty("previousState")?history.state.previousState:{}:zgssearch.currState&&zgssearch.currState.hasOwnProperty("prevState")?zgssearch.currState.prevState:{};return prevState},gshistory.getPreviousStateId=function(){var prevState=gshistory.getPreviousState();return prevState&&!_jQueryGS.isEmptyObject(prevState)?prevState.id:""},gshistory.getCurrentState=function(){return _jQueryGS.isEmptyObject(history.state)?"":history.state},gshistory.getCurrentStateId=function(){return history.state&&!_jQueryGS.isEmptyObject(history.state)?history.state.id:""},1===gscomponent.UIType&&(window.removeEventListener("popstate",gshistory.handlePopStateEvent,!0),gshistory.handlePopStateEvent=function(){if(void 0!==history.state){var stateObj=history.state||{},targetURL=window.location.href||"",currState="",currState=zgssearch.includes("/dashboards",window.location.pathname)&&zgssearch.isDashboardEnabled?"dashboards":currState;if(currState=zgssearch.includes("/cards",window.location.pathname)&&zgssearch.isDashboardEnabled?"cards":currState,currState=zgssearch.includes("/search",window.location.pathname)?"search":currState,stateObj.hasOwnProperty("url"))switch(targetURL=stateObj.url,currState){case"search":var criteriaObj=new URL(targetURL),query=criteriaObj.searchParams.get("q"),service=criteriaObj.searchParams.get("s");zgssearch.emptySearchBoxValues();criteriaObj={},service=zgssearch.gshistory.getProperServiceName(service);criteriaObj.services={name:zgssearch.mappedServiceList[service].displayName,services:service},query&&(criteriaObj.query1={name:query}),zgssearch.renderQuerySpanElement(criteriaObj),zgssearch.clickActionForServiceList(stateObj.service,!0);break;case"dashboards":zgssearch.dashboard.Hash.render("back");break;case"cards":zgssearch.cardHash.render()}targetURL&&!currState&&setTimeout(function(){window.location.replace(targetURL)},0)}},window.addEventListener("popstate",gshistory.handlePopStateEvent,!0)),gshistory)}(zgssearch,window),zgssearch.dashboards=zgssearch.dashboards||{},zgssearch.dashboards=function(featurePropObj){this.propertyObj=featurePropObj,this.viewportID=featurePropObj.hasOwnProperty("viewport")?featurePropObj.viewport:"",this.main=function(){zgssearch.isEmbedDashboardEnabled&&this.renderPage("embedDashboardPage")},this.init=function(){this.loadDashboardFile()},this.loadDashboardFile=function(){zgssearch.network.loadSRIJSFile("js/dashboard.js",function(){zgssearch.isCardsandDBFilesloaded=!0,zgssearch.network.loadSRICSSFile(zgssearch.GSConstant.cssFilePath,function(){zgssearch.network.loadSRIJSFile(zgssearch.GSConstant.jsFilePath,zgssearch.embed_dashboards.main(),"embeddashboards")},"embeddashboards")})},this.renderPage=function(page){"embedDashboardPage"===page&&(this.setViewPortForEmbedDashboard(),this.renderEmbedDashboard())},this.setViewPortForEmbedDashboard=function(){zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_gsEmbedDashboard")},this.constructEmbedDashboardOutline=function(){_jQueryGS("#"+this.viewportID).find("#zgs20_globalsearch").append("<div id='zgs20_gsDashboardhome' class = 'zgs19_gsDashboardhome zgs19_gsDisplayNone'></div>")},this.renderEmbedDashboard=function(){if(this.constructEmbedDashboardOutline(),zgssearch.GSConstant.hasOwnProperty("embedDashboardObj")){var dbId=zgssearch.GSConstant.embedDashboardObj.hasOwnProperty("ID")?zgssearch.GSConstant.embedDashboardObj.ID:"-1",metaInfo=zgssearch.GSConstant.embedDashboardObj.hasOwnProperty("metaObj")?zgssearch.GSConstant.embedDashboardObj.metaObj:{};zgssearch.gsdbUtils.dashboardsData[dbId]=metaInfo,zgssearch.isDashboardOpened=!0;let dbView=zgssearch.gsdbUtils.setDashboardViewDetails(zgssearch.dbViewType.specificDashboard);dbView.setDashboardId(dbId),zgssearch.gsdbhome.renderDashboardPage(zgssearch.dbViewType.specificDashboard,dbView)}},this.init()},zgssearch.dashboard={},zgssearch.dashboard.Hash=zgssearch.dashboard.Hash||{},zgssearch.isHashingAllowed=zgssearch.gscomponent.isHashingAllowed(),zgssearch.dashboard.Hash.home="Home",zgssearch.dashboard.Hash.edit="Edit",zgssearch.dashboard.Hash.create="Create",zgssearch.dashboard.Hash.tabs_set=[zgssearch.dashboard.Hash.home,zgssearch.dashboard.Hash.create,zgssearch.dashboard.Hash.edit],zgssearch.dashboard.Hash.getPathFromURL=function(){return window.location.pathname},zgssearch.dashboard.Hash.getDBIdFromURL=function(){var path_data=zgssearch.dashboard.Hash.getPathFromURL().split("/");return 1<path_data.length?path_data[2]:""},zgssearch.dashboard.Hash.getFullHash=function(){return window.location.hash},zgssearch.dashboard.Hash.getCurrentHash=function(){return zgssearch.dashboard.Hash.getFullHash().split("#")[1]},zgssearch.dashboard.Hash.Listen=function(){"onhashchange"in window&&(window.onhashchange=zgssearch.dashboard.Hash.Change),zgssearch.dashboard.Hash.checkForEmpty()},zgssearch.dashboard.Hash.setDefaultHash=function(){zgssearch.includes("/dashboards",zgssearch.dashboard.Hash.getPathFromURL())&&(window.location.hash=zgssearch.dashboard.Hash.home)},zgssearch.dashboard.Hash.checkForEmpty=function(){""===window.location.hash&&zgssearch.dashboard.Hash.setDefaultHash()},zgssearch.dashboard.Hash.Change=function(){zgssearch.dashboard.Hash.validate(),zgssearch.dashboard.Hash.render()},zgssearch.dashboard.Hash.validate=function(){zgssearch.dashboard.Hash.checkForEmpty();var tab,hash_data=zgssearch.dashboard.Hash.getCurrentHash().split("/");1===hash_data.length?(tab=hash_data[0],-1<zgssearch.dashboard.Hash.tabs_set.indexOf(tab)||zgssearch.dashboard.Hash.setDefaultHash()):(hash_data[0],hash_data[1])},zgssearch.dashboard.Hash.render=function(currEvent){var hash_instance=zgssearch.dashboard.Hash.getCurrentHash(),hash_instance=(new zgssearch.dashboard.HashingFactory).createInstance(hash_instance);hash_instance&&hash_instance.get(currEvent)},zgssearch.dashboard.HashingFactory=function(){var instance;this.createInstance=function(current_hash){switch(current_hash){case zgssearch.dashboard.Hash.home:instance=new dashboardHome;break;case zgssearch.dashboard.Hash.create:instance=new dashboardCreate;break;case zgssearch.dashboard.Hash.edit:instance=new dashboardEdit}return instance}},zgssearch.cardHash=zgssearch.cardHash||{},zgssearch.isHashingAllowed=zgssearch.gscomponent.isHashingAllowed(),zgssearch.cardHash.home="Home",zgssearch.cardHash.edit="Edit",zgssearch.cardHash.create="Create",zgssearch.cardHash.tabs_set=[zgssearch.cardHash.home,zgssearch.cardHash.edit,zgssearch.cardHash.create],zgssearch.cardHash.getPathFromURL=function(){return window.location.pathname},zgssearch.cardHash.getcardIdFromURL=function(){var path_data=zgssearch.cardHash.getPathFromURL().split("/");return 2<path_data.length?path_data[2]:""},zgssearch.cardHash.getCardTypeFromURL=function(){var path_data=zgssearch.cardHash.getPathFromURL().split("/");return 2<path_data.length?path_data[2]:""},zgssearch.cardHash.getFullHash=function(){return window.location.hash},zgssearch.cardHash.getCurrentHash=function(){return zgssearch.cardHash.getFullHash().split("#")[1]},zgssearch.cardHash.Listen=function(){"onhashchange"in window&&(window.onhashchange=zgssearch.cardHash.Change),zgssearch.cardHash.checkForEmpty()},zgssearch.cardHash.setDefaultHash=function(){zgssearch.includes("/cards/links",zgssearch.cardHash.getPathFromURL())?window.location.hash=zgssearch.cardHash.create:zgssearch.includes("/cards",zgssearch.cardHash.getPathFromURL())&&(window.location.hash=zgssearch.cardHash.home)},zgssearch.cardHash.checkForEmpty=function(){""===window.location.hash&&zgssearch.cardHash.setDefaultHash()},zgssearch.cardHash.Change=function(){zgssearch.cardHash.validate(),zgssearch.cardHash.render()},zgssearch.cardHash.validate=function(){zgssearch.cardHash.checkForEmpty();var tab,hash_data=zgssearch.cardHash.getCurrentHash().split("/");1===hash_data.length?(tab=hash_data[0],-1<zgssearch.cardHash.tabs_set.indexOf(tab)||zgssearch.cardHash.setDefaultHash()):(hash_data[0],hash_data[1])},zgssearch.cardHash.render=function(){var hash_instance=zgssearch.cardHash.getCurrentHash(),hash_instance=(new zgssearch.cardHashingFactory).createInstance(hash_instance);hash_instance&&hash_instance.get()},zgssearch.cardHashingFactory=function(){var instance;this.createInstance=function(current_hash){switch(current_hash){case zgssearch.cardHash.home:instance=new cardsHome;break;case zgssearch.cardHash.edit:instance=new cardsEdit;break;case zgssearch.cardHash.create:instance=new cardsCreate}return instance}},zgssearch.CARD_TYPE="card",zgssearch.DASHBOARD_TYPE="dashboard",zgssearch.UPDATE_DASHBOARDS="/zgssearch/gsupdatedashboards",zgssearch.GET_PREVIEW_CARDS="/zgssearch/gspreviewcards",zgssearch.UPDATE_PREVIEW_CARDS="/zgssearch/gsupdatepreviewcards",zgssearch.SAVED_CARD=0,zgssearch.SYSTEM_CARD=1,zgssearch.BOOKMARK_CARD=3,zgssearch.RESULT_CARD=0,zgssearch.WIDGET_CARD=1,zgssearch.dbCrdCalloutType="dashboardCard",zgssearch.crdPagecalloutType="cardPageCallout",zgssearch.onTheFly="onthefly",zgssearch.cardAutoRefreshTime=18e4,zgssearch.defaultDashboardId="0",zgssearch.importDashboardId="1",zgssearch.dbViewType={dashboardHome:"home",specificDashboard:"specific",createDashboard:"createDashboard",autoGenerate:"autogenerate",importDashboard:"import"};GSConstant=zgssearch.getGSConstantObj()||{};function ZSCrm(){this.formatResults=function(){var service_name=this.getServiceName();if(service_name===zgssearch.GSConstant.CRM)for(var offset=this.getOffset(),limit=this.getLimit(),records_info=this.getServiceInfo().records_info;offset<limit;offset++){var api_name,elem_index=service_name+offset,record=records_info[elem_index],module_name=record.mod,nameVsDispName=zgssearch.CrmUtils.getModuleImpFields(service_name,module_name).nameVsDispName,temp_record={};for(api_name in record)temp_record[nameVsDispName[api_name]||api_name]=record[api_name];records_info[elem_index]=temp_record}},this.formatCalloutResults=function(temp_response_json){if(this.getServiceName()!==zgssearch.GSConstant.CRM)return temp_response_json;var impFields=temp_response_json.impFields,extraFields=temp_response_json.extraFields;for(disp_name in impFields)extraFields[disp_name]=impFields[disp_name];var disp_name,apiNames=temp_response_json.apiNames,fields_data=[];for(disp_name in extraFields){var api_name=apiNames[disp_name]||"",obj={};obj.api_name=api_name,obj.disp_label=disp_name,obj.field_val=extraFields[disp_name],fields_data.push(obj)}var temp_results_json={},temp_response_json={};return temp_response_json.disp_fields=fields_data,temp_results_json.response=temp_response_json,temp_results_json},this.renderResults=function(){this.formatResults(),this.render()},this.calloutParams=function(){var module=this.getCurrentResObj(),entityId=zgssearch.CrmUtils.getRecordId(module),module=zgssearch.CrmUtils.getModuleName(module);return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&entityId="+entityId+"&crmMod="+zgssearch.CrmUtils.getCrmModuleQueryName(module)},this.calloutResponse=function(response,argObj){var module_type=this.getCurrentResObj(),module_type=zgssearch.CrmUtils.getModuleName(module_type);response=this.formatCalloutResults(response),this.renderCalloutView(module_type,response,argObj)}}function ZSSalesforce(){this.renderResults=function(){this.render()},this.calloutParams=function(){this.setCurrentResObj();var zsoid=this.getCurrentResObj(),connector_id=zgssearch.getResultAccountId();void 0===zsoid.CONNECTOR_ID&&(zsoid.CONNECTOR_ID=connector_id);var connector_id=zsoid.CONNECTOR_ID||"",record_id=zsoid.Id||"",module_type=zgssearch.CrmUtils.getModuleName(zsoid),zsoid=zgssearch.getAppIdForCloudApps(connector_id);if(""!==module_type)return"action=salesforceCallout&service_name="+zgssearch.GSConstant.SALESFORCE+"&connector_id="+connector_id+"&module_name="+module_type+"&id="+record_id+"&app_id="+zsoid},this.calloutResponse=function(response,argObj){var module_type=this.getCurrentResObj(),module_type=zgssearch.CrmUtils.getModuleName(module_type);this.renderCalloutView(module_type,response,argObj)}}zgssearch.AUTOREF_SUPPORTED_SERVICES=[GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.PEOPLE,GSConstant.CLIQ,GSConstant.CHAT,GSConstant.NOTEBOOK,GSConstant.SUPPORT,GSConstant.WIKI,GSConstant.ORGRESOURCES],zgssearch.WIDGET_CARD_SERVICES=[GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.PEOPLE,GSConstant.CLIQ,GSConstant.NOTEBOOK,GSConstant.SUPPORT,GSConstant.WIKI,GSConstant.WEBSITE,GSConstant.ORGRESOURCES,GSConstant.PROJECTS,GSConstant.WORKDRIVE,GSConstant.CRM],zgssearch.noOfCardsTobeFetched=zgssearch.noOfCardsTobeFetched||200,zgssearch.dashboardCount=zgssearch.dashboardCount||50,zgssearch.totalComunsInDbGrid=12,zgssearch.numericCardTypes=[zgssearch.SAVED_CARD,zgssearch.SYSTEM_CARD],zgssearch.dashboardCardTypes={0:zgssearch.getI18NMsg("gs.cards.saved_result_card"),1:zgssearch.getI18NMsg("gs.cards.saved_numeric_card")},zgssearch.cardNameVsTypes={savedcards:"0",previewcards:"3",systemcards:"1"},zgssearch.cardTypeConstants=zgssearch.cardTypeConstants||{},zgssearch.cardTypeConstants[zgssearch.cardNameVsTypes.savedcards]={stitle:zgssearch.getI18NMsg("gs.cards.searchCard"),ptitle:zgssearch.getI18NMsg("gs.cards.saved_cards_title"),class_name:"gssavedsearches",prefixname:"Saved",placeholder:zgssearch.getI18NMsg("gs.search.search")},zgssearch.cardTypeConstants[zgssearch.cardNameVsTypes.previewcards]={stitle:zgssearch.getI18NMsg("gs.cards.previewCard"),ptitle:zgssearch.getI18NMsg("gs.cards.previewCards"),class_name:"gspreviewcard",prefixname:"Preview",placeholder:zgssearch.getI18NMsg("gs.search.preview")},zgssearch.cardTypeConstants[zgssearch.cardNameVsTypes.systemcards]={stitle:zgssearch.getI18NMsg("gs.cards.systemCard"),ptitle:zgssearch.getI18NMsg("gs.cards.sytem_cards_title"),class_name:"gssystemcard",prefixname:"System",placeholder:zgssearch.getI18NMsg("gs.search.system")},zgssearch.getCardTypePTitle=function(cardType){return zgssearch.cardTypeConstants[cardType]?.ptitle||""},zgssearch.getCardTypeClassName=function(cardType){return zgssearch.cardTypeConstants[cardType]?.class_name||""},zgssearch.getCardTypePrefixName=function(cardType){return zgssearch.cardTypeConstants[cardType]?.prefixname||""},zgssearch.otherCardFilters="otherFilters",function(zgssearch){zgssearch.gscardUtils=zgssearch.gscardUtils||{},zgssearch.gssavedsearches=zgssearch.gssavedsearches||{},zgssearch.gssystemcard=zgssearch.gssystemcard||{},zgssearch.gspreviewcard=zgssearch.gspreviewcard||{},zgssearch.gscardUtils.cardIdsVsObject=zgssearch.gscardUtils.cardIdsVsObject||{},zgssearch.gscardUtils.cardMetaObj=zgssearch.gscardUtils.cardMetaObj||{},zgssearch.gscardUtils.zuidcardsinfo=zgssearch.gscardUtils.zuidcardsinfo||{},zgssearch.gscardUtils.useridVSuserinfo=zgssearch.gscardUtils.useridVSuserinfo||{},zgssearch.gscardUtils.cardsCount=zgssearch.gscardUtils.cardsCount||100,zgssearch.gscardUtils.oldCardObjLen=zgssearch.gscardUtils.oldCardObjLen||0,zgssearch.gscardUtils.allCardIds=zgssearch.gscardUtils.allCardIds||[],zgssearch.gscardUtils.cardsLimitInMultiCardSave=zgssearch.gscardUtils.cardsLimitInMultiCardSave||30,zgssearch.gscardUtils.cardAndDashboardDetailsRegexPattern=/^[\p{L}\u0000-\u007F]*$/u,zgssearch.isCardPageOpened=zgssearch.isCardPageOpened||!1,zgssearch.gscardUtils.getAllCardsData=function(cardTypeArr,start,count,params,argparams){argparams={callback:argparams,start:start,count:count},params="start="+start+"&count="+count+"&cardtype="+encodeURIComponent(JSON.stringify(cardTypeArr))+"&sort="+params;zgssearch.gscardUtils.getAllCardsResponse(params,argparams)},zgssearch.gscardUtils.getUnMergedCardMetaData=function(cardTypeArr,start,count,params,argparams){params="start="+(argparams.start=start)+"&count="+(argparams.count=count)+"&cardtype="+encodeURIComponent(JSON.stringify(cardTypeArr))+"&sort="+params+"&resultanttype=0";zgssearch.gscardUtils.getUnmergedCardMetaResponse(params,argparams)},zgssearch.gscardUtils.getMergedCardMetaData=function(cardTypeArr,start,count,params,argparams){argparams={callback:argparams,start:start,count:zgssearch.gscardUtils.cardsCount},params="start="+start+"&count="+count+"&cardtype="+encodeURIComponent(JSON.stringify(cardTypeArr))+"&sort="+params+"&resultanttype=1";zgssearch.gscardUtils.getMergedCardMetaResponse(params,argparams)},zgssearch.gscardUtils.getAllCardsResponse=function(cardsParams,argparams){cardsParams="action=getallcards&"+cardsParams;argparams.action="getallcards",zgssearch.uri(zgssearch.GET,zgssearch.getCardsURL,cardsParams,argparams,function(callback,status,statusCode){zgssearch.gssavedsearches.isCardRespRecieved=!0;var response=zgssearch.jsonParse(callback),argparams=statusCode.args,callback=argparams.callback,totcardsLen=0;if(response.hasOwnProperty("status")){var cardClass,start,statusCode=response.status;if("1004"===statusCode){for(var eachCardTypeData in 0==start&&(zgssearch.gscardUtils.cardIdsVsObject={}),response)zgssearch.cardNameVsTypes.hasOwnProperty(eachCardTypeData)&&(cardClass=zgssearch.cardNameVsTypes[eachCardTypeData],cardClass=zgssearch.getCardTypeClassName(cardClass),0==(start=argparams.start)&&zgssearch.gscardUtils.clearCardsData(cardClass),eachCardTypeData=response[eachCardTypeData],zgssearch.storeAllCardsData(cardClass,eachCardTypeData,argparams),totcardsLen+=zgssearch[cardClass].totCardsLen);0==totcardsLen?callback("",argparams,zgssearch.getI18NMsg("gs.cards.no_card_saved")):callback(response,argparams,"")}else callback("",argparams,"3000"===statusCode?zgssearch.getI18NMsg("gs.cards.no_card_saved"):zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))}else callback("",argparams,zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))})},zgssearch.gscardUtils.getUnmergedCardMetaResponse=function(cardsParams,argparams){cardsParams="action=getcardsmeta&"+cardsParams;argparams.action="getallcards",navigator.onLine?zgssearch.uri(zgssearch.GET,zgssearch.getCardsURL,cardsParams,argparams,function(callback,status,statusCode){var response=zgssearch.jsonParse(callback),argparams=statusCode.args,callback=argparams.callback;if(response.hasOwnProperty("status")){var cardClass,start,statusCode=response.status;if("1004"===statusCode){for(var eachCardTypeData in 0==start&&(zgssearch.gscardUtils.cardMetaObj={}),response)zgssearch.cardNameVsTypes.hasOwnProperty(eachCardTypeData)&&(cardClass=zgssearch.cardNameVsTypes[eachCardTypeData],cardClass=zgssearch.getCardTypeClassName(cardClass),0==(start=argparams.start)&&zgssearch.gscardUtils.clearCardsData(cardClass),eachCardTypeData=response[eachCardTypeData],zgssearch.storeMetaCardInfo(cardClass,eachCardTypeData,argparams),zgssearch[cardClass].totCardsLen);callback(response,argparams,"")}else callback("",argparams,"3000"===statusCode?zgssearch.getI18NMsg("gs.cards.no_card_saved"):zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))}else callback("",argparams,zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))}):argparams.hasOwnProperty("callback")&&argparams.callback("",argparams,zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))},zgssearch.gscardUtils.getMergedCardMetaResponse=function(params,argparams){zgssearch.uri(zgssearch.GET,zgssearch.getCardsURL,"action=getcardsmeta&"+params,argparams,function(response,status,args){var msg="",response=zgssearch.jsonParse(response),args=args.args,cardsResp=[];if("error"!==status)if(response.hasOwnProperty("status")&&"1004"===response.status){zgssearch.gscardUtils.cardsFetchedForCurrCall=!0;var totCards=(cardsResp=response.cardsmeta).length;if(0===argparams.start&&(zgssearch.gscardUtils.allCardIds=[]),0<totCards)for(var i=0;i<totCards;i++){var cardId,eachCardResp=cardsResp[i];eachCardResp&&!_jQueryGS.isEmptyObject(eachCardResp)&&(cardId=eachCardResp.cardid,zgssearch.gsautocomplete.cards[cardId]=eachCardResp.cardname,zgssearch.gscardUtils.cardMetaObj[cardId]=eachCardResp,zgssearch.gscardUtils.allCardIds.push(cardId))}zgssearch.gscardUtils.allCardsFetched=totCards<100}else msg=zgssearch.getI18NMsg("gs.search.error.generic_error_messege"),zgssearch.gscardUtils.cardsFetchedForCurrCall=!1;else msg=zgssearch.getI18NMsg("gs.search.error.generic_error_messege");args.hasOwnProperty("callback")&&args.callback(cardsResp,args,msg)})},zgssearch.storeAllCardsData=function(cardClass,responseData,argparams){zgssearch.storeCommonCardInfo(cardClass,responseData,argparams);var cardData=responseData.data;0==argparams.start&&(zgssearch[cardClass].cardData=[]),zgssearch[cardClass].cardData=[].concat(zgssearch[cardClass].cardData,cardData);for(var eachCardLen=cardData.length,i=0;i<eachCardLen;i++){var data=cardData[i];zgssearch.storeCommonCardDetails(data,cardClass,argparams)}},zgssearch.storeMetaCardInfo=function(cardClass,responseData,argparams){zgssearch.storeCommonCardInfo(cardClass,responseData,argparams);var cardMetaData=responseData.data;0==argparams.start&&(zgssearch[cardClass].cardMetaData=[]),zgssearch[cardClass].cardMetaData=[].concat(zgssearch[cardClass].cardMetaData,cardMetaData);for(var eachCardLen=cardMetaData.length,i=0;i<eachCardLen;i++){var data=cardMetaData[i],cardId=data.cardid;zgssearch.gscardUtils.cardMetaObj[cardId]=data,zgssearch.storeCommonCardDetails(data,cardClass)}},zgssearch.storeCommonCardInfo=function(cardClass,cardDataLen,no_of_cards){cardDataLen.hasOwnProperty("zuidcardsinfo")&&(zgssearch.gscardUtils.zuidcardsinfo=_jQueryGS.extend({},zgssearch.gscardUtils.zuidcardsinfo,cardDataLen.zuidcardsinfo)),cardDataLen.hasOwnProperty("usersinfo")&&(zgssearch.gscardUtils.useridVSuserinfo=_jQueryGS.extend({},zgssearch.gscardUtils.useridVSuserinfo,cardDataLen.usersinfo));cardDataLen=cardDataLen.data.length,no_of_cards=no_of_cards.count;zgssearch[cardClass].isMoreResults=!(0<no_of_cards-cardDataLen),zgssearch[cardClass].totCardsLen=cardDataLen},zgssearch.storeCommonCardDetails=function(ssName,cardClass){var cardId=ssName.cardid||ssName.id,ssName=ssName.cardname||ssName.name;zgssearch[cardClass].cardIdVsNames[cardId]=ssName,zgssearch[cardClass].cardIdArr.push(cardId)},zgssearch.storeCardDetails=function(data){var cardId=data.cardid;zgssearch.gscardUtils.cardIdsVsObject[cardId]=data},zgssearch.gscardUtils.clearCardsData=function(cardClass){zgssearch[cardClass].cardIdVsNames={},zgssearch[cardClass].cardIdArr=[]},zgssearch.initialiseCardData=function(){for(var cardClass in zgssearch.cardTypeConstants){cardClass=zgssearch.getCardTypeClassName(cardClass);zgssearch[cardClass].cardIdVsNames=zgssearch[cardClass].cardIdVsNames||{},zgssearch[cardClass].cardIdArr=zgssearch[cardClass].cardIdArr||[]}},zgssearch.gscardUtils.deleteAutoSuggOfCard=function(cardId){var cardIndex=zgssearch.Utils.indexOf(zgssearch.gscardUtils.allCardIds,cardId);-1<cardIndex&&zgssearch.gscardUtils.allCardIds.splice(cardIndex,1),zgssearch.gsautocomplete.cards.hasOwnProperty(cardId)&&delete zgssearch.gsautocomplete.cards[cardId]},zgssearch.gscardUtils.addCrdAutoSugg=function(cardId,argParams){zgssearch.gsautocomplete.cards[cardId]=argParams.name||argParams.reName,zgssearch.gscardUtils.allCardIds.push(cardId)},zgssearch.gscardUtils.updateCrdAutoSugg=function(argParams){var cardId=argParams.cardId;zgssearch.gsautocomplete.cards.hasOwnProperty(cardId)?zgssearch.gsautocomplete.cards[cardId]=argParams.reName:zgssearch.gscardUtils.addCrdAutoSugg(cardId,argParams)},zgssearch.gscardUtils.getCreateCrdClassUsingType=function(cardType){return cardType==zgssearch.BOOKMARK_CARD?"gsembeddata":"gscreatecards"},zgssearch.gscardUtils.isEmbedBookmarkCard=function(subcardtype){return"1"==subcardtype},zgssearch.gscardUtils.getSubCardType=function(cardId){return zgssearch.gscardUtils.cardMetaObj[cardId]?.subcardtype||0},zgssearch.gscardUtils.getIconForSubType=function(subcardtype){let icon;switch(subcardtype){case 1:case"1":icon="zgs18_gsGlobeIcon"}return icon},zgssearch.initialiseCardData()}(zgssearch,window),zgssearch.cards=zgssearch.cards||{},zgssearch.cards=function(featurePropObj){this.propertyObj=featurePropObj,this.viewportID=featurePropObj.hasOwnProperty("viewport")?featurePropObj.viewport:"",this.main=function(){this.renderPage("embedCardsPage")},this.init=function(){this.loadCardsFile()},this.loadCardsFile=function(){zgssearch.network.loadSRIJSFile("js/dashboard.js",function(){zgssearch.isCardsandDBFilesloaded=!0,zgssearch.network.loadSRICSSFile(zgssearch.GSConstant.cssFilePath,function(){zgssearch.network.loadSRIJSFile(zgssearch.GSConstant.jsFilePath,zgssearch.embed_cards.main(),"embeddashboards")},"embeddashboards")})},this.renderPage=function(page){"embedCardsPage"===page&&(this.constructEmbedCardsOutline(),this.renderEmbedCards())},this.setViewPortForEmbedCards=function(){zgssearch.searchViewport=document.getElementById("zgs20_gsEmbedCard")},this.constructEmbedCardsOutline=function(){this.setViewPortForEmbedCards(),zgssearch.gscards.renderCardspage()},this.renderEmbedCards=function(){var cardId,metaInfo,cardType;zgssearch.GSConstant.hasOwnProperty("embedCardsObj")&&(cardId=zgssearch.GSConstant.embedCardsObj.hasOwnProperty("ID")?zgssearch.GSConstant.embedCardsObj.ID:"-1",cardType=""+(metaInfo=zgssearch.GSConstant.embedCardsObj.hasOwnProperty("metaObj")?zgssearch.GSConstant.embedCardsObj.metaObj:{}).cardtype,zgssearch.gscardUtils.cardMetaObj[cardId]=metaInfo,zgssearch.gscardUtils.cardIdsVsObject[cardId]=metaInfo,zgssearch.isCardPageOpened=!0,zgssearch.gscards.renderCardsPreview(cardId,cardType))},this.init()},function(zgssearch){zgssearch.gsdbUtils=zgssearch.gsdbUtils||{},zgssearch.gsdbUtils.dashboardDataObtained=!1,zgssearch.gsdbUtils.pinnedDashboardId=zgssearch.gsdbUtils.pinnedDashboardId||"",zgssearch.gsdbUtils.listOfDashboards=zgssearch.gsdbUtils.listOfDashboards||[],zgssearch.gsdbUtils.dashboardMeta=zgssearch.gsdbUtils.dashboardMeta||{},zgssearch.gsdbUtils.dashboardsData=zgssearch.gsdbUtils.dashboardsData||{},zgssearch.gsdbUtils.listOfCardsInaDashboard=zgssearch.gsdbUtils.listOfCardsInaDashboard||{},zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard=zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard||{},zgssearch.gsdbUtils.cardsDetailsinDb=zgssearch.gsdbUtils.cardsDetailsinDb||{},zgssearch.gsdbUtils.cardIdsVsObject=zgssearch.gsdbUtils.cardIdsVsObject||{},zgssearch.gsdbUtils.cardsObjInDB=zgssearch.gsdbUtils.cardsObjInDB||{},zgssearch.gsdbUtils.dbCardIdObjInDB=zgssearch.gsdbUtils.dbCardIdObjInDB||{},zgssearch.gsdbUtils.oldDbObjLen=zgssearch.gsdbUtils.oldDbObjLen||0,zgssearch.isDashboardOpened=zgssearch.isDashboardOpened||!1,zgssearch.gsdbUtils.userEmail=zgssearch.gsdbUtils.userEmail||"",zgssearch.gsdbUtils.dashboardlayout=zgssearch.gsdbUtils.dashboardlayout||{},zgssearch.gsdbUtils.getDashboardMeta=function(params,argparams){var sortParam=argparams.hasOwnProperty("sort")?"&sort="+argparams.sort:"",dbParams="action=getdashboardmeta";params&&(dbParams+="&"+params),zgssearch.uri(zgssearch.GET,zgssearch.GET_DASHBOARDS,dbParams+sortParam,argparams,function(data,status,argParams){argParams=argParams.args||argparams;zgssearch.processDashboardResponse(data,argParams)})},zgssearch.processDashboardResponse=function(data,argParams){var msg="";if(data){var response=zgssearch.jsonParse(data);if(zgssearch.Utils.removePageLoader("#zgs20_gsSettingsPageLoader"),zgssearch.gsdbUtils.clearDashboardDetails(),response.hasOwnProperty("status")){var status=response.status;if(zgssearch.gsdbUtils.isDashboardCountAPITrig=argParams.hasOwnProperty("getCount")&&argParams.getCount,zgssearch.gssavedsearches.dbDataFetchedTime=Date.now(),"1014"===status){zgssearch.gsdbUtils.dashboardDataObtained=!0;var responseData=zgssearch.jsonParse(response.dashboards),responseLength=responseData.length;if(zgssearch.gsdbUtils.hasNoMoreDb=responseLength<zgssearch.dashboardCount,0<responseLength)for(var i=0;i<responseLength;i++){var dashboardId=(data=responseData[i]).dashboardid;zgssearch.gsdbUtils.storeDashboardDetails(dashboardId,data),zgssearch.gsdbUtils.listOfDashboards.push(dashboardId)}}else msg="3000"===status?(zgssearch.gsdbUtils.dashboardDataObtained=!0,zgssearch.gsdbUtils.hasNoMoreDb=!0,""):zgssearch.getI18NMsg("gs.search.error.generic_error_messege")}else msg=zgssearch.getI18NMsg("gs.search.error.generic_error_messege")}else msg=zgssearch.getI18NMsg("gs.search.error.generic_error_messege");argParams.hasOwnProperty("callback")&&argParams.callback(argParams,msg)},zgssearch.gsdbUtils.storeDashboardDetails=function(dashboardId,data){data.isPinned&&(zgssearch.gsdbUtils.pinnedDashboardId=dashboardId),zgssearch.gsdbUtils.dashboardMeta[dashboardId]=data,zgssearch.gsautocomplete.dashboard[dashboardId]=data.name;var cardsData=(zgssearch.gsdbUtils.dashboardsData[dashboardId]=data).dashboarditems;if(cardsData){zgssearch.gsdbUtils.cardsDetailsinDb[dashboardId]=cardsData;var cardIdsList=[],dbCardIdsList=[],cardsObj={},dbCardIdObj={};zgssearch.gsdbUtils.listOfCardsInaDashboard[dashboardId]=[],zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard[dashboardId]=[];for(var j=0;j<cardsData.length;j++){var eachCardData=cardsData[j],cardId=eachCardData.viewid,cardType=eachCardData.type,dbCardId=zgssearch.gsdbUtils.getDbCardId(eachCardData),dbCardType=eachCardData.dashboardCardType;cardIdsList.push(cardId),dbCardIdsList.push(dbCardId),zgssearch.gsdbUtils.storeCardDetails(eachCardData,cardId),cardsObj[dbCardId]=eachCardData,dbCardIdObj[dbCardId]={name:eachCardData.name,height:eachCardData.height,width:eachCardData.width,xpos:eachCardData.xpos,ypos:eachCardData.ypos,cardType:cardType,cardId:cardId,identifier:eachCardData.identifier,dashboardCardType:dbCardType,cardstatus:eachCardData.cardstatus}}zgssearch.gsdbUtils.dbCardIdObjInDB[dashboardId]=dbCardIdObj,zgssearch.gsdbUtils.cardsObjInDB[dashboardId]=cardsObj,zgssearch.gsdbUtils.listOfCardsInaDashboard[dashboardId]=cardIdsList,zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard[dashboardId]=dbCardIdsList}},zgssearch.gsdbUtils.storeCardDetails=function(cardDetails,cardId){cardDetails=cardDetails.viewdetails;cardDetails&&(zgssearch.gsdbUtils.cardIdsVsObject[cardId]=cardDetails)},zgssearch.gsdbUtils.clearDashboardDetails=function(){zgssearch.gsdbUtils.pinnedDashboardId="",zgssearch.gsdbUtils.listOfDashboards=[],zgssearch.gsdbUtils.listOfCardsInaDashboard={},zgssearch.gsdbUtils.listOfDbCrdIdsInaDashboard={},zgssearch.gsdbUtils.dashboardsData={},zgssearch.gsdbUtils.cardsDetailsinDb={},zgssearch.gsdbUtils.cardIdsVsObject={}},zgssearch.gsdbUtils.getDbCardId=function(eachCardData){return eachCardData.itemId},zgssearch.gsdbUtils.sendDashboardAnanlytics=function(params,eventType,featureId,eventArr){params="featuretype="+(params=params.toUpperCase());params+=eventType?"&eventtype="+eventType:"",params+=featureId?"&featureId="+featureId:"",eventArr&&(params+="&eventitems="+encodeURIComponent(JSON.stringify(eventArr))),zgssearch.uri(zgssearch.POST,"/zgssearch/gsdashboardevent",params,{},function(){})},zgssearch.gsdbUtils.importDashboard=function(){try{_jQueryGS("#zgs20_gsImportDashboard").remove();let input=_jQueryGS("<input>",{type:"file",id:"zgs20_gsImportDashboard",class:"zgs19_gsDisplayNone",gs:"importInput",accept:".xml"});_jQueryGS("#zgs20_gsDashboardhome").append(input),zgssearch.gsdbUtils.importDbEventHandler(),input.click()}catch(exception){_jQueryGS("#zgs20_gsImportDashboard").remove()}},zgssearch.gsdbUtils.importDbEventHandler=function(){let input=document.getElementById("zgs20_gsImportDashboard");input.addEventListener("change",function(){if(this.files){var file=this.files[0];if(file){let dbView=zgssearch.gsdbUtils.setDashboardViewDetails(zgssearch.dbViewType.importDashboard);dbView.setFile(file),_jQueryGS("#zgs20_gsImportDashboard").remove(),zgssearch.openDashboard(zgssearch.dbViewType.importDashboard,dbView)}}},!1)},zgssearch.gsdbUtils.setDashboardViewDetails=function(viewName){return viewName===zgssearch.dbViewType.autoGenerate?new zgssearch.gsdbUtils.defaultDashboardPage:viewName===zgssearch.dbViewType.importDashboard?new zgssearch.gsdbUtils.importDashboardPage:viewName===zgssearch.dbViewType.specificDashboard?new zgssearch.gsdbUtils.specificDashboardPage:void 0},zgssearch.gsdbUtils.specificDashboardPage=function(){this.dashboardId="",this.setDashboardId=dashboardId=>{this.dashboardId=dashboardId},this.getDashboardId=()=>this.dashboardId},zgssearch.gsdbUtils.defaultDashboardPage=function(){this.autoGenerateType="",this.setAutoGenerateType=autoGenerateType=>{this.autoGenerateType=autoGenerateType},this.getAutoGenerateType=()=>this.autoGenerateType},zgssearch.gsdbUtils.importDashboardPage=function(){this.file="",this.setFile=file=>{this.file=file},this.getFile=()=>this.file}}(zgssearch,window),function(zgssearch,window){zgssearch.gsanalytics=function(gsanalytics){(gsanalytics=zgssearch.gsanalytics||{}).analyticsData=[];var _jQueryGS=window._jQueryGS;return gsanalytics.init=function(){for(var events=["click","keypress"],length=events.length,i=0;i<length;i++)window.addEventListener(events[i],gsanalytics.sendStatsData)},gsanalytics.constructObj=function(event,label){return{t:event?event.type:"",l:label}},gsanalytics.sendStatsForServicesPane=function(key){var event=window.event||event,key=zgssearch.getStatsKey("mc-sp-"+key);zgssearch.gsanalytics.sendStatsData(event,key)},gsanalytics.sendStatsData=function(event,gsaAttrArr){var params="";gsaAttrArr?params=gsaAttrArr:!(event=window.event||event)||0<(gsaAttrArr=_jQueryGS(event.target).closest("[gsa]")).length&&(params=zgssearch.getStatsKey(_jQueryGS(gsaAttrArr[0]).attr("gsa"))),""!==params&&(params=gsanalytics.constructObj(event,params),gsanalytics.analyticsData.push(params),gsanalytics.pushDataToServer())},gsanalytics.pushDataToServer=function(){var args;0<gsanalytics.analyticsData.length&&(args="ej="+JSON.stringify(gsanalytics.analyticsData[0]),zgssearch.uri(zgssearch.POST,zgssearch.eventStats,args,{},function(){gsanalytics.analyticsData=[]}))},gsanalytics.init(),gsanalytics}(void 0)}(zgssearch,window),function(zgssearch,window){var gsversion,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscomponent;zgssearch.gsversion=(gsversion=void 0,(gsversion=zgssearch.gsversion||{}).gsb=gsversion.gsb||GSConstant.BUILD_DATE||"",gsversion.isBuildChanged=function(resultObject){return void 0!==resultObject&&resultObject.BUILD_DATE},gsversion.handleVersionChanges=function(resultObject){resultObject&&(gsversion.getLatestFiles(resultObject),zgssearch.setGSConstantObj(resultObject))},gsversion.getLatestFiles=function(resultObject){resultObject&&resultObject.hasOwnProperty("BUILD_DATE")&&gsversion.gsb!=resultObject.BUILD_DATE&&(zgssearch.isBuildChanged=!0,gsversion.BUILD_DATE=resultObject.BUILD_DATE,zgssearch.isExtension?(gsversion.gsb=GSConstant.BUILD_DATE=gsversion.BUILD_DATE,setTimeout(function(){gsversion.updateLatestChanges()},100)):(zgssearch.GSConstant.gsbuildDetails=resultObject.hasOwnProperty("build_details")?resultObject.build_details:resultObject,gsversion.loadZSFiles(resultObject)))},gsversion.loadZSFiles=function(resultObject){zgssearch.gscomponent=Object.assign(zgssearch.gscomponent,resultObject),zgssearch.gsbuildDetails=Object.assign(zgssearch.gsbuildDetails,resultObject),gsversion.gsb=GSConstant.BUILD_DATE=zgssearch.gscomponent.BUILD_DATE,GSConstant.gsjQueryURL="js/jquery-3.6.0.min.js",GSConstant.gsi18NJSURL=zgssearch.getLanguageFileName(),GSConstant.resultNewJSURL=1===zgssearch.gscomponent.UIType?"js/zsresult.js":"js/gsresult.js",GSConstant.resultNewCSSURL=1===zgssearch.gscomponent.UIType?"css/zsresult.css":"css/gsresult.css",zgssearch.network.loadSRICSSFile(GSConstant.resultNewCSSURL,zgssearch.loadNewUICSS),gsversion.loadI18NResultJsFiles()},gsversion.updateLatestChanges=function(){var latest_widget_servicesinfo;zgssearch.hasOwnProperty("setSCSSRootConfig")&&zgssearch.setSCSSRootConfig(),zgssearch.hasOwnProperty("gstopband")&&(zgssearch.gstopband.isHamburgerDataLoaded=!1),zgssearch.gsbuildDetails.hasOwnProperty("settings")&&1===zgssearch.gscomponent.UIType&&zgssearch.isDashboardEnabled&&(zgssearch.isLoadedTourbusFiles=!1,zgssearch.isFeatureCarouselLoaded=!1,zgssearch.loadFeatureCarouselComponent(zgssearch.gsbuildDetails.settings)),zgssearch.hasOwnProperty("all_timezones")&&(zgssearch.gscalendaraction.all_timezones=zgssearch.all_timezones),zgssearch.loadWelcomePage=!1,zgssearch.renderLandingPage(),zgssearch.preLoadComponentForServices(),zgssearch.settingsFileLoaded=!1,zgssearch.isCardsandDBFilesloaded=!1,zgssearch.gsbuildDetails.hasOwnProperty("latest_widget")&&(latest_widget_servicesinfo=zgssearch.gsbuildDetails.latest_widget.servicesinfo,zgssearch.GSConstant.widgetObject.hasOwnProperty("servicesinfo")&&(zgssearch.gsbuildDetails.latest_widget.hasOwnProperty("allserviceslist")&&zgssearch.setConstAllServList(zgssearch.GSConstant.widgetObject.allserviceslist),zgssearch.GSConstant.widgetObject.servicesinfo=zgssearch.assignObject(zgssearch.GSConstant.widgetObject.servicesinfo,latest_widget_servicesinfo),zgssearch.loadWidgetList(zgssearch.GSConstant.widgetObject),zgssearch.renderServiceList())),zgssearch.statusOfWidgetFetchData="READY",zgssearch.initWidgetList(),zgssearch.isBuildChanged&&(zgssearch.isBuildChanged=!1,zgssearch.searchURL&&zgssearch.getNewSearchResults(zgssearch.searchURL))},gsversion.loadLatestJSFileAndChanges=function(){GSConstant.resultNewJSURL,zgssearch.network.loadSRIJSFile(GSConstant.resultNewJSURL,function(){gsversion.updateLatestChanges()})},gsversion.loadLatestCoreJqueryFile=function(){zgssearch.network.loadSRIJSFile(GSConstant.gsjQueryURL,function(){var zsJquery;"undefined"!=typeof jQuery&&"3.6.0"===jQuery().jquery&&(window._jQueryGS=(zsJquery=jQuery).noConflict(!0),window.jQuery=void 0===window.jQuery?zsJquery:window.jQuery),gsversion.loadLatestJSFileAndChanges()})},gsversion.loadI18NResultJsFiles=function(){zgssearch.network.loadSRIJSFile(GSConstant.gsi18NJSURL,function(){GSConstant.hasOwnProperty("loadLatestCoreJQueryFile")&&GSConstant.loadLatestCoreJQueryFile?gsversion.loadLatestCoreJqueryFile():gsversion.loadLatestJSFileAndChanges()})},gsversion.checkGSVersion=function(){gsversion.getLatestFiles(zgssearch.GSConstant.gsbuildDetails)},gsversion)}(zgssearch,window),function(zgssearch){var filterComponent;zgssearch.filtercomponent=(filterComponent=void 0,(filterComponent=zgssearch.filtercomponent||{}).getSearchFilterComponent=function(){var componentObj=new component(!0,zgssearch.gscomponent.isRTLEnabled),applyAction=new filters(!0,!0,!1,!0,!1);componentObj.setFilters(applyAction);var actionsObj=new actions(!0,!0,!0),applyAction=new action(zgssearch.getI18NMsg("common.info.resetFilters"),zgssearch.resetFilterActions,zgssearch.gsfilters.enableResetFilter,zgssearch.gsfilters.disableResetFilter);actionsObj.setResetAction(applyAction);applyAction=new action(zgssearch.getI18NMsg("common.cancel"),zgssearch.cancelFilterActions);actionsObj.setCancelAction(applyAction);applyAction=new action(zgssearch.getI18NMsg("gs.search.filter.apply"),zgssearch.applyFilterActions,zgssearch.enableApplyButton,zgssearch.disableApplyButton);return actionsObj.setApplyAction(applyAction),componentObj.setActions(actionsObj),componentObj},filterComponent.getCreateCardFilterComponent=function(){var componentObj=new component(!0,zgssearch.gscomponent.isRTLEnabled),setApply=new filters(!0,!1,!0,!1,!0);componentObj.setFilters(setApply);var actionsObj=new actions(!1,!1,!0),setApply=new action("","",zgssearch.gscreatecards.enableApplyButton,zgssearch.gscreatecards.disableApplyButton);return actionsObj.setApplyAction(setApply),componentObj.setActions(actionsObj),componentObj},filterComponent.getCardFilterComponent=function(){var componentObj=new component(!0,zgssearch.gscomponent.isRTLEnabled),applyAction=new filters(!0,!1,!0,!1,!1);componentObj.setFilters(applyAction);var actionsObj=new actions(!0,!0,!0),applyAction=new action(zgssearch.getI18NMsg("common.info.restoreFilters"),zgssearch.gscardfilter.resetFilterActions,zgssearch.gsfilters.enableResetFilter,zgssearch.gsfilters.disableResetFilter);actionsObj.setResetAction(applyAction);applyAction=new action(zgssearch.getI18NMsg("common.cancel"),zgssearch.gscardfilter.cancelFilterActions);actionsObj.setCancelAction(applyAction);applyAction=new action(zgssearch.getI18NMsg("gs.search.filter.apply"),zgssearch.gscardfilter.applyFiltersActions,zgssearch.gscardfilter.enableApplyButton,zgssearch.gscardfilter.disableApplyButton);return actionsObj.setApplyAction(applyAction),componentObj.setActions(actionsObj),componentObj},filterComponent);var component=class{#mode;#filters;#actions;#isRTLEnabled;constructor(mode,isRTLsupported){this.#mode=mode,this.#isRTLEnabled=isRTLsupported}getMode=()=>this.#mode;getRTLEnabled=()=>this.#isRTLEnabled;setFilters=filters=>{this.#filters=filters};getFilters=()=>this.#filters;setActions=actions=>{this.#actions=actions};getActions=()=>this.#mode?this.#actions:""},filters=class{#service=!1;#settings=!1;#query=!1;#allLabel=!1;#description=!1;constructor(isService,isSettings,isQuery,isAllLabel,isDescription){this.#service=isService,this.#settings=isSettings,this.#query=isQuery,this.#allLabel=isAllLabel,this.#description=isDescription}getService=()=>this.#service;getSettings=()=>this.#settings;getQuery=()=>this.#query;getAllLabel=()=>this.#allLabel;getDescription=()=>this.#description},actions=class{#reset=!1;#cancel=!1;#apply=!1;#resetAction;#cancelAction;#applyAction;constructor(reset,cancel,apply){this.#reset=reset,this.#cancel=cancel,this.#apply=apply}getReset=()=>this.#reset;getCancel=()=>this.#cancel;getApply=()=>this.#apply;setResetAction=resetAction=>{this.#reset&&(this.#resetAction=resetAction)};getResetAction=()=>this.#resetAction;setCancelAction=cancelAction=>{this.#cancel&&(this.#cancelAction=cancelAction)};getCancelAction=()=>this.#cancelAction;setApplyAction=applyAction=>{this.#apply&&(this.#applyAction=applyAction)};getApplyAction=()=>this.#applyAction},action=class{#title;#callback;#enableCallback;#disableCallback;constructor(title,callback,enableCallback="",disableCallback=""){this.#title=title,this.#callback=callback,this.#enableCallback=enableCallback,this.#disableCallback=disableCallback}getTitle=()=>this.#title;getCallback=()=>this.#callback;getEnableCallback=()=>this.#enableCallback||"";getDisableCallback=()=>this.#disableCallback||""}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.gsfilters=zgssearch.gsfilters||{};var GSConstant=zgssearch.getGSConstantObj()||{},gsfilters=zgssearch.gsfilters;zgssearch.searchObj=zgssearch.searchObj||{service:"all"},gsfilters.currentFilterObj=gsfilters.currentFilterObj||{},gsfilters.childRenderingNeed=!0,gsfilters.appliedFilters=gsfilters.appliedFilters||0,gsfilters.dateKeys=["date","dueDate","modifiedTime"],gsfilters.peopleDeptCache=gsfilters.peopleDeptCache||{result:[],noresult:[]},gsfilters.filterClickActions=function(target){var actionType=_jQueryGS(target).attr("actionType");switch(actionType){case"openAppliedFilters":case"newFilterClick":gsfilters.showFilterContainer(target);break;case"apply":case"cancel":case"reset":gsfilters.filterActions(actionType);break;case"openFilterList":gsfilters.openEachFilterPopUp(target);break;case"moduleFilterEditFields":gsfilters.filterEditFieldsActionControl(target);break;case"moduleFilterChild":gsfilters.singleSelectFilterClickActions(target);break;case"filterCheckBoxChild":gsfilters.filterCheckBoxClickActions(target);break;case"moreFiltercheckbox":var tarElem=_jQueryGS(target).closest(".zgs19_checkbox");0<tarElem.length&&gsfilters.moreFilterCheckBoxActionControl(target,tarElem);break;case"contextFilters":zgssearch.contextFilterActions(target);break;case"sortSelect":zgssearch.sortFilterActions(target)}},gsfilters.getActionObjectForActionType=function(actionType){var actionsObj=gsfilters.currentFilterComponent.getActions();switch(actionType){case"apply":return actionsObj.getApplyAction();case"cancel":return actionsObj.getCancelAction();case"reset":return actionsObj.getResetAction()}return""},gsfilters.buttonAction=function(callback,isEnabled){callback=gsfilters.getActionObjectForActionType(callback);!callback||(callback=isEnabled?callback.getEnableCallback():callback.getDisableCallback())&&callback()},gsfilters.addEventsForFiltersPage=function(){_jQueryGS("#zgs20_gsSerListQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase().trim();_jQueryGS(".zgs19_gsAppsMenu").find(".zgs19_gsNewSerivceTxt").filter(function(){var parentEle=_jQueryGS(this).closest(".zgs19_gsnewServiceInfoHolder");_jQueryGS(parentEle).toggle(_jQueryGS(this).text().toLowerCase().startsWith(inputValLowerCase))})}}),_jQueryGS("#zgs20_gsDescriptionTxt").off().on({focusout:function(){var element=_jQueryGS(this)[0];element.value.trim().length||(element.value="")},keydown:function(description){(description.keyCode||description.which)===zgssearch.specialkeys.ENTER&&zgssearch.stopEvent(description);description=_jQueryGS("#zgs20_gsDescriptionTxt").val().trim();description&&!zgssearch.gssavedsearches.cardDetailsCheck(description)||gsfilters.checkAndEnableApplyButtonForFilters(gsfilters.getCurrentService())}}),_jQueryGS(".zgs19_gsnewServiceInfoHolder").off().on({mousemove:function(){gsfilters.currselecElem=this,_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),gsfilters.currselecElem=""},click:function(){var service=_jQueryGS(this).attr("service");gsfilters.serviceClickActions(service)}}),_jQueryGS(".zgs19_gsTxtBox").off().on({focusout:function(){var element=_jQueryGS(this);element.text().trim().length||element.empty()},input:function(){gsfilters.getCurrentService()&&gsfilters.enableApplyButton()}}),_jQueryGS("#zgs20_gsQryBox").off().on({input:function(target){target=target.target;gsfilters.openUserContactsList(target)},keydown:function(event){var target,tid=event.keyCode||event.which;tid!==zgssearch.specialkeys.ENTER&&tid!==zgssearch.specialkeys.TAB||(event.preventDefault(),gsfilters.isUserSuggDisplay&&((target=zgssearch.gsautocomplete.currselecelem)||(tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),target=zgssearch.getTargetElem(tid)),gsfilters.updateQrySearchBox(target)),zgssearch.stopEvent(event))},paste:function(event){gsfilters.pasteEventForEditableDiv(event),gsfilters.getCurrentService()&&(gsfilters.enableApplyButton(),gsfilters.enableResetButton())}}),_jQueryGS(".zgs19_gsAutoSuggChild").off().on({mousemove:function(){var elemId;zgssearch.handleMouseMoveEvent(),zgssearch.gsautocomplete.currselecelem!==this&&(zgssearch.gsautocomplete.currselecelem=this,_jQueryGS(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),elemId=_jQueryGS(this).attr("id"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold"))},mouseleave:function(){var elemId;zgssearch.isMouseStopped||(elemId=_jQueryGS(this).attr("id"),_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),zgssearch.gsautocomplete.currselecelem="")},click:function(){gsfilters.updateQrySearchBox(this)}}),_jQueryGS(".zgs19_gsAutoSuggShowMore").off().on({click:function(){gsfilters.showMoreUserSuggest(this)}}),_jQueryGS(".zgs19_filterBodyHldr").off().on({keydown:function(event){var curElem=(event=event||window.event).keyCode||event.which;if(curElem===zgssearch.specialkeys.ENTER){if(zgssearch.isFilterListDisplay){var service=zgssearch.currFilterSelectedElem;service&&gsfilters.filterClickActions(service)}else if(zgssearch.isAppListOpened){service=gsfilters.currselecElem;service&&(service=_jQueryGS(service).attr("service"),gsfilters.serviceClickActions(service))}else if(zgssearch.hasOwnProperty("gsadvancesearch")&&zgssearch.isAdvancedFitersApplied&&zgssearch.gsadvancesearch.isAdvFieldListOpened){var selectedElem=_jQueryGS(".zgs19_gsAutoSuggChildIn:visible");if(selectedElem){var curSelElem=_jQueryGS.isEmptyObject(selectedElem)?"":selectedElem.attr("class").split(" ")[0];if("zgs19_gsFieldOptionHldr"===curSelElem)switch(_jQueryGS(selectedElem).attr("fType")){case"0":zgssearch.gsadvancesearch.selectField(selectedElem);break;case"1":zgssearch.gsadvancesearch.selectOperator(selectedElem)}else"zgs19_gsValueOptionTxt"===curSelElem?zgssearch.gsadvancesearch.selectSingleValue(selectedElem):"zgs19_gsFieldValueHolder"===curSelElem&&zgssearch.gsadvancesearch.multiSelectPicklistActions(selectedElem)}}else{var selElem,curSelElem=_jQueryGS(".zgs19_curSelectedFilter");0<curSelElem.length&&((selElem=curSelElem).hasClass("zgs19_gsFieldValue")&&(selElem=curSelElem.find(".zgs19_gsAsInputField")),_jQueryGS(selElem).click())}zgssearch.stopEvent(event)}else curElem===zgssearch.specialkeys.UP||curElem===zgssearch.specialkeys.DOWN?zgssearch.isFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay?zgssearch.gskeyboard.keyboardNavgForFilters(curElem):zgssearch.gsadvancesearch.isAdvFieldListOpened?zgssearch.gskeyboard.keyboardNavgForAdvFilters(curElem):zgssearch.isAppListOpened&&zgssearch.gskeyboard.keyboardNavgForServiceSugg(curElem):curElem===zgssearch.specialkeys.TAB&&(zgssearch.isFilterListDisplay||zgssearch.gsadvancesearch.isAdvFieldListOpened||zgssearch.isAppListOpened||(selElem=_jQueryGS(".zgs19_curSelectedFilter"),(curElem=_jQueryGS(".zgs19_gsFilterElementOuter")).removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),(selElem&&0===selElem.length?_jQueryGS(curElem[0]):selElem=curElem.eq(curElem.index(selElem)+1)||_jQueryGS(curElem[0])).addClass("zgs19_curSelectedFilter zgs19_gsBorderThemeCol"),_jQueryGS(selElem).focus()),zgssearch.stopEvent(event))}}),_jQueryGS("#zgs20_gsfilterHolder").off("mousemove").on("mousemove",function(event){zgssearch.setTooltipTimer(event)}),_jQueryGS("#zgs20_gsfilterHolder").off("mouseout").on("mouseout",function(){zgssearch.hidetooltip()})},gsfilters.pasteEventForEditableDiv=function(pastedText){pastedText.preventDefault();pastedText=(pastedText=window.event.clipboardData.getData("text/plain")).replace(/\r?\n/g," ");const selection=window.getSelection();if(!selection.isCollapsed){const range=selection.getRangeAt(0);range.deleteContents()}const selectionRange=selection.getRangeAt(0);selectionRange.insertNode(document.createTextNode(pastedText))},gsfilters.addEventForFilterQueryBox=function(targetId,service){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currFilterSelectedElem!=this&&(zgssearch.currFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currFilterSelectedElem="")},mousedown:function(){zgssearch.currFilterClickelem=this,zgssearch.isCurrFilterClickelem=!0}}),_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection_sub").off().on({mousedown:function(){zgssearch.isCurrFilterClickelem=!0}}),gsfilters.filterPopUpSearchQueryActions(service)},gsfilters.createFilterIcon=function(){return _jQueryGS("<div>",{id:"zgs20_gsFilterIconHolder",class:"zgs19_gsFilterIconHolder zgs19_gsfl",gs:"newfilterActions",actionType:"newFilterClick",viewType:"search"}).append(_jQueryGS("<span>",{class:"zgs18_gsNewFilterIcon",gs:"newfilterActions",actionType:"newFilterClick",viewType:"search"}))},gsfilters.appliedFilterIconColor=function(){var filterIconHolder=_jQueryGS(".zgs19_gsFilterIconHolder");0===_jQueryGS(".zgs18_appliedFilterIcon").length&&filterIconHolder.append(_jQueryGS("<span>",{class:"zgs18_appliedFilterIcon",gs:"newfilterActions",actionType:"newFilterClick"})),filterIconHolder.css("color","#EA942F").removeClass("zgs19_gsHideEleme")},gsfilters.removeAppliedFilterIconColor=function(){_jQueryGS(".zgs18_appliedFilterIcon").remove(),_jQueryGS(".zgs19_gsFilterIconHolder").css("color","var(--zs-primaryThemeIconColor)").removeClass("zgs19_gsHideEleme")},gsfilters.checkFiltersAppliedOrNot=function(){zgssearch.getSearchType()===GSConstant.ALL?gsfilters.removeAppliedFilterIconColor():gsfilters.appliedFilterIconColor()},gsfilters.getFilterLevel=function(service,fKey){return zgssearch.getFilterObj(service)[fKey].filterLevel},gsfilters.getFilterLevelElement=function(filterLevel){var parentEle,fLevelId="zgs20_filterLevel_"+filterLevel,fLevelEle=_jQueryGS("#"+fLevelId);return 0===fLevelEle.length&&((parentEle=0===(parentEle=_jQueryGS("#"+(1===filterLevel?"zgs20_gsnewFltrHdr":"zgs20_filterLevel_"+(filterLevel-1)))).length?gsfilters.getFilterLevelElement(filterLevel-1):parentEle).append(_jQueryGS("<div>",{id:fLevelId,class:"zgs19_filterLevel"})),fLevelEle=_jQueryGS("#"+fLevelId)),fLevelEle},gsfilters.getMaxFlevelForService=function(filterObj){var fkey,max=0;for(fkey in filterObj){var curLevel=filterObj[fkey].filterLevel;max<curLevel&&(max=curLevel)}return max=gsfilters.getCurrentService()===GSConstant.CONNECT?3:max},gsfilters.getCurrentFilterObjFromPageMeta=function(){return gsfilters.currentFilterComponent.getFilters()},gsfilters.getIsReadMode=function(){return!gsfilters.currentFilterComponent.getMode()},gsfilters.getIsRTLEnabled=function(){var currentFilterComponent=gsfilters.currentFilterComponent;return currentFilterComponent?currentFilterComponent.getRTLEnabled():zgssearch.gscomponent.isRTLEnabled},gsfilters.getIsSettingsHonored=function(){return gsfilters.currentFilterComponent.getFilters().getSettings()},gsfilters.getIsAllLabelNeeded=function(){return gsfilters.currentFilterComponent.getFilters().getAllLabel()},gsfilters.getCurrentService=function(){return gsfilters.currentFilterObj.service},gsfilters.getCurrentFilterObj=function(){return gsfilters.currentFilterObj},gsfilters.updateCurrentFilterObj=function(searchObj){gsfilters.currentFilterObj=Object.assign({},searchObj)},gsfilters.setValueInFilterObj=function(fkey,value){gsfilters.currentFilterObj[fkey]=[value]},gsfilters.getValueFromFilterObj=function(fkey,searchObj){return(searchObj=searchObj||gsfilters.currentFilterObj)[fkey]},gsfilters.setChildRenderingNeed=function(childRendering){gsfilters.childRenderingNeed=childRendering},gsfilters.getChildRenderingNeed=function(){return gsfilters.childRenderingNeed},gsfilters.getTitleForFilter=function(service,fkey){return zgssearch.getFilterObj(service)[fkey].title},gsfilters.removeChildFiltersValuesFromSearchObj=function(service,fLevel){var fkey,gfObj=zgssearch.getFilterObj(service),searchObj=gsfilters.getCurrentFilterObj();for(fkey in searchObj)gfObj.hasOwnProperty(fkey)&&fLevel<gfObj[fkey].filterLevel&&delete searchObj[fkey];service===GSConstant.PROJECTS&&3===fLevel&&delete searchObj.sort},gsfilters.showFilterContainer=function(cardId){"cards"===_jQueryGS(cardId).attr("viewType")?(cardId=_jQueryGS(cardId).attr("cardId"),zgssearch.gscardfilter.showFilterContainer(cardId)):zgssearch.showFilterContainer()},gsfilters.createFilterHolder=function(parentObj){var footer=gsfilters.currentFilterComponent,filHolder=_jQueryGS("<div>",{id:"zgs20_gsfilterHolder",class:"zgs19_filterHolder"}),cancelTitle=footer.getFilters(),resetTitle=cancelTitle.getService(),applyTitle=cancelTitle.getQuery(),isCancelNeeded=cancelTitle.getDescription();filHolder.append(gsfilters.getFilterUIComponent(gsfilters.createFiltersContainer(resetTitle,applyTitle,isCancelNeeded))),footer.getMode()&&(resetTitle=(cancelTitle=footer.getActions()).getReset(),applyTitle=cancelTitle.getApply(),isCancelNeeded=cancelTitle.getCancel(),footer=_jQueryGS("<div>",{class:"zgs19_gsfilterFooter"}),resetTitle&&(resetTitle=cancelTitle.getResetAction().getTitle(),filHolder.append(_jQueryGS("<div>",{id:"zgs20_filterNewResetTitle",class:"zgs19_resetFilterTitle zgs19_gsHideEleme zgs19_gsLogoText",gs:"newfilterActions",actionType:"reset"}).text(resetTitle))),applyTitle&&(applyTitle=cancelTitle.getApplyAction().getTitle(),footer.append(_jQueryGS("<button>",{id:"zgs20_gsnewFilterSaveBtn",class:"zgs19_filterBtn zgs19_applyButton zgs19_gsOverflow  zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",gs:"newfilterActions",actionType:"apply"}).append(_jQueryGS("<span>",{class:"zgs19_gsBtnText",gs:"newfilterActions",actionType:"apply"}).text(applyTitle)))),isCancelNeeded&&(cancelTitle=cancelTitle.getCancelAction().getTitle(),footer.append(_jQueryGS("<button>",{id:"zgs20_gsnewFilterCancelBtn",class:" zgs19_filterBtn zgs19_cancelButton zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",gs:"newfilterActions",actionType:"cancel"}).append(_jQueryGS("<span>",{class:"zgs19_gsBtnText",gs:"newfilterActions",actionType:"cancel"}).text(cancelTitle)))),filHolder.append(footer)),parentObj.append(filHolder)},gsfilters.createFiltersContainer=function(appsNeeded,queryNeeded,descNeeded){var filContainer=_jQueryGS("<div>",{id:"zgs20_newFiltersPage",class:"zgs19_newFiltersPage zgs19_gsfl"});return queryNeeded&&filContainer.append(_jQueryGS("<div>",{class:"zgs19_gsSearchQryTextHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsFilterLabel"}).text(zgssearch.getI18NMsg("gs.cards.search_query"))).append(_jQueryGS("<div>",{contenteditable:"true",id:"zgs20_gsQryBox",class:"zgs19_gsTxtBox",placeholder:zgssearch.I18N.getValue("gs.cards.enter_query")}))),appsNeeded&&filContainer.append(_jQueryGS("<div>",{class:"zgs19_gsServiceHolder zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsFilterLabel",gstitle:zgssearch.getI18NMsg("gs.cards.app")}).text(zgssearch.getI18NMsg("gs.cards.app")).append(_jQueryGS("<span>",{class:"zgs19_gsMandatory"}).text("*"))).append(_jQueryGS("<div>",{id:"zgs20_gsFilterElem_app",class:"zgs19_gsSSServiceIcon zgs19_gsFilterElementOuter",gs:"openAppsList",service:""}))),filContainer.append(_jQueryGS("<div>",{id:"zgs20_gsnewFltrHdr",class:"zgs19_gsFltrHdr zgs19_gsfl"})),filContainer.append(_jQueryGS("<div>",{id:"zgs20_gsAdvSearchHolder",class:"zgs19_gsAdvSearchHolder"})),descNeeded&&filContainer.append(_jQueryGS("<div>",{class:"zgs19_gsDescriptionTextHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsFilterLabel"}).text(zgssearch.getI18NMsg("common.description"))).append(_jQueryGS("<div>",{id:"zgs20_gsDescriptionField",class:"zgs19_gsDescriptionField zgs19_gsfl"}).append(_jQueryGS("<textarea>",{id:"zgs20_gsDescriptionTxt",class:"zgs19_gsDescriptionTxt",placeholder:zgssearch.I18N.getValue("gs.save.card_description")})))),filContainer},gsfilters.getFilterUIComponent=function(filContainer){return _jQueryGS("<div>",{id:"zgs20_gsfilterBodyHldr",class:"zgs19_filterBodyHldr",tabindex:"0"}).append(_jQueryGS("<div>",{id:"zgs20_gsFilterPopup",class:"zgs19_gsFilterPopup zgs19_gsDisplayNone"})).append(filContainer)},gsfilters.clearAllFilterElements=function(){_jQueryGS("#zgs20_gsnewFltrHdr").empty()},gsfilters.clearAllChildElements=function(fLevel){_jQueryGS("#zgs20_filterLevel_"+(fLevel+1)).empty()},gsfilters.renderFilters=function(){gsfilters.disabledApplyButton(),gsfilters.clearAllFilterElements();var service=gsfilters.currentFilterObj.service;gsfilters.currentFilterComponent.getFilters().getService()&&zgssearch.updateServiceElem(service),gsfilters.renderFiltersPage(service,0),zgssearch.hasFilterChanged=!1,zgssearch.checkAdvanceSearchEnabledOrNot()},gsfilters.renderFiltersPage=function(service,minFLevelRenderingNeeded){var fLevelRenderingNotNeeded,gfObj=zgssearch.getFilterObj(service),common_order=zgssearch.getServiceOrders(gfObj),filtersLen=common_order.length;gsfilters.setChildRenderingNeed(!0);for(var fMax=gsfilters.getMaxFlevelForService(gfObj),i=0;i<filtersLen;i++){var fLevel,fKey=common_order[i];gfObj.hasOwnProperty(fKey)&&((fLevel=gfObj[fKey].filterLevel)<=minFLevelRenderingNeeded||fLevelRenderingNotNeeded<fLevel||gsfilters.skipRenderingNeeded(gfObj,service,fKey,fLevel)||(gsfilters.renderEachFilter(fLevel,fKey,fMax),gsfilters.getChildRenderingNeed()||(fLevelRenderingNotNeeded=fLevel)))}},gsfilters.skipRenderingNeeded=function(gfObj,service,fKey,fLevel){switch(fKey){case"accounts":var mlist=zgssearch.getWidgetServiceList(service);if(_jQueryGS.isEmptyObject(mlist))return gsfilters.getFilterLevelElement(fLevel),gsfilters.setValueInFilterObj(fKey,gsfilters.getDefValueForServiceType(service,fKey)),gsfilters.enableApplyButton(),!0;break;case"sort":return!0;case"modules":if(service===GSConstant.CONNECT)if((parKey=gsfilters.getValueFromFilterObj("accounts"))&&!gfObj[fKey].data[parKey[0]])return!0;break;case"projects":case"workspaces":if(service===GSConstant.PROJECTS||"workspaces"===fKey)if(!(parKey=gsfilters.getValueFromFilterObj("accounts"))||!gfObj[fKey].data[parKey[0]])return!0;break;case"folders":if(service===GSConstant.WORKDRIVE){var parKey="ENTERPRISE"===zgssearch.editionTypeForWD?"teams":"accounts";if(!zgssearch.includes(gsfilters.getValueFromFilterObj(parKey)[0]||"",Object.keys(gfObj[fKey].data)))return!0}}if(service===GSConstant.MAILS&&3===fLevel){if(!(modId=gsfilters.getValueFromFilterObj("modules")))return!0;if(1<modId.length)return!0;if(gfObj[fKey].hasOwnProperty("parKey"))if(!zgssearch.includes(modId[0],gfObj[fKey].parId))return!0}if(4===fLevel){var modId;if(1<(modId=gsfilters.getValueFromFilterObj("modules")).length)return!0;if(!zgssearch.includes(modId[0],gfObj[fKey].parId))return!0}return gsfilters.isSkipNeededForAdvanceSearch(service,fKey)},gsfilters.isSkipNeededForAdvanceSearch=function(service,fkey){if(zgssearch.isAdvanceSearchEnabledForService(service))switch(service){case GSConstant.CLIQ:case GSConstant.NOTEBOOK:case GSConstant.CONNECT:case GSConstant.WORKDRIVE:if("notecardtype"===fkey||"date"===fkey||"filetype"===fkey)return!0}return!1},gsfilters.renderEachFilter=function(fLevel,fkey,fMax){var service=gsfilters.getCurrentService();if((3===fLevel||2===fLevel&&service===GSConstant.O365MAIL||service===GSConstant.GMAIL)&&"6"===zgssearch.getFilterInfo(gsfilters.getCurrentService(),fkey,"type"))return void gsfilters.renderTypeSixFilters(fLevel,fkey);var isSettingsHonored=gsfilters.getIsSettingsHonored(),holderElem=gsfilters.getFilterLevelElement(fLevel),fTitle=gsfilters.getTitleForFilter(service,fkey),curValue=gsfilters.getValueFromFilterObj(fkey),defValue=gsfilters.getDefValueForServiceType(service,fkey,isSettingsHonored),currentId=curValue&&curValue[0]?curValue[0]:defValue;zgssearch.includes(fkey,gsfilters.dateKeys)&&(currentId=currentId.type||currentId);var selvalueLen=zgssearch.getWidgetServiceList(service),isMandatoryField=!_jQueryGS.isEmptyObject(selvalueLen)&&(fkey===selvalueLen.key||fkey===selvalueLen.childkey),dispName=gsfilters.handleDisplayNameForFilter(service,currentId,isMandatoryField,fkey,isSettingsHonored),selvalueLen=gsfilters.getDataLengthForServiceType(service,fkey);dispName||(selvalueLen||(dispName=zgssearch.getI18NMsg("gs.cards.select")),gsfilters.setChildRenderingNeed(!1)),holderElem.append(gsfilters.renderEachFilterElement(service,fkey,"newfilterActions",currentId,defValue,fTitle,dispName,isMandatoryField,selvalueLen)),gsfilters.isMultiSelectEnabledFilter(service,fkey)&&(selvalueLen=curValue?curValue.length:0,gsfilters.showingFilterCount(fkey,selvalueLen)),curValue||gsfilters.setValueInFilterObj(fkey,currentId),fLevel<fMax?gsfilters.isChildRenderingNeeded(service,fkey,currentId,defValue,fLevel,isMandatoryField,isSettingsHonored):1===fLevel&&_jQueryGS("#zgs20_gsFilterElem_"+fkey).prev().find(".zgs19_gsMandatory").remove()},gsfilters.getDefValueForServiceType=function(service,fKey,isSettingsHonored,data){isSettingsHonored=void 0===isSettingsHonored?gsfilters.getIsSettingsHonored():isSettingsHonored;data=gsfilters.getDataForFilter(service,fKey,isSettingsHonored,data);if("accounts"===fKey)return data?1<Object.keys(data).length?"0":Object.keys(data)[0]:"";if(service===GSConstant.MAILS){if("modules"===fKey&&data&&1<Object.keys(data).length)return zgssearch.getFilterInfo(service,fKey,"default");if("entity_type"===fKey)return"-1"}else{if("folders"===fKey&&service!==GSConstant.O365MAIL)return data&&data[0].hasOwnProperty("key")?data[0].key:"";if(service===GSConstant.SALESFORCE)return zgssearch.getFilterInfo(service,fKey,"default")}return data?Object.keys(data)[0]:""},gsfilters.getDataLengthForServiceType=function(service,fKey,data){data=gsfilters.getDataForFilter(service,fKey,data);return 1===Object.keys(data).length},gsfilters.handleDisplayNameForFilter=function(service,fValue,isMandatoryField,fKey,isSettingsHonored){return("0"!==fValue||!isMandatoryField||gsfilters.getIsAllLabelNeeded())&&gsfilters.getDispName(service,fKey,fValue,isSettingsHonored)||""},gsfilters.getDispName=function(service,fKey,fValue,isSettingsHonored){var data=gsfilters.getDataForFilter(service,fKey,isSettingsHonored);if("folders"===fKey&&service!==GSConstant.O365MAIL)for(var fkey in data)if(data[fkey].key===fValue)return data[fkey].name;return service===GSConstant.MAILS&&"modules"===fKey&&"0"===fValue?zgssearch.getFilterInfo(service,fKey,"dispname"):data.hasOwnProperty(fValue)?data[fValue]:null},gsfilters.isMultiSelectEnabledFilter=function(filterObj,fkey){filterObj=zgssearch.getFilterObj(filterObj);return!!(0<Object.keys(filterObj).length&&filterObj[fkey].hasOwnProperty("mulSelectKey"))},gsfilters.getDataForFilter=function(service,fKey,isSettingsHonored,searchObj){var gfObj=zgssearch.getFilterObj(service);if(_jQueryGS.isEmptyObject(gfObj))return"";var fLevel=gfObj[fKey].filterLevel,data=!isSettingsHonored&&gfObj[fKey].alldata||gfObj[fKey].data;switch(fLevel){case 1:return data;case 2:if("date"===fKey)return data;switch(service){case GSConstant.CLIQ:case GSConstant.NOTEBOOK:case GSConstant.REPORTS:case GSConstant.CAMPAIGNS:case GSConstant.GOOGLEDRIVE:return data;default:var accId=gsfilters.getValueFromFilterObj("accounts",searchObj);return accId&&data[accId[0]]?data[accId[0]]:data}case 3:var modId=gsfilters.getParentId(gfObj,fLevel);if(service!==GSConstant.CONNECT)return"folders"===fKey&&(service===GSConstant.MAILS?modId="accounts":service===GSConstant.WORKDRIVE&&(modId="ENTERPRISE"===zgssearch.editionTypeForWD?"teams":"accounts")),(parId=gsfilters.getValueFromFilterObj(modId,searchObj))&&0!=parId[0]?"object"==typeof data[parId[0]]?data[parId[0]]:data:"";modId=gsfilters.getValueFromFilterObj("modules",searchObj)[0];return data[parId=gsfilters.getValueFromFilterObj("accounts",searchObj)[0]+"_"+modId];case 4:var parId,modId=gsfilters.getValueFromFilterObj("modules",searchObj)[0];return"modifiedTime"===fKey||"dueDate"===fKey?data:data[parId=gsfilters.getValueFromFilterObj("projects",searchObj)[0]+"_"+modId];default:return""}},gsfilters.getParentId=function(gfObj,filterLevel){var fkey,parkey="";for(fkey in gfObj)if(gfObj[fkey].filterLevel===filterLevel-1){parkey=fkey;break}return parkey},gsfilters.renderTypeSixFilters=function(curValue,fkey){var holderElem=gsfilters.getFilterLevelElement(curValue),defValue=gsfilters.getCurrentService(),fTitle=gsfilters.getTitleForFilter(defValue,fkey),curValue=gsfilters.getValueFromFilterObj(fkey),defValue=zgssearch.getFilterInfo(defValue,fkey,"default"),curValue=curValue&&curValue[0]?curValue[0]:defValue;gsfilters.renderMoreFilterTitleWithCheckBox(holderElem,"newfilterActions",fkey,curValue,fTitle)},gsfilters.isChildRenderingNeeded=function(service,fkey,currentId,defValue,fLevel,isMandatoryField,isNotDefValue){isNotDefValue=gsfilters.checkValueAndDisableApplybutton(isMandatoryField,service,fkey,currentId,defValue,isNotDefValue);gsfilters.setChildRenderingNeed(isNotDefValue),gsfilters.getOnDemandFilters(service,fkey,fLevel,isNotDefValue)},gsfilters.checkValueAndDisableApplybutton=function(isMandatoryField,service,fkey,currentId,defValue,isNotDefValue){isNotDefValue=gsfilters.getDataForFilter(service,fkey,isNotDefValue),isNotDefValue=Object.keys(isNotDefValue).length,isNotDefValue=currentId!==defValue||1===isNotDefValue;return(isNotDefValue=service===GSConstant.NOTEBOOK&&"notes"===currentId?!0:isNotDefValue)||gsfilters.getIsAllLabelNeeded()?gsfilters.enableApplyButton():isMandatoryField&&gsfilters.disabledApplyButton(),isNotDefValue},gsfilters.getOnDemandFilters=function(flistObj,dateIndex,fLevel,statusIndex){var modId,callbackObj={param1:flistObj,param2:fLevel,isCallbackNeeded:!0,callback:gsfilters.renderFiltersPage},childRenderingNeed=statusIndex;dateIndex===zgssearch.gsprojects.modules&&flistObj===GSConstant.PROJECTS&&statusIndex?(modId=gsfilters.getValueFromFilterObj("modules"))&&(childRenderingNeed=zgssearch.loadProjectsModChildFilter(flistObj,modId[0],gsfilters.getValueFromFilterObj("projects")[0],gsfilters.getValueFromFilterObj("accounts")[0],callbackObj),gsfilters.setChildRenderingNeed(childRenderingNeed)):flistObj===GSConstant.ASANA&&dateIndex===zgssearch.WS&&statusIndex&&(dateIndex=gsfilters.getValueFromFilterObj(zgssearch.WS),statusIndex=zgssearch.getFilterObj(flistObj),flistObj=gsfilters.getvalidFilterList(statusIndex.order,statusIndex),""!==zgssearch.getFilterInfo("asana","projects","data")&&zgssearch.getFilterInfo("asana","projects","data").hasOwnProperty(dateIndex)||(gsfilters.setAsanaProjectsFilter(dateIndex,callbackObj),statusIndex=flistObj.indexOf("completed"),flistObj.splice(statusIndex,0,"projects"),childRenderingNeed=!1),""!==zgssearch.getFilterInfo("asana","tags","data")&&zgssearch.getFilterInfo("asana","tags","data").hasOwnProperty(dateIndex)||(childRenderingNeed?gsfilters.setAsanaTagsFilter(dateIndex,callbackObj):gsfilters.setAsanaTagsFilter(dateIndex),childRenderingNeed=!1,dateIndex=flistObj.indexOf("date"),flistObj.splice(dateIndex,0,"tags")),gsfilters.setChildRenderingNeed(childRenderingNeed)),gsfilters.getFilterLevelElement(fLevel+1)},gsfilters.getvalidFilterList=function(forder,gfObj,service){var flistObj=[],forderLen=forder.length;if(forderLen)for(var i=0;i<forderLen;i++){var fkObj,fkey=forder[i];gfObj.hasOwnProperty(fkey)&&((1<((fkObj=gfObj[fkey]||{}).length||0)||"6"==fkObj.type&&service!==GSConstant.MAILS||"1"==fkObj.subtype)&&flistObj.push(fkey))}return flistObj},gsfilters.checkQueryExists=function(){return zgssearch.isQueryValid(zgssearch.getQueryText())||zgssearch.isQueryHasUserCriteria()},gsfilters.renderEachFilterElement=function(service,fkey,gsAttr,currentId,defValue,filterTitle,dispName,isReadMode,isSingleDataLength){var datekey="date"===fkey||"dueDate"===fkey||"modifiedTime"===fkey?"FilterDate":"",elemDiv="";if(!(currentId&&defValue&&dispName))return"";elemDiv=_jQueryGS("<div>",{class:"zgs19_gsEachFilterHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsFilterLabel zgs19_gsOverflow",gstitle:filterTitle}).text(filterTitle)).append(_jQueryGS("<div>",{id:"zgs20_gsFilterElem_"+fkey,class:"zgs19_gsFilterElementOuter",gs:gsAttr,actionType:"openFilterList",service:service,fkey:fkey,value:currentId,gsa:datekey}).append(_jQueryGS("<div>",{class:"zgs19_gsnewFilterTxt zgs19_gsOverflow zgs19_gsfl ",gs:gsAttr,gstitle:dispName}).text(dispName)).append(_jQueryGS("<span>",{class:"zgs19_gsEachFilterCount zgs19_gsfl zgs19_gsDisplayNone",gs:gsAttr}))),currentId!==defValue&&_jQueryGS(elemDiv).find(".zgs19_gsnewFilterTxt").addClass("zgs19_tc2fa6ea"),isReadMode&&!isSingleDataLength&&_jQueryGS(elemDiv).find(".zgs19_gsFilterLabel").append(_jQueryGS("<span>",{class:"zgs19_gsMandatory"}).text("*"));isReadMode=gsfilters.getIsReadMode();return isSingleDataLength||isReadMode?_jQueryGS(elemDiv).find(".zgs19_gsFilterElementOuter").css("pointer-events","none"):_jQueryGS(elemDiv).find(".zgs19_gsFilterElementOuter").append(_jQueryGS("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px",gs:gsAttr})),elemDiv},gsfilters.showingFilterCount=function(filterCountDiv,selectKeysLen){filterCountDiv=_jQueryGS("#zgs20_gsFilterElem_"+filterCountDiv).find(".zgs19_gsEachFilterCount");1<selectKeysLen?(filterCountDiv.text("+"+(selectKeysLen-1)),filterCountDiv.css("display","block")):filterCountDiv.css("display","none")},gsfilters.openEachFilterPopUp=function(defValue){var curFltrElem=_jQueryGS(defValue).closest(".zgs19_gsFilterElementOuter");gsfilters.highlightFilterHolder(curFltrElem);var selectedArr,service=_jQueryGS(curFltrElem).attr("service"),fkey=_jQueryGS(curFltrElem).attr("fkey"),filterListEle=_jQueryGS("#zgs20_gsFilterPopup");filterListEle.is(":visible")?gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup"):(selectedArr=gsfilters.getValueFromFilterObj(fkey),defValue=gsfilters.getDefValueForServiceType(service,fkey),selectedArr=selectedArr||[defValue],filterListEle.hasClass("zgs19_gsFilterPopup")||(gsfilters.removeAllAttributes("zgs20_gsFilterPopup"),filterListEle.empty().addClass("zgs19_gsFilterPopup zgs19_gsDisplayNone")),gsfilters.renderFilterListPopUp(curFltrElem,"zgs20_gsFilterPopup",service,fkey,selectedArr,defValue),gsfilters.addEventsForFiltersPage(),zgssearch.isFilterListDisplay=!0)},gsfilters.highlightFilterHolder=function(curFltrElem){_jQueryGS(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol").removeClass("zgs19_curSelectedFilter"),curFltrElem.addClass("zgs19_gsBorderThemeCol").addClass("zgs19_curSelectedFilter"),_jQueryGS(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),curFltrElem.find(".zgs18_gsFilterDropDownIcon").addClass("zgs18_gsOpenFilterDropDownIcon")},gsfilters.hideEachFilterPopUp=function(modFilterPopId){_jQueryGS("#"+modFilterPopId).css("display","none"),zgssearch.isCurrFilterClickelem=!1,zgssearch.isFilterListDisplay=!1,_jQueryGS(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),_jQueryGS(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol"),zgssearch.isFilterPageOpened&&_jQueryGS(".zgs19_applyButton").focus()},gsfilters.openAppsList=function(target){var selectedService,serviceList,filterListElem=_jQueryGS("#zgs20_gsFilterPopup");zgssearch.isAppListOpened?gsfilters.hideAppsList():(filterListElem.hasClass("zgs19_gsFilterPopup")||(gsfilters.removeAllAttributes("zgs20_gsFilterPopup"),filterListElem.empty().addClass("zgs19_gsFilterPopup zgs19_gsDisplayNone")),selectedService=_jQueryGS("#zgs20_gsFilterElem_app").attr("service"),serviceList=gsfilters.getIsSettingsHonored()?zgssearch.getEnabledServiceList():zgssearch.getConstAllServList(),gsfilters.renderAppsMenu(selectedService,filterListElem,serviceList,gsfilters.getIsAllLabelNeeded()),gsfilters.highlightFilterHolder(_jQueryGS(target).closest(".zgs19_gsFilterElementOuter")),zgssearch.focusForWeb("zgs20_gsSerListQrybox"),filterListElem.hide(),gsfilters.setFilterListPosition(_jQueryGS(target).closest(".zgs19_gsFilterElementOuter"),"zgs20_gsFilterPopup","zgs19_filterBodyHldr"),gsfilters.addEventsForFiltersPage(),zgssearch.isAppListOpened=!0)},gsfilters.renderAppsMenu=function(selectedService,popUpElem,serviceList,isAllAppsNeeded){popUpElem.empty();var appsDiv=_jQueryGS("<div>",{class:"zgs19_gsAppsMenu zgs19_gsSSServiceIcon"}),serviceLen=serviceList.length;6<serviceLen&&gsfilters.addSearchQueryBox(popUpElem,"zgs20_gsSerListQrybox"),isAllAppsNeeded&&appsDiv.append(_jQueryGS("<div>",{class:"zgs19_gsnewServiceInfoHolder zgs19_gsServiceInfoHolder",service:"all"}).append(gsfilters.renderEachAppMenu("all",[selectedService])));for(var i=0;i<serviceLen;i++){var eachSerDiv=serviceList[i];(GSConstant.ASANA!==eachSerDiv&&GSConstant.widgetObject.hasOwnProperty("servicesinfo")&&GSConstant.widgetObject.servicesinfo.hasOwnProperty(eachSerDiv)||zgssearch.isFilterPageOpened)&&(eachSerDiv=_jQueryGS("<div>",{class:"zgs19_gsnewServiceInfoHolder zgs19_gsServiceInfoHolder",service:eachSerDiv}).append(gsfilters.renderEachAppMenu(eachSerDiv,[selectedService])),appsDiv.append(eachSerDiv))}popUpElem.append(appsDiv),popUpElem.css("display","block")},gsfilters.addSearchQueryBox=function(parentElem,searchBoxId){parentElem.append(_jQueryGS("<div>",{id:"zgs20_gsSearchQryHeader",class:"zgs19_gsModuleFilterWidgetHeader"}).append(_jQueryGS("<div>",{id:"zgs20_gsSearchQryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(_jQueryGS("<span>",{class:"zgs18_gsLensIconTab zgs19_gsfl"})).append(_jQueryGS("<input>",{id:searchBoxId,class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:zgssearch.getI18NMsg("common.search")})))),_jQueryGS("#"+searchBoxId).attr("autocomplete","off")},gsfilters.renderEachAppMenu=function(service,selectedServiceArr,isMultiSelected){var isChecked,iconHolder="",displayName="",dcolor="",tickElem="",serviceTxtWidthClass="",chelem=_jQueryGS("<div>",{class:"zgs19_gsEachServiceRow"});return""===service?displayName=zgssearch.getI18NMsg("gs.cards.select"):(isChecked=zgssearch.mappedServiceList[service].serviceicon,displayName=zgssearch.mappedServiceList[service].displayName,iconHolder=_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl zgs19_gsMgTop10Px "+isChecked}),zgssearch.LINE_ICON_MAP.hasOwnProperty(isChecked)&&zgssearch.obtainLineIconPaths(isChecked,_jQueryGS(iconHolder)[0]),(isChecked=selectedServiceArr&&-1<selectedServiceArr.indexOf(service))&&(isMultiSelected||(dcolor="zgs19_tc2fa6ea",tickElem=_jQueryGS("<span>",{class:"zgs18_TickIcon zgs19_gsCardTypeSelected zgs19_gsfr"}))),serviceTxtWidthClass=isMultiSelected?(isChecked=isChecked||selectedServiceArr[0]===GSConstant.ALL,chelem.append(zgssearch.renderCheckBox("edit",isChecked,"service",service))," zgs19_gsWid70Per"):" zgs19_gsWid80Per"),chelem.append(iconHolder).append(_jQueryGS("<span>",{class:"zgs19_gsNewSerivceTxt zgs19_gsOverflow zgs19_gsfl "+dcolor+serviceTxtWidthClass,gstitle:displayName}).text(displayName).append(tickElem)),chelem},gsfilters.hideAppsList=function(){_jQueryGS("#zgs20_gsFilterPopup").css("display","none"),zgssearch.isAppListOpened=!1,_jQueryGS(".zgs19_curSelectedFilter").focus(),_jQueryGS(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),_jQueryGS(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),gsfilters.currselecElem="",zgssearch.isFilterPageOpened&&_jQueryGS(".zgs19_applyButton").focus()},gsfilters.checkAndEnableApplyButtonForFilters=function(service){var mlist,isSettingsHonored,metaKey,metaDef,metaVal;service&&(mlist=zgssearch.getWidgetServiceList(service),!gsfilters.getIsAllLabelNeeded()&&!_jQueryGS.isEmptyObject(mlist)&&(mlist.hasOwnProperty("key")||mlist.hasOwnProperty("childkey"))?(isSettingsHonored=gsfilters.getIsSettingsHonored(),metaDef=metaKey=metaVal="",(metaVal=mlist.hasOwnProperty("childkey")?(metaKey=mlist.childkey,gsfilters.getValueFromFilterObj(mlist.childkey)||""):(metaKey=mlist.key,gsfilters.getValueFromFilterObj(mlist.key)||""))&&(metaDef=gsfilters.getDefValueForServiceType(service,metaKey,isSettingsHonored),gsfilters.checkValueAndDisableApplybutton(!0,service,metaKey,metaVal[0],metaDef,isSettingsHonored))):gsfilters.enableApplyButton())},gsfilters.removeAllAttributes=function(elementId){for(var element=_jQueryGS("#"+elementId)[0],length=element.attributes.length,i=0;i<length;i++)element.removeAttributeNode(element.attributes[0]);_jQueryGS(element).attr("id",elementId)},gsfilters.renderFilterListPopUp=function(curFltrElem,parentHdrId,service_name,fkey,selectedArr,filterHdrElem){var filterListPopUpId=_jQueryGS("#"+parentHdrId);filterListPopUpId.empty().hide(),filterListPopUpId.append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsEachFilterWidgetHeader zgs19_gsDisplayNone",gs:"newfilterActions",actionType:"gsFilterWidgetHeader"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsEachFilterHdr",service:service_name,fkey:fkey})),zgssearch.includes(fkey,gsfilters.dateKeys)&&(selectedArr=selectedArr[0].hasOwnProperty("type")?[selectedArr[0].type]:selectedArr),gsfilters.renderallFilterList(service_name,fkey,"zgs20_gsModuleFilterWidgetFooter",parentHdrId,selectedArr,filterHdrElem),service_name!==GSConstant.WORKDRIVE||""!==(maxLengthClass=zgssearch.getFilterInfo(service_name,fkey,"header"))&&maxLengthClass[0].isrequired&&gsfilters.addSegregationInFilters(fkey,maxLengthClass);var filterHdrElem=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter"),maxLengthClass=1===zgssearch.gscomponent.UIType?"zgs19_gsMxHt245Px":"zgs19_gsMxHt190Px";0<filterListPopUpId.find("#zgs20_gsEditFieldsBottom").length?filterHdrElem.removeClass("zgs19_gsMxHt310Px").addClass(maxLengthClass):filterHdrElem.removeClass(maxLengthClass).addClass("zgs19_gsMxHt310Px"),filterListPopUpId.attr("service",service_name),filterListPopUpId.css("display","block"),250<=filterHdrElem[0].scrollHeight?(zgssearch.renderSearchQueryHoldersInFilters("zgs20_gsModuleFilterWidgetHeader","gsFilterQueryBox","zgs20_gsFilterQueryBox"),filterHdrElem.removeClass("zgs19_gsMxHt190Px zgs19_gsMxHt245Px zgs19_gsMxHt310Px"),0<filterListPopUpId.find("#zgs20_gsEditFieldsBottom").length?1===zgssearch.gscomponent.UIType?filterHdrElem.addClass("zgs19_gsMxHt190Px"):filterHdrElem.addClass("zgs19_mgMxHt150Px"):filterHdrElem.addClass(maxLengthClass)):filterHdrElem.addClass("zgs19_gsPdngTp10Px"),zgssearch.includes(fkey,gsfilters.dateKeys)&&zgssearch.loadDatePicker(),filterListPopUpId.hide(),gsfilters.setFilterListPosition(curFltrElem,parentHdrId,"zgs19_filterBodyHldr"),gsfilters.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",service_name)},gsfilters.addSegregationInFilters=function(fkey,sfObj){if("teams"===fkey||"folders"===fkey){for(var key in sfObj[1]){var id="#zgs20_gsFilterQuerySelection"+key,nextFilter="#zgs20_gsFilterQuerySelection"+(parseInt(key)+1);0<_jQueryGS(nextFilter).length&&(_jQueryGS(id).next().hasClass("zgs18_gsModuleSeleFilterTick")&&(id=".zgs18_gsModuleSeleFilterTick"),_jQueryGS(id).after(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterServiceHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader"}).text(sfObj[1][key])))}_jQueryGS(".zgs19_gsFilterQuerySelection").css("padding-left","15px")}},gsfilters.renderallFilterList=function(service,fkey,hdrElemId,listingEleId,selectedArr,defValue){var isMultiSelectEnabled,isSettingsHonored=gsfilters.getIsSettingsHonored(),wObj=gsfilters.getDataForFilter(service,fkey,isSettingsHonored),fIndex=0;if(isMultiSelectEnabled=(isMultiSelectEnabled=gsfilters.isMultiSelectEnabledFilter(service,fkey))&&1<Object.keys(wObj).length){var isAllSelected=selectedArr[0]===defValue,isChecked=!1;for(ikey in wObj){var isChecked=!1,value="";"folders"===fkey&&service!==GSConstant.O365MAIL?(value=wObj[ikey].name,ikey=wObj[ikey].key):value=wObj[ikey],zgssearch.includes(ikey,selectedArr)&&(isChecked=!0),gsfilters.renderEachFilterList(hdrElemId,"newfilterActions","filterCheckBoxChild",fIndex++,fkey,ikey,selectedArr,value,isMultiSelectEnabled,isAllSelected,isChecked)}gsfilters.renderMultiSelectActions(listingEleId)}else for(var ikey in wObj){value="";"folders"===fkey&&service!==GSConstant.O365MAIL?(value=wObj[ikey].name,ikey=wObj[ikey].key):value=wObj[ikey],gsfilters.renderEachFilterList(hdrElemId,"newfilterActions","moduleFilterChild",fIndex++,fkey,ikey,selectedArr[0],value)}zgssearch.includes(fkey,gsfilters.dateKeys)&&_jQueryGS("#zgs20_gsFilterQuerySelection4").after(_jQueryGS("<hr>",{class:"zgs19_gsMoreFilterHRTag",style:"width:90%;margin:0 auto;"}))},gsfilters.getoffset=function(posKey){var elemposition=posKey[0].getBoundingClientRect(),isRTLEnabled=gsfilters.getIsRTLEnabled(),posKey=isRTLEnabled?"right":"left",posKey=isRTLEnabled?elemposition[posKey]-elemposition.width:elemposition[posKey];return{top:elemposition.top,left:posKey}},gsfilters.setFilterListPosition=function(popupMinWidth,marginPos,parentRelativeTop){var elemWidth=_jQueryGS(popupMinWidth).closest("."+parentRelativeTop),isElemRelativePos="relative"===elemWidth.css("position"),popUpElem=_jQueryGS("#"+marginPos),elemHeight=parseFloat(_jQueryGS(popupMinWidth).outerHeight()),elemPos=zgssearch.gsfilters.getoffset(_jQueryGS(popupMinWidth));gsfilters.closestHolderElem=_jQueryGS(popupMinWidth);var leftPos=zgssearch.gsfilters.getoffset(elemWidth),tempPos=gsfilters.parentElem,topPos=elemPos.top+elemHeight-leftPos.top,popUpHeight=_jQueryGS("#"+marginPos).outerHeight()+5,parentRelativeTop=leftPos.top-tempPos.offset().top,marginPos="top";elemWidth[0].scrollHeight>elemWidth.height()?isElemRelativePos||0===elemWidth.scrollTop()||(elemWidth.css("position","relative"),isElemRelativePos=!0):(elemWidth.css("position","static"),isElemRelativePos=!1);(isElemRelativePos?topPos+parentRelativeTop>tempPos.height()/2&&topPos+popUpHeight>elemWidth.height():topPos+parentRelativeTop>tempPos.height()/2&&topPos+parentRelativeTop+popUpHeight>tempPos.height())&&(marginPos="bottom",(topPos=(tempPos=topPos)-elemHeight-popUpHeight)<0&&(topPos=tempPos,marginPos="top",isElemRelativePos||(elemWidth.css("position","relative"),isElemRelativePos=!0)));leftPos=elemPos.left-leftPos.left;if(isElemRelativePos?(topPos+=elemWidth.scrollTop(),leftPos+=elemWidth.scrollLeft()):topPos+=5,popUpElem.hasClass("zgs19_gsFieldsPopup"))switch(popUpElem.attr("lType")){case"1":popUpElem.removeClass("zgs19_gsMinWid180px zgs19_gsWid300px"),popUpElem.addClass("zgs19_gsMinWid180px");break;case"2":popUpElem.removeClass("zgs19_gsMinWid180px zgs19_gsWid300px"),popUpElem.addClass("zgs19_gsWid300px");break;default:popUpElem.removeClass("zgs19_gsMinWid180px zgs19_gsWid300px")}elemWidth=_jQueryGS(popupMinWidth).outerWidth();gsfilters.getIsRTLEnabled()&&(leftPos-=((popupMinWidth=parseInt(_jQueryGS(popUpElem).css("min-width").replace("px","")))<elemWidth?elemWidth:popupMinWidth)-elemWidth),popUpElem.css({"inset-block-start":Math.floor(topPos),left:Math.floor(leftPos),width:elemWidth}),"top"===marginPos?popUpElem.css({"margin-block-start":"5px","margin-block-end":"0px"}):popUpElem.css({"margin-block-start":"0px","margin-block-end":"5px"}),popUpElem.show(),!zgssearch.gskeyboard.isCurElementInViewPort(popUpElem[0])&&isElemRelativePos&&popUpElem[0].scrollIntoView(!1)},gsfilters.isElementInViewPort=function(curPos,parentPos){parentPos=(curPos=0<curPos.length?curPos[0]:curPos).closest("."+parentPos).getBoundingClientRect(),curPos=curPos.getBoundingClientRect();return curPos.top>=parentPos.top&&curPos.bottom<=parentPos.bottom},gsfilters.updateFilterListPosition=function(){var popupElem=_jQueryGS("#zgs20_gsFilterPopup"),topPos=popupElem.offset().top,parentElem=gsfilters.closestHolderElem,topPosForHolder=parentElem?parentElem.offset().top:topPos;topPos<topPosForHolder&&(parentElem=_jQueryGS(".zgs19_filterBodyHldr"),topPos=topPosForHolder-popupElem.outerHeight()-parentElem.offset().top+parentElem.scrollTop(),popupElem.css({"inset-block-start":Math.floor(topPos),"margin-block-start":"0px","margin-block-end":"5px"}))},gsfilters.renderEachFilterList=function(id,gsattr,actionType,fIndex,chelem,key,marigin,value,isMultiSelect,isAllSelected,isChecked,selectedCls){value=zgssearch.replaceHTMLEntity(value);var seleClass=key==marigin?"zgs19_gsModuleSeleFilterElem":"zgs19_gsModuleUnSeleFilterElem",tickEle="";isMultiSelect?isChecked&&(seleClass="zgs19_gsModuleSeleFilterElem "):key==marigin&&(marigin=zgssearch.isExtension?"zgs19_gsModuleSeleFilterTickMargin":"zgs18_gsModuleSeleFilterTickMargin",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick "+marigin}));chelem=_jQueryGS("<div>",{id:"zgs20_gsFilterQuerySelection"+fIndex,class:(selectedCls=selectedCls||"")+" zgs19_gsFilterQuerySelection zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow "+seleClass,gs:gsattr,actionType:actionType,fkey:chelem,key:key,value:value});isMultiSelect?(chelem.append(gsfilters.renderCheckBox(isChecked=isAllSelected?!0:isChecked,key,value)),chelem.append(_jQueryGS("<span>",{class:"zgs19_gsFlterTxt zgs19_gsWid80Per zgs19_gsOverflow zgs19_gsfl "+seleClass,gstitle:value}).text(value)),_jQueryGS(chelem).addClass("zgs19_gsNewMultiFilterSelection")):chelem.text(value),_jQueryGS(chelem).attr("index",fIndex),_jQueryGS("#"+id).append(chelem).append(tickEle)},gsfilters.renderCheckBox=function(isChecked,key,value){return _jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox"}).append(_jQueryGS("<input>",{class:"zgs19_gsfl",type:"checkbox",checked:isChecked,key:key,value:value,gs:"newfilterActions",actionType:"moreFiltercheckbox"})).append(_jQueryGS("<label>"))},gsfilters.renderMultiSelectActions=function(elemId){_jQueryGS("#"+elemId).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsOverflow zgs19_gsHideEleme zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",value:zgssearch.getI18NMsg("common.done"),gs:"newfilterActions",actionType:"moduleFilterEditFields",datatype:"applyFilterFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg("common.cancel"),value:zgssearch.getI18NMsg("common.cancel"),gs:"newfilterActions",actionType:"moduleFilterEditFields",datatype:"closeFilterFields"})))},gsfilters.renderMoreFilterTitleWithCheckBox=function(holderElem,gsAttr,fKey,isSelected,dvalue){isSelected=""+isSelected=="true",_jQueryGS(holderElem).append(_jQueryGS("<div>",{class:"zgs19_gsNewMoreFilterTitle zgs19_gsOverflow"}).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox",gs:gsAttr,fkey:fKey,soid:isSelected}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterLabel zgs19_gsOverflow zgs19_gsfl",gs:gsAttr,actionType:"moreFiltercheckbox"}).text(dvalue)).append(_jQueryGS("<input>",{class:"zgs19_gsfl",type:"checkbox",value:dvalue,checked:isSelected,gs:gsAttr,actionType:"moreFiltercheckbox"})).append(_jQueryGS("<label>",{gs:gsAttr,actionType:"moreFiltercheckbox"}))))},gsfilters.serviceClickActions=function(service){gsfilters.hideAppsList(),gsfilters.currentFilterObj={},gsfilters.currentFilterObj.service=service,zgssearch.hasServiceChanged=!0,gsfilters.renderFilters(gsfilters.currentFilterComponent),gsfilters.checkAndApplyResetEnabledOrNot(),gsfilters.getIsAllLabelNeeded()&&gsfilters.enableApplyButton(),zgssearch.hasServiceChanged=!1},gsfilters.checkAndApplyResetEnabledOrNot=function(){gsfilters.getCurrentService()!==GSConstant.ALL?gsfilters.enableResetButton():gsfilters.disableResetButton()},gsfilters.moreFilterCheckBoxActionControl=function(target,isChecked){var fkey=_jQueryGS(isChecked).attr("fkey"),isChecked=""+zgssearch.moreFilterCheckBoxAction(target,isChecked);gsfilters.setValueInFilterObj(fkey,isChecked),zgssearch.hasFilterChanged=!0,gsfilters.enableResetButton(),gsfilters.enableApplyButton()},gsfilters.filterEditFieldsActionControl=function(target){switch(_jQueryGS(target).attr("datatype")){case"closeFilterFields":gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup");break;case"applyFilterFields":gsfilters.multiSelectFilterClickActions()}},gsfilters.multiSelectFilterClickActions=function(fLevel){gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup");var service=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter"),searchObj=service.attr("fkey"),checkedArr=fLevel||service.find("input:checked"),checkedArrLen=checkedArr.length;if(0<checkedArrLen){var defKey=_jQueryGS(service).find("#zgs20_gsFilterQuerySelection0").attr("key"),firstSelKey=_jQueryGS(checkedArr[0]).attr("key"),fLevel=_jQueryGS(checkedArr[0]).attr("value"),selectedKeys=[firstSelKey],selectedValues=[fLevel];if(defKey!==firstSelKey)for(var i=1;i<checkedArrLen;i++)selectedKeys.push(_jQueryGS(checkedArr[i]).attr("key")),selectedValues.push(_jQueryGS(checkedArr[i]).attr("value"));gsfilters.currentFilterObj[searchObj]=selectedKeys;service=_jQueryGS("#zgs20_gsFilterElem_"+searchObj),service=_jQueryGS(service).find(".zgs19_gsnewFilterTxt");firstSelKey===defKey?_jQueryGS(service).removeClass("zgs19_tc2fa6ea"):_jQueryGS(service).addClass("zgs19_tc2fa6ea"),_jQueryGS(service).text(fLevel).attr("gstitle",selectedValues.join(", ")),gsfilters.showingFilterCount(searchObj,selectedKeys.length),zgssearch.hasFilterChanged=!0,gsfilters.enableApplyButton(),gsfilters.enableResetButton();service=gsfilters.getCurrentService();searchObj!==zgssearch.gsprojects.modules||service!==GSConstant.PROJECTS&&service!==GSConstant.CONNECT||(fLevel=gsfilters.getFilterLevel(service,searchObj),gsfilters.removeChildFiltersValuesFromSearchObj(service,fLevel),gsfilters.clearAllChildElements(fLevel),gsfilters.setChildRenderingNeed(firstSelKey!==defKey),gsfilters.getOnDemandFilters(service,searchObj,fLevel,firstSelKey!==defKey),gsfilters.getChildRenderingNeed()&&gsfilters.renderFiltersPage(service,fLevel)),"modules"!==searchObj&&"departments"!==searchObj||((searchObj=gsfilters.getCurrentFilterObj()).hasOwnProperty("advConfig")&&(delete searchObj.advConfig,delete searchObj.qryPattern),zgssearch.checkAdvanceSearchEnabledOrNot())}},gsfilters.singleSelectFilterClickActions=function(value){gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup");var isDefaultValue,key=_jQueryGS(value).closest(".zgs19_gsEachFilterHdr"),service=_jQueryGS(key).attr("service"),searchObj=_jQueryGS(key).attr("fkey"),fLevel=_jQueryGS(value).closest(".zgs19_gsFilterQuerySelection"),key=_jQueryGS(fLevel).attr("key"),value=_jQueryGS(fLevel).attr("value"),fLevel=_jQueryGS("#zgs20_gsFilterElem_"+searchObj);"customrange"===key||"customdate"===key?(isDefaultValue=_jQueryGS("#zgs20_gsFilterElem_"+searchObj),gsfilters.selectedDateKey=searchObj,"customrange"===key?zgssearch.loadCustomDatePickers("3","2","dd-MM-yyyy","zgs20_gsCustomCalendarHolder",isDefaultValue):zgssearch.loadCustomDatePickers("3","0","dd-MM-yyyy","zgs20_gsCustomCalendarHolder",isDefaultValue),gsfilters.handleDatepicker(searchObj,isDefaultValue,key),_jQueryGS(fLevel).removeClass("zgs19_gsboxholder")):(isDefaultValue=gsfilters.getValueFromFilterObj(searchObj))&&isDefaultValue[0]===key||(gsfilters.setValueInFilterObj(searchObj,key),isDefaultValue=gsfilters.getDefValueForServiceType(service,searchObj),fLevel=_jQueryGS(fLevel).find(".zgs19_gsnewFilterTxt"),_jQueryGS(fLevel).text(value).attr("gstitle",value),(isDefaultValue=key===isDefaultValue)?_jQueryGS(fLevel).removeClass("zgs19_tc2fa6ea"):_jQueryGS(fLevel).addClass("zgs19_tc2fa6ea"),fLevel=zgssearch.getWidgetServiceList(service),fLevel=!_jQueryGS.isEmptyObject(fLevel)&&(searchObj===fLevel.key||searchObj===fLevel.childkey),!gsfilters.getIsAllLabelNeeded()&&fLevel&&isDefaultValue?gsfilters.disabledApplyButton():gsfilters.enableApplyButton(),zgssearch.hasFilterChanged=!0,gsfilters.enableResetFilter(),fLevel=gsfilters.getFilterLevel(service,searchObj),zgssearch.includes(searchObj,gsfilters.dateKeys)||(gsfilters.removeChildFiltersValuesFromSearchObj(service,fLevel),gsfilters.clearAllChildElements(fLevel),isDefaultValue||gsfilters.renderFiltersPage(service,fLevel)),"accounts"!==searchObj&&"modules"!==searchObj&&"departments"!==searchObj||((searchObj=gsfilters.getCurrentFilterObj()).hasOwnProperty("advConfig")&&(delete searchObj.advConfig,delete searchObj.qryPattern),zgssearch.checkAdvanceSearchEnabledOrNot()))},gsfilters.filterActions=function(callback,argParam){callback=gsfilters.getActionObjectForActionType(callback),callback=callback?callback.getCallback():"";return callback?callback(argParam):""},gsfilters.getAdvanceFilterDetails=function(fieldList){if(zgssearch.hasFilterChanged||zgssearch.hasServiceChanged)return{};var queryPattern=gsfilters.getCurrentFilterObj(),advConfig=queryPattern.advConfig||[],queryPattern=queryPattern.qryPattern||"1";return zgssearch.getCriteriaListFromAdvConfig(fieldList,advConfig,queryPattern)},gsfilters.handleDatepicker=function(value,pElem,key){var attributeObj,fromValue,toValue;zgssearch.isCustomDatePickerDisplay?zgssearch.hideNewCustomDatePicker():(attributeObj={},toValue=fromValue="",(value=gsfilters.getValueFromFilterObj(value))&&value[0].hasOwnProperty("type")&&(fromValue=value[0].fdate,toValue=value[0].tdate),"customrange"===key?(attributeObj.selectionType="separate",attributeObj.fromValue=fromValue,attributeObj.toValue=toValue,key="customdaterange"):attributeObj.fromValue=fromValue,attributeObj.callback=gsfilters.updateFieldDateobject,pElem=_jQueryGS(pElem).closest(".zgs19_gsFilterElementOuter"),zgssearch.handleNewCustomDatePicker(pElem,key,attributeObj))},gsfilters.updateFieldDateobject=function(response){var fromdate,dispName="",dateFkey=gsfilters.selectedDateKey;response.hasOwnProperty("valueString")&&response.valueString?(fromdate=""+response.valueString,gsfilters.currentFilterObj[dateFkey]=[{fdate:fromdate,tdate:fromdate,type:"customdate"}],dispName=zgssearch.getI18NMsg("gs.search.filter.customdate")):response.hasOwnProperty("toValueString")&&response.toValueString&&(fromdate=""+response.fromValueString,txtElem=""+response.toValueString,gsfilters.currentFilterObj[dateFkey]=[{fdate:fromdate,tdate:txtElem,type:"customrange"}],dispName=zgssearch.getI18NMsg("gs.search.filter.customrange"));var txtElem=_jQueryGS("[gsa='FilterDate']").find(".zgs19_gsnewFilterTxt");_jQueryGS(txtElem).text(dispName).addClass("zgs19_tc2fa6ea"),zgssearch.isCustomDatePickerDisplay=!1,zgssearch.hasFilterChanged=!0,gsfilters.enableApplyButton(),gsfilters.enableResetButton()},gsfilters.filterPopUpSearchQueryActions=function(service_name){_jQueryGS("#zgs20_gsFilterQueryBox").off().on({focus:function(){_jQueryGS("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){gsfilters.filterPopUpInputFetch(service_name),gsfilters.setFilterListPosition(gsfilters.closestHolderElem,"zgs20_gsFilterPopup","zgs19_filterBodyHldr")}},!0)},gsfilters.filterPopUpInputFetch=function(serviceName){zgssearch.currFilterSelectedElem="",_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn");for(var headerId,hid,deskObject,query=(query=zgssearch.getValue("zgs20_gsFilterQueryBox")).trim(),headerobj={},childNodes=zgssearch.getTargetElem("zgs20_gsModuleFilterWidgetFooter").childNodes||[],matchedCount=0,i=0;i<childNodes.length;i++){var filterText,isSelecPortal,isMultiSelectEnabled,prefix,match,targetDiv,textDiv,iterChild=childNodes[i],docFragment=_jQueryGS(iterChild).attr("gs");docFragment&&("mFilterWidgetHeader"==docFragment?headerobj[headerId=i]=!1:(match=_jQueryGS(iterChild).attr("fkey"),filterText=_jQueryGS(iterChild).attr("value"),isSelecPortal=_jQueryGS(iterChild).hasClass("zgs19_gsModuleSeleFilterElem"),isMultiSelectEnabled=gsfilters.isMultiSelectEnabledFilter(serviceName,match),zgssearch.isQueryValid(query)?(prefix=filterText,serviceName==GSConstant.MAILS&&"folders"==match&&(prefix=(prefix=prefix.replace(new RegExp("(^.../)"),"")).replace(new RegExp("(/$)"),"")),docFragment=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&"),match=new RegExp(docFragment,"i"),-1<prefix.search(match)&&(isMultiSelectEnabled||!isSelecPortal)?(matchedCount+=1,zgssearch.isEditFieldsLoader=!1,headerobj[headerId]=!0,docFragment=filterText.search(match),prefix=filterText.substr(0,docFragment),match=filterText.substr(docFragment,query.length),docFragment=filterText.substr(docFragment+query.length,filterText.length),docFragment=zgssearch.gssecurity.getHighlightTextNode(prefix,match,docFragment,{class:"zgs19_gshighlight"}),isMultiSelectEnabled?((textDiv=(targetDiv=_jQueryGS(iterChild)).find(".zgs19_gsFlterTxt")).empty(),_jQueryGS(textDiv).append(docFragment),targetDiv.css("display","block")):(_jQueryGS(iterChild).empty(),iterChild.appendChild(docFragment),_jQueryGS(iterChild).css("display","block"))):((isMultiSelectEnabled?_jQueryGS(iterChild).find(".zgs19_gsFlterTxt"):_jQueryGS(iterChild)).text(filterText),_jQueryGS(iterChild).css("display","none"),isSelecPortal&&_jQueryGS(".zgs18_gsModuleSeleFilterTick").css("display","none"))):(matchedCount+=1,headerobj[headerId]=!0,isMultiSelectEnabled?((textDiv=(targetDiv=_jQueryGS(iterChild)).find(".zgs19_gsFlterTxt")).text(filterText),targetDiv.css("display","block")):(_jQueryGS(iterChild).text(filterText).css("display","block"),isSelecPortal&&_jQueryGS(".zgs18_gsModuleSeleFilterTick").css("display","block")))))}for(hid in headerobj){var hdisplay=headerobj[hid],hchild=childNodes[hid];hchild&&(hdisplay=hdisplay?"block":"none",_jQueryGS(hchild).css("display",hdisplay))}matchedCount<5&&(serviceName!=GSConstant.PEOPLE||gsfilters.ispeopleDeptCached(query)||(_jQueryGS("#zgs20_gsEditFieldsLoader").remove(),deskObject=zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader"),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").after(deskObject),deskObject={query:query,nodeLen:childNodes.length},gsfilters.fetchPeopleDeptData(deskObject)))},gsfilters.filterCheckBoxClickActions=function(target){var tarElem=_jQueryGS(target).closest(".zgs19_gsFilterQuerySelection"),fkey=_jQueryGS(tarElem).attr("fkey"),service=_jQueryGS(tarElem).closest(".zgs19_gsEachFilterHdr").attr("service"),defValue=gsfilters.getDefValueForServiceType(service,fkey);gsfilters.filterCheckBoxActionsHandling(target,tarElem,service,fkey,defValue,"zgs20_gsFilterPopup",!1)},gsfilters.filterCheckBoxActionsHandling=function(selInputsLen,tarElem,service,title,defValue,filterHdrId,isMaxCountExcluded){var key=_jQueryGS(tarElem).attr("key"),isChecked=_jQueryGS(tarElem).find("input").prop("checked"),isChecked=selInputsLen&&"INPUT"==selInputsLen.tagName?isChecked:!isChecked,checkBoxes=_jQueryGS("#"+filterHdrId).find("input[type=checkbox]"),totalCheckLen=checkBoxes.length,isAllSelected=!1,selInputsLen=0;if(key===defValue)for(var isAllSelected=isChecked,i=0;i<totalCheckLen;i++)_jQueryGS(checkBoxes[i]).prop("checked",isChecked);else{selInputsLen=_jQueryGS("#"+filterHdrId).find("input:checked").length;isChecked?((isMaxCountExcluded||selInputsLen<zgssearch.maxSelFiltersCount||selInputsLen+2===totalCheckLen)&&_jQueryGS(tarElem).find("input").prop("checked",isChecked),selInputsLen++):(_jQueryGS(tarElem).find("input").prop("checked",isChecked),selInputsLen--),totalCheckLen-1===selInputsLen&&(_jQueryGS(checkBoxes[0]).prop("checked",isChecked),isAllSelected=isChecked),!isMaxCountExcluded&&selInputsLen>zgssearch.maxSelFiltersCount&&(title="service"===title?"Service":zgssearch.getFilterInfo(service,title,"title"),zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.search.filter.selected")+" "+title+" "+zgssearch.getI18NMsg("gs.search.filter.not_exceed")+" "+zgssearch.maxSelFiltersCount}))}gsfilters.renderFilterCheckBoxUpdateChanges(checkBoxes,isAllSelected,defValue),isAllSelected||0<selInputsLen&&(--selInputsLen<=zgssearch.maxSelFiltersCount||isMaxCountExcluded)?gsfilters.enableApplyButtonForCheckboxActions(filterHdrId):gsfilters.disableApplyButtonForCheckboxActions(filterHdrId)},gsfilters.renderFilterCheckBoxUpdateChanges=function(inputBoxes,isAllSelected,defaultValue){for(var x=0;x<inputBoxes.length;x++){var tarElem=_jQueryGS(inputBoxes[x]),isSelected=tarElem.prop("checked"),selKey=tarElem.attr("key");(isSelected=isAllSelected&&selKey!==defaultValue?!1:isSelected)?tarElem.closest(".zgs19_gsFilterQuerySelection").find(".zgs19_gsFlterTxt").removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem").addClass("zgs19_gsModuleSeleFilterElem"):tarElem.closest(".zgs19_gsFilterQuerySelection").find(".zgs19_gsFlterTxt").removeClass("zgs19_gsModuleUnSeleFilterElem zgs19_gsModuleSeleFilterElem").addClass("zgs19_gsModuleUnSeleFilterElem")}},gsfilters.enableApplyButtonForCheckboxActions=function(elemId){_jQueryGS("#"+elemId).find(".zgs19_gsEditFieldsBottom1").removeClass("zgs19_gsHideEleme")},gsfilters.disableApplyButtonForCheckboxActions=function(elemId){_jQueryGS("#"+elemId).find(".zgs19_gsEditFieldsBottom1").addClass("zgs19_gsHideEleme")},gsfilters.enableApplyButton=function(){gsfilters.buttonAction("apply",!0)},gsfilters.disabledApplyButton=function(){gsfilters.buttonAction("apply",!1)},gsfilters.enableResetButton=function(){gsfilters.buttonAction("reset",!0)},gsfilters.disableResetButton=function(){gsfilters.buttonAction("reset",!1)},gsfilters.compareWithDefObj=function(searchObj,isSettingsHonored){var defValue,service=searchObj.service,gfObj=zgssearch.getFilterObj(service),count=0;if(!_jQueryGS.isEmptyObject(gfObj)){for(var curValue in searchObj)gfObj.hasOwnProperty(curValue)&&"sort"!=curValue&&(defValue=gsfilters.getDefValueForServiceType(service,curValue,isSettingsHonored,searchObj),curValue=(curValue=searchObj[curValue][0])?curValue.toString().trim():"",defValue&&curValue&&curValue!==defValue&&count++);searchObj.hasOwnProperty("advConfig")&&0<searchObj.advConfig.length&&(count+=searchObj.advConfig.length)}return count},gsfilters.enableResetFilter=function(){_jQueryGS("#zgs20_filterNewResetTitle").removeClass("zgs19_gsHideEleme")},gsfilters.disableResetFilter=function(){_jQueryGS("#zgs20_filterNewResetTitle").addClass("zgs19_gsHideEleme")},gsfilters.checkAndHideFilterPageElements=function(clickElem){var curFltrElem;(zgssearch.isFilterListDisplay||gsfilters.isUserSuggDisplay)&&(curFltrElem=_jQueryGS(clickElem).closest(".zgs19_gsFilterElementOuter"),clickElem=_jQueryGS(clickElem).closest("#zgs20_gsFilterPopup"),curFltrElem.length||clickElem.length||gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup"))},gsfilters.hideAndRemoveFilterElements=function(){zgssearch.popupUtils.closeOverlayDialog(),_jQueryGS("#zgs20_gsfilterHolder").remove()},gsfilters.openUserContactsList=function(target){var filterListElem,query=_jQueryGS(target).text().replace(/\u00a0/g," ").replace(/\u200B/g," ");0<query.length&&((filterListElem=_jQueryGS("#zgs20_gsFilterPopup")).empty(),filterListElem.css("display","none"),filterListElem.hasClass("zgs19_gsFilterPopup")||(gsfilters.removeAllAttributes("zgs20_gsFilterPopup"),filterListElem.addClass("zgs19_gsFilterPopup zgs19_gsDisplayNone")),zgssearch.ContactsSearchType="filterUI",gsfilters.showUserContactSugg(query),0<_jQueryGS(".zgs19_gsAutoSuggChild").length&&(gsfilters.setFilterListPosition(_jQueryGS(target),filterListElem.attr("id"),"zgs19_filterBodyHldr"),filterListElem.css("display","block")),gsfilters.addEventsForFiltersPage()),zgssearch.isQueryChanged=!0,gsfilters.checkAndEnableApplyButtonForFilters(gsfilters.getCurrentService()),gsfilters.enableResetButton()},gsfilters.showUserContactSugg=function(query){var hmleng=query.length,hmatches=query.substr(0,hmleng);gsfilters.asMatchedObj=[];var fobj=zgssearch.gsautocomplete.modifiers.users,mi1=fobj.symbol,lind=hmatches.lastIndexOf(mi1),squery="",pquery="";zgssearch.isQueryValid(query)&&0===_jQueryGS("#zgs20_gsQryBox .zgs19_gsSelectedUsercont").length&&(pquery=0==lind||" "==hmatches[lind-1]?(squery=hmatches.substr(0,lind-1),hmatches.substr(lind,hmleng)):(squery=hmatches.substr(0,hmleng),mi1+hmatches.substr(0,hmleng)),0<(hmleng=(hmatches=zgssearch.gsautocomplete.findMatchedData("users",pquery)).length)?(fobj={key:"users",value:mi1,matches:hmatches,pquery:pquery,squery:squery,length:hmleng,max:fobj.asMax,start:0},gsfilters.asMatchedObj.push(fobj),zgssearch.gsautocomplete.renderUsersuggestList(fobj,"zgs20_gsCustomUserSugg","zgs20_gsFilterPopup"),gsfilters.isUserSuggDisplay=!0):gsfilters.hideUserContactSugg())},gsfilters.hideUserContactSugg=function(){_jQueryGS("#zgs20_gsFilterPopup").css("display","none"),gsfilters.isUserSuggDisplay=!1,gsfilters.currselecElem=""},gsfilters.updateQrySearchBox=function(value){value=_jQueryGS(value).attr("value");gsfilters.addMentionedUserInfo(value),zgssearch.setCursorPosInEditableDivElement("zgs20_gsQryBox"),gsfilters.hideUserContactSugg(),zgssearch.isQueryChanged=!0,zgssearch.gsautocomplete.currselecelem=""},gsfilters.enableOverlayDialog=function(){_jQueryGS("#zgs20_gsOverlayDialog").css("display","block")},gsfilters.disableConfirmDialogBox=function(){_jQueryGS(".zgs19_gsCnfrmDialogBox").css("display","none"),zgssearch.isFilterPageOpened||zgssearch.popupUtils.closeOverlayDialog()},gsfilters.addMentionedUserInfo=function(curText){var qryElement=zgssearch.gsautocomplete.get("users"),mIndex=zgssearch.gsautocomplete.modifiers.users.symbol,name=zgssearch.gsusercontacts.getProximityContactsObject(),queriedContacts=zgssearch.gsusercontacts.getQueriedProxContactsObject(),userObj=zgssearch.gsusercontacts.getCurrCacheQryContact(),userObj=(qryElement=_jQueryGS.extend({},queriedContacts,userObj,name,qryElement))[curText],name=mIndex+(name=zgssearch.replaceHTMLEntity(userObj.DNAME)),qryElement=_jQueryGS("#zgs20_gsQryBox"),curText=qryElement.text(),mIndex=curText.lastIndexOf(mIndex);-1<mIndex?(curText=curText.substr(0,mIndex),qryElement.text(curText)):qryElement.text(""),gsfilters.createMentionElement(userObj.ZUID,name,userObj.EMAILID)},gsfilters.createMentionElement=function(zuid,name,email){_jQueryGS("#zgs20_gsQryBox").append(" ").append(_jQueryGS("<span>",{contenteditable:!1,class:"zgs19_gsSelectedUsercont zgs19_gsOverflow",zuid:zuid,email:email}).text(name)).append(" ")},gsfilters.showMoreUserSuggest=function(lindex){var key,mobj,parent=lindex.parentNode;parent&&(mobj=gsfilters.asMatchedObj||[],key=_jQueryGS(parent).attr("key"),lindex=_jQueryGS(parent).attr("lindex"),lindex=parseInt(lindex),_jQueryGS(parent).remove(),(mobj=mobj[0]||{}).key==key&&(mobj.start=lindex,mobj.max=zgssearch.gsautocomplete.modifiers[key].asMax,zgssearch.gsautocomplete.renderUsersuggestList(mobj,"zgs20_gsCustomUserSugg","zgs20_gsFilterPopup"),gsfilters.addEventsForFiltersPage()))},gsfilters.updateSearchBoxQueryInFilters=function(queryArr){queryArr&&0<queryArr.length&&queryArr.forEach(function(queryObj){var key=Object.keys(queryObj)[0];switch(key){case"query":var mentionValue=queryObj[key];mentionValue&&(user_name=_jQueryGS("<span>").text(mentionValue),_jQueryGS("#zgs20_gsQryBox").append(user_name).append(" "));break;case"men_user_zuid":case"men_user_email":var zuid,email,mentionValue=queryObj[key],user_name="";(user_name="men_user_email"===key?mentionValue:(email=zgssearch.gscardUtils.zuidcardsinfo).hasOwnProperty(zuid=mentionValue)?email[zuid]:"")&&(email=zgssearch.ProximityContacts.zuidVsEmailId[zuid],gsfilters.createMentionElement(zuid,user_name="@"+user_name,email))}})},gsfilters.getQueryInfo=function(cardconfig){for(var queryArr=[],filterObjLen=cardconfig.length,i=0;i<filterObjLen;i++){var mentionValue,eachFilterObj=cardconfig[i];if(eachFilterObj.hasOwnProperty("name"))switch(eachFilterObj.name){case"zs_query":var qry=eachFilterObj.value;(qry=null!=qry?qry[0]:"")&&queryArr.push({query:qry});break;case"zs_mention":(mentionValue=null!=(mentionValue=eachFilterObj.value)?mentionValue[0]:"")&&queryArr.push({men_user_zuid:mentionValue});break;case"mentioned_email":(mentionValue=null!=(mentionValue=eachFilterObj.value)?mentionValue[0]:"")&&queryArr.push({men_user_email:mentionValue})}}return queryArr},gsfilters.getQueryFilterInOrder=function(){var queryArr=[],tquery=_jQueryGS("#zgs20_gsQryBox").text(),menEmail=_jQueryGS("#zgs20_gsQryBox .zgs19_gsSelectedUsercont"),mentionQry=menEmail.text(),menZuid=mentionQry.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&"),query2=new RegExp("(^"+menZuid+"\\s|\\s"+menZuid+"\\s|\\s"+menZuid+"$|^"+menZuid+"$)","g"),menZuid=query2.exec(tquery);return tquery&&menZuid&&null!==menZuid?(menZuid=tquery.substring(0,menZuid.index),query2=tquery.substring(query2.lastIndex,tquery.length),menZuid.trim()&&queryArr.push({query:menZuid}),menZuid=menEmail.attr("zuid"),menEmail=menEmail.attr("email"),menZuid?(queryArr.push({men_user_zuid:menZuid}),zgssearch.gscardUtils.zuidcardsinfo={},zgssearch.gscardUtils.zuidcardsinfo[menZuid]=mentionQry.slice(1)):menEmail&&queryArr.push({men_user_email:menEmail}),query2.trim()&&queryArr.push({query:query2})):queryArr.push({query:tquery}),queryArr},gsfilters.fetchPeopleDeptData=function(argParams){argParams=argParams||{};var params,search_type=GSConstant.PEOPLE;zgssearch.getFilterObj(search_type).hasOwnProperty("departments")&&(argParams={obj:argParams,query:params=argParams.query||"",curCount:zgssearch.gsusercontacts.getServerCallCount()},params="action=fetchPeopleDept&query="+encodeURIComponent(params),zgssearch.gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(curPortal,status,params){var params=params.args||{},fIndex=(params.obj||{}).nodeLen-1||0,response=zgssearch.jsonParse(curPortal)||[];zgssearch.gsusercontacts.queueserver={flag:!1,expiry_time:0},_jQueryGS("#zgs20_gsEditFieldsLoader").remove();var deptName,isMultiSelectEnabled,isAllSelected,curPortal=gsfilters.getValueFromFilterObj("accounts"),currentPeopleDept=zgssearch.getFilterInfo(GSConstant.PEOPLE,"departments","data")[curPortal],currentPeopleDeptVal=gsfilters.getValueFromFilterObj("departments");if(currentPeopleDept)for(var dId in response)currentPeopleDept.hasOwnProperty(dId)||(deptName=response[dId],currentPeopleDept[dId]=deptName,(isMultiSelectEnabled=gsfilters.isMultiSelectEnabledFilter(GSConstant.PEOPLE,"departments"))?(isAllSelected=_jQueryGS(".zgs19_gsFilterQuerySelection")[0],isAllSelected=_jQueryGS(isAllSelected).find("input[type=checkbox]").prop("checked"),gsfilters.renderEachFilterList("zgs20_gsModuleFilterWidgetFooter","newfilterActions","filterCheckBoxChild",fIndex++,"departments",dId,currentPeopleDeptVal,deptName,isMultiSelectEnabled,isAllSelected,!1)):gsfilters.renderEachFilterList("zgs20_gsModuleFilterWidgetFooter","newfilterActions","moduleFilterChild",fIndex++,"departments",dId,currentPeopleDeptVal,deptName));gsfilters.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",search_type),zgssearch.updateFilterInfo("people","data",currentPeopleDept);params=(params.obj||{}).query||"";params&&(params="per_page=50&query="+encodeURIComponent(params),gsfilters.peopleDeptCache.noresult.push(params)),gsfilters.filterPopUpInputFetch(search_type)}))},gsfilters.ispeopleDeptCached=function(query){var myCacheResults=gsfilters.peopleDeptCache.result||[],myCacheNoResults=gsfilters.peopleDeptCache.noresult||[];return!!zgssearch.gsusercontacts.isReqCached(query,myCacheResults,myCacheNoResults,"","per_page=50")},gsfilters.setAsanaProjectsFilter=function(workspaceId,callbackObj){var params=gsfilters.getValueFromFilterObj("accounts"),url_obj_proj=zgssearch.getAppIdForCloudApps(params,zgssearch.GSConstant.ASANA),params="&service_name="+zgssearch.GSConstant.ASANA+"&connector_id="+params+"&gid="+workspaceId+"&app_id="+url_obj_proj,url_obj_proj={url:"/zgssearch/exconnector/getCalloutData?",type:"GET",dataType:"text"};url_obj_proj.data="action=getAsanaProjects"+params,url_obj_proj.success=function(response){var response=("string"==typeof response?JSON.parse(response):response).response,projFilterClassList=document.getElementById("zgs20_gsModuleFilterElem_projects")?document.getElementById("zgs20_gsModuleFilterElem_projects").classList:[],project_details=response.projects,projects_filter_info={},p2=zgssearch.getFilterInfo(zgssearch.GSConstant.ASANA,"projects","data"),p1=zgssearch.getFilterObj(zgssearch.GSConstant.ASANA).projects;if(response.projects&&0<response.projects.length){projects_filter_info.all=zgssearch.getI18NMsg("gs.search.filter.allprojects");for(var proj=0;proj<project_details.length;proj++){var proj_obj=project_details[proj],display_name=proj_obj.name;projects_filter_info[proj_obj.gid]=display_name}p2[workspaceId]=projects_filter_info,zgssearch.isArrayContain("zgs19_gsboxholder",projFilterClassList)&&(_jQueryGS("#zgs20_gsModuleFilterWidgetLoader").remove(),_jQueryGS("#zgs20_gsModuleFilterElem_projects").click()),zgssearch.setFiltersDetails(p1,"dispname",zgssearch.getI18NMsg("gs.search.filter.allprojects"))}else zgssearch.isArrayContain("zgs19_gsboxholder",projFilterClassList)&&(_jQueryGS("#zgs20_gsModuleFilterWidgetLoader").remove(),_jQueryGS("#zgs20_gsModuleFilterWidgetFooter").append("No projects")),_jQueryGS("#zgs20_gsModuleFilterElem_projects").attr("gs",""),_jQueryGS("#zgs20_gsModuleFilterElem_projects").removeClass("zgs19_gsCurPointer"),_jQueryGS("#zgs20_gsModuleFilterElem_projects .zgs19_gsModuleFilterSerNameNew").removeClass("zgs19_tc2fa6ea"),_jQueryGS("#zgs20_gsModuleFilterElem_projects .zgs19_gsModuleFilterSerNameNew").addClass("zgs19_serDisbName");zgssearch.setFiltersDetails(p1,"data",p2),zgssearch.setFiltersDetails(p1,"length",Object.keys(p2[workspaceId]).length),callbackObj&&(p1=callbackObj.param1,p2=callbackObj.param2,callbackObj.hasOwnProperty("callback")&&callbackObj.callback(p1,p2))},zgssearch.network.uri(url_obj_proj)},gsfilters.setAsanaTagsFilter=function(workspaceId,callbackObj){var params=gsfilters.getValueFromFilterObj("accounts"),url_obj_tag=zgssearch.getAppIdForCloudApps(params,zgssearch.GSConstant.ASANA),params="&service_name="+zgssearch.GSConstant.ASANA+"&connector_id="+params+"&gid="+workspaceId+"&app_id="+url_obj_tag,url_obj_tag={url:"/zgssearch/exconnector/getCalloutData?",type:"GET",dataType:"text"};url_obj_tag.data="action=getAsanaTags"+params,url_obj_tag.success=function(response){var tag_details=(response=("string"==typeof response?JSON.parse(response):response).response).tags,tags_filter_info={},p1=zgssearch.getFilterInfo(zgssearch.GSConstant.ASANA,"tags","data"),p2=zgssearch.getFilterObj(zgssearch.GSConstant.ASANA).tags;if(response.tags&&0<response.tags.length){tags_filter_info.all=zgssearch.getI18NMsg("gs.search.filter.alltags");for(var tag=0;tag<tag_details.length;tag++){var tag_obj=tag_details[tag],display_name=tag_obj.name;tags_filter_info[tag_obj.gid]=display_name}p1[workspaceId]=tags_filter_info}else p1[workspaceId]={};zgssearch.setFiltersDetails(p2,"data",p1),zgssearch.setFiltersDetails(p2,"length",Object.keys(p1[workspaceId]).length),zgssearch.setFiltersDetails(p2,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltags")),callbackObj&&(p1=callbackObj.param1,p2=callbackObj.param2,callbackObj.hasOwnProperty("callback")&&callbackObj.callback(p1,p2))},zgssearch.network.uri(url_obj_tag)},gsfilters.updateDynamicFilterDetails=function(service,currFilData,filKey,type){var currFilDefaultVal=zgssearch.getFilterInfo(service,filKey,"default"),currFilType=zgssearch.getFilterInfo(service,filKey,"type"),filLen=Object.keys(currFilData).length,dispName="",defFilId=currFilDefaultVal;1<filLen?dispName=currFilData[currFilDefaultVal]:1==filLen&&(dispName=currFilData[defFilId]),"object"==typeof dispName?dispName=dispName.name||zgssearch.getFilterInfo(service,filKey,"headertitle"):"3"!==type||"categories"!==filKey&&"group"!==filKey||(dispName=currFilData[Object.keys(currFilData)[0]][currFilDefaultVal]),dispName="6"===currFilType?zgssearch.getFilterInfo(service,filKey,"title"):dispName,zgssearch.updateFilterInfo(service,filKey,"default",defFilId),zgssearch.updateFilterInfo(service,filKey,"dispname",dispName),zgssearch.updateFilterInfo(service,filKey,"length",filLen)},gsfilters.checkAndReturnFiltersTabElement=function(info,id){var targetElem,sortTitle,sortDiv;switch(info){case"filters":return 0===(targetElem=_jQueryGS("#"+id)).length&&(sortDiv=_jQueryGS("<div>",{id:id,class:"zgs19_filtersAppliedTitle zgs19_gsfl zgs19_gsOverflow zgs19_tcfd9c10",gs:"newfilterActions",actionType:"openAppliedFilters",viewType:"search"}),_jQueryGS("#zgs20_gsModuleFilterDataHolder").append(sortDiv),targetElem=_jQueryGS("#"+id)),targetElem;case"sort":return 0===(targetElem=_jQueryGS("#"+id)).length&&(sortTitle=_jQueryGS("<div>",{class:"zgs19_gssortTitle zgs19_gsfr zgs19_gsOverflow"}).text(zgssearch.getI18NMsg("gs.search.filter.sortby")+": "),sortDiv=_jQueryGS("<div>",{id:"zgs20_gsModuleFilterSortHolder",class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleSortNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",fkey:"sort",gs:"mFilterWidget"}).append(_jQueryGS("<span>",{id:"zgs20_gsSortname",class:"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"})),_jQueryGS("#zgs20_gsModuleFilterDataHolder").append(sortDiv).append(sortTitle),targetElem=_jQueryGS("#"+id)),targetElem;case"cardFilters":return _jQueryGS("<div>",{class:"zgs19_filtersAppliedTitle zgs19_gsfl zgs19_gsOverflow ",gs:"newfilterActions",actionType:"openAppliedFilters",viewType:"cards"})}return{}}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.moreDataList={},zgssearch.ziaOrderedServiceList=[GSConstant.ALL,GSConstant.PEOPLE,GSConstant.PERSONALCONTACTS,GSConstant.ORGCONTACTS,GSConstant.MAILS,GSConstant.CHAT,GSConstant.CLIQ,GSConstant.NOTEBOOK,GSConstant.WORKDRIVE,GSConstant.CONNECT,GSConstant.CRM,GSConstant.BOOKS,GSConstant.INVOICE,GSConstant.INVENTORY,GSConstant.SUPPORT,GSConstant.CREATOR,GSConstant.CAMPAIGNS,GSConstant.REPORTS,GSConstant.WIKI,GSConstant.ORGRESOURCES,GSConstant.DROPBOX,GSConstant.GOOGLEDRIVE,GSConstant.BOX,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.WEBSITE,GSConstant.CALENDAR,GSConstant.ONEDRIVE,,GSConstant.GMAIL,GSConstant.SALESFORCE,GSConstant.PROJECTS,GSConstant.EVERNOTE,GSConstant.ASANA];var suiteServiceList=zgssearch.gscomponent.isServiceSuite?gscomponent.getSuiteServiceList():[];zgssearch.orderedServiceList=zgssearch.orderedServiceList||(0<suiteServiceList.length?suiteServiceList:zgssearch.ziaOrderedServiceList),zgssearch.moreDataList.settings={displayName:zgssearch.getI18NMsg("gs.settings.header.settings"),serviceicon:"zgs19_gsUniSettingsIcon",id:"zgs20_gsSettingsView"},zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES=[GSConstant.PEOPLE,GSConstant.PERSONALCONTACTS,GSConstant.CONNECT,GSConstant.CLIQ,GSConstant.STREAMS,GSConstant.PROJECTS],zgssearch.havingUserPhoto=[GSConstant.CLIQ,GSConstant.CHAT,GSConstant.PEOPLE,GSConstant.ORGCONTACTS,GSConstant.PERSONALCONTACTS,GSConstant.CONNECT,GSConstant.SLACK,GSConstant.STREAMS],zgssearch.FINANCE_SUITE_SERVICES=[GSConstant.BOOKS,GSConstant.INVOICE,GSConstant.INVENTORY],zgssearch.gsCloud=zgssearch.gsCloud||{},zgssearch.servMetaData={},zgssearch.obtainServicesLoader=function(lhsSettingsEle){var skeletonLoaderEle=_jQueryGS("."+lhsSettingsEle)[0];if(zgssearch.isDashboardEnabled){var lhsTabsPaneOuter=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLHSTabsOuter","","",""),lhsMinMaxEle=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLHSTabs","","","");lhsTabsPaneOuter.append(lhsMinMaxEle);for(var lhsTabsPaneEle=_jQueryGS(".zgs19_gsSkeletonLHSTabs")[0],lhsServicesPaneEle=_jQueryGS(".zgs19_gsSkeletonLHSServices")[0],k=0;k<3;k++){var tabdiv=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div><div class='zgs19_gsSkeletonLoadingLine'></div>");_jQueryGS(lhsTabsPaneEle).append(tabdiv)}for(var j=0;j<4;j++){var servicediv=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div><div class='zgs19_gsSkeletonLoadingLine'></div>");_jQueryGS(lhsServicesPaneEle).append(servicediv)}zgssearch.isSettingsEnabled&&(lhsSettingsEle=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div>"),lhsMinMaxEle=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div>"),_jQueryGS(lhsTabsPaneOuter).append(lhsSettingsEle).append(lhsMinMaxEle))}else for(var i=0;i<4;i++){var div=zgssearch.Utils.createElement("div","","zgs19_gsSkeletonLoader","","","<div class='zgs19_gsSkeletonLoadingCircle'></div><div class='zgs19_gsSkeletonLoadingLine'></div>");_jQueryGS(skeletonLoaderEle).append(div)}},zgssearch.setLHSHiddenScrollHeight=function(){var pcode=zgssearch.gscomponent.pcode,servListheight=0;"ZO"==pcode?servListheight=_jQueryGS("#zgs20_gsResultsHolder").height():"ZW"==pcode&&(servListheight=_jQueryGS("#zgs20_gsHolder").height()),0<servListheight&&_jQueryGS("#zgs20_gsSearchResultLeft").height(servListheight+"px")},zgssearch.createSaveIconinSearchBox=function(){var lastQry=zgssearch.hasOwnProperty("getLastSearchedQuery")?zgssearch.getLastSearchedQuery():"",searchType=zgssearch.getSearchType(),isSSSupportedData="zgs19_gsSTS zgs19_gsHideEleme";searchType===GSConstant.ALL||zgssearch.isServiceHasMultiPortals(searchType)?isSSSupportedData="zgs19_gsSTS zgs19_gsHideEleme":lastQry&&""!=lastQry&&(isSSSupportedData="zgs19_gsCSTS");isSSSupportedData=_jQueryGS("<div>",{id:"zgs20_gsSSIconHolder",class:"zgs19_gsSSIconHolder zgs19_gsfl"}).append(_jQueryGS("<span>",{id:"zgs20_gsSSIcon",class:"zgs18_gsSTSIcon zgs19_gsCurPointer "+isSSSupportedData,gs:"savethissearch",gsa:"save_search_icon"}));_jQueryGS(".zgs19_gsqryinnerdiv").append(isSSSupportedData).addClass("zgs19_gsSSEnabled"),zgssearch.setSearchBoxWidth(),zgssearch.setSearchBoxSegmentSize()},zgssearch.getAccountType=function(accountsMeta,accId){accountsMeta=zgssearch.isArrayContain(accountsMeta,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[accountsMeta].originService:accountsMeta;if(zgssearch.gFilterData.hasOwnProperty(accountsMeta)){accountsMeta=zgssearch.gFilterData[accountsMeta].hasOwnProperty("accountsMeta")?zgssearch.gFilterData[accountsMeta].accountsMeta:{};if(accountsMeta.hasOwnProperty(accId))return accountsMeta[accId]}return 0},zgssearch.setSearchType=function(service){zgssearch.searchType=service},zgssearch.getSearchType=function(){return zgssearch.searchType},zgssearch.getOrderedServiceList=function(){return zgssearch.orderedServiceList},zgssearch.clearOrderedServiceList=function(){zgssearch.orderedServiceList=[]},zgssearch.checkAndRenderServiceList=function(callback){var oldzosUserObj;gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&(oldzosUserObj=Object.assign({},zgssearch.zosUserConfig),zgssearch.gscomponent.setSuiteService(),zgssearch.setZOSUserConfig(),JSON.stringify(oldzosUserObj)!==JSON.stringify(zgssearch.zosUserConfig)&&(zgssearch.storeSuitServiceList(),zgssearch.renderServiceList()),callback&&callback())},zgssearch.preCheckForServices=function(){for(var dupServices=[[GSConstant.CLIQ,GSConstant.CHAT],[GSConstant.PEOPLE,GSConstant.ORGCONTACTS]],dlen=dupServices.length,i=0;i<dlen;i++){var slIndex=dupServices[i],sList=zgssearch.getServiceList("serviceList")||[];zgssearch.isArrayContain(slIndex[0],sList)&&zgssearch.isArrayContain(slIndex[1],sList)&&(slIndex=sList.indexOf(slIndex[1]),zgssearch.serviceList.splice(slIndex,1))}zgssearch.preLoadComponentForServices()},zgssearch.canShowHomepage=function(){return"search_home"==zgssearch.gshistory.getCurrentStateId()||"/searchhome"==window.location.pathname&&!zgssearch.gshistory.getQueryFromUrl()&&!zgssearch.gshistory.getServFromUrl()},zgssearch.initServiceList=function(){var zosuc,allServices;zgssearch.isShowQuickActionsPage=!zgssearch.hasOwnProperty("isShowQuickActionsPage")||zgssearch.isShowQuickActionsPage,zgssearch.hasOwnProperty("fetchTopContacts")&&zgssearch.fetchTopContacts(),1!=zgssearch.gscomponent.UIType||zgssearch.canShowHomepage()||(zgssearch.isShowQuickActionsPage=!1),zgssearch.hasOwnProperty("renderLandingPage")&&zgssearch.renderLandingPage(),"COMPLETE"!=zgssearch.statusOfServiceFetchData&&((zosuc=zgssearch.getServiceList("serviceList")||[])&&0!=zosuc.length||(allServices=zgssearch.getAccessibleServiceList()||[],(gscomponent.isServiceSuite||0<allServices.length||GSConstant.hasOwnProperty("widgetObject"))&&(zgssearch.statusOfServiceFetchData="COMPLETE",gscomponent.isServiceSuite?gscomponent.isNoRestrictServicelist?(zgssearch.statusOfServiceFetchData="",0<allServices.length?(zgssearch.statusOfServiceFetchData="COMPLETE",zgssearch.storeServiceList(allServices,"serviceList"),zgssearch.storeServiceList(allServices,"orderedServiceList")):GSConstant.hasOwnProperty("widgetObject")&&(zgssearch.processServListFromWidgetCall(),zgssearch.statusOfServiceFetchData="COMPLETE")):(zosuc=zgssearch.getZOSUserConfig(),zgssearch.storeServiceList(zosuc,"serviceList")):0<allServices.length?(zgssearch.storeServiceList(allServices,"serviceList"),zgssearch.storeServiceList(allServices,"orderedServiceList"),allServices=zgssearch.getConstAllServList()||[],zgssearch.setConstAllServList(allServices)):zgssearch.processServListFromWidgetCall(),zgssearch.renderNewUI(),zgssearch.updateUIPostServiceListCall(),zgssearch.renderServiceList(),zgssearch.displayDefaultPage(!1))))},zgssearch.processServListFromServicelistCall=function(){var allServices=zgssearch.getEnabledServiceList()||[];zgssearch.storeServiceList(allServices,"serviceList"),zgssearch.storeServiceList(allServices,"orderedServiceList");allServices=zgssearch.getConstAllServList()||[];zgssearch.setConstAllServList(allServices)},zgssearch.getEnabledServListFromWidget=function(){for(var widgetData=zgssearch.hasOwnProperty("getWidgetdata")?zgssearch.getWidgetdata():"",allserviceList=widgetData.hasOwnProperty("allserviceslist")?widgetData.allserviceslist:[],servicesinfo=widgetData.hasOwnProperty("servicesinfo")?widgetData.servicesinfo:{},enabledList=[],allserviceListLen=allserviceList.length,i=0;i<allserviceListLen;i++){var service=allserviceList[i];(servicesinfo[service]||{}).e&&enabledList.push(service)}return zgssearch.setEnabledServiceList(enabledList),enabledList},zgssearch.processServListFromWidgetCall=function(){var allServices=zgssearch.getEnabledServListFromWidget()||[];zgssearch.storeServiceList(allServices,"serviceList"),zgssearch.storeServiceList(allServices,"orderedServiceList");allServices=zgssearch.GSConstant.widgetObject.allserviceslist||[];zgssearch.setConstAllServList(allServices)},zgssearch.getExtraServiceList=function(services,accServiceList){for(var newServList=[],servArrLen=services.length,i=0;i<servArrLen;i++)-1===accServiceList.indexOf(services[i])&&newServList.push(services[i]);return newServList},zgssearch.isServiceAllowedForLHSPanel=function(service){return!!zgssearch.mappedServiceList.hasOwnProperty(service)&&!zgssearch.mappedServiceList[service].hasOwnProperty("is_module")},zgssearch.renderNewServiceInLeftPanel=function(newServList){for(var sList=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),mList=zgssearch.getMappedServiceList(),newServListLen=newServList.length,i=0;i<newServListLen;i++){var oService=newServList[i];zgssearch.isServiceAllowedForLHSPanel(oService)&&zgssearch.isArrayContain(oService,sList)&&zgssearch.mappedServiceList.hasOwnProperty(oService)&&zgssearch.renderServicePanelList(oService,mList[oService])}},zgssearch.initAutoSuggestServiceList=function(){zgssearch.hasOwnProperty("gsautocomplete")&&zgssearch.gsautocomplete.initServiceList()},zgssearch.storeServiceList=function(serviceArray,type){if("orderedServiceList"==type&&zgssearch.clearOrderedServiceList(),"ZO"==zgssearch.gscomponent.pcode||gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite&&!gscomponent.isNoRestrictServicelist)zgssearch.storeSuitServiceList();else{var serviceArrayLen=serviceArray.length;0<serviceArrayLen&&(zgssearch[type]=[GSConstant.ALL]);for(var i=0;i<serviceArrayLen;i++)zgssearch[type].push(serviceArray[i].trim())}},zgssearch.getSuitServicesObject=function(){return zgssearch.suiteServiceUserConfig},zgssearch.getServiceSuiteWidgetServices=function(slistOrig){if("ZO"===gscomponent.pcode&&gscomponent.hasOwnProperty("isServiceSuite")&&gscomponent.isServiceSuite)for(var dupServices=[[GSConstant.CHAT,GSConstant.CLIQ]],dlen=dupServices.length,i=0;i<dlen;i++){var slIndex,sobj=dupServices[i];zgssearch.isArrayContain(sobj[0],slistOrig)&&(slIndex=slistOrig.indexOf(sobj[0]),zgssearch.serviceList[slIndex]=sobj[1],slistOrig[slIndex]=sobj[1])}return slistOrig},zgssearch.storeSuitServiceList=function(){var zosuc=zgssearch.getZOSUserConfig(),len=zosuc.length,tempServiceList=zgssearch.serviceList||[];if(0<len){var serList=[GSConstant.ALL];if(1<tempServiceList.length)serList=zgssearch.getServiceSuiteWidgetServices(tempServiceList);else for(var i=0;i<len;i++){var appname=(zosuco=zosuc[i]).hasOwnProperty("app_name")?zosuco.app_name.trim():"";zgssearch.isArrayContain(appname,zgssearch.ziaOrderedServiceList)?serList.push(appname):0<=serList.indexOf(appname)&&serList.splice(serList.indexOf(appname),1)}for(var allCloudAps=zgssearch.GSConstant.accessible_cloud_apps,i=0;i<len;i++){var zosuco,appname=(zosuco=zosuc[i]).hasOwnProperty("app_name")?zosuco.app_name.trim():"";zgssearch.isArrayContain(appname,allCloudAps)&&!zgssearch.isArrayContain(appname,serList)&&serList.push(appname)}zgssearch.serviceList=serList,zgssearch.hasOwnProperty("gsautocomplete")&&zgssearch.gsautocomplete.addServices(),zgssearch.gscomponent.isNoRestrictServicelist||(zgssearch.orderedServiceList=serList)}},zgssearch.manageApps=function(){var overlayDiv="",hgt=2;1==zgssearch.gscomponent.UIType&&(hgt++,overlayDiv=_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsCurPointer zgs19_gsSettingPopupwth",{gs:"zsfeedback"})).append(zgssearch.Utils.createElement("span","","zgs18_gsFeedbackMenuIcon")).append(zgssearch.Utils.createElement("span","zgs19_gsFeedback","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gstitle:zgssearch.I18N.getValue("gs.search.feedback.view")},zgssearch.I18N.getValue("gs.search.feedback.title"))));var menu=zgssearch.Utils.createElement("div","zgs20_manageApps","zgs19_gsSettingsPopUp ",{gs:"settingPopUp"}),reoredrEle=_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsCurPointer zgs19_gsSettingPopupwth",{gs:"reorderservices"})).append(zgssearch.Utils.createElement("span","","zgs18_gsReorderAppMenuIcon")).append(zgssearch.Utils.createElement("span","","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gstitle:zgssearch.I18N.getValue("gs.settings.application.reorder_apps")},zgssearch.I18N.getValue("gs.settings.application.reorder_apps"))),arrowEle=zgssearch.Utils.createElement("div","","zgs19_gsBorderBox zgs19_gstoolSidearrow"),settingEle=_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsSettingsHolder","zgs19_manageAppsEle zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsFontSize15Px")).append(_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsServicePanelListsettings","zgs19_gsServiceMenu zgs19_gsCurPointer",{service:"settings",gs:"settingsPanelMenu"})).append(_jQueryGS(zgssearch.Utils.createElement("div","","zgs19_gsServiceSaveNew zgs19_manageAppsEle zgs19_gsSettingPopupwth")).append(zgssearch.Utils.createElement("span","","zgs18_gsSettingsMenuIcon")).append(zgssearch.Utils.createElement("span","","zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow",{gs:"settingsPanel",gstitle:zgssearch.I18N.getValue("gs.settings.header.settings")},zgssearch.I18N.getValue("gs.settings.header.settings"))))),overlayDiv=_jQueryGS(menu).append(arrowEle).append(reoredrEle).append(settingEle).append(overlayDiv),hgt=40*hgt+"px";return _jQueryGS(menu).css("height",hgt),overlayDiv},zgssearch.lhsComponentHeight=function(){var settingComponentHeight=_jQueryGS(".zgs19_gsServiceListBtm").height()||0;_jQueryGS("#zgs20_gsServListHolder").css("height","calc(100% - "+settingComponentHeight+"px)")},zgssearch.renderLHSPane=function(){var settingsholder;_jQueryGS("#zgs20_gsSearchResultLeft").html(""),_jQueryGS("#zgs20_gsSearchResultLeft").append(_jQueryGS("<div>",{id:"zgs20_gsServListHolder",class:"zgs19_gsServListHolder zgs19_gsServicesPaneWidScroll zgs19_gsBorderBox",gs:"servListHolder"})),zgssearch.isSettingsEnabled&&(settingsholder=_jQueryGS("<div>",{id:"zgs20_gsSettingsHolder",class:"zgs19_gsSettingsHolder zgs19_gsServiceListBtm zgs19_gsBorderBox",gs:"manageApps"}).append(_jQueryGS("<span>",{class:"zgs18_gsSettingsNewIcon"})),_jQueryGS("#zgs20_gsSearchBoxRight").find(".zgs18_gsSettingsIconTop").css("display","block"),_jQueryGS("#zgs20_gsSearchResultLeft").append(settingsholder)),zgssearch.lhsComponentHeight()},zgssearch.addCloudIntegIconToLHSInZ1=function(checkBeforeAdd){let checkConditions=!1;var isNewUI,hasZsoid,isAnAdmin,isCloudEnabled,cloudIntegrationsIcon="ZO"===zgssearch.gscomponent.pcode,hasNoCloudIcon=!_jQueryGS("#zgs20_cloudConnectorIntegrationsIcon").length;checkBeforeAdd&&(isNewUI=zgssearch.gscomponent.isNewUI,hasZsoid=-1!==zgssearch.gscomponent.zsoid,isAnAdmin=zgssearch.gscomponent.canEnableZiaIntegration,isCloudEnabled=zgssearch.GSConstant.hasOwnProperty("widgetObject")&&zgssearch.GSConstant.widgetObject.hasOwnProperty("isCloudEnabledForZ1")&&zgssearch.GSConstant.widgetObject.isCloudEnabledForZ1,checkConditions=(isCloudEnabled||!isCloudEnabled&&!isNewUI&&isAnAdmin)&&cloudIntegrationsIcon&&hasNoCloudIcon&&(hasZsoid||!hasZsoid&&!isNewUI&&isAnAdmin)),(!checkBeforeAdd&&hasNoCloudIcon&&cloudIntegrationsIcon||checkConditions)&&(cloudIntegrationsIcon=_jQueryGS("<div>",{id:"zgs20_cloudConnectorIntegrationsIcon",class:"zgs19_gsServicesPaneWid zgs19_connectorsIntegIcon",gs:"openIntegUserPageInZ1"}).append(_jQueryGS("<span>",{class:"zgs18_gsIntegIcon"})),_jQueryGS("#zgs20_gsHolder").append(cloudIntegrationsIcon),_jQueryGS("#zgs20_globalsearch.zgs19_gsonezoho #zgs20_gsSearchResultLeft").addClass("zgs19_lessCloudIntegIconHeight"))},zgssearch.renderLHSPaneTab=function(){_jQueryGS("#zgs20_gsSearchResultLeft").html("");_jQueryGS("#zgs20_gsSearchResultLeft").append(_jQueryGS("<div>",{id:"zgs20_gsLeftBand1"})).append(_jQueryGS("<div>",{id:"zgs20_gsLeftBand2",class:"zgs19_gsDisplayNone"})),_jQueryGS("#zgs20_gsLeftBand1").append('<div id="zgs20_gsLeftDivisonPanel" class="" gs="leftpanel1" >\n                            <div id="zgs20_gsLeftPanelSearch" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer"  action="search" gs="leftPanelMenu"  gsa="left_panel_search">\n                                <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_gsLensIconTab zgs19_gsLensIconTab" gs="icon"></span>\n                                <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Search</span>\n                            </div>\n                            <div id="zgs20_gsLeftPanelCards" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer" action="openCards"  gs="leftPanelMenu"  gsa="left_panel_cards">\n                                <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_CardsIcon zgs19_gsCardsIcon" gs="icon"></span>\n                                <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Cards</span>\n                            </div>\n                            <div id="zgs20_gsLeftPanelDashboard" gsparenttip="true" class="zgs19_gsLeftPanelTab zgs19_gsLeftPanelTabUnselected zgs19_gsCurPointer" action="dashboard" gs="leftPanelMenu"  gsa="left_panel_dashboard">\n                                <span class="zgs19_gsLeftBandIcons zgs19_gsUniIcons zgs18_gsDashboardIcon zgs19_gsDashboardIcon" gs="icon"></span>\n                                <span class="zgs19_gsLeftPanelTabText zgs19_gsOverflow" isparenttip="true" gs="text">Dashboards</span>\n                            </div>\n                        </div>'),"search"==zgssearch.selectedLeftPanelDivision&&_jQueryGS("#zgs20_gsLeftBand2").removeClass("zgs19_gsDisplayNone"),_jQueryGS(_jQueryGS(".zgs19_gsLeftPanelTab[action="+zgssearch.selectedLeftPanelDivision+"]")[0]).addClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").removeClass("zgs19_gsLeftPanelTabUnselected"),0==gscomponent.UIType&&(_jQueryGS(".zgs19_gsLeftPanelTabText").addClass("zgs19_gsDisplayNone"),zgssearch.isLeftDivisonPanelHidden=!0),_jQueryGS("#zgs20_gsLeftBand2").append(_jQueryGS("<div>",{id:"zgs20_gsServListHolder",class:"zgs19_gsServListHolder zgs19_gsServicesPaneWidScroll zgs19_gsBorderBox zgs19_gsSelectedServiceListBG",gs:"servListHolder",style:"float: inline-start;padding-inline-end: 50px;"}));var servList="",servList='<span id="zgs20_gsMaxMinLeftBand" gs="LeftBandToggle" action="'+(zgssearch.isLeftDivisonPanelHidden?(servList="zgs19_gsMaxLeftBand","expandLeftBand"):(servList="zgs19_gsMinLeftBand","collapseLeftBand"))+'"  class=" zgs18_gsExpandpanel zgs19_gsCurPointer '+servList+'"></span>';_jQueryGS("#zgs20_gsLeftBand1").append(servList);zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsExpandpanel")&&zgssearch.obtainLineIconPaths("zgs18_gsExpandpanel",_jQueryGS("#zgs20_gsMaxMinLeftBand")),zgssearch.isLeftDivisonPanelHidden||_jQueryGS(".zgs18_gsExpandpanel_path4").addClass("zgs19_gsFlipIcon"),zgssearch.isSettingsEnabled&&(servList=_jQueryGS("<div>",{id:"zgs20_gsSettingsBand",class:"zgs18_gsSettingsIconTop zgs19_gsLeftPanelTabUnselected zgs19_gsDisplayNone",gs:"settingsPanelMenu"}),_jQueryGS("#zgs20_gsLeftBand1").append(servList),_jQueryGS("#zgs20_gsLeftBand2").append('<div id="zgs20_gsReorderBtm" class="zgs19_gsServiceSaveNew zgs19_gsServiceListBtm zgs19_gsCurPointer " gs="reorderservices" gsparenttip="true"><div class="zgs18_gsReorderAppMenuIcon" style="margin-inline-start: 0px;"></div><div class="zgs19_gsReorderTxt zgs19_gsCalMW20Pxof100 zgs19_gsOverflow" gstitle="Reorder Apps" isparenttip="true">Reorder Apps</div></div>'),null!=zgssearch.gsusersettings.servicesArrayList&&0!=zgssearch.gsusersettings.servicesArrayList.length||(servList=zgssearch.getAllServiceListFromWidget(),zgssearch.gsusersettings.storeServicesListInfo(servList))),zgssearch.lhsComponentHeight()},zgssearch.renderPreviousPage=function(updateUrl){var prevHistory=zgssearch.gshistory.getPreviousState();zgssearch.renderReqPage(prevHistory,updateUrl)},zgssearch.renderReqPage=function(stateObj,updateUrl){var prevId;stateObj&&("search_home"==(prevId=stateObj.id)?zgssearch.openHomePage():"zsearch"==prevId?zgssearch.leftDivisionNavigation("search"):"settings"==prevId?(zgssearch.hideDashboard(),zgssearch.hideCardsPage(),zgssearch.hideIntegrationsPage(),zgssearch.setHighlightForLeftDivisonPanel(),zgssearch.beforeSettingsOpen("settings"),zgssearch.gsusersettings.showSettingsPage()):"cards"==prevId?(zgssearch.hideDashboard(),zgssearch.isHashingAllowed&&0!=updateUrl&&zgssearch.gshistory.pushCardsState("","",stateObj.url),zgssearch.setHighlightForLeftDivisonPanel("cards"),zgssearch.showCardsPage()):"dashboards"==prevId?(zgssearch.hideCardsPage(),zgssearch.isHashingAllowed&&0!=updateUrl&&zgssearch.gshistory.pushCardsState("","",stateObj.url),zgssearch.setHighlightForLeftDivisonPanel("dashboard"),zgssearch.showDashboardPage()):"integrations"==prevId&&zgssearch.gsCloud.showIntegrationsView())},zgssearch.dispSetting=function(){_jQueryGS("#zgs20_gsSettingsHolder").css("display","block")},zgssearch.enabledSubServicesList=function(slist){for(var slistLen=slist.length,i=0;i<slistLen;i++){var service=slist[i];zgssearch.isArrayContain(service,zgssearch.account_based_filter_service_list)&&zgssearch.originServiceVsSubService.hasOwnProperty(service)&&!zgssearch.isArrayContain(zgssearch.originServiceVsSubService[service],slist)&&slist.push(zgssearch.originServiceVsSubService[service])}return slist},zgssearch.renderServiceList=function(){zgssearch.preCheckForServices();var sList=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),mList=zgssearch.getMappedServiceList(),oList=zgssearch.getOrderedServiceList();1===gscomponent.UIType&&zgssearch.hasOwnProperty("gshistory")&&(zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened&&(zgssearch.gshistory.isURLParamsHandled=!0),zgssearch.gshistory.handleURLSearch());var oListLen=oList.length;if(0<oListLen){_jQueryGS("#zgs20_gsServListHolder").empty();for(var i=0;i<oListLen;i++){var oService=oList[i];zgssearch.isServiceAllowedForLHSPanel(oService)&&zgssearch.isArrayContain(oService,sList)&&zgssearch.mappedServiceList.hasOwnProperty(oService)&&zgssearch.renderServicePanelList(oService,mList[oService])}}zgssearch.hasOwnProperty("jqueryMouseEvent")&&zgssearch.jqueryMouseEvent();var target=zgssearch.getSearchType(),target=zgssearch.getTargetElem("zgs20_gsServicePanelList"+target);_jQueryGS("#zgs20_gsSearchResultLeft").scrollTop(0),target&&zgssearch.gskeyboard&&(zgssearch.gskeyboard.isCurElementInViewPort(target)||target.scrollIntoView(!1)),zgssearch.isSettingsEnabled&&zgssearch.loadSettingsUIJqueryFile(),zgssearch.lhsComponentHeight(),zgssearch.setLHSHiddenScrollHeight()},zgssearch.renderServicePanelList=function(service,serviceDispName){var className="zgs19_gsUnServiceLeftPanel",serviceicon=zgssearch.getSearchType();zgssearch.isIntegViewPage||serviceicon!==service||(className="zgs19_gsSelectedServicepanel");serviceicon=serviceDispName.serviceicon,serviceDispName=serviceDispName.displayName;_jQueryGS("#zgs20_gsServListHolder").append(_jQueryGS("<div>",{id:"zgs20_gsServicePanelList"+service,gsParentTip:!0,class:"zgs19_gsServiceMenu zgs19_gsServiceLeftPanel zgs19_gsServicesPaneWid zgs19_gsCurPointer "+className,service:service,gs:"serviceLeftPanelMenu"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceLeftPanelRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceLeftPanelCell1New zgs19_gsServicesPaneWid"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIcons "+serviceicon,gs:"icon"})).append(_jQueryGS("<span>",{class:"zgs19_gsServiceLeftPanelServiceNew zgs19_gsOverflow",isParentTip:!0,gstitle:serviceDispName,gs:"text"}).text(serviceDispName))))),zgssearch.LINE_ICON_MAP.hasOwnProperty(serviceicon)&&zgssearch.obtainLineIconPaths(serviceicon,_jQueryGS(".zgs19_gsServiceLeftPanelCell1New > ."+serviceicon)[0])},zgssearch.setScrollTop=function(elem,value){_jQueryGS(elem).scrollTop(value)},zgssearch.displayAllResultPage=function(){_jQueryGS("#zgs20_gsModuleSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsMultiSearchResultPage").empty().hide(),_jQueryGS("#zgs20_gsSearchResultRight").empty(),_jQueryGS("#zgs20_gsAllSearchResultPage").empty().show(),zgssearch.setScrollTop("#zgs20_gsAllSearchResultPage",0)},zgssearch.displayDefaultPage=function(isShowFilterPortion){zgssearch.displayAllResultPage(),isShowFilterPortion?_jQueryGS(".zgs19_gsResultsHolderChild").show():_jQueryGS(".zgs19_gsResultsHolderChild").hide(),_jQueryGS("#zgs20_gsResultsHolder").css("display","block")},zgssearch.showSearchPageLoader=function(){_jQueryGS("#zgs20_gsProgressLoader").css("display","block")},zgssearch.hideSearchPageLoader=function(){_jQueryGS("#zgs20_gsProgressLoader").css("display","none")},zgssearch.getStatsKey=function(key){var prefix="";switch(gscomponent.UIType&&"ZO"==gscomponent.pcode){case 2:prefix="olderzos-";break;case 4:prefix="newerzos-"}return(prefix="ZW"===gscomponent.pcode?"zw-":prefix)+key},zgssearch.clickActionForServiceList=function(service,triggerSearchCall){try{var isSettingsOpened,isCardPageOpened,isDashboardOpened,selectedService;(zgssearch.gscomponent.hasOwnProperty("isWPSmartViewEnabled")&&gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia)&&zgssearch.toggleSmartViewServicePane(!1),zgssearch.isArrayContain(service,zgssearch.serviceList)&&(zgssearch.hasOwnProperty("gsanalytics")&&zgssearch.gsanalytics.sendStatsForServicesPane(service),zgssearch.isServiceHasMultiPortals(service)||(zgssearch.multiPageEnabled=!1),isSettingsOpened=zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened,isCardPageOpened=zgssearch.isCardViewOpened(),isDashboardOpened=zgssearch.isDashboardViewOpened(),(zgssearch.getSearchType()!==service||0==zgssearch.total_no_of_results&&!zgssearch.noMoreResults||isSettingsOpened||isCardPageOpened||isDashboardOpened||triggerSearchCall)&&(zgssearch.updateSearchType(service),zgssearch.updateCurrentPage(service),zgssearch.newHandleUserSearchQuery(service))),zgssearch.isMaxCalloutOpen&&zgssearch.curSelectedEle&&(selectedService=_jQueryGS(zgssearch.curSelectedEle).attr("service"),zgssearch.minCalloutPreview(selectedService)),zgssearch.hideIntegrationsPage(),zgssearch.focusForWeb("zgs20_gsQueryBox")}catch(ex){zgssearch.throwClientError("Error in clickActionForServiceList. service > "+service+" Exception>",ex)}},zgssearch.handleOpeningOfCardsAndDashboard=function(tabName){zgssearch.setHighlightForLeftDivisonPanel(tabName),zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.hideIntegrationsPage(),zgssearch.gsfilters.hideAndRemoveFilterElements(),_jQueryGS("#zgs20_gsResultsHolder").css("display","none"),_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","none"),_jQueryGS("#zgs20_gsQuickActionsPage").css("display","none"),zgssearch.setStatusClsForLeftDivision(),zgssearch.isDashboardEnabled?_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").addClass("zgs19_gsLeftPanelTabUnselected"):_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected")},zgssearch.setStatusClsForLeftDivision=function(){zgssearch.isDashboardEnabled&&(zgssearch.isLeftDivisonPanelHidden?("search"==zgssearch.selectedLeftPanelDivision?_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision").removeClass("zgs19_gsMinLeftDivisionNoSearch"):_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision")).removeClass("zgs19_gsMaxLeftDivisionOtherTab"):"search"==zgssearch.selectedLeftPanelDivision?_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivision").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMaxLeftDivisionOtherTab"):_jQueryGS("#zgs20_gsHolder").addClass("zgs19_gsMaxLeftDivisionOtherTab").removeClass("zgs19_gsMinLeftDivisionNoSearch").removeClass("zgs19_gsMinLeftDivision").removeClass("zgs19_gsMaxLeftDivision"))},zgssearch.resizeForLeftPanelchanges=function(){var leftServicePaneW=zgssearch.getLHSServicePaneWidth(),height=_jQueryGS(window).height(),width=_jQueryGS(window).width(),resultAndCalloutAreaW=_jQueryGS("#zgs20_gsResultsHolder").width()||0,minPrev="";1==zgssearch.gscomponent.UIType?(height=_jQueryGS("#zgs20_zohosearchWrapper").outerHeight(!0)-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),"search"==zgssearch.selectedLeftPanelDivision&&zgssearch.setSizeForRespectiveResultsArea()):0==zgssearch.gscomponent.UIType&&(width=_jQueryGS("#zgs20_gsHolder").width(),height=_jQueryGS("#zgs20_gsHolder").height()-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),minPrev=resultAndCalloutAreaW-(zgssearch.isMaxCalloutOpen?0:_jQueryGS("#zgs20_gsSearchResultMiddle").width()),"search"==zgssearch.selectedLeftPanelDivision&&zgssearch.setResultPreviewWidth(resultAndCalloutAreaW,minPrev),_jQueryGS("#zgs20_gsSearchResultRight").css("width",minPrev+"px"),zgssearch.setCalloutPreviewPosition()),_jQueryGS("#zgs20_gsSearchResultsArea").css({width:width-leftServicePaneW+"px",height:height+"px"}),zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened&&zgssearch.gsusersettings.resizeSettingsPage(),zgssearch.isCardViewOpened()&&zgssearch.gscards.handleHorizontalResizeForCards(),zgssearch.isDashboardViewOpened()&&zgssearch.gsdbhome.setSizeForDashboards()},zgssearch.setPrevStateforTabChanges=function(tabName){zgssearch.prevSelectedLeftPanelDivision=tabName},zgssearch.getPrevStateforTabChanges=function(){return zgssearch.prevSelectedLeftPanelDivision},zgssearch.setCurStateforTabChanges=function(tabName){zgssearch.selectedLeftPanelDivision=tabName},zgssearch.getCurStateforTabChanges=function(){return zgssearch.selectedLeftPanelDivision},zgssearch.resetAllSelectedTabCategory=function(){_jQueryGS(".zgs19_gsLeftPanelTab").removeClass("zgs19_gsLeftPanelTabSelected").addClass("zgs19_gsLeftPanelTabUnselected").removeClass("zgs19_gsSelectedServiceListBG")},zgssearch.setHighlightForLeftDivisonPanel=function(tabName){var tabNameId;zgssearch.resetAllSelectedTabCategory(),tabName&&(zgssearch.setPrevStateforTabChanges(zgssearch.getCurStateforTabChanges()),tabNameId=tabName.charAt(0).toUpperCase()+tabName.slice(1),_jQueryGS("#zgs20_gsLeftPanel"+tabNameId).addClass("zgs19_gsLeftPanelTabSelected").removeClass("zgs19_gsLeftPanelTabUnselected").addClass("zgs19_gsSelectedServiceListBG")),zgssearch.setStatusClsForLeftDivision(),zgssearch.setCurStateforTabChanges(tabName),"search"==zgssearch.selectedLeftPanelDivision?(zgssearch.getSearchType(),0<_jQueryGS(".zgs19_gsSearchResultTable").length&&zgssearch.enablingSSIcon(),_jQueryGS("#zgs20_gsLeftBand2").removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsSelectedServiceListBG")):_jQueryGS("#zgs20_gsLeftBand2").addClass("zgs19_gsDisplayNone").removeClass("zgs19_gsSelectedServiceListBG"),zgssearch.resizeForLeftPanelchanges()},zgssearch.changeBgcolorForLHS=function(){0<_jQueryGS("#zgs20_gsSettingsHolder").length&&(servicesTarElem=_jQueryGS("#zgs20_gsSettingsHolder").children("#zgs20_gsServicePanelListsettings"),_jQueryGS(servicesTarElem).addClass("zgs19_gsSelectedServicepanel").removeClass("zgs19_gsUnServiceLeftPanel"));var servicesTarElem=_jQueryGS("#zgs20_gsServListHolder").children(".zgs19_gsServiceLeftPanel");_jQueryGS.each(servicesTarElem,function(index,value){_jQueryGS(value).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel")})},zgssearch.clickActionForDashboards=function(pageView){zgssearch.openDashboard(pageView)},zgssearch.dashboardFileCallback=function(argParams){zgssearch.gsdbhome.renderDashboardPage(argParams.viewName,argParams.viewDetails)},zgssearch.openOnTheFlyDashboardFromProfile=function(email,layout){zgssearch.handleOnTheFlyOpenAction(),zgssearch.openOnTheFlyView(email,layout)},zgssearch.openDashboard=function(viewName,viewDetails){var loadericon,argParams;zgssearch.isDashboardEnabled?zgssearch.isDashboardOpened?viewName&&(zgssearch.getCurrentDashboardType()!==zgssearch.onTheFly?zgssearch.gsdbhome.getDashboardIdAndRenderView(viewName,viewDetails):zgssearch.gsdbhome.renderDashboardPage(viewName,viewDetails)):(loadericon=zgssearch.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader"),_jQueryGS("#zgs20_gsDashboardhome").html("").append(loadericon),zgssearch.openDashboardTabActions(),argParams={viewName:viewName,viewDetails:viewDetails},zgssearch.loadCardsandDashboardFile(function(){zgssearch.dashboardFileCallback(argParams)})):zgssearch.clickActionForServiceList(GSConstant.ALL)},zgssearch.openDashboardTabActions=function(){zgssearch.network.abortOngoingCalls(),zgssearch.handleOpeningOfCardsAndDashboard("dashboard"),zgssearch.dashboard.Hash.Listen(),zgssearch.hideSearchPageLoader(),zgssearch.hideCardsPage(),zgssearch.disablingSSIcon(),zgssearch.gsusersettings.isSettingsOpened&&(_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),zgssearch.gsusersettings.isSettingsOpened=!1),_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),zgssearch.gsusersettings.selectedServiceBeforeSettings=zgssearch.searchType,zgssearch.changeBgcolorForLHS("dashboard"),zgssearch.hideWelcomePage(),zgssearch.hideHomeIcon(),_jQueryGS("#zgs20_gsDashboardhome").css("display","block"),zgssearch.isDashboardOpened=!0},zgssearch.hideDashboard=function(){zgssearch.isDashboardOpened&&(_jQueryGS("#zgs20_gsDashboardhome").css("display","none"),_jQueryGS("#zgs20_gsResultsHolder").css("display","block"),zgssearch.isDashboardOpened=!1,zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.gsdbhome.currentlyOpenedDbId="",zgssearch.gscardinDb.maximisedCardId="",zgssearch.gscardinDb.isCardMaximised=!1,zgssearch.gscardinDb.clearIntervalForAutoRefresh(),zgssearch.gscardinfo.isCardInfoPopupOpened&&zgssearch.gscardinfo.hideCardPageInfoBox()))},zgssearch.clickActionForSettings=function(tabName){var loadericon;zgssearch.hasOwnProperty("gsusersettings")&&!zgssearch.gsusersettings.isSettingsOpened&&("COMPLETE"!=zgssearch.statusOfWidgetFetchData?(_jQueryGS("#zgs20_gsInAppSettingsPageLoader","#zgs20_gsHideScrollPage").length?_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","visible"):(zgssearch.hideQuickActionsPage(),_jQueryGS("#zgs20_gsWelcomePage").css("display","none"),loadericon=zgssearch.getFourDotLoader("zgs20_gsInAppSettingsPageLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader24 zgs19_gsInAppSettingsPageLoader"),_jQueryGS("#zgs20_gsHideScrollPage").append(loadericon)),setTimeout(function(){_jQueryGS("#zgs20_gsInAppSettingsPageLoader").css("visibility","hidden"),zgssearch.clickActionForSettings(tabName)},500)):(zgssearch.actionsBeforeOpeningSettingsTab(),zgssearch.loadSettingsFiles(tabName)))},zgssearch.openIntegrationTabInZiaSearch=function(){_jQueryGS("#zgs20_cloudConnectorIntegrationsIcon").length||(zgssearch.needToInitCloudAppsInZiaSearch=!0,zgssearch.addCloudIntegIconToLHSInZ1(!1)),zgssearch.showZiaSearch({},zgssearch.openCloudConnectorsTabInZohoOneZiaSearch)},zgssearch.initCloudAppsInZiaSearch=function(){zgssearch.gscomponent.zsoid=zgssearch.cloud_app_id,zgssearch.isZOSConfUpdated=!1,zgssearch.getServicesListInCommon(),zgssearch.statusOfWidgetFetchData="",zgssearch.getWidgetDetailsInCommon(),zgssearch.checkAndRenderServiceList(),zgssearch.needToInitCloudAppsInZiaSearch=!1},zgssearch.openCloudConnectorsTabInZohoOneZiaSearch=function(){if(_jQueryGS("#zgs20_cloudConnectorIntegrationsIcon").addClass("zgs19_gsSelectedServicepanel"),zgssearch.setSearchType(""),zgssearch.emptySearchBoxValues(),zgssearch.handleSearchCloseIcon(),zgssearch.integIconSelected=!0,zgssearch.openingEachTab("integrations"),zgssearch.addLoader("zgs20_cloudIntegration","zgs20_gsIntegPageLoader"),zgssearch.integrationHandlerFileLoaded&&zgssearch.integrationFilesLoaded||zgssearch.isStateRefreshRequired)zgssearch.integHandler.initIntegPage(zgssearch.gsbuildDetails),zgssearch.gsCloud.showIntegrationsView(),zgssearch.gsCloud.removeLoader();else{let initObjectForIntegration={integUrl:"/zgssearch/exconnector/integ",parentFrame:"zohoone"};zgssearch.isCloudConnectorsEmbeddedAsComponent=!0,initObjectForIntegration.embeddedInService="zohoone",zgssearch.gscomponent.isNewUI?zgssearch.uiTypeOfEmbeddedInService="NEW":zgssearch.uiTypeOfEmbeddedInService="OLD",initObjectForIntegration.isAdminPage=!1,initObjectForIntegration.cloud_app_id=-1,initObjectForIntegration.integZsoId=-1,initObjectForIntegration.integGadgetsURL=zgssearch.GSConstant.integGadgetsURL,initObjectForIntegration.getbdDataObtained=!1,zgssearch.gscomponent.canEnableZiaIntegration&&(initObjectForIntegration.isAdminUser=!0),zgssearch.gscomponent.zsoid&&(initObjectForIntegration.cloud_app_id=zgssearch.gscomponent.zsoid),zgssearch.gscomponent.zohoOrgID&&(initObjectForIntegration.integZsoId=zgssearch.gscomponent.zohoOrgID),zgssearch.loadIntegFile(function(){_jQueryGS("#zgs20_cloudIntegration").removeClass("zgs19_gsDisplayNoneImp"),zgssearch.integHandler.initIntegPage(initObjectForIntegration)})}},zgssearch.clickActionForIntegrations=function(openInNewTab,role){let url;if(openInNewTab&&("admin"!=role&&(role="user"),""!=zgssearch.integAdminPageURLToOpen&&(url=zgssearch.integAdminPageURLToOpen,zgssearch.integAdminPageURLToOpen="")),url||zgssearch.isIntegViewPage||"ZO"===zgssearch.gscomponent.pcode||(url=window.location.protocol+"//"+zgssearch.GSConstant.searchdomainURL+"/cloudconnector/v1/user?zsoid="+zgssearch.GSConstant.integ_icon_cloud_parent_app_id+"&service="+zgssearch.GSConstant.cloud_service_name+"&zsappid="+zgssearch.GSConstant.integ_icon_cloud_app_id),openInNewTab&&url)zgssearch.openInNewTab(url);else if("ZO"!==zgssearch.gscomponent.pcode||-1!=zgssearch.gscomponent.zsoid&&zgssearch.GSConstant.widgetObject.isCloudEnabledForZ1||zgssearch.gscomponent.isNewUI)zgssearch.openCloudConnectorsTabInZohoOneZiaSearch();else{let url=window.location.protocol+"//"+zgssearch.GSConstant.searchdomainURL+"/cloudconnector/v1/admin?zsoid="+zgssearch.gscomponent.zohoOrgID+"&service=zohoone&zsappid="+zgssearch.gscomponent.zsoid;zgssearch.askToOpenIntegPageInNewTab(url)}},zgssearch.askToOpenIntegPageInNewTab=function(url){var enabledMsg=zgssearch.I18N.getValue("integ.integNotEnabledMessage"),rightTxt=zgssearch.I18N.getValue("integ.openAdminSettings"),header=zgssearch.I18N.getValue("integ.integNotEnabledTitle");zgssearch.integAdminPageURLToOpen=url,zgssearch.popupUtils.openConfirmationPopup(header,enabledMsg,"openIntegAdminPageInNewTab","Cancel","closeIntegMsgPopUp","zgs19_gsConfirmSubtleAction",rightTxt,"openIntegAdminPageInNewTab","zgs19_gsConfirmMainAction zgs19_gsConfirmBg zgs19_openAdminPage","closeIntegMsgPopUp",""),_jQueryGS(".zgs19_openAdminPage").append(_jQueryGS("<span>",{class:"zgs18_openAdminPageButton"}))},zgssearch.openActionForIntegrations=function(){zgssearch.hideOtherTabs(),_jQueryGS("#zgs20_gsResultsHolder").css("display","none"),_jQueryGS("#"+zgssearch.gsCloud.par).css("display","block")},zgssearch.hideOtherTabs=function(){zgssearch.changeBgcolorForLHS(),zgssearch.hideQuickActionsPage(),zgssearch.hideDashboard(),zgssearch.hideCardsPage(),zgssearch.network.abortOngoingCalls(),zgssearch.hideSearchPageLoader(),_jQueryGS("#zgs20_gsHideScrollPage").css("display","none"),zgssearch.isDashboardEnabled&&(zgssearch.resetAllSelectedTabCategory(),_jQueryGS("#zgs20_gsLeftBand2").addClass("zgs19_gsDisplayNone"),zgssearch.setStatusClsForLeftDivision(),zgssearch.resizeForLeftPanelchanges())},zgssearch.actionsBeforeOpeningSettingsTab=function(){zgssearch.setHighlightForLeftDivisonPanel("settings"),zgssearch.hideOtherTabs(),zgssearch.hideIntegrationsPage();var servList=[],servList=void 0!==zgssearch.gsusersettings.servicesArrayList&&0<zgssearch.gsusersettings.servicesArrayList.length?zgssearch.gsusersettings.servicesArrayList:zgssearch.getAllServiceListFromWidget();zgssearch.gsusersettings.storeServicesListInfo(servList),zgssearch.disablingSSIcon()},zgssearch.loadSettingsFiles=function(tabName){zgssearch.settingsFileLoaded?zgssearch.openingEachTab(tabName):zgssearch.network.loadSRIJSFile("js/settings.js",function(){zgssearch.settingsFileLoaded=!0,zgssearch.openingEachTab(tabName)})},zgssearch.openingEachTab=function(tabName){zgssearch.gsusersettings.selectedServiceBeforeSettings=zgssearch.searchType,"settings"===tabName&&(zgssearch.gshistory.pushStateOfAView({id:"settings",title:"Settings Page",url:"/settings"}),zgssearch.openActionForSettings(tabName)),"integrations"===tabName&&(zgssearch.gshistory.pushStateOfAView({id:"integrations",title:"Integrations Page",url:"/integrations"}),zgssearch.openActionForIntegrations())},zgssearch.openActionForSettings=function(tabName){zgssearch.beforeSettingsOpen(tabName),zgssearch.gsusersettings.openSettingsPage(tabName),zgssearch.hasOwnProperty("gsanalytics")&&zgssearch.gsanalytics.sendStatsForServicesPane("settings")},zgssearch.beforeSettingsOpen=function(tabName){zgssearch.selectedLeftPanelDivision=tabName,zgssearch.gsusersettings.isSettingsOpened=!0,zgssearch.isDashboardEnabled?_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabUnselected").addClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG"):_jQueryGS(".zgs18_gsSettingsIconTop").addClass("zgs19_gsSettingsIconTopSelected")},zgssearch.beforeOpenIntegPage=function(){zgssearch.hideDashboard(),zgssearch.hideCardsPage(),_jQueryGS("#zgs20_gsResultsHolder").css("display","none"),0==_jQueryGS(".zgs19_gsIntegIconSelected").length&&_jQueryGS("#zgs20_gsIntegrationsTab").addClass("zgs19_gsIntegIconSelected"),zgssearch.setHighlightForLeftDivisonPanel()},zgssearch.closeActionForSettings=function(){var prevState,currState;zgssearch.hideServiceOrderOverlay(),zgssearch.gsusersettings.isSettingsOpened&&(_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),zgssearch.isDashboardEnabled?_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsLeftPanelTabSelected zgs19_gsSelectedServiceListBG").addClass("zgs19_gsLeftPanelTabUnselected"):_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),prevState=_jQueryGS("#zgs20_gsSettingsHolder").children("#zgs20_gsServicePanelListsettings"),_jQueryGS(prevState).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel"),zgssearch.gsusersettings.isSettingsOpened=!1,zgssearch.isAsanaWorkspacesAuthentication=!1,currState=zgssearch.searchObj.service,(prevState=zgssearch.getPrevStateforTabChanges())&&zgssearch.isDashboardEnabled&&(zgssearch.setHighlightForLeftDivisonPanel(prevState),zgssearch.setStatusClsForLeftDivision()),zgssearch.isDashboardEnabled&&(zgssearch.includes("/dashboards",window.location.pathname)||"dashboard"==prevState)?zgssearch.clickActionForDashboards():zgssearch.isDashboardEnabled&&zgssearch.includes("/cards",window.location.pathname)||"cards"==prevState?zgssearch.clickActionForCards():(""===currState||currState===GSConstant.ALL||zgssearch.isArrayContain(currState,zgssearch.gssettingsapptab.enabledServicesList)?zgssearch.isArrayContain(currState,zgssearch.gssettingsapptab.enabledServicesList)?zgssearch.updateSearchType(currState):zgssearch.updateSearchType(GSConstant.ALL):(currState=GSConstant.ALL,zgssearch.clickActionForServiceList(currState)),_jQueryGS(".zgs19_gsServiceOrderDialog").hide(),_jQueryGS(".zgs19_gsServiceAccOrderDialog").hide(),zgssearch.isShowQuickActionsPage&&zgssearch.isDashboardEnabled?zgssearch.renderHomePageQuickActions():(_jQueryGS("#zgs20_gsSearchResultMiddle").show(),_jQueryGS("#zgs20_gsSearchResultRight").show(),(currState=zgssearch.gshistory.getCurrentState())&&"search_home"==currState.id&&zgssearch.openHomePage())))},zgssearch.hideServiceOrderOverlay=function(){_jQueryGS(".zgs19_gsServiceOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderOverlay").remove()},zgssearch.hideManageAppPopUp=function(){zgssearch.isManageAppPopUpOpened=!1,_jQueryGS("#zgs20_manageApps").css("display","none")},zgssearch.loadSettingsUIJqueryFile=function(){zgssearch.isSettingsUIJqueryFileLoaded||(void 0!==_jQueryGS&&_jQueryGS.fn.hasOwnProperty("sortable")&&_jQueryGS.fn.hasOwnProperty("resizable")&&_jQueryGS.fn.hasOwnProperty("effect")&&_jQueryGS.fn.hasOwnProperty("draggable")?zgssearch.loadSortableJQueryComponent():zgssearch.network.loadSRIJSFile("js/jquery-ui.min.js",zgssearch.loadSortableJQueryComponent))},zgssearch.loadSortableJQueryComponent=function(){zgssearch.isSettingsUIJqueryFileLoaded=!0,window._jQueryGSUI=window._jQueryGS},zgssearch.clickActionForCards=function(){zgssearch.openCards("allCards")},zgssearch.openCards=function(pageView,target){var argParams;zgssearch.isDashboardEnabled&&(argParams={pageView:pageView,target:target},zgssearch.isCardPageOpened?pageView&&zgssearch.cardsFileCallBack(argParams):(_jQueryGS("#zgs20_gsCardsPage").html("").append(zgssearch.getFourDotLoader("zgs20_gsDashboardHomeLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader")),zgssearch.openCardsTabAction(),zgssearch.cardHash.pageView=pageView,zgssearch.loadCardsandDashboardFile(function(){zgssearch.cardsFileCallBack(argParams)})))},zgssearch.openCardsTabAction=function(){zgssearch.hideOtherTabs(),zgssearch.gsusersettings.selectedServiceBeforeSettings=zgssearch.searchType,zgssearch.disablingSSIcon(),zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened&&(_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),zgssearch.gsusersettings.isSettingsOpened=!1),zgssearch.handleOpeningOfCardsAndDashboard("cards"),zgssearch.showCardsPage()},zgssearch.showCardsPage=function(){zgssearch.hideHomeIcon(),zgssearch.isCardPageOpened=!0,_jQueryGS("#zgs20_gsCardsPage").css("display","block"),_jQueryGS("#zgs20_gsSettingsPages").css("display","none")},zgssearch.showDashboardPage=function(){zgssearch.hideHomeIcon(),zgssearch.isDashboardOpened=!0,_jQueryGS("#zgs20_gsDashboardhome").css("display","block"),_jQueryGS("#zgs20_gsSettingsPages").css("display","none")},zgssearch.cardsFileCallBack=function(argParams){argParams&&!_jQueryGS.isEmptyObject(argParams.pageView)&&"createCard"!=argParams.pageView&&(zgssearch.includes("/cards",window.location.pathname)||zgssearch.gshistory.pushCardsState("/cards","#"+zgssearch.cardHash.home)),zgssearch.cardHash.Listen(),zgssearch.gscards.openCardsPage(argParams.pageView,argParams.target)},zgssearch.loadCardsandDashboardFile=function(callback){zgssearch.isCardsandDBFilesloaded?callback():zgssearch.network.loadSRIJSFile("js/dashboard.js",function(){zgssearch.isCardsandDBFilesloaded=!0,callback()})},zgssearch.closeActionForCards=function(){var service;zgssearch.isCardPageOpened&&(zgssearch.isCardPageOpened=!1,zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.hideCardsPage(),zgssearch.isDashboardEnabled&&zgssearch.includes("/dashboards",window.location.pathname)?zgssearch.clickActionForDashboards():zgssearch.includes("/settings",window.location.pathname)?zgssearch.clickActionForSettings("settings"):(service=zgssearch.gsusersettings.selectedServiceBeforeSettings,zgssearch.updateSearchType(service),_jQueryGS("#zgs20_gsResultsHolder").css("display","block"),_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block")))},zgssearch.hideCardsPage=function(){zgssearch.isCardPageOpened=!1,_jQueryGS("#zgs20_gsCardsPage").css("display","none"),zgssearch.hasOwnProperty("gscards")&&(zgssearch.gscreatecards.isCreateCardPageOpened=!1,zgssearch.hasEditCard=!1,_jQueryGS("#zgs20_gsCreateCardPage").remove(),_jQueryGS("#zgs20_gsCreateNewBtn").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsQueryBoxHolder,.zgs19_searchbtnOuter").removeClass("zgs19_gsHideEleme"),zgssearch.gscardinfo.isCardInfoPopupOpened&&zgssearch.gscardinfo.hideCardPageInfoBox())},zgssearch.hideIntegrationsPage=function(){_jQueryGS("#zgs20_cloudConnectorIntegrationsIcon").removeClass("zgs19_gsSelectedServicepanel"),_jQueryGS("#zgs20_cloudIntegration").addClass("zgs19_gsDisplayNoneImp"),zgssearch.isIntegViewPage=!1,zgssearch.gsCloud.currentSelectedTab=""},zgssearch.disablingSSIcon=function(){zgssearch.isDashboardEnabled&&_jQueryGS("#zgs20_gsSSIcon").removeClass("zgs19_gsCSTS").addClass("zgs19_gsSTS zgs19_gsHideEleme")},zgssearch.enablingSSIcon=function(){zgssearch.isDashboardEnabled&&0<zgssearch.total_no_of_results&&_jQueryGS("#zgs20_gsSSIcon").removeClass("zgs19_gsSTS zgs19_gsHideEleme").addClass("zgs19_gsCSTS")},zgssearch.updateCurrentPage=function(service){zgssearch.showHomeIcon(),zgssearch.isServiceHasFilter(service)?(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage()):zgssearch.displayDefaultPage(!1)},zgssearch.appendMobSupportInWelPage=function(){var storeLinks,browserName,wtitle,wtipscls,fNew,intranetHeader,browserType=zgssearch.detectBrowser();zgssearch.isZohoDomain()&&4!==gscomponent.UIType&&(1!==gscomponent.UIType&&_jQueryGS("#zgs20_gsWelcomePageTitle").removeClass("zgs19_gsWelcomeTitleNew").addClass("zgs19_gsSmallerWelcomeTitleNew"),0==_jQueryGS(".zgs19_gsWCPScanner").length&&(browserName=1===gscomponent.UIType?"zgs19_gsWPMobSupport":"zgs19_gsSWPMobSupport",_jQueryGS(".zgs19_gsWPSupportOuter").remove(),wtitle=-1<zgssearch.GSConstant.INSTALLATION.indexOf("Zoho-CN")?"zgs19_gsResultsUniIcons zgs19_gsSCNAndroidSupLink":"zgs19_gsSAndroidSupLink",storeLinks=_jQueryGS("<div>",{class:"zgs19_gsWPSupportInner"}),wtipscls=_jQueryGS("<div>",{class:browserName}),fNew=_jQueryGS("<div>",{class:"zgs19_gsWPSupportOuter"}).append(_jQueryGS("<div>",{class:"zgs19_gsUDMobSupTit"}).text(zgssearch.getI18NMsg("gs.search.userdetails.welcomepage.appssupport"))).append(wtipscls.append(storeLinks)),intranetHeader=jQuery("<a>",{rel:"noopener noreferrer",class:"zgs19_gsfl zgs19_gsSiOSSupLink",href:zgssearch.GSConstant.IOS_LINK,target:"_blank"}),storeLinks.append(intranetHeader),browserName=zgssearch.detectBrowser(),!zgssearch.isExtension||zgssearch.isExtension&&"Safari"!=browserName?storeLinks.append(_jQueryGS("<a>",{rel:"noopener noreferrer",class:"zgs19_gsfl "+wtitle,href:zgssearch.GSConstant.ANDROID_LINK,target:"_blank"})):intranetHeader.addClass("zgs19_gsSiOSSupLinkExtn"),wtipscls.append(_jQueryGS("<div>",{class:"zgs19_gsWCPScanner zgs19_gsfl"})),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(fNew))),zgssearch.isExtension||!zgssearch.isZohoDomain()||"Chrome"!==browserType&&"Safari"!==browserType&&"Edge"!==browserType&&"Firefox"!==browserType||(_jQueryGS(".zgs19_gsWPSupportOuter").remove(),wtitle=zgssearch.getI18NMsg("gs.search.extension.welcomepage_header_"+browserType.toLowerCase()),intranetHeader=zgssearch.getI18NMsg("gs.search.extension.welcomepage_tagline"),wtipscls="zgs19_gsExtensionWelPageIcon"+browserType.toLowerCase(),fNew=zgssearch.getI18NMsg("gs.search.service.feature_new"),intranetHeader=_jQueryGS("<span>",{gstitle:intranetHeader}).text(intranetHeader),intranetHeader=_jQueryGS("<div>",{class:"zgs19_gsWPSupportOuter zgs19_gsWPExtensionOuter zgs19_gsWPHoverEffect",browserType:browserType,gs:"extensionSearch"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageHeader"}).append(_jQueryGS("<div>",{class:wtipscls})).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageHeaderTxt zgs19_gsOverflow",gstitle:wtitle,browserType:browserType,gs:"extensionSearch"}).text(wtitle)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorWelPageNewTxt"}).text(fNew))).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich2New zgs19_gsExtensionWelcomelich2New zgs19_gsfl zgs19_gsTextAlignCenter"}).append(intranetHeader)),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(intranetHeader))},zgssearch.createOverlayButton=function(){var closeTitle,profileTitle,left,boxOuterOptionDiv,gsMiniProfileDiv=_jQueryGS("#zgs20_globalsearch");zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED&&"block"===gsMiniProfileDiv.css("display")&&0===_jQueryGS("#zgs20_gsOverlayButtons").length&&(closeTitle=zgssearch.getI18NMsg("gs.search.close"),profileTitle=zgssearch.getI18NMsg("gs.search.profile"),boxOuterOptionDiv=zgssearch.getI18NMsg("gs.search.service_welcome_go_to")+zgssearch.getI18NMsg("gs.search.service_welcome_page"),left=_jQueryGS("#zgs20_gsHolder"),gsMiniProfileDiv=_jQueryGS("<div>",{id:"zgs20_gsUserDetails",class:"zgs19_userDetailsPopup zgs19_gsDisplayNone zgs19_zmHactivePopup",gs:"userData"}),left="calc( 50% + "+(parseInt(left.css("width"))/2+30)+"px)",window.addEventListener("resize",zgssearch.extResize,!1),boxOuterOptionDiv=_jQueryGS("<div>",{id:"zgs20_gsOverlayButtons",css:{"margin-inline-start":left}}).append(_jQueryGS("<div>",{class:"zgs19_gsCloseHolder zgs19_gsButtonHolder",title:closeTitle,gs:"gsClose"}).append(_jQueryGS("<div>",{id:"zgs20_closeIcon",class:"zgs18_gsClose",gs:"gsClose"}))).append(_jQueryGS("<div>",{class:"zgs19_gsProfileHolder zgs19_gsButtonHolder",title:profileTitle,gs:"gsOpenProfile"}).append(_jQueryGS("<div>",{id:"zgs20_openProfile",class:"zgs18_gsProfile",gs:"gsOpenProfile"}))).append(_jQueryGS("<div>",{class:"zgs19_gsOpenPageHolder zgs19_gsButtonHolder",title:boxOuterOptionDiv,gs:"gsOpenInNewTab"}).append(_jQueryGS("<div>",{id:"zgs20_openInNewTab",class:"zgs18_gsOpenPage",gs:"gsOpenInNewTab"}))),_jQueryGS("#zgs20_globalsearch").append(boxOuterOptionDiv).append(gsMiniProfileDiv),zgssearch.extResize())},zgssearch.appendGoToInWelPage=function(){var domainSupport;0!==gscomponent.UIType&&2!==gscomponent.UIType||void 0===GSConstant.searchdomainURL||0!=_jQueryGS(".zgs19_gsWPDomainSupportOuter").length||(domainSupport=_jQueryGS("<div>",{class:"zgs19_gsWPDomainSupportOuter"}).append(_jQueryGS("<span>").text(zgssearch.getI18NMsg("gs.search.service_welcome_go_to")+" ").append(_jQueryGS("<a>",{rel:"noopener noreferrer",class:"zgs19_gsDomainLink",href:zgssearch.httptxt+"://"+GSConstant.searchdomainURL,target:"_blank"}).text(GSConstant.searchdomainURL))),_jQueryGS("#zgs20_gsWelcomeHeaderScroll").append(domainSupport))},_jQueryGS.fn.exists=function(){return 0<_jQueryGS(this).length},zgssearch.isWPMobViewPort=function(){if("ZW"===gscomponent.pcode&&gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia){var zsWidth=_jQueryGS("#zgs20_globalsearch").is(":visible")?_jQueryGS("#zgs20_globalsearch").width():0;return 0!=zsWidth&&zsWidth<=768}return!1},zgssearch.focusForWeb=function(id){_jQueryGS("#"+id)[0]&&(zgssearch.isMobileBrowser()?zgssearch.getTargetElem(id).blur():zgssearch.hasOwnProperty("gsfeatureComponent")&&zgssearch.gsfeatureComponent.isFeatureComponentOpened||zgssearch.focus(id))},zgssearch.isMobileBrowser=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(zgssearch.userAgent)},zgssearch.isIOS=function(){return zgssearch.userAgent.match(/ipad|iphone/i)},zgssearch.setConstAllServList=function(serviceArray){zgssearch.allServiceList=serviceArray},zgssearch.getAllServiceList=function(){return zgssearch.allServiceList||[]},zgssearch.setConstAllServList=function(allserviceslist){zgssearch.GSConstant.allserviceslist=allserviceslist},zgssearch.getConstAllServList=function(){return zgssearch.GSConstant.allserviceslist||[]},zgssearch.setEnabledServiceList=function(enabledserviceslist){zgssearch.GSConstant.enabledserviceslist=enabledserviceslist},zgssearch.getEnabledServiceList=function(){return zgssearch.GSConstant.enabledserviceslist||[]},zgssearch.setAccessibleServiceList=function(serviceList){if(zgssearch.GSConstant.accessibleServices=serviceList,zgssearch.gscomponent&&"ZO"==zgssearch.gscomponent.pcode)for(var i=0;i<zgssearch.zosCloudUserConfig.length;i++)zgssearch.zosCloudUserConfig[i]&&zgssearch.GSConstant.accessibleServices.push(zgssearch.zosCloudUserConfig[i].app_name)},zgssearch.getAccessibleServiceList=function(){return zgssearch.GSConstant.accessibleServices||[]},zgssearch.openHomePage=function(){zgssearch.hasOwnProperty("isWPRenderNeeded")&&zgssearch.isWPRNeeded?(zgssearch.loadWelcomePage=!1,zgssearch.renderLandingPage(),_jQueryGS("#zgs20_gsHomeIcon").hide()):(zgssearch.isDashboardEnabled?(_jQueryGS("#zgs20_gsQuickActionsPage").remove(),zgssearch.isShowQuickActionsPage=!0,zgssearch.leftDivisionNavigation("search")):zgssearch.showWelcomePage(),_jQueryGS("#zgs20_gsHomeIcon").hide(),zgssearch.displayDefaultPage(!1))}}(zgssearch,window),function(zgssearch,window){var GSConstant=(zgssearch=window.zgssearch||{}).getGSConstantObj()||{};zgssearch.getFilterRelatedDetails=function(service,additionalInfo){var detailsObj={};switch(service){case GSConstant.PEOPLE:case GSConstant.CLIQ:case GSConstant.CRM:case GSConstant.BIGIN:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.INVENTORY:case GSConstant.CAMPAIGNS:case GSConstant.ORGRESOURCES:detailsObj={title:zgssearch.getI18NMsg("gs.search.multi.organization"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allorganizations")};break;case GSConstant.WORKDRIVE:var title,edition=additionalInfo.hasOwnProperty("edition")?additionalInfo.edition:"";"TEAM"===edition?(title=zgssearch.getI18NMsg("gs.search.filter.teams"),detailsObj={title:zgssearch.mappedServiceList[GSConstant.WORKDRIVE].dH=title,fdispName:zgssearch.getI18NMsg("gs.search.filter.allteams")}):"ENTERPRISE"===edition&&(title=zgssearch.getI18NMsg("common.accounts"),detailsObj={title:zgssearch.mappedServiceList[GSConstant.WORKDRIVE].dH=title,fdispName:zgssearch.getI18NMsg("gs.search.filter.allaccounts")});break;case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:case GSConstant.MAILS:case GSConstant.WORKDRIVE:case GSConstant.NOTEBOOK:case GSConstant.CALENDAR:case GSConstant.CREATOR:case GSConstant.WEBSITE:case GSConstant.GOOGLEDRIVE:case GSConstant.DROPBOX:case GSConstant.BOX:case GSConstant.ONEDRIVE:case GSConstant.O365MAIL:case GSConstant.SALESFORCE:case GSConstant.ASANA:case GSConstant.EVERNOTE:case GSConstant.GMAIL:detailsObj={title:zgssearch.getI18NMsg("common.accounts"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allaccounts")};break;case GSConstant.CONNECT:detailsObj={title:zgssearch.getI18NMsg("common.networks"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allnetworks")};break;case GSConstant.REPORTS:case GSConstant.SLACK:detailsObj={title:zgssearch.getI18NMsg("gs.search.filter.databases"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allworkspaces")};break;case GSConstant.WIKI:detailsObj={title:zgssearch.getI18NMsg("gs.search.filter.wikis"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allwikis")};break;case GSConstant.SUPPORT:case GSConstant.PROJECTS:detailsObj={title:zgssearch.getI18NMsg("gs.search.filter.portals"),fdispName:zgssearch.getI18NMsg("gs.search.filter.allportals")}}return detailsObj},zgssearch.loadWidgetList=function(widgetObj){var servicesInfoObj={},enabledService=[],slist=zgssearch.serviceList;if(widgetObj.hasOwnProperty("servicesinfo")){zgssearch.setFullWidgetResponseData(widgetObj);for(var servicesInfoObj=widgetObj.servicesinfo,slistLen=(slist=widgetObj.hasOwnProperty("allserviceslist")?widgetObj.allserviceslist:slist).length,i=0;i<slistLen;i++){var service=slist[i],eachServiceObj=servicesInfoObj.hasOwnProperty(service)?servicesInfoObj[service]:{};eachServiceObj.hasOwnProperty("e")&&eachServiceObj.e&&enabledService.push(service),zgssearch.setWidgetResponseData(service,eachServiceObj),zgssearch.formatWidgetData(service,eachServiceObj)}zgssearch.setEnabledServiceList(enabledService)}},zgssearch.fetchWidgetData=function(url_obj,successCallback){var action_url=zgssearch.getMetaData,params="action=fetchwidgetdata&services_list="+url_obj+"&sp="+!zgssearch.isArrayContain(url_obj,zgssearch.multiModServices)+zgssearch.getExtraServiceSuiteURL(),url_obj={};url_obj.url=action_url,url_obj.type="GET",url_obj.dataType="text",url_obj.data=params,url_obj.success=function(data){successCallback&&successCallback(data)},zgssearch.network.uri(url_obj)},zgssearch.formatWidgetData=function(service,eachServiceObj){var accList=eachServiceObj.hasOwnProperty("all")?eachServiceObj.all:[],accsObj=eachServiceObj.hasOwnProperty("aD")?eachServiceObj.aD:{},sortVal=eachServiceObj.hasOwnProperty("s")?eachServiceObj.s:-1,additionalInfo=eachServiceObj.hasOwnProperty("other_info")?eachServiceObj.other_info:{},gffo={};switch(service){case GSConstant.PEOPLE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setPeopleWidgetData(service,accList,accsObj,gffo);break;case GSConstant.PERSONALCONTACTS:case GSConstant.ORGCONTACTS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAccountOnlyWidgetData(service,gffo);break;case GSConstant.MAILS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setMailWidgetData(service,accList,accsObj,gffo);break;case GSConstant.CLIQ:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCliqWidgetData(service,gffo,sortVal);break;case GSConstant.CHAT:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setChatWidgetData(service,gffo,sortVal);break;case GSConstant.CONNECT:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setConnectWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.WORKDRIVE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj,additionalInfo),zgssearch.setNewWorkdriveWidgetData(service,accList,accsObj,gffo,sortVal,additionalInfo);break;case GSConstant.REPORTS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setReportsWidgetData(service,gffo);break;case GSConstant.WIKI:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setWikiWidgetData(service,gffo,sortVal);break;case GSConstant.NOTEBOOK:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setNotebookWidgetData(service,gffo,sortVal);break;case GSConstant.CALENDAR:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCalendarWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.SUPPORT:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setDeskWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.CRM:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCrmWidgetData(service,accList,accsObj,gffo);break;case GSConstant.BIGIN:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setBiginWidgetData(service,accList,accsObj,gffo);break;case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.INVENTORY:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setBooksWidgetData(service,accList,accsObj,gffo);break;case GSConstant.CAMPAIGNS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCampaignsWidgetData(service,accList,accsObj,gffo);break;case GSConstant.CREATOR:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setCreatorWidgetData(service,gffo);break;case GSConstant.ORGRESOURCES:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setOrgResourcesWidgetData(service,accList,accsObj,gffo);break;case GSConstant.WEBSITE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setWebsiteWidgetData(service,accList,accsObj,gffo);break;case GSConstant.GOOGLEDRIVE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setGDriveWidgetData(service,gffo);break;case GSConstant.DROPBOX:case GSConstant.BOX:case GSConstant.ONEDRIVE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAccountOnlyWidgetData(service,gffo);break;case GSConstant.O365MAIL:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setO365MailWidgetData(service,accList,accsObj,gffo);break;case GSConstant.SLACK:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAccountOnlyWidgetData(service,gffo);break;case GSConstant.SALESFORCE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setSalesForceWidgetData(service,accList,accsObj,gffo);break;case GSConstant.ASANA:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setAsanaWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.EVERNOTE:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setEvernoteWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.PROJECTS:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setProjectsWidgetData(service,accList,accsObj,gffo,sortVal);break;case GSConstant.GMAIL:gffo=zgssearch.setAccountsObjForService(service,accList,accsObj),zgssearch.setGmailWidgetData(service,accList,accsObj,gffo,sortVal)}},zgssearch.setAccountsObjForService=function(service,accList,accsObj,filterTitle){var fdefault="",multidefault="",fdispName="",gffo={},fData={},wffodata={},alldata={},accIdArr=[],eachAccObj={},accLen=accList.length;if(0<accLen)for(var isCloudServ=zgssearch.isArrayContain(service,zgssearch.getEnabledCloudApps()),i=0;i<accLen;i++){var name,accId=accList[i];accsObj.hasOwnProperty(accId)&&(name=(eachAccObj=accsObj[accId]).hasOwnProperty("n")?eachAccObj.n:"",name=zgssearch.replaceHTMLEntity(name),eachAccObj.e&&(fData[accId]=name,accIdArr.push(accId)),alldata[accId]=name,eachAccObj.d&&(multidefault=accId),isCloudServ&&(zgssearch.servMetaData[service]=zgssearch.servMetaData[service]||{},zgssearch.servMetaData[service][accId]=zgssearch.servMetaData[service][accId]||{},zgssearch.servMetaData[service][accId].parServId=eachAccObj.hasOwnProperty("ps_id")?eachAccObj.ps_id:"",zgssearch.servMetaData[service][accId].appName=eachAccObj.hasOwnProperty("apname")?eachAccObj.apname:""))}else{var accountId=service===GSConstant.PERSONALCONTACTS?""+GSConstant.cuz:service===GSConstant.ORGCONTACTS?""+GSConstant.cuo:"";accountId&&(fData[accountId]="",accIdArr.push(accountId),alldata[accountId]="")}fdispName=alldata[fdefault=accIdArr[0]||""],multidefault=multidefault||fdefault,filterTitle=zgssearch.getFilterRelatedDetails(service,filterTitle);zgssearch.updateMultiPageServiceList(service,accIdArr.length)&&(fdispName=filterTitle.fdispName,fData[fdefault="0"]=fdispName,accIdArr.unshift(fdefault));filterTitle=filterTitle.title;return zgssearch.setFiltersDetails(wffodata,"title",filterTitle),-1<zgssearch.GSConstant.accessible_cloud_apps.indexOf(service)&&zgssearch.setFiltersDetails(wffodata,"app_id",eachAccObj.app_id),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"mdefault",multidefault),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",accIdArr.length),zgssearch.setFiltersDetails(wffodata,"accIdArr",accIdArr),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"alldata",alldata),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"key","accounts_list"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(wffodata,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"accounts",wffodata),gffo},zgssearch.setAccountOnlyWidgetData=function(service,gffo){zgssearch.setFiltersDetails(gffo,"order",["accounts"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setPeopleWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fdefault="",fdispName="",accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i];if(accsObj.hasOwnProperty(accId)){var dId,deptObj={},eachObj=accsObj[accId],depData=eachObj.hasOwnProperty("deptData")?eachObj.deptData:{},deptLen=0;for(dId in depData){var name=depData[dId];deptObj[dId]=name,0===deptLen&&(fdefault=dId,fdispName=name),deptLen++}1<deptLen&&(fdispName=zgssearch.getI18NMsg("gs.search.filter.alldepartments"),deptObj[fdefault="0"]=fdispName,deptLen++),fData[accId]=deptObj}}var msgText=zgssearch.getI18NMsg("gs.search.filter.departments");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",deptLen),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","department"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"departments",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","departments"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setMailWidgetData=function(service,accList,accsObj,gffo){for(var fData={},allfData={},wffodata={},accMetaObj={},folderDataArr={},defModId="0",dispname=zgssearch.getI18NMsg("common.allmodules"),allAccLen=accList.length,i=0;i<allAccLen;i++){var accId=accList[i],mailAccount=accsObj[accId],accountType=mailAccount.fArr||[];folderDataArr[accId]=zgssearch.formatMailFoldersDetails(accountType),accountType.length;accountType=mailAccount.accountType;accMetaObj[accId]=accountType;var moduledata={},allmoduledata={};try{var modules=mailAccount.hasOwnProperty("m")?mailAccount.m:"",mod_length=modules.length,enabled_mod_list=[],allowed_mod_list=[];if("1"===accountType&&1<mod_length){for(var mod=0;mod<mod_length;mod++){var mod_info=JSON.parse(modules[mod]),module_name=mod_info.n,is_enabled=mod_info.e;allowed_mod_list.push(module_name),is_enabled&&(moduledata[module_name]=zgssearch.mailModuleVsDispName[module_name],enabled_mod_list.push(module_name)),allmoduledata[module_name]=zgssearch.mailModuleVsDispName[module_name],zgssearch.configured_mail_module.push(module_name)}1<enabled_mod_list.length&&(moduledata[0]=zgssearch.getI18NMsg("common.allmodules")),zgssearch.isStreamsEnabled=zgssearch.isArrayContain(GSConstant.STREAMS,allowed_mod_list);var streamsaccsObj={};streamsaccsObj[accId]=mailAccount;var streamsgffo=zgssearch.setAccountsObjForService(GSConstant.STREAMS,[accId],streamsaccsObj);zgssearch.setFilterObj(GSConstant.STREAMS,streamsgffo)}else module_name=zgssearch.GSConstant.MAILS,allowed_mod_list.push(module_name),enabled_mod_list.push(module_name),moduledata[module_name]=zgssearch.mailModuleVsDispName[module_name],allmoduledata[module_name]=zgssearch.mailModuleVsDispName[module_name];zgssearch.setFiltersDetails(gffo,"enabled_mod_list",enabled_mod_list),zgssearch.setFiltersDetails(gffo,"allowed_mod_list",allowed_mod_list)}catch(ex){zgssearch.throwClientError("Error while obtaining Mail modules")}fData[accId]=moduledata,allfData[accId]=allmoduledata}zgssearch.isArrayContain(GSConstant.MAILS,zgssearch.account_based_filter_service_list)||zgssearch.account_based_filter_service_list.push(GSConstant.MAILS),zgssearch.setFiltersDetails(gffo,"accountsMeta",accMetaObj);var foldText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",foldText);foldText=gffo.accounts.mdefault;1!=allAccLen||zgssearch.isStreamsEnabled||(defModId=zgssearch.GSConstant.MAILS,dispname=zgssearch.mailModuleVsDispName[zgssearch.GSConstant.MAILS]),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defModId),zgssearch.setFiltersDetails(wffodata,"current",defModId),zgssearch.setFiltersDetails(wffodata,"dispname",dispname),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData[foldText]).length),zgssearch.setFiltersDetails(wffodata,"parKey","accounts"),zgssearch.setFiltersDetails(wffodata,"hasChildFilter",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"alldata",allfData),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata);wffodata={},foldText=zgssearch.getI18NMsg("gs.search.filter.folders");zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","4"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"headertitle",zgssearch.getI18NMsg("gs.search.filter.allfolders")),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfolders")),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"parKey","modules"),zgssearch.setFiltersDetails(wffodata,"parId",[GSConstant.MAILS]),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",folderDataArr),zgssearch.setFiltersDetails(wffodata,"key","folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"folders",wffodata),zgssearch.setMailOtherFiltersData(service,gffo)},zgssearch.setMailOtherFiltersData=function(service,gffo){var wffodata,entityTitle={},entityTitle={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};gffo=zgssearch.setDateTypeWidgetData(entityTitle,gffo),zgssearch.setFiltersDetails(gffo.date,"filterLevel",3),gffo.date.length=0,gffo.date.parId=["mails","streams"],gffo.date.parKey="modules",wffodata={},entityTitle={};var titleText=zgssearch.getI18NMsg("gs.search.filter.withattach");entityTitle={false:"False",true:"True"},zgssearch.setFiltersDetails(wffodata,"title",titleText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"parKey","modules"),zgssearch.setFiltersDetails(wffodata,"parId",[GSConstant.MAILS]),zgssearch.setFiltersDetails(wffodata,"data",entityTitle),zgssearch.setFiltersDetails(wffodata,"key","hasAtt"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"attach",wffodata),wffodata={},entityTitle={};titleText=zgssearch.getI18NMsg("gs.search.filter.flagged");entityTitle={false:"False",true:"True"},zgssearch.setFiltersDetails(wffodata,"title",titleText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"parKey","modules"),zgssearch.setFiltersDetails(wffodata,"parId",[GSConstant.MAILS]),zgssearch.setFiltersDetails(wffodata,"data",entityTitle),zgssearch.setFiltersDetails(wffodata,"key","hasFlg"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"flag",wffodata),wffodata={},entityTitle={};titleText=zgssearch.getI18NMsg("gs.search.filter.withreplies");entityTitle={false:"False",true:"True"},zgssearch.setFiltersDetails(wffodata,"title",titleText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"parKey","modules"),zgssearch.setFiltersDetails(wffodata,"parId",[GSConstant.MAILS]),zgssearch.setFiltersDetails(wffodata,"data",entityTitle),zgssearch.setFiltersDetails(wffodata,"key","hasResp"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"replies",wffodata),zgssearch.gFilterData.hasOwnProperty(GSConstant.STREAMS)&&(wffodata={},ffodata={},ffodata={tome:zgssearch.getI18NMsg("gs.search.filter.allstreams"),allUnread:zgssearch.getI18NMsg("gs.search.filter.unread"),invited:zgssearch.getI18NMsg("gs.search.filter.invites"),mention:zgssearch.getI18NMsg("gs.search.filter.at_mentions"),label:zgssearch.getI18NMsg("gs.search.filter.favourites"),byme:zgssearch.getI18NMsg("gs.search.filter.streams_by_me")},entityTitle=zgssearch.getI18NMsg("gs.search.filter.view"),zgssearch.setFiltersDetails(wffodata,"title",entityTitle),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"key","view"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"parKey","modules"),zgssearch.setFiltersDetails(wffodata,"parId",[GSConstant.STREAMS]),zgssearch.setFiltersDetails(wffodata,"mdefault","tome"),zgssearch.setFiltersDetails(wffodata,"default","tome"),zgssearch.setFiltersDetails(wffodata,"current","tome"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allstreams")),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"view",wffodata),wffodata={},ffodata={},ffodata={"-1":zgssearch.getI18NMsg("gs.search.filter.allentities"),1:zgssearch.getI18NMsg("common.email"),2:zgssearch.getI18NMsg("gs.search.filter.notes"),3:zgssearch.getI18NMsg("gs.search.filter.tasks"),4:zgssearch.getI18NMsg("gs.search.filter.events"),6:zgssearch.getI18NMsg("common.message"),10:zgssearch.getI18NMsg("gs.search.filter.bookmarks")},entityTitle=zgssearch.getI18NMsg("gs.search.filter.entity_type"),zgssearch.setFiltersDetails(wffodata,"title",entityTitle),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"key","entity_type"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"parKey","modules"),zgssearch.setFiltersDetails(wffodata,"parId",[GSConstant.STREAMS]),zgssearch.setFiltersDetails(wffodata,"default","-1"),zgssearch.setFiltersDetails(wffodata,"current","-1"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allentities")),zgssearch.setFiltersDetails(wffodata,"render_order",[-1,1,2,3,4,6,10]),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"entity_type",wffodata)),zgssearch.isStreamsEnabled?zgssearch.setFiltersDetails(gffo,"order",["accounts","modules","view","entity_type","folders","date","attach","flag","replies"]):zgssearch.setFiltersDetails(gffo,"order",["accounts","modules","folders","date","attach","flag","replies"]),zgssearch.setFilterObj(service,gffo)},zgssearch.formatConnectModulesDetails=function(modDataObj){var connectModObj={};if(0<Object.keys(modDataObj).length){1<Object.keys(modDataObj).length&&(connectModObj[0]=zgssearch.getI18NMsg("common.allmodules"));var cmod,tempConnectModObj={};for(cmod in modDataObj)tempConnectModObj[cmod]=modDataObj[cmod];for(var moduleOrder=["feeds","forums","tasks","townhall"],moduleOrderLen=moduleOrder.length,i=0;i<moduleOrderLen;i++){var modName=moduleOrder[i];tempConnectModObj.hasOwnProperty(modName)&&(connectModObj[modName]=tempConnectModObj[modName])}}return connectModObj},zgssearch.setConnectWidgetData=function(curModule,accList,accsObj,gffo,sortVal){var wffodata={},fData={},fLen=0,accLen=accList.length;zgssearch.connectAccIdVsScopeId={};for(var cM=0;cM<accLen;cM++){var mObj,cModObj,accId=accList[cM];accsObj.hasOwnProperty(accId)&&(cModObj=(cModObj=(mObj=accsObj[accId]).moduleData)?zgssearch.formatConnectModulesDetails(cModObj):"",zgssearch.connectAccIdVsScopeId[accId]=mObj.sId,0<Object.keys(cModObj).length&&(fData[accId]=cModObj)),fLen+=Object.keys(cModObj).length}zgssearch.setFiltersDetails(wffodata,"title",zgssearch.getI18NMsg("common.modules")),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"parKey","accounts"),zgssearch.setFiltersDetails(wffodata,"hasChildFilter",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"alldata",fData),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.isArrayContain(GSConstant.CONNECT,zgssearch.account_based_filter_service_list)||zgssearch.account_based_filter_service_list.push(GSConstant.CONNECT),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules","board","status","categories","group","date"]),zgssearch.setFilterObj(curModule,gffo),!(curModule=zgssearch.searchObj.service||"")||curModule!==GSConstant.CONNECT||"0"!=(curModule=zgssearch.getCurrentValue("modules"))&&""!=curModule&&zgssearch.loadConnectModChildFilter(GSConstant.CONNECT,curModule,zgssearch.getCurrentValue("accounts"))},zgssearch.setCliqWidgetData=function(service,gffo,sortVal){var wffodata={},fData={0:zgssearch.getI18NMsg("common.allmodules"),1:zgssearch.getI18NMsg("gs.search.filter.cliq.chat"),8:zgssearch.getI18NMsg("gs.search.filter.cliq.channel"),9:zgssearch.getI18NMsg("gs.search.filter.cliq.bot")},msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",4),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setChatWidgetData=function(service,gffo,sortVal){var fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},gffo=zgssearch.setDateTypeWidgetData(fData,gffo);zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["chattype","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setNewWorkdriveWidgetData=function(service,accList,fData,gffo,sortVal,edition){edition=edition.hasOwnProperty("edition")?edition.edition:"";edition&&""!==edition&&("TEAM"===(zgssearch.editionTypeForWD=edition)?(gffo=zgssearch.formatWDTeamEditionDetails(accList,fData,gffo),zgssearch.setFiltersDetails(gffo,"order",["accounts","folders","filetype","date"])):"ENTERPRISE"===edition&&(gffo=zgssearch.formatWDEnterpriseDetails(accList,fData,gffo),zgssearch.setFiltersDetails(gffo,"order",["accounts","teams","folders","filetype","date"])));fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),folder:zgssearch.getI18NMsg("gs.search.filter.folders"),documents:zgssearch.getI18NMsg("gs.search.filter.writer"),spreadsheets:zgssearch.getI18NMsg("gs.search.filter.sheet"),presentations:zgssearch.getI18NMsg("gs.search.filter.show"),pdf:zgssearch.getI18NMsg("gs.search.filter.pdf"),images:zgssearch.getI18NMsg("gs.search.filter.image"),audio:zgssearch.getI18NMsg("gs.search.filter.music"),video:zgssearch.getI18NMsg("gs.search.filter.video")};gffo=zgssearch.setFileTypeWidgetData(fData,gffo),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},gffo=zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFilterObj(service,gffo)},zgssearch.setWorkdriveWidgetData=function(service,accList,fData,sortVal){var gffo={},edition=fData[accList[0]||""]||"",edition=edition.hasOwnProperty("moduleData")?edition.moduleData:[];0<edition.length&&((edition=(edition=edition[0]).hasOwnProperty("edition")?edition.edition:"")&&""!==edition&&("TEAM"===(zgssearch.editionTypeForWD=edition)?(gffo=zgssearch.formatWDTeamEditionDetails(accList,fData,gffo),zgssearch.setFiltersDetails(gffo,"order",["accounts","folders","filetype","date"])):"ENTERPRISE"===edition&&(gffo=zgssearch.formatWDEnterpriseDetails(accList,fData,gffo),zgssearch.setFiltersDetails(gffo,"order",["accounts","teams","folders","filetype","date"]))));fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),folder:zgssearch.getI18NMsg("gs.search.filter.folders"),documents:zgssearch.getI18NMsg("gs.search.filter.writer"),spreadsheets:zgssearch.getI18NMsg("gs.search.filter.sheet"),presentations:zgssearch.getI18NMsg("gs.search.filter.show"),pdf:zgssearch.getI18NMsg("gs.search.filter.pdf"),images:zgssearch.getI18NMsg("gs.search.filter.image"),audio:zgssearch.getI18NMsg("gs.search.filter.music"),video:zgssearch.getI18NMsg("gs.search.filter.video")},gffo=zgssearch.setFileTypeWidgetData(fData,gffo),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")};gffo=zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFilterObj(service,gffo)},zgssearch.formatWDTeamEditionDetails=function(accList,accsObj,gffo){for(var folderData={},accListArr=[],folderLen=0,accLen=accList.length,i=0;i<accLen;i++){var tempWSArr,folderArr,accId=accList[i];accListArr.push(accId),accsObj.hasOwnProperty(accId)&&(tempWSArr=(folderArr=accsObj[accId]).hasOwnProperty("teamfolders")?folderArr.teamfolders:[],folderArr=zgssearch.formatTeamFolderDetails(tempWSArr),folderLen+=tempWSArr.length+3,folderData[accId]=folderArr)}var wffodata={},sfObj=[{isrequired:!0},{0:zgssearch.getI18NMsg("gs.search.filter.searchin"),2:zgssearch.getI18NMsg("gs.search.filter.teamfolders")}],foldText=zgssearch.getI18NMsg("gs.search.filter.locations");return zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","4"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alllocations")),zgssearch.setFiltersDetails(wffodata,"length",folderLen),zgssearch.setFiltersDetails(wffodata,"data",folderData),zgssearch.setFiltersDetails(wffodata,"header",sfObj),zgssearch.setFiltersDetails(wffodata,"key","WD_folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"folders",wffodata),gffo},zgssearch.formatTeamFolderDetails=function(wsArr){var tffodata={};tffodata[0]={key:"0",name:zgssearch.getI18NMsg("gs.search.filter.alllocations")},tffodata[1]={key:"1",name:zgssearch.getI18NMsg("gs.search.filter.myfolders")},tffodata[2]={key:"2",name:zgssearch.getI18NMsg("common.shared_with_me")};for(var i=0;i<wsArr.length;i++){var fname=wsArr[i]||"",fid=fname.id||"",fname=fname.n||"";tffodata[i+3]={key:fid,name:fname}}return tffodata},zgssearch.formatWDEnterpriseDetails=function(accList,accsObj,gffo){for(var wffodata={},fData={},folderData={},fLen=0,folderLen=0,accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i];if(accsObj.hasOwnProperty(accId)){var oFolen=accsObj[accId],teamsList=oFolen.hasOwnProperty("teams")?oFolen.teams:[],teamObj={0:zgssearch.getI18NMsg("gs.search.filter.alllocations"),1:zgssearch.getI18NMsg("gs.search.filter.myfolders"),2:zgssearch.getI18NMsg("common.shared_with_me")},fLen=3,sfObj=[{isrequired:!0},{0:zgssearch.getI18NMsg("gs.search.filter.searchin")}],orgWSArr=oFolen.hasOwnProperty("orgws")?oFolen.orgws:[],oFolen=orgWSArr.length;0<oFolen?(teamObj[3]=zgssearch.getI18NMsg("gs.search.filter.orgfolders"),fLen+=1,sfObj[1][3]=zgssearch.getI18NMsg("gs.search.filter.teams")):sfObj[1][2]=zgssearch.getI18NMsg("gs.search.filter.teams");for(var teamsLen=teamsList.length,m=0;m<teamsLen;m++){var teamId=(eachObj=teamsList[m]).id,name=eachObj.n;teamObj[teamId]=name}if(fLen=teamsLen+fLen,fData[accId]=teamObj,0<teamsLen||0<oFolen){for(m=0;m<teamsLen;m++){var eachObj,teamId=(eachObj=teamsList[m]).id,teamfolders=eachObj.hasOwnProperty("teamfolders")?eachObj.teamfolders:[],folderObj=zgssearch.formatEnterpriseEditionFolderDetails(teamfolders);folderData[teamId]=folderObj,folderLen+=Object.keys(folderObj).length}0<oFolen&&(folderObj=zgssearch.formatEnterpriseEditionFolderDetails(orgWSArr),folderData[3]=folderObj,folderLen+=Object.keys(folderObj).length)}}}zgssearch.setFiltersDetails(wffodata,"title",zgssearch.getI18NMsg("gs.search.filter.locations")),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alllocations")),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"header",sfObj),zgssearch.setFiltersDetails(wffodata,"key","WD_teamId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"teams",wffodata);var wffodata={},folderTitle=zgssearch.getI18NMsg("gs.search.filter.teamfolders");return zgssearch.setFiltersDetails(wffodata,"title",folderTitle),zgssearch.setFiltersDetails(wffodata,"type","4"),zgssearch.setFiltersDetails(wffodata,"default","allfolders"),zgssearch.setFiltersDetails(wffodata,"current","allfolders"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfolders")),zgssearch.setFiltersDetails(wffodata,"data",folderData),zgssearch.setFiltersDetails(wffodata,"key","WD_folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"length",folderLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"folders",wffodata),gffo},zgssearch.formatEnterpriseEditionFolderDetails=function(wsArr){var tffodata={},noOffolders=0;1<wsArr.length&&(tffodata[0]={key:"allfolders",name:zgssearch.getI18NMsg("gs.search.filter.allfolders")},noOffolders++);for(var i=0;i<wsArr.length;i++){var fname=wsArr[i]||"",fid=fname.id||"",fname=fname.n||"";tffodata[noOffolders]={key:fid,name:fname},noOffolders++}return tffodata},zgssearch.setReportsWidgetData=function(service,gffo){var wffodata,fData,viewtypeText;0<Object.keys(gffo).length&&(wffodata={},fData={},fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),dashboard:zgssearch.getI18NMsg("common.d.dashboard"),table:zgssearch.getI18NMsg("gs.search.result.reports.table"),pivot:zgssearch.getI18NMsg("gs.search.result.reports.pivot"),analysisview:zgssearch.getI18NMsg("gs.search.result.reports.analysisview"),querytable:zgssearch.getI18NMsg("gs.search.result.reports.querytable"),report:zgssearch.getI18NMsg("gs.search.result.reports.tableview"),summaryview:zgssearch.getI18NMsg("gs.search.result.reports.summaryview")},viewtypeText=zgssearch.getI18NMsg("gs.search.filter.viewtype"),zgssearch.setFiltersDetails(wffodata,"title",viewtypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",8),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"viewtype",wffodata)),zgssearch.setFiltersDetails(gffo,"order",["accounts","viewtype"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setWikiWidgetData=function(service,gffo,sortVal){var fData;0<Object.keys(gffo).length&&(fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo)),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setNotebookWidgetData=function(service,gffo,sortVal){var wffodata={},fData={notes:zgssearch.getI18NMsg("common.notes"),notebooks:zgssearch.getI18NMsg("gs.f.nb.notebook")},notetypeTxt=zgssearch.getI18NMsg("gs.search.filter.searchin");zgssearch.setFiltersDetails(wffodata,"title",notetypeTxt),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","notes"),zgssearch.setFiltersDetails(wffodata,"current","notes"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.notes")),zgssearch.setFiltersDetails(wffodata,"length",2),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),wffodata={},fData={notes:zgssearch.getI18NMsg("gs.f.nb.allnotes"),favorite:zgssearch.getI18NMsg("gs.f.nb.favorite"),text:zgssearch.getI18NMsg("gs.f.nb.text"),checklist:zgssearch.getI18NMsg("gs.f.nb.checklist"),image:zgssearch.getI18NMsg("gs.f.nb.photo"),document:zgssearch.getI18NMsg("gs.f.nb.file"),contact:zgssearch.getI18NMsg("gs.f.nb.contact"),audio:zgssearch.getI18NMsg("gs.f.nb.audio"),sketch:zgssearch.getI18NMsg("gs.f.nb.sketch"),bookmark:zgssearch.getI18NMsg("gs.f.nb.link")};notetypeTxt=zgssearch.getI18NMsg("gs.f.nb.notecardtypes");zgssearch.setFiltersDetails(wffodata,"title",notetypeTxt),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","notes"),zgssearch.setFiltersDetails(wffodata,"current","notes"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.f.nb.allnotes")),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",9),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(gffo,"notecardtype",wffodata),fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules","notecardtype","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCalendarWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},accLen=accList.length,defServiceId="",defServiceName="",i=0;i<accLen;i++){var serId,serviceName,eachAccObj=accsObj[accList[i]],serviceData=eachAccObj.hasOwnProperty("serviceData")?eachAccObj.serviceData:{},serLen=0;for(i in serviceData)serId=""+serviceData[i],serviceName=zgssearch.getCalendarServiceName(serId),fData[serId]=serviceName,0===serLen&&(defServiceId=serId,defServiceName=serviceName),serLen++;1<serLen&&(defServiceId="0",defServiceName=zgssearch.getI18NMsg("gs.search.filter.allServices"),fData[defServiceId]=defServiceName)}var eventText=zgssearch.getI18NMsg("gs.search.filter.services");zgssearch.setFiltersDetails(wffodata,"title",eventText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defServiceId),zgssearch.setFiltersDetails(wffodata,"current",defServiceId),zgssearch.setFiltersDetails(wffodata,"dispname",defServiceName),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",serLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"services",wffodata),wffodata={},fData={};fData={0:zgssearch.getI18NMsg("gs.search.filter.allEvents"),1:zgssearch.getI18NMsg("gs.search.filter.upcomingEvents"),"-1":zgssearch.getI18NMsg("gs.search.filter.completedEvents")},eventText=zgssearch.getI18NMsg("gs.search.filter.eventTypes");zgssearch.setFiltersDetails(wffodata,"title",eventText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allEvents")),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","eventTypeId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"eventTypes",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),tomorrow:zgssearch.getI18NMsg("gs.search.filter.tomorrow"),thisweek:zgssearch.getI18NMsg("gs.search.filter.thisweek"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),zgssearch.setFiltersDetails(gffo.date,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"order",["accounts","services","eventTypes","date"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setDeskWidgetData=function(service,accList,accsObj,gffo,sortVal){for(var wffodata={},fData={},ffodefault="",ffodispname="",fLen=0,accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i];if(accsObj.hasOwnProperty(accId)){for(var supportObj={},permIds=accsObj[accId].deptData,lenPermIds=permIds.length,sp=0;sp<lenPermIds;sp++){var permObj=permIds[sp],permId=permObj.id,permName=permObj.name;supportObj[permId]=permName,0===sp&&(ffodefault=permId,ffodispname=permName)}1<lenPermIds&&(permName=zgssearch.getI18NMsg("gs.search.filter.alldepartments"),ffodefault="0",ffodispname=supportObj[0]=permName,lenPermIds++),fLen+=lenPermIds,fData[accId]=supportObj}}var smodulesText=zgssearch.getI18NMsg("gs.search.filter.departments");zgssearch.setFiltersDetails(wffodata,"title",smodulesText),zgssearch.setFiltersDetails(wffodata,"type","3"),1<accLen&&(ffodefault="0",ffodispname=zgssearch.getI18NMsg("gs.search.filter.alldepartments")),zgssearch.setFiltersDetails(wffodata,"default",ffodefault),zgssearch.setFiltersDetails(wffodata,"current",ffodefault),zgssearch.setFiltersDetails(wffodata,"dispname",ffodispname),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","department"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"departments",wffodata);for(var unusedModuleData={},wffodata={},fData={},fLen=0,i=0;i<accLen;i++){accId=accList[i];if(accsObj.hasOwnProperty(accId)){var mid,modList={},unusedmodList={},moduIds=accsObj[accId].moduleData;for(mid in modList[0]=zgssearch.getI18NMsg("common.allmodules"),moduIds)zgssearch.isArrayContain(mid,zgssearch.deskmodid)?modList[mid]=moduIds[mid]:unusedmodList[mid]=moduIds[mid];fData[accId]=modList,unusedModuleData[accId]=unusedmodList,fLen+=Object.keys(modList).length}}smodulesText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",smodulesText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"unusedModData",unusedModuleData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setSortFilters(gffo,sortVal),zgssearch.setFiltersDetails(gffo,"order",["accounts","departments","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCrmWidgetData=function(service,accList,accsObj,gffo){var msgText=new zgssearch.ZSCRMSuiteAction;zgssearch.crmOrgInfo=msgText.createActionObj(zgssearch.GSConstant.CRM)||{},_jQueryGS.isEmptyObject(zgssearch.crmOrgInfo)||zgssearch.crmOrgInfo.setOrgDetails(accsObj);for(var wffodata={},fData={},crmUrlObj={},accLen=accList.length,defOrgId=gffo.accounts.mdefault,i=0;i<accLen;i++){var module_data,crmModUrlObj,accId=accList[i];accsObj.hasOwnProperty(accId)&&(module_data=(crmModUrlObj=accsObj[accId]||"").moduleData||crmModUrlObj.modules||[],crmModUrlObj={},crmModUrlObj=zgssearch.setCRMSuiteModuleData(module_data,service),fData[accId]=crmModUrlObj.ffodata,crmUrlObj[accId]=crmModUrlObj.crmUrlObj,zgssearch.crmOrgInfo.setProfileForMod(crmModUrlObj.profiledata,accId),zgssearch.crmOrgInfo.setModuleData(crmModUrlObj.moduleData,accId))}msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData[defOrgId]).length),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"crm_modules",crmUrlObj),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCRMSuiteModuleData=function(widgetJsonArr,service){var fData={},crmSuiteObj={},moduleData={},profiledata={},fLen=0,widgetsLen=widgetJsonArr.length;if(0<widgetsLen){var crmUrlObj={};1<widgetsLen&&(fData={all:zgssearch.getI18NMsg("common.allmodules")},fLen++);for(var m=0;m<widgetsLen;m++){var eachModData={},moduleInfoObj=widgetJsonArr[m],widgetQueryName=moduleInfoObj.modQueryName,widgetModuleName=moduleInfoObj.modDispName,widgetAPIModuleName=moduleInfoObj.modName,widgetProfile=moduleInfoObj.profile;eachModData.isDefault=moduleInfoObj.d||!1,fData[widgetQueryName]=widgetModuleName,fLen++,profiledata[widgetQueryName]=widgetProfile,moduleData[widgetQueryName]=eachModData,service==zgssearch.GSConstant.CRM&&("Deals"===widgetAPIModuleName&&(widgetAPIModuleName="Potentials"),crmUrlObj[widgetQueryName+"_url"]=widgetAPIModuleName)}}return crmSuiteObj.ffodata=fData,crmSuiteObj.crmUrlObj=crmUrlObj,crmSuiteObj.profiledata=profiledata,crmSuiteObj.fiterLen=fLen,crmSuiteObj.moduleData=moduleData,crmSuiteObj},zgssearch.setBiginWidgetData=function(service,accList,accsObj,gffo){var wffodata=new zgssearch.ZSCRMSuiteAction;zgssearch.biginOrgInfo=wffodata.createActionObj(zgssearch.GSConstant.BIGIN)||{},_jQueryGS.isEmptyObject(zgssearch.biginOrgInfo)||zgssearch.biginOrgInfo.setOrgDetails(accsObj);for(var wffodata={},fData={},fLen=0,accLen=accList.length,i=0;i<accLen;i++){var module_data,biginModObj,accId=accList[i];accsObj.hasOwnProperty(accId)&&(module_data=(biginModObj=accsObj[accId]||"").moduleData||biginModObj.modules||[],biginModObj={},biginModObj=zgssearch.setCRMSuiteModuleData(module_data,service),fData[accId]=biginModObj.ffodata,fLen+=biginModObj.fiterLen,zgssearch.biginOrgInfo.setProfileForMod(biginModObj.profiledata,accId),zgssearch.biginOrgInfo.setModuleData(biginModObj.moduleData,accId))}zgssearch.setFiltersDetails(wffodata,"title",zgssearch.getI18NMsg("common.modules")),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setBooksWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,accLen=accList.length,bpi=0;bpi<accLen;bpi++){var booksModuObj,accId=accList[bpi];!accsObj.hasOwnProperty(accId)||(booksModuObj=(booksModuObj=accsObj[accId]).hasOwnProperty("moduleData")?booksModuObj.moduleData:"")&&(booksModuObj=zgssearch.formatBooksModulesDetails(booksModuObj),1<Object.keys(booksModuObj).length&&(fData[accId]=booksModuObj),fLen+=Object.keys(booksModuObj).length)}var smodulesText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",smodulesText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.formatBooksModulesDetails=function(bmodObj){zgssearch.booksModulesObj={Items:{key:"items",value:zgssearch.getI18NMsg("gs.search.service_books.item")},Contact:{key:"contacts",value:zgssearch.getI18NMsg("common.customer")},Invoice:{key:"invoices",value:zgssearch.getI18NMsg("gs.search.service_books.invoices")},Estimate:{key:"estimates",value:zgssearch.getI18NMsg("gs.search.service_books.estimates")},Credit_Note:{key:"creditnotes",value:zgssearch.getI18NMsg("gs.search.service_books.creditnotes")},Payment_Received:{key:"customerpayments",value:zgssearch.getI18NMsg("gs.search.service_books.payreceived")},Recurring_Invoice:{key:"recurring_invoices",value:zgssearch.getI18NMsg("gs.search.service_books.recurringinv")}};var cmod,childMods,booksModuObj={};for(cmod in booksModuObj.all=zgssearch.getI18NMsg("common.allmodules"),zgssearch.booksModulesObj)bmodObj&&bmodObj.hasOwnProperty(cmod)&&"true"==bmodObj[cmod]&&(booksModuObj[(childMods=zgssearch.booksModulesObj[cmod]).key]=childMods.value);return booksModuObj},zgssearch.setCampaignsWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,fdefault="",fdispName="",accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i];if(accsObj.hasOwnProperty(accId)){var moduleData=accsObj[accId].moduleData;for(i in moduleData){var modId=moduleData[i];fData[modId]=i,1===fLen&&(fdefault=modId,fdispName=i),fLen++}1<fLen&&(fdefault="0",fdispName=zgssearch.getI18NMsg("common.allmodules"),fData[fdefault]=fdispName,fLen++)}}var msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setCreatorWidgetData=function(service,gffo){var wffodata={},fData={all_apps:zgssearch.getI18NMsg("gs.search.filter.all_applications"),custom_apps:zgssearch.getI18NMsg("gs.search.result.creator.custom_apps"),personal_apps:zgssearch.getI18NMsg("common.owned_by_me"),shared_apps:zgssearch.getI18NMsg("common.shared_with_me"),shared_to_group_apps:zgssearch.getI18NMsg("gs.search.result.creator.shared_to_group_apps")},applicationtypeText=zgssearch.getI18NMsg("gs.search.filter.applications");zgssearch.setFiltersDetails(wffodata,"title",applicationtypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all_apps"),zgssearch.setFiltersDetails(wffodata,"current","all_apps"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.all_applications")),zgssearch.setFiltersDetails(wffodata,"length",5),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"applications",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","applications"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setOrgResourcesWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,accLen=accList.length,i=0;i<accLen;i++){for(var accId=accList[i],orgIdData=accsObj.hasOwnProperty(accId)?accsObj[accId]:{},modArr=orgIdData.hasOwnProperty("moduleData")?orgIdData.moduleData:"",mods={},defModId="",curModId="",dispname="",modLen=modArr.length,con=0;con<modLen;con++){var modName=modArr[con]||"",modId=modName.hasOwnProperty("connector_id")?modName.connector_id:"",modName=modName.hasOwnProperty("display_name")?modName.display_name:"";mods[modId]=modName}1<modLen?(defModId=curModId="0",mods[0]=dispname=zgssearch.getI18NMsg("common.allmodules")):1==modLen&&(defModId=curModId=modArr[0].hasOwnProperty("connector_id")?modArr[0].connector_id:"",dispname=modArr[0].hasOwnProperty("display_name")?modArr[0].display_name:""),fData[accId]=mods,fLen+=modLen}var msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defModId),zgssearch.setFiltersDetails(wffodata,"current",curModId),zgssearch.setFiltersDetails(wffodata,"dispname",dispname),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setWebsiteWidgetData=function(service,accList,accsObj,gffo){for(var finalObj={},fData={},fLen=0,fdefault="",fdispName="",accLen=accList.length,i=0;i<accLen;i++){var categIdArr=[],eachAccdata=accList[i],eachAccdata=accsObj.hasOwnProperty(eachAccdata)?accsObj[eachAccdata]:"",servicesData=eachAccdata.hasOwnProperty("appsData")?eachAccdata.appsData:{},dataLen=servicesData.length;1<dataLen?(fdefault="all_applications",fdispName=zgssearch.getI18NMsg("gs.search.filter.all_applications"),fData[fdefault]=zgssearch.getI18NMsg("gs.search.filter.all_applications")):1===dataLen&&(fdefault=(serviceInfoObj=servicesData[0]).pN,fdispName=serviceInfoObj.dN);for(var m=0;m<dataLen;m++){var serviceInfoObj,categId=(serviceInfoObj=servicesData[m]).pN,categName=serviceInfoObj.dN;fData[categId]=categName,categIdArr.push(categId)}fLen+=dataLen}var pageType=zgssearch.getI18NMsg("gs.search.filter.applications");zgssearch.setFiltersDetails(finalObj,"title",pageType),zgssearch.setFiltersDetails(finalObj,"type","1"),zgssearch.setFiltersDetails(finalObj,"default",fdefault),zgssearch.setFiltersDetails(finalObj,"current",fdefault),zgssearch.setFiltersDetails(finalObj,"dispname",fdispName),zgssearch.setFiltersDetails(finalObj,"length",fLen),zgssearch.setFiltersDetails(finalObj,"mulSelectKey",!0),zgssearch.setFiltersDetails(finalObj,"isDependentKey",!0),zgssearch.setFiltersDetails(finalObj,"data",fData),zgssearch.setFiltersDetails(finalObj,"key","cI"),zgssearch.setFiltersDetails(finalObj,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(finalObj,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"serviceType",finalObj),finalObj={},fData={};fData={all_page_types:zgssearch.getI18NMsg("gs.search.filter.allpagetype"),help:zgssearch.getI18NMsg("gs.search.filter.resources"),deskkb:zgssearch.getI18NMsg("gs.search.filter.deskkb"),helpvideos:zgssearch.getI18NMsg("gs.search.filter.helpvideo")},pageType=zgssearch.getI18NMsg("gs.search.filter.pagetype");return zgssearch.setFiltersDetails(finalObj,"title",pageType),zgssearch.setFiltersDetails(finalObj,"type","1"),zgssearch.setFiltersDetails(finalObj,"default","all_page_types"),zgssearch.setFiltersDetails(finalObj,"current","all_page_types"),zgssearch.setFiltersDetails(finalObj,"dispname",zgssearch.getI18NMsg("gs.search.filter.allpagetype")),zgssearch.setFiltersDetails(finalObj,"mulSelectKey",!0),zgssearch.setFiltersDetails(finalObj,"length",4),zgssearch.setFiltersDetails(finalObj,"data",fData),zgssearch.setFiltersDetails(finalObj,"key","pT"),zgssearch.setFiltersDetails(finalObj,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(finalObj,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"categ",finalObj),zgssearch.setFiltersDetails(gffo,"order",["accounts","serviceType","categ"]),zgssearch.setFilterObj(service,gffo),-1<zgssearch.gscomponent.nonAccountFilterServices.indexOf(zgssearch.GSConstant.WEBSITE)&&((finalObj=zgssearch.getWidgetResponseData(service)).eO=categIdArr,zgssearch.setWidgetResponseData(service,finalObj)),gffo},zgssearch.setGDriveWidgetData=function(service,gffo){var wffodata={},fData={allfiles:zgssearch.getI18NMsg("gs.search.filter.allfiles"),mydocs:zgssearch.getI18NMsg("common.owned_by_me"),sharedtome:zgssearch.getI18NMsg("common.shared_with_me"),trash:zgssearch.getI18NMsg("gs.search.filter.trash")},filetypeText=zgssearch.getI18NMsg("gs.search.filter.ownertype");zgssearch.setFiltersDetails(wffodata,"title",filetypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","allfiles"),zgssearch.setFiltersDetails(wffodata,"current","allfiles"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allfiles")),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","category"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"ownertype",wffodata),wffodata={},fData={all:zgssearch.getI18NMsg("gs.search.filter.alltypes"),writer:zgssearch.getI18NMsg("gs.search.filter.writer"),sheet:zgssearch.getI18NMsg("gs.search.filter.sheet"),show:zgssearch.getI18NMsg("gs.search.filter.show"),pdf:zgssearch.getI18NMsg("gs.search.filter.pdf"),image:zgssearch.getI18NMsg("gs.search.filter.image"),music:zgssearch.getI18NMsg("gs.search.filter.music"),video:zgssearch.getI18NMsg("gs.search.filter.video"),zip:zgssearch.getI18NMsg("gs.search.filter.zip")};filetypeText=zgssearch.getI18NMsg("common.fileType");zgssearch.setFiltersDetails(wffodata,"title",filetypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData).length),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","searchin"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"filetype",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","ownertype","filetype"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setO365MailWidgetData=function(service,accList,accsObj,gffo){for(var fData={},accLen=accList.length,wffodata={},fData={},fLen=0,i=0;i<accLen;i++){var accId=accList[i],orgIdData=accsObj.hasOwnProperty(accId)?accsObj[accId]:"",modArr=orgIdData.hasOwnProperty("modules")?orgIdData.modules:"",mods={},defModId="",curModId="",dispname="",modLen=modArr.length;fLen+=modLen,1<modLen?(defModId=curModId="0",mods[0]=dispname=zgssearch.getI18NMsg("gs.search.filter.allfolders")):1==modLen&&(defModId=curModId=modArr[0].hasOwnProperty("id")?modArr[0].id:"",dispname=modArr[0].hasOwnProperty("name")?modArr[0].name:"");for(var con=0;con<modLen;con++){var modName=modArr[con]||"",modId=modName.hasOwnProperty("id")?modName.id:"",modName=modName.hasOwnProperty("name")?modName.name:"";mods[modId]=modName}fData[accId]=mods}var msgText=zgssearch.getI18NMsg("gs.search.filter.allfolders");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defModId),zgssearch.setFiltersDetails(wffodata,"current",curModId),zgssearch.setFiltersDetails(wffodata,"dispname",dispname),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(wffodata,"key","folderId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"folders",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo),wffodata={},fData={};msgText=zgssearch.getI18NMsg("gs.search.filter.withattach");fData={false:"False",true:"True"},zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",1),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","hasAtt"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(gffo,"attach",wffodata),wffodata={},fData={};msgText=zgssearch.getI18NMsg("common.unread");fData={false:"False",true:"True"},zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","6"),zgssearch.setFiltersDetails(wffodata,"default",!1),zgssearch.setFiltersDetails(wffodata,"current",!1),zgssearch.setFiltersDetails(wffodata,"length",1),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","isRead"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_BOOLEAN),zgssearch.setFiltersDetails(gffo,"unread",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","folders","date","attach","unread"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setSalesForceWidgetData=function(service,accList,accsObj,gffo){for(var wffodata={},fData={},fLen=0,accLen=accList.length,i=0;i<accLen;i++){var accId=accList[i],orgIdData=accsObj[accId]||{},module_data=orgIdData.moduleData||orgIdData.modules||[],modLen=module_data.length,modules_filter_info={};1<modLen&&(modules_filter_info.all=zgssearch.getI18NMsg("common.allmodules"),fLen++);for(var module=0;module<modLen;module++){var module_info_obj=module_data[module],display_name=module_info_obj.name;modules_filter_info[module_info_obj.id]=display_name}fData[accId]=modules_filter_info,fLen+=modLen}var msgText=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("common.allmodules")),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setAsanaWidgetData=function(service,accList,accsObj,gffo,sortVal){for(var wffodata={},fData={},fdefault="",fdispName="",fLen=0,accLen=accList.length,i=0;i<accLen;i++){for(var accId=accList[i],workspace_details=(accsObj[accId]||"").modules||[],total_ws=workspace_details.length,wsData={},ws=0;ws<total_ws;ws++){var workspace_id=workspace_details[ws],display_name=workspace_id.name,workspace_id=workspace_id.id;wsData[workspace_id]=display_name,0===ws&&(fdefault=workspace_id,fdispName=display_name)}fLen+=total_ws,1<total_ws&&(fdefault="all",fdispName=zgssearch.getI18NMsg("gs.search.filter.allworkspaces"),wsData[fdefault]=fdispName,fLen++),fData[accId]=wsData}var defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.workspaces");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",fdefault),zgssearch.setFiltersDetails(wffodata,"current",fdefault),zgssearch.setFiltersDetails(wffodata,"dispname",fdispName),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","workspaceId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"workspaces",wffodata);wffodata={},fData={},defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.projects");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.allprojects")),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"key","projectId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"projects",wffodata),wffodata={},fData={};defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.tags");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltags")),zgssearch.setFiltersDetails(wffodata,"length",0),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","tagId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"tags",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),tomorrow:zgssearch.getI18NMsg("gs.search.filter.tomorrow"),thisweek:zgssearch.getI18NMsg("gs.search.filter.thisweek"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,gffo,zgssearch.getI18NMsg("gs.search.filter.dueDate")),zgssearch.setFiltersDetails(gffo.date,"filterLevel",3),wffodata={},fData={},fData={all:zgssearch.getI18NMsg("gs.search.filter.alltasks"),complete:zgssearch.getI18NMsg("gs.search.filter.completed"),incomplete:zgssearch.getI18NMsg("gs.search.filter.incomplete")};defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.task_status");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltasks")),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","completed"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(gffo,"completed",wffodata);var defaultSortDispName=zgssearch.getI18NMsg("gs.search.filter.createdDate"),sortText=zgssearch.getI18NMsg("gs.search.filter.dueDate");wffodata={},fData={sortCreatedDate:defaultSortDispName,sortDueDate:sortText};defaultSortVal="sortCreatedDate";void 0!==sortVal&&-1!==sortVal&&1===sortVal&&(defaultSortDispName=sortText,defaultSortVal="sortDueDate");sortText=zgssearch.getI18NMsg("gs.search.filter.sortby");zgssearch.setFiltersDetails(wffodata,"title",sortText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"current",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"dispname",defaultSortDispName),zgssearch.setFiltersDetails(wffodata,"length",2),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","sort"),zgssearch.setFiltersDetails(wffodata,"filterLevel",1),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(gffo,"sort",wffodata),zgssearch.setFiltersDetails(gffo,"sort_order",["sort"]),zgssearch.setFiltersDetails(gffo,"order",["accounts","workspaces","projects","completed","tags","date"]),zgssearch.setFilterObj(zgssearch.GSConstant.ASANA,gffo)},zgssearch.setEvernoteWidgetData=function(service,accList,accsObj,gffo,sortVal){for(var wffodata={},fData={},totalModLen=0,accListLen=accList.length,acc=0;acc<accListLen;acc++){var accId=accList[acc],accObj=accsObj[accId],moduleData=accObj.hasOwnProperty("modules")?accObj.modules:[],moduleDataLen=moduleData.length,moduleFilter={};1<moduleDataLen&&(moduleFilter[0]=zgssearch.getI18NMsg("gs.f.nb.allnotebooks"),totalModLen++);for(var module=0;module<moduleDataLen;module++){var modData=moduleData[module],modName=modData.name;moduleFilter[modData.id]=modName}fData[accId]=moduleFilter,totalModLen+=moduleDataLen}var msgText=zgssearch.getI18NMsg("gs.f.nb.mynotebooks");zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.f.nb.allnotebooks")),zgssearch.setFiltersDetails(wffodata,"length",totalModLen),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"key","notebookId"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"modules",wffodata),zgssearch.setSortFilters(gffo,sortVal,service),zgssearch.setFiltersDetails(gffo,"order",["accounts","modules"]),zgssearch.setFilterObj(service,gffo)},zgssearch.setProjectsWidgetData=function(service,accList,accsObj,curModule,sortVal){curModule.hasOwnProperty("accounts")&&(curModule.accounts.hasChildFilter=!0,1<Object.keys(curModule.accounts.alldata).length&&(curModule.accounts.subtype=1));for(var wffodata={},fData={},allProjData={},modData={},allModData={},fLen=0,defProjId="",curProjId="",defModId="",curModId="",dispname="",modDispName="",modLength=0,accLen=accList.length,i=0;i<accLen;i++){for(var accId=accList[i],orgIdData=accsObj.hasOwnProperty(accId)?accsObj[accId]:{},projArr=orgIdData.hasOwnProperty("projectsData")?orgIdData.projectsData:"",projectData={},allProjectsData={},projLen=projArr.length,proj=0;proj<projLen;proj++){var projMod=projArr[proj]||"",pId=projMod.hasOwnProperty("id")?projMod.id:"",modId=projMod.hasOwnProperty("name")?projMod.name:"",projMod=projMod.hasOwnProperty("modules")?projMod.modules:"";allProjectsData[pId]=modId,allModData[pId]=projMod,1<Object.keys(allModData[pId]).length&&(allModData[pId][0]=zgssearch.getI18NMsg("common.allmodules")),orgIdData.e&&(projectData[pId]=modId,1<(modId=Object.keys(projMod).length)?(defModId=curModId="0",projMod[0]=modDispName=zgssearch.getI18NMsg("common.allmodules")):1==modId&&(modId=Object.keys(projMod)[0],defModId=curModId=Object.keys(projMod),modDispName=projMod[modId]),modData[pId]=projMod)}1<(projLen=Object.keys(projectData).length)?(defProjId=curProjId="0",projectData[0]=dispname=zgssearch.getI18NMsg("gs.search.filter.allprojects")):1==projLen&&(defProjId=curProjId=Object.keys(projectData)[0],dispname=projectData[curProjId],modLength=Object.keys(modData[curProjId]).length),1<Object.keys(allProjectsData).length&&(allProjectsData[0]=zgssearch.getI18NMsg("gs.search.filter.allprojects")),_jQueryGS.isEmptyObject(projectData)||(fData[accId]=projectData),allProjData[accId]=allProjectsData,fLen+=projLen}1<curModule.accounts.length&&(defProjId=curProjId="0",dispname=zgssearch.getI18NMsg("gs.search.filter.allprojects"));var defaultSortVal=zgssearch.getI18NMsg("gs.search.filter.projects");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defProjId),zgssearch.setFiltersDetails(wffodata,"current",curProjId),zgssearch.setFiltersDetails(wffodata,"dispname",dispname),zgssearch.setFiltersDetails(wffodata,"length",fLen),zgssearch.setFiltersDetails(wffodata,"parKey","accounts"),zgssearch.setFiltersDetails(wffodata,"hasChildFilter",!0),zgssearch.setFiltersDetails(wffodata,"subtype",1),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"alldata",allProjData),zgssearch.setFiltersDetails(wffodata,"key","project_id"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(curModule,"projects",wffodata);wffodata={},defaultSortVal=zgssearch.getI18NMsg("common.modules");zgssearch.setFiltersDetails(wffodata,"title",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"type","3"),zgssearch.setFiltersDetails(wffodata,"default",defModId),zgssearch.setFiltersDetails(wffodata,"current",curModId),zgssearch.setFiltersDetails(wffodata,"dispname",modDispName),zgssearch.setFiltersDetails(wffodata,"length",modLength),zgssearch.setFiltersDetails(wffodata,"parKey","projects"),zgssearch.setFiltersDetails(wffodata,"hasChildFilter",!0),zgssearch.setFiltersDetails(wffodata,"isDependentKey",!0),zgssearch.setFiltersDetails(wffodata,"data",modData),zgssearch.setFiltersDetails(wffodata,"alldata",allModData),zgssearch.setFiltersDetails(wffodata,"key","module"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"mulSelectKey",!0),zgssearch.setFiltersDetails(wffodata,"filterLevel",3),zgssearch.setFiltersDetails(curModule,"modules",wffodata),fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,curModule,zgssearch.getI18NMsg("gs.search.modfied_time"),"modifiedTime"),curModule.modifiedTime.length=0,curModule.modifiedTime.parId=["4","7"],curModule.modifiedTime.parKey="modules",fData={},fData={0:zgssearch.getI18NMsg("gs.search.filter.alldays"),today:zgssearch.getI18NMsg("gs.search.filter.today"),tomorrow:zgssearch.getI18NMsg("gs.search.filter.tomorrow"),next7days:zgssearch.getI18NMsg("gs.search.filter.next7days"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate"),customrange:zgssearch.getI18NMsg("gs.search.filter.customrange")},zgssearch.setDateTypeWidgetData(fData,curModule,zgssearch.getI18NMsg("gs.search.filter.dueDate"),"dueDate"),curModule.dueDate.length=0,curModule.dueDate.parId=["3","5","6"],curModule.dueDate.parKey="modules";var relvTitle=zgssearch.getI18NMsg("gs.search.filter.sortrelv"),sortText=zgssearch.getI18NMsg("gs.search.filter.dueDate"),defaultSortDispName=zgssearch.getI18NMsg("gs.search.modfied_time");wffodata={};fData={sortrelv:relvTitle,sorttime:defaultSortDispName,sortduedate:sortText},defaultSortVal="sorttime";void 0!==sortVal&&-1!==sortVal&&(0===sortVal?(defaultSortDispName=relvTitle,defaultSortVal="sortrelv"):2===sortVal&&(defaultSortDispName=sortText,defaultSortVal="sortduedate"));sortText=zgssearch.getI18NMsg("gs.search.filter.sortby");zgssearch.setFiltersDetails(wffodata,"title",sortText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"current",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"dispname",defaultSortDispName),zgssearch.setFiltersDetails(wffodata,"length",3),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","sort"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_LONG),zgssearch.setFiltersDetails(wffodata,"filterLevel",1),zgssearch.setFiltersDetails(curModule,"sort",wffodata),zgssearch.setFiltersDetails(curModule,"sort_order",["sort"]),zgssearch.isArrayContain(GSConstant.PROJECTS,zgssearch.account_based_filter_service_list)||zgssearch.account_based_filter_service_list.push(GSConstant.PROJECTS),zgssearch.setFiltersDetails(curModule,"order",["accounts","projects","modules","modifiedTime","dueDate"]),zgssearch.setFilterObj(service,curModule),zgssearch.searchObj.service!==GSConstant.PROJECTS||"0"!=(curModule=zgssearch.getCurrentValue("modules"))&&""!=curModule&&zgssearch.loadProjectsModChildFilter(GSConstant.PROJECTS,curModule,zgssearch.getCurrentValue("projects"),zgssearch.getCurrentValue("accounts"))},zgssearch.setSortFilters=function(gffo,sortText,service){var relvTitle=zgssearch.getI18NMsg("gs.search.filter.sortrelv"),timeTitle=zgssearch.getI18NMsg("gs.search.filter.sorttime"),sortTitleTxt=zgssearch.getI18NMsg("gs.search.filter.cliq.title"),sort_length=2,wffodata={},fData={sortrelv:relvTitle,sorttime:timeTitle};service&&service===GSConstant.EVERNOTE&&(fData.sorttitle=sortTitleTxt,sort_length=3);var defaultSortVal="",defaultSortDispName="";switch(sortText){case 0:defaultSortVal="sortrelv",defaultSortDispName=relvTitle;break;case 1:defaultSortDispName=timeTitle,defaultSortVal="sorttime";break;case 2:defaultSortDispName=sortTitleTxt,defaultSortVal="sorttitle"}sortText=zgssearch.getI18NMsg("gs.search.filter.sortby");zgssearch.setFiltersDetails(wffodata,"title",sortText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"current",defaultSortVal),zgssearch.setFiltersDetails(wffodata,"dispname",defaultSortDispName),zgssearch.setFiltersDetails(wffodata,"length",sort_length),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","sort"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_INT),zgssearch.setFiltersDetails(wffodata,"filterLevel",1),zgssearch.setFiltersDetails(gffo,"sort",wffodata),zgssearch.setFiltersDetails(gffo,"sort_order",["sort"])},zgssearch.setFileTypeWidgetData=function(fData,gffo){var wffodata={},filetypeText=zgssearch.getI18NMsg("common.fileType");return zgssearch.setFiltersDetails(wffodata,"title",filetypeText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","all"),zgssearch.setFiltersDetails(wffodata,"current","all"),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData).length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltypes")),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","searchin"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_STRING),zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,"filetype",wffodata),gffo},zgssearch.setDateTypeWidgetData=function(fData,gffo,msgText,key){var wffodata={},key=key||"date",msgText=msgText||zgssearch.getI18NMsg("gs.search.filter.date_rage");return zgssearch.setFiltersDetails(wffodata,"title",msgText),zgssearch.setFiltersDetails(wffodata,"type","1"),zgssearch.setFiltersDetails(wffodata,"default","0"),zgssearch.setFiltersDetails(wffodata,"current","0"),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alldays")),zgssearch.setFiltersDetails(wffodata,"fromdate",""),zgssearch.setFiltersDetails(wffodata,"todate",""),zgssearch.setFiltersDetails(wffodata,"length",Object.keys(fData).length),zgssearch.setFiltersDetails(wffodata,"data",fData),zgssearch.setFiltersDetails(wffodata,"key","date"),zgssearch.setFiltersDetails(wffodata,"data_type",zgssearch.QUERY_OBJ_DT_DATE_TIME),"dueDate"==key||"modifiedTime"==key?zgssearch.setFiltersDetails(wffodata,"filterLevel",4):zgssearch.setFiltersDetails(wffodata,"filterLevel",2),zgssearch.setFiltersDetails(gffo,key,wffodata),gffo},zgssearch.setGmailWidgetData=function(service,accList,accsObj,gffo){zgssearch.setFiltersDetails(gffo,"order",["accounts"]),zgssearch.setFilterObj(service,gffo)}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=(zgssearch=window.zgssearch||{}).getGSConstantObj()||{};zgssearch.gscomponent;zgssearch.gFilterData=zgssearch.gFilterData||{},zgssearch.deskmodid=["1","2","3","4"],zgssearch.config_multiPortals=zgssearch.config_multiPortals||{},zgssearch.ismultiConfigEnabled=zgssearch.ismultiConfigEnabled||!1,zgssearch.multiPageServices=zgssearch.multiPageServices||[],zgssearch.filterDates={},zgssearch.filterDates.today={datevalue:"0",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.yesterday={datevalue:"1",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_PREV,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.tomorrow={datevalue:"1",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.last7days={datevalue:"7",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.next7days={datevalue:"7",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_NEXT,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_DAY},zgssearch.filterDates.thismonth={datevalue:"0",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH},zgssearch.filterDates.thisweek={datevalue:"0",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_THIS,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK},zgssearch.filterDates.last2weeks={datevalue:"2",datetype:zgssearch.QUERY_OBJ_RELATIVE_DATE_TYPE_LAST,timeunit:zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK},zgssearch.relativeDateDispName={today:zgssearch.getI18NMsg("gs.search.filter.today"),yesterday:zgssearch.getI18NMsg("gs.search.filter.yesterday"),last7days:zgssearch.getI18NMsg("gs.search.filter.last7days"),last2weeks:zgssearch.getI18NMsg("gs.search.filter.last2weeks"),thisweek:zgssearch.getI18NMsg("gs.search.filter.thisweek"),thismonth:zgssearch.getI18NMsg("gs.search.filter.thismonth"),customdate:zgssearch.getI18NMsg("gs.search.filter.customdate")},zgssearch.storedFullWidgetResponseData=zgssearch.storedFullWidgetResponseData||{},zgssearch.storedWidgetResponseData=zgssearch.storedWidgetResponseData||{},zgssearch.setFullWidgetResponseData=function(response){zgssearch.storedFullWidgetResponseData=response},zgssearch.getFullWidgetResponseData=function(){return zgssearch.storedFullWidgetResponseData},zgssearch.setWidgetResponseData=function(service,response){zgssearch.storedWidgetResponseData.hasOwnProperty(service)&&delete zgssearch.storedWidgetResponseData[service],zgssearch.storedWidgetResponseData[service]=response},zgssearch.getWidgetResponseData=function(service){return zgssearch.storedWidgetResponseData.hasOwnProperty(service)?zgssearch.storedWidgetResponseData[service]:{}},zgssearch.getWidgetdata=function(){return zgssearch.GSConstant.hasOwnProperty("widgetObject")&&zgssearch.GSConstant.widgetObject?zgssearch.GSConstant.widgetObject:""},zgssearch.getAllServiceListFromWidget=function(){var widgetData=zgssearch.hasOwnProperty("getWidgetdata")?zgssearch.getWidgetdata():"",servList="";return servList=widgetData?widgetData.hasOwnProperty("allserviceslist")&&widgetData.allserviceslist?widgetData.allserviceslist:"":servList},zgssearch.getEnabledAccListFromWidget=function(appname,service_data){var enabled_account_list=[];if(service_data.hasOwnProperty("all"))for(var all_accounts_list=service_data.all,all_accounts_list_length=all_accounts_list.length,account_details=service_data.aD,account=0;account<all_accounts_list_length;account++){var account_id=all_accounts_list[account];((account_details[account_id]||{}).e||!1)&&enabled_account_list.push(account_id)}return enabled_account_list},zgssearch.setFilterObj=function(service,obj){obj&&(zgssearch.gFilterData[service]=obj)},zgssearch.getFilterObj=function(service){return service=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,zgssearch.gFilterData[service]||{}},zgssearch.getFilterInfo=function(service,type,key){try{var ffObj=zgssearch.getFilterObj(service);if(ffObj.hasOwnProperty(type)){var fftype=ffObj[type];if(fftype.hasOwnProperty(key))return fftype[key]}}catch(ex){zgssearch.throwClientError("Error in getFilterInfo. service"+service+"  >>>>>>>>>>>>> ",ex)}return""},zgssearch.getFilterData=function(service,type,sportal,value,acc_Id){var mlist=zgssearch.getWidgetServiceList(service),fftype=zgssearch.getFilterInfo(service,type,sportal),ttype=zgssearch.getFilterInfo(service,type,"type");if(fftype&&""!=fftype)if("1"==ttype||"6"==ttype){if(fftype.hasOwnProperty(value))return fftype[value]}else if("2"==ttype){for(var fid in fftype)if((wObj=fftype[fid]).hasOwnProperty(value))return wObj[value]}else if("3"==ttype){var filterKey=zgssearch.getFilterAccountKeyName(service,type,ttype),sportal=acc_Id||zgssearch.getFilterInfo(service,filterKey,"current");if(fftype.hasOwnProperty(sportal))if((wObj=fftype[sportal]).hasOwnProperty(value))return wObj[value]}else if("4"==ttype){var filterKey=zgssearch.getFilterAccountKeyName(service,type,ttype),mportal=acc_Id||zgssearch.getFilterInfo(service,filterKey,"current");if(fftype.hasOwnProperty(mportal))for(mpi in wObj=fftype[mportal])if((kObj=wObj[mpi]).key==value)return kObj.name}else if("5"==ttype){var wObj,mpi,kObj,mportal=acc_Id||zgssearch.getFilterInfo(service,mlist.key,"current");if(fftype.hasOwnProperty(mportal))for(mpi in wObj=fftype[mportal])if((kObj=wObj[mpi]).ID==value)return kObj.NAME}return""},zgssearch.updateFilterInfo=function(ffObj,fftype,key,value){ffObj=zgssearch.getFilterObj(ffObj);!ffObj.hasOwnProperty(fftype)||(fftype=ffObj[fftype]).hasOwnProperty(key)&&(fftype[key]=value)},zgssearch.isServiceHasFilter=function(service_name){var hasFilter=!1,currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;if(gfObj=zgssearch.getFilterObj(currService))for(var common_order=zgssearch.getServiceOrders(gfObj),i=0;i<common_order.length;i++){var fkObj,gfObj,fkey=common_order[i];gfObj.hasOwnProperty(fkey)&&((1<((fkObj=gfObj[fkey]).length||0)||"6"==fkObj.type&&currService===GSConstant.MAILS)&&(hasFilter=!0),currService!=zgssearch.GSConstant.ASANA||fkey!=zgssearch.WS||hasFilter||(gfObj=zgssearch.getFilterObj(currService)))}return hasFilter},zgssearch.isServiceHasWidget=function(service_name){var hasFilter=!1;try{var skey,fkObj,gfObj=zgssearch.getFilterObj(service_name);if(service_name=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list))return!0;gfObj&&(skey=zgssearch.getWidgetKey(service_name),!gfObj.hasOwnProperty(skey)||(1<((fkObj=gfObj[skey]).length||0)||"6"==fkObj.type&&service_name===GSConstant.MAILS)&&(hasFilter=!0))}catch(ex){}return hasFilter},zgssearch.getCurrentKeyData=function(service_name,key){var gfObj=zgssearch.getFilterObj(service_name);if(gfObj){var skey=zgssearch.getWidgetKey(service_name);if(gfObj.hasOwnProperty(skey)){var currentVal=zgssearch.getCurrentValue(skey,service_name)||"";switch(key){case"current":return currentVal;case"dispname":return gfObj[skey].data[currentVal]||""}}}},zgssearch.isWidgetService=function(service){switch(service){case GSConstant.STREAMS:case GSConstant.MAILS:case GSConstant.CRM:case GSConstant.SUPPORT:case GSConstant.CONNECT:case GSConstant.WIKI:case GSConstant.REPORTS:case GSConstant.CREATOR:case GSConstant.PEOPLE:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.INVENTORY:case GSConstant.WEBSITE:case GSConstant.WORKDRIVE:case GSConstant.ORGRESOURCES:case GSConstant.CAMPAIGNS:case GSConstant.DROPBOX:case GSConstant.GOOGLEDRIVE:case GSConstant.BOX:case GSConstant.SLACK:case GSConstant.SALESFORCE:case GSConstant.O365MAIL:case GSConstant.ONEDRIVE:case GSConstant.CALENDAR:case GSConstant.NOTEBOOK:case GSConstant.ASANA:case GSConstant.BIGIN:case GSConstant.EVERNOTE:case GSConstant.PROJECTS:return!0}return!1},zgssearch.getWidgetKey=function(service){return service!==GSConstant.CREATOR?zgssearch.getWidgetServiceList(service).key||"":"apps"},zgssearch.updateFilterParamsForService=function(service,filterObj,setFilterAsDefault){var gfObj=zgssearch.getFilterObj(service);if(gfObj)for(var common_order=zgssearch.getServiceOrders(gfObj),i=0;i<common_order.length;i++){var keyData,value,fkey=common_order[i];gfObj.hasOwnProperty(fkey)&&(value=(keyData=gfObj[fkey]).key,keyData=keyData.data,filterObj.hasOwnProperty(value)&&(value=filterObj[value],zgssearch.updateFilterInfo(service,fkey,"current",value),zgssearch.updateFilterInfo(service,fkey,"dispname",keyData[value]),setFilterAsDefault&&zgssearch.updateFilterInfo(service,fkey,"default",value)))}},zgssearch.setDefaultFiltersParams=function(filters,searchType){searchType=searchType||zgssearch.getSearchType();GSConstant.ALL!=searchType&&GSConstant.CONNECT!=searchType||filters.hasOwnProperty("searchin")||(filters.searchin="all")},zgssearch.isListViewSearch=function(){var query=zgssearch.getQueryText();return!zgssearch.isQueryValid(query)&&!zgssearch.isQueryHasUserCriteria()},zgssearch.isMultiDefaultAccount=function(mlist,account_id){var gfObj=zgssearch.getFilterObj(mlist),mlist=zgssearch.getWidgetServiceList(mlist);if(gfObj&&mlist&&(gfObj.hasOwnProperty(mlist.key)&&account_id==gfObj[mlist.key].mdefault))return!0;return!1},zgssearch.updateMultiPageFlag=function(search_type,defValue){var value=zgssearch.getWidgetServiceList(search_type);zgssearch.isServiceHasMultiPortals(search_type)&&defValue==value.key&&(zgssearch.multiPageEnabled=!1,value=zgssearch.getCurrentValue(defValue),defValue=zgssearch.gsfilters.getDefValueForServiceType(search_type,defValue,!0),value&&value[0]!==defValue||(zgssearch.multiPageEnabled=!0))},zgssearch.initWidgetList=function(){var widgetObj,accessibleSerList,allserList;"COMPLETE"!=zgssearch.statusOfWidgetFetchData&&GSConstant.hasOwnProperty("widgetObject")&&(zgssearch.statusOfWidgetFetchData="COMPLETE",widgetObj=GSConstant.widgetObject,zgssearch.loadWidgetList(widgetObj),allserList=zgssearch.getEnabledServiceList(),accessibleSerList=zgssearch.getAccessibleServiceList(),0<allserList.length&&0<!accessibleSerList.length&&zgssearch.setAccessibleServiceList(allserList),allserList=zgssearch.getConstAllServList()||[],widgetObj.allserviceslist&&0<!allserList.length&&zgssearch.setConstAllServList(widgetObj.allserviceslist),zgssearch.updateAndRenderServicelistWithLatestWidgetData(),zgssearch.fetchAdditionlInfo())},zgssearch.updateAndRenderServicelistWithLatestWidgetData=function(){var enabledServiceList,newServList,serviceArrList=zgssearch.gscomponent.pcode;"ZO"!=serviceArrList&&"SS"!=serviceArrList&&"ZW"!=serviceArrList&&"ZO"==serviceArrList&&zgssearch.gscomponent.zsoid&&"-1"!=zgssearch.gscomponent.zsoid&&(enabledServiceList=zgssearch.getConstAllServList()||[],serviceArrList=(newServList=zgssearch.getAllServiceListFromWidget()||[]).length>=enabledServiceList.length?newServList:enabledServiceList,zgssearch.setConstAllServList(serviceArrList),newServList=zgssearch.getAccessibleServiceList()||[],serviceArrList=(enabledServiceList=zgssearch.getEnabledServiceList()||[]).length>=newServList.length?enabledServiceList:newServList,zgssearch.storeServiceList(serviceArrList,"serviceList"),zgssearch.storeServiceList(serviceArrList,"orderedServiceList"),zgssearch.hasOwnProperty("gsautocomplete")&&zgssearch.gsautocomplete.addServices(),zgssearch.setAccessibleServiceList(serviceArrList),0<(newServList=zgssearch.getExtraServiceList(enabledServiceList,newServList)||[]).length&&zgssearch.renderNewServiceInLeftPanel(newServList))},zgssearch.setFiltersDetails=function(fobject,fkey,fvalue){fobject[fkey]=fvalue},zgssearch.updateConfigPortals=function(){zgssearch.ismultiConfigEnabled=!0},zgssearch.updateMultiPageServiceList=function(disElePos,length){zgssearch.updateConfigPortals();var serList=GSConstant.widgetObject.hasOwnProperty("allserviceslist")?GSConstant.widgetObject.allserviceslist:zgssearch.serviceList;return 1<length&&zgssearch.isArrayContain(disElePos,serList)?(zgssearch.isArrayContain(disElePos,zgssearch.multiPageServices)||zgssearch.multiPageServices.push(disElePos),!0):(1===length&&zgssearch.isArrayContain(disElePos,zgssearch.multiPageServices)&&(disElePos=zgssearch.multiPageServices.indexOf(disElePos),zgssearch.multiPageServices.splice(disElePos,1)),!1)},zgssearch.isServiceHasSubMultiPortals=function(service){return zgssearch.isArrayContain(service,zgssearch.configured_mail_module)},zgssearch.isServiceHasMultiPortals=function(service){return zgssearch.isArrayContain(service,zgssearch.multiPageServices)},zgssearch.updateSupportFilterInfo=function(service){var modulData=zgssearch.getFilterObj(service);if(modulData&&GSConstant.SUPPORT==service){var curPortal=zgssearch.getFilterInfo(service,"accounts","current"),modulData=zgssearch.getFilterInfo(service,"departments","data"),dispName="";if(modulData.hasOwnProperty(curPortal)){var deptId,sddata=modulData[curPortal];for(deptId in sddata){zgssearch.updateFilterInfo(service,"departments","default",deptId),zgssearch.updateFilterInfo(service,"departments","current",deptId),dispName=sddata[deptId];break}}else zgssearch.updateFilterInfo(service,"departments","default","0"),zgssearch.updateFilterInfo(service,"departments","current","0"),dispName=zgssearch.getI18NMsg("gs.search.filter.alldepartments");zgssearch.updateFilterInfo(service,"departments","dispname",dispName);modulData=zgssearch.getFilterInfo(service,"modules","data");if(modulData.hasOwnProperty(curPortal)){var modulId,smdata=modulData[curPortal];for(modulId in smdata){zgssearch.updateFilterInfo(service,"modules","default",modulId),zgssearch.updateFilterInfo(service,"modules","current",modulId),zgssearch.updateFilterInfo(service,"modules","dispname",smdata[modulId]);break}}}},zgssearch.formatMailFoldersDetails=function(wfArr){var tffodata={},excludeList=[zgssearch.getI18NMsg("gs.search.service_outbox")+"/"];tffodata[0]={key:"0",tip:zgssearch.getI18NMsg("gs.search.filter.allfolders"),name:zgssearch.getI18NMsg("gs.search.filter.allfolders")};for(var i=0;i<wfArr.length;i++){var fname,fnameArr=(wfArr[i]||"").split(","),fid=fnameArr[0]||"",ftip=fnameArr[1]||"";zgssearch.isArrayContain(ftip,excludeList)||(-1<(fnameArr=(fname=ftip).substr(0,ftip.length-1)).indexOf("/")&&(fname=".../"+(fnameArr=fnameArr.split("/"))[fnameArr.length-1]+"/"),tffodata[i+1]={key:fid,tip:ftip,name:fname})}return tffodata},zgssearch.formatMailLabelsDetails=function(wlArr){var tffodata={};tffodata[0]={COLOR:"",ID:"alltags",NAME:zgssearch.getI18NMsg("gs.search.filter.alltags")};for(var i=0;i<wlArr.length;i++){var value=wlArr[i]||{};_jQueryGS.isEmptyObject(value)||(tffodata[i+1]=wlArr[i]||{})}return tffodata},zgssearch.formatDeskModulesDetails=function(moduIds){var mid,resObj={},modul={},unusedPerm={};for(mid in modul[0]=zgssearch.getI18NMsg("common.allmodules"),moduIds)zgssearch.isArrayContain(mid,zgssearch.deskmodid)?modul[mid]=moduIds[mid]:unusedPerm[mid]=moduIds[mid];return resObj.moduleData=modul,resObj.unusedModuleData=unusedPerm,resObj.length=Object.keys(modul).length,resObj},zgssearch.updateDateFormat=function(service,key,dcolor){var targetId,dispname,today=new Date,dd=("0"+today.getDate()).slice(-2),mm=today.getMonth()+1,yyyy=today.getFullYear(),mmm="",fromdate="",todate="",curadCal={1:"-01-",2:"-02-",3:"-03-",4:"-04-",5:"-05-",6:"-06-",7:"-07-",8:"-08-",9:"-09-",10:"-10-",11:"-11-",12:"-12-"};switch(dcolor){case"today":fromdate=todate=dd+(mmm=curadCal[mm])+yyyy;break;case"yesterday":var tomorrow=new Date(today);tomorrow.setDate(today.getDate()-1),dd=("0"+tomorrow.getDate()).slice(-2),mm=tomorrow.getMonth()+1,yyyy=tomorrow.getFullYear(),fromdate=todate=dd+(mmm=curadCal[mm])+yyyy;break;case"tomorrow":tomorrow=new Date(today);tomorrow.setDate(today.getDate()+1),dd=("0"+tomorrow.getDate()).slice(-2),mm=tomorrow.getMonth()+1,yyyy=tomorrow.getFullYear(),fromdate=todate=dd+(mmm=curadCal[mm])+yyyy;break;case"last7days":var todate=dd+(mmm=curadCal[mm])+yyyy,next7days=new Date(today);next7days.setDate(today.getDate()-7),dd=("0"+next7days.getDate()).slice(-2),mm=next7days.getMonth()+1,yyyy=next7days.getFullYear(),fromdate=dd+(mmm=curadCal[mm])+yyyy;break;case"next7days":fromdate=dd+(mmm=curadCal[mm])+yyyy,next7days=new Date(today);next7days.setDate(today.getDate()+7),dd=("0"+next7days.getDate()).slice(-2),mm=next7days.getMonth()+1,yyyy=next7days.getFullYear(),todate=dd+(mmm=curadCal[mm])+yyyy;break;case"thisweek":if(service===GSConstant.CALENDAR){var weekStartDate=new Date(today.setDate(today.getDate()-today.getDay())),weekEndDate=new Date(today.setDate(today.getDate()-today.getDay()+6));switch(todate=dd+(mmm=curadCal[mm])+yyyy,zgssearch.getFilterInfo("calendar","eventTypes","current")){case"0":fromdate=(dd=("0"+weekStartDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekStartDate.getMonth()+1])+(yyyy=weekStartDate.getFullYear()),todate=(dd=("0"+weekEndDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekEndDate.getMonth()+1])+(yyyy=weekEndDate.getFullYear());break;case"1":fromdate=todate,todate=(dd=("0"+weekEndDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekEndDate.getMonth()+1])+(yyyy=weekEndDate.getFullYear());break;case"-1":fromdate=(dd=("0"+weekStartDate.getDate()).slice(-2))+(mmm=curadCal[mm=weekStartDate.getMonth()+1])+(yyyy=weekStartDate.getFullYear())}}else{var thismonth=today.getDay()||7;today.setHours(-24*thismonth),dd=("0"+today.getDate()).slice(-2),mm=today.getMonth()+1,yyyy=today.getFullYear(),fromdate=dd+(mmm=curadCal[mm])+yyyy,today.setHours(144),dd=("0"+today.getDate()).slice(-2),mm=today.getMonth()+1,yyyy=today.getFullYear(),todate=dd+(mmm=curadCal[mm])+yyyy}break;case"thismonth":if(mmm=curadCal[mm],service===GSConstant.CALENDAR){var monthStartDate=new Date(today.getFullYear(),today.getMonth(),1),monthEndDate=new Date(today.getFullYear(),today.getMonth()+1,0),yyyy=monthStartDate.getFullYear();switch(zgssearch.getFilterInfo("calendar","eventTypes","current")){case"0":fromdate=(dd=("0"+monthStartDate.getDate()).slice(-2))+mmm+yyyy,todate=(dd=("0"+monthEndDate.getDate()).slice(-2))+mmm+yyyy;break;case"1":fromdate=dd+mmm+yyyy,todate=(dd=("0"+monthEndDate.getDate()).slice(-2))+mmm+yyyy;break;case"-1":todate=dd+mmm+yyyy,fromdate=(dd=("0"+monthStartDate.getDate()).slice(-2))+mmm+yyyy}}else{todate=dd+mmm+yyyy;thismonth=new Date(today);thismonth.setDate(1),dd=("0"+thismonth.getDate()).slice(-2),mm=thismonth.getMonth()+1,yyyy=thismonth.getFullYear(),fromdate=dd+(mmm=curadCal[mm])+yyyy}}zgssearch.isMoreFilterListDisplay?(zgssearch.curMoreFiltersList[key]=dcolor,zgssearch.curMoreDateFiltersList={fromdate:fromdate,todate:todate},_jQueryGS(targetId="#zgs20_gsMoreFilterElem_"+key).attr("soid",dcolor),dispname=zgssearch.getFilterData(service,key,"data",dcolor),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("gstitle",dispname).text(dispname),dcolor=zgssearch.getFilterInfo(service,key,"default")==dcolor?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor)):(zgssearch.updateFilterInfo(service,key,"fromdate",fromdate),zgssearch.updateFilterInfo(service,key,"todate",todate))},zgssearch.toggleCreatorFormViewsHeader=function(ftype){_jQueryGS(zgssearch.currCreatorFilterHeaderSelectedEleId).addClass("zgs19_gsModuleFilterSerNameSelect"),zgssearch.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+ftype,_jQueryGS(zgssearch.currCreatorFilterHeaderSelectedEleId).removeClass("zgs19_gsModuleFilterSerNameSelect")},zgssearch.clickActionForWidgetList=function(oldfkeyValue){var service=zgssearch.getSearchType(),ftype=_jQueryGS(oldfkeyValue).attr("ftype"),query=zgssearch.getQueryText(),isValidSearch=!1,soid=_jQueryGS(oldfkeyValue).attr("key"),fkey=_jQueryGS(oldfkeyValue).attr("fkey"),oldfkeyValue=zgssearch.getCurrentValue(fkey,service);(zgssearch.isQueryValid(query)||zgssearch.isQueryHasUserCriteria())&&(isValidSearch=!0),zgssearch.newHandleUserSearchQuery(service),isValidSearch||("formList"==ftype||"viewList"==ftype||"pageList"==ftype?(zgssearch.hideFilterList(),zgssearch.toggleCreatorFormViewsHeader(ftype),zgssearch.gscreator.loadCreatorFormView(soid,ftype)):"customrange"!=soid&&"customdate"!=soid&&soid!=oldfkeyValue&&(zgssearch.updateMultiPageFlag(service,fkey),zgssearch.displayModuleResultPage()))},zgssearch.clickActionForMoreInnerList=function(targetId){var service=zgssearch.getSearchType(),dcolor=_jQueryGS(targetId).attr("key"),fkey=_jQueryGS(targetId).attr("fkey"),value=_jQueryGS(targetId).attr("value"),targetId=zgssearch.getFilterInfo(service,fkey,"key");"customrange"==dcolor||"customdate"==dcolor?(zgssearch.curDatePickerObj={service:service,key:fkey,soid:dcolor},zgssearch.handleDatePicker(dcolor)):"date"==targetId?zgssearch.updateDateFormat(service,fkey,dcolor):(targetId="#zgs20_gsMoreFilterElem_"+fkey,zgssearch.curMoreFiltersList[fkey]=dcolor,_jQueryGS(targetId).attr("soid",dcolor),_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").attr("gstitle",value).text(value),dcolor=zgssearch.getFilterInfo(service,fkey,"default")==dcolor?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",_jQueryGS(targetId).find(".zgs19_gsMoreFilterValue").removeClass("zgs19_tc2fa6ea zgs19_tcfd9c10").addClass(dcolor))},zgssearch.getServiceOrders=function(sort_order){var order=sort_order.order||[],sort_order=sort_order.sort_order||[];return order?order.concat(sort_order):{}},zgssearch.updateSubMultiPageFlag=function(module){zgssearch.subMultiPageEnabled="0"===module},zgssearch.updateServiceFilters=function(oldservice,gfObj,target){oldservice=zgssearch.isArrayContain(oldservice,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[oldservice].originService:oldservice;var common_order,sortData=zgssearch.isArrayContain(gfObj,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[gfObj].originService:gfObj;zgssearch.isArrayContain(sortData,zgssearch.account_based_filter_service_list)&&sortData==zgssearch.GSConstant.PROJECTS&&"sortduedate"==zgssearch.getFilterInfo(gfObj,"sort","current")&&("0"!=(sortData=zgssearch.getFilterInfo(gfObj,zgssearch.gsprojects.modules,"current"))&&"4"!=sortData&&"7"!=sortData&&"9"!=sortData||(common_order=zgssearch.getFilterInfo(gfObj,"sort","default"),sortData=zgssearch.getFilterInfo(gfObj,"sort","data"),zgssearch.updateFilterInfo(gfObj,"sort","current",common_order),zgssearch.updateFilterInfo(gfObj,"sort","dispname",sortData[common_order]))),gfObj!=oldservice&&(gfObj=zgssearch.hasOwnProperty("gshistory")&&gfObj?zgssearch.gshistory.getProperServiceName(gfObj):oldservice,common_order=zgssearch.getServiceList("serviceList")||[],!zgssearch.isArrayContain(oldservice,common_order)||(gfObj=zgssearch.getFilterObj(oldservice))&&(common_order=zgssearch.getServiceOrders(gfObj),zgssearch.resetToAllDefaultFilter(common_order,void 0,gfObj,oldservice)))},zgssearch.resetToAllDefaultFilter=function(common_order,selectedModuleName,gfObj,oldservice){var order_len=common_order.length;if(0<order_len)for(var i=0;i<order_len;i++){var fkObj,odefault,odispname,fkey=common_order[i];gfObj.hasOwnProperty(fkey)&&fkey!==selectedModuleName&&(odefault=(fkObj=gfObj[fkey]).default,odispname=zgssearch.getFilterData(oldservice,fkey,"data",odefault),zgssearch.updateFilterInfo(oldservice,fkey,"current",odefault),odispname&&zgssearch.updateFilterInfo(oldservice,fkey,"dispname",odispname),"1"==fkObj.type&&zgssearch.updateSupportFilterInfo(oldservice),"date"==fkey&&(zgssearch.updateFilterInfo(oldservice,fkey,"todate",""),zgssearch.updateFilterInfo(oldservice,fkey,"fromdate","")))}},zgssearch.storeMailLabelInfo=function(mlArr,gffo,foldText){var wffodata,ffodata;0<(mlArr=mlArr||[]).length&&(wffodata={},(ffodata={})[foldText]=zgssearch.formatMailLabelsDetails(mlArr),foldText=zgssearch.getI18NMsg("gs.search.filter.tags"),zgssearch.setFiltersDetails(wffodata,"title",foldText),zgssearch.setFiltersDetails(wffodata,"type","5"),zgssearch.setFiltersDetails(wffodata,"data",ffodata),zgssearch.setFiltersDetails(wffodata,"key","labelId"),zgssearch.setFiltersDetails(wffodata,"default","alltags"),zgssearch.setFiltersDetails(wffodata,"current","alltags"),zgssearch.setFiltersDetails(wffodata,"length",mlArr.length),zgssearch.setFiltersDetails(wffodata,"dispname",zgssearch.getI18NMsg("gs.search.filter.alltags")),zgssearch.setFiltersDetails(gffo,"labels",wffodata))},zgssearch.fetchSupportModuleInfo=function(argparam,moduleParam){argparam={service:argparam,portalId:moduleParam},moduleParam="action=fetchDeskModuleDetails&portalId="+encodeURIComponent(moduleParam);zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,moduleParam,argparam,function(dataObj,status,mObj){var argObj=mObj.args||{},unusedData=zgssearch.jsonParse(dataObj),mObj=zgssearch.formatDeskModulesDetails(unusedData),dataObj=zgssearch.getFilterInfo(argObj.service,"modules","data"),unusedData=zgssearch.getFilterInfo(argObj.service,"modules","unusedModData");dataObj[argObj.portalId]=mObj.moduleData,unusedData[argObj.portalId]=mObj.unusedModuleData,zgssearch.updateFilterInfo(argObj.service,"modules","data",dataObj),zgssearch.updateFilterInfo(argObj.service,"modules","unusedModData",unusedData)})},zgssearch.fetchFinancePlusModuleInfo=function(serviceName,moduleParam){var argparam={service:serviceName,portalId:moduleParam},moduleParam="action=fetchFinancePlusModules&service="+serviceName+"&orgId="+encodeURIComponent(moduleParam);zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,moduleParam,argparam,function(mObj,status,dataObj){var argObj=dataObj.args||{},dataObj=zgssearch.jsonParse(mObj),mObj=zgssearch.formatBooksModulesDetails(dataObj),dataObj=zgssearch.getFilterInfo(argObj.service,"modules","data");dataObj[argObj.portalId]=mObj,zgssearch.updateFilterInfo(argObj.service,"modules","data",dataObj)})},zgssearch.fetchAdditionlInfo=function(){zgssearch.loadResultsFromHolder(),zgssearch.hasOwnProperty("gsversion")&&zgssearch.gsversion.checkGSVersion()},zgssearch.initWidgetList()}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gsfilters=zgssearch.gsfilters||{};zgssearch.isContextBoxOpened=!1,zgssearch.setService=function(service){zgssearch.searchObj={},zgssearch.searchObj.service=service,zgssearch.setSearchType(service)},zgssearch.hasValueInSearchObj=function(fkey){return zgssearch.searchObj.hasOwnProperty(fkey)},zgssearch.getCurrentValue=function(curValue,defaultValue){var curSearchObj=zgssearch.searchObj;defaultValue=defaultValue||curSearchObj.service;defaultValue=zgssearch.getFilterInfo(defaultValue,curValue,"default");if(curSearchObj.service===GSConstant.ALL)return defaultValue;curValue=curSearchObj[curValue];return curValue?curValue[0]:defaultValue},zgssearch.setCurrentValue=function(fkey,value){zgssearch.searchObj[fkey]=[value]},zgssearch.checkContextFiltersAppliedOrNot=function(valueArr,defValue){valueArr=zgssearch.searchObj[valueArr];return 1<valueArr.length||valueArr[0]===defValue},zgssearch.showFilterContainer=function(){var overlayObj=_jQueryGS("#zgs20_gsOverlayDialog");overlayObj.empty(),gsfilters.currentFilterComponent=zgssearch.filtercomponent.getSearchFilterComponent(),0===_jQueryGS("#zgs20_gsfilterHolder").length&&(gsfilters.createFilterHolder(overlayObj),gsfilters.addEventsForFiltersPage()),gsfilters.currentFilterObj=Object.assign({},zgssearch.searchObj),zgssearch.isFilterPageOpened=!0,gsfilters.renderFilters(),gsfilters.disabledApplyButton(),gsfilters.topHolderElem=_jQueryGS("#zgs20_gsQueryBoxHolder"),gsfilters.parentElem=1===zgssearch.gscomponent.UIType?_jQueryGS(".zgs19_zohosearch"):_jQueryGS(".zgs19_gsHolder"),zgssearch.setSearchFilterContainerPosition(),gsfilters.checkAndApplyResetEnabledOrNot()},zgssearch.hideFilterContainer=function(){gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup");var overlayObj=_jQueryGS("#zgs20_gsOverlayDialog");_jQueryGS("#zgs20_gsfilterHolder").remove(),overlayObj.css("display","none"),_jQueryGS("#zgs20_globalsearch").focus(),zgssearch.isFilterPageOpened=!1,overlayObj.removeClass("zgs19_gsContextualOverlay"),delete gsfilters.currentFilterComponent},zgssearch.setSearchFilterContainerPosition=function(){var ssIconW=gsfilters.topHolderElem,overlayObj=zgssearch.gscomponent.UIType,filterElem=_jQueryGS("#zgs20_gsfilterHolder"),filterContainerElem=gsfilters.parentElem,filterIcon=parseFloat(_jQueryGS(ssIconW).outerHeight()),nlpSearchIconW=gsfilters.getoffset(_jQueryGS(ssIconW)),parentPos=gsfilters.getoffset(filterContainerElem),overlayHeight=nlpSearchIconW.top+filterIcon-parentPos.top,elemWidth=(searchBoxBoundry=_jQueryGS("#zgs20_gsQueryBoxHolder")[0].getBoundingClientRect()).width,ssIconW=_jQueryGS("#zgs20_gsSSIconHolder").is(":visible")?_jQueryGS("#zgs20_gsSSIconHolder").outerWidth(!0):0,nlpSearchIconW=_jQueryGS(".zgs19_gsnlpZia").is(":visible")?_jQueryGS(".zgs19_gsnlpZia").outerWidth(!0):0,filterIcon=_jQueryGS("#zgs20_gsFilterIconHolder"),extraIconW=(filterIcon.is(":visible")&&filterIcon.outerWidth(!0),ssIconW+nlpSearchIconW),posKey=zgssearch.gscomponent.isRTLEnabled?"right":"left",searchBoxBoundry=_jQueryGS("#zgs20_gsQueryBoxHolder")[0].getBoundingClientRect(),filterContainerElemBoundry=_jQueryGS(filterContainerElem)[0].getBoundingClientRect(),leftPos=zgssearch.gscomponent.isRTLEnabled?filterContainerElemBoundry.right-searchBoxBoundry.right:searchBoxBoundry.left-filterContainerElemBoundry.left;switch(overlayObj){case 0:case 2:elemWidth-=extraIconW;break;case 4:var posKey=zgssearch.gscomponent.isRTLEnabled?"left":"right",filterIconElem=_jQueryGS("#zgs20_gsFilterIconHolder"),filterIconBoundry=_jQueryGS("#zgs20_gsFilterIconHolder")[0].getBoundingClientRect();filterIconElem.offset().left,parentPos.left,filterIconElem.width(),parseInt(filterElem.css("max-width"));elemWidth-=extraIconW,leftPos=zgssearch.gscomponent.isRTLEnabled?filterIconBoundry.left-filterContainerElemBoundry.left:filterContainerElemBoundry.right-filterIconBoundry.right}filterElem.css({"inset-block-start":Math.floor(overlayHeight),width:elemWidth}).click().focus(),filterElem.css(posKey,Math.floor(leftPos));overlayObj=_jQueryGS("#zgs20_gsOverlayDialog"),overlayHeight=overlayObj.outerHeight();_jQueryGS("#zgs20_gsfilterBodyHldr").css("max-height",.75*overlayHeight*.92),overlayObj.css("display","block"),filterElem.css("display","block")},zgssearch.updateServiceElem=function(service){var appElem=_jQueryGS("#zgs20_gsFilterElem_app");_jQueryGS(appElem).empty(),_jQueryGS(appElem).append(gsfilters.renderEachAppMenu(service).append(_jQueryGS("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px"}))),_jQueryGS(appElem).attr("service",service),service&&_jQueryGS(appElem).find(".zgs19_gsNewSerivceTxt").attr("gstitle",zgssearch.mappedServiceList[service].displayName),service!==GSConstant.ALL&&_jQueryGS(appElem).find(".zgs19_gsNewSerivceTxt").addClass("zgs19_tc2fa6ea")},zgssearch.applyFilterActions=function(){var advConfig,service=gsfilters.getCurrentService(),appliedFilterObj=gsfilters.getCurrentFilterObj();if(zgssearch.isAdvancedFitersApplied){if(advConfig=zgssearch.getAdvanceSearchConfig(),!zgssearch.isAdvCriteriaCorrect)return;0<advConfig.length?(appliedFilterObj.advConfig=advConfig,appliedFilterObj.qryPattern=zgssearch.getAdvanceQueryPattern()):(delete appliedFilterObj.advConfig,delete appliedFilterObj.qryPattern)}service!==zgssearch.getSearchType()&&(zgssearch.updateSearchType(service),zgssearch.setService(service)),zgssearch.searchObj=Object.assign({},appliedFilterObj),zgssearch.newHandleUserSearchQuery(service),gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup"),zgssearch.hideFilterContainer()},zgssearch.cancelFilterActions=function(){gsfilters.currentFilterObj={},zgssearch.isAdvancedFitersApplied&&zgssearch.gsadvancesearch.cancelEditCriteria(),zgssearch.hideFilterContainer()},zgssearch.resetFilterActions=function(){gsfilters.currentFilterObj={},gsfilters.currentFilterObj.service=GSConstant.ALL,zgssearch.isAdvancedFitersApplied&&zgssearch.gsadvancesearch.cancelEditCriteria(),gsfilters.renderFilters(gsfilters.currentFilterComponent),gsfilters.enableApplyButton(),gsfilters.disableResetFilter()},zgssearch.enableApplyButton=function(){_jQueryGS("#zgs20_gsnewFilterSaveBtn").removeClass("zgs19_gsHideEleme")},zgssearch.disableApplyButton=function(){_jQueryGS("#zgs20_gsnewFilterSaveBtn").addClass("zgs19_gsHideEleme")},zgssearch.updateSearchObjForContextFilters=function(modId,service,fkey,folderId){if(zgssearch.checkIsAdvanceSearchField(service,fkey)){zgssearch.setParentMetaData(modId,fkey),zgssearch.checkServiceAndClearAdvConfig(service);var newCriteria,newqryPattern,curSearchObj=zgssearch.searchObj,advConfig=curSearchObj.advConfig||[];advConfig.length<zgssearch.gsadvancesearch.maxCriteriaSelectCount?(newCriteria={name:zgssearch.getRespectiveAPIName(fkey),operator:0,type:2,value:[folderId]},0<advConfig.length?(advConfig.push(newCriteria),newqryPattern=1<(newqryPattern=curSearchObj.qryPattern||"").length?newqryPattern.substr(0,newqryPattern.length-1):"( "+newqryPattern+" ",newqryPattern+="and "+advConfig.length+" )",curSearchObj.qryPattern=newqryPattern):(curSearchObj.advConfig=zgssearch.formNewQueryObjectModelForAdvanceSearch([newCriteria]),curSearchObj.qryPattern="1")):zgssearch.showTopbannertip({ty:3,msg:zgssearch.I18N.getValue("common.adv.maxCriteria_error",[gsadvancesearch.maxCriteriaSelectCount])})}else{zgssearch.setCurrentValue(fkey,folderId);var valueObj={},folderId=_jQueryGS(modId).attr("acc_id");folderId&&(service!==GSConstant.WORKDRIVE?valueObj.accounts=folderId:valueObj.teams=folderId);folderId=_jQueryGS(modId).attr("pid");folderId&&(valueObj.projects=folderId);folderId=_jQueryGS(modId).attr("fId");folderId&&service!==GSConstant.SUPPORT&&(valueObj.folders=folderId);modId=_jQueryGS(modId).attr("gsmodule");if(modId&&(valueObj.modules=modId),!_jQueryGS.isEmptyObject(valueObj))for(var i in valueObj)zgssearch.setCurrentValue(i,valueObj[i])}},zgssearch.checkServiceAndClearAdvConfig=function(service){service===zgssearch.GSConstant.GMAIL&&zgssearch.searchObj.hasOwnProperty("advConfig")&&(zgssearch.searchObj.advConfig=[])},zgssearch.checkIsAdvanceSearchField=function(service,fkey){if(zgssearch.isAdvanceSearchEnabledForService(service))switch(service){case GSConstant.NOTEBOOK:return"notecardtype"===fkey;case GSConstant.GMAIL:return"labels"===fkey;default:return!1}return!1},zgssearch.setParentMetaData=function(target,key){switch(key){case"notecardtype":zgssearch.setCurrentValue("modules","notes");break;case"labels":var acc_id=_jQueryGS(target).attr("acc_id")||"";acc_id&&zgssearch.setCurrentValue("accounts",acc_id)}},zgssearch.getRespectiveAPIName=function(fkey){switch(fkey){case"notecardtype":return"notesType";case"labels":return"label";default:return fkey}},zgssearch.renderFiltersInfoAction=function(service_name){gsfilters.checkFiltersAppliedOrNot();var gfObj,exitingfKeyEle,dsortId,sortId,sortDisp,dscolor,modFilterContainer=_jQueryGS("#zgs20_gsModuleFilterList");zgssearch.getSearchType()!==GSConstant.ALL?(exitingfKeyEle=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,sortId=(gfObj=zgssearch.getFilterObj(exitingfKeyEle)).sort_order||[],0===modFilterContainer.length&&(_jQueryGS("#zgs20_gsSearchResultMiddle").prepend(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterList",class:"zgs19_gsModuleFilterList"})),modFilterContainer=_jQueryGS("#zgs20_gsModuleFilterList")),modFilterContainer.empty().show(),modFilterContainer.append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterDataHolder",class:"zgs19_gsModuleFilterDataHolder zgs19_gsOverflow zgs19_gsfl"})),_jQueryGS("#zgs20_gsModuleFilterSortHolder").css("display","none"),gsfilters.appliedFilters=gsfilters.compareWithDefObj(zgssearch.searchObj,!0),dsortId=gsfilters.appliedFilters+1,sortDisp=zgssearch.getQueryText(),dscolor=!1,exitingfKeyEle=!zgssearch.isQueryValid(sortDisp)&&!zgssearch.isQueryHasUserCriteria(),!zgssearch.multiPageEnabled&&0<sortId.length&&!exitingfKeyEle&&1<zgssearch.total_no_of_results&&(dscolor=!0),sortDisp=gsfilters.checkAndReturnFiltersTabElement("filters","zgs20_gsfiltersAppliedTitle"),sortId=dsortId+" "+(1===dsortId?zgssearch.getI18NMsg("common.info.appliedFilter"):zgssearch.getI18NMsg("common.info.appliedFilters")),sortDisp.text(sortId).attr("gstitle",sortId),sortDisp.attr("gsa",service_name+"_resultarea_filter"),dscolor&&(exitingfKeyEle=gsfilters.checkAndReturnFiltersTabElement("sort","zgs20_gsSortname"),dscolor=sortDisp=sortId=dsortId="",dsortId=zgssearch.getFilterInfo(service_name,"sort","default"),sortId=zgssearch.getCurrentValue("sort",service_name),sortDisp=gfObj.sort.data[sortId],dscolor=dsortId===sortId?"zgs19_tc2fa6ea":"zgs19_tcfd9c10",exitingfKeyEle.attr("soid",sortId),exitingfKeyEle.attr("gstitle",sortDisp),exitingfKeyEle.removeClass().addClass("zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dscolor),exitingfKeyEle.text(sortDisp),_jQueryGS("#zgs20_gsModuleFilterSortHolder").css("display","block")),_jQueryGS("#zgs20_gsModuleFilterDataHolder").css("width","100%").css("height","100%"),_jQueryGS("#zgs20_gsModuleFilterSortHolder").css("display","block"),zgssearch.addEventForFilterElem()):modFilterContainer.empty().hide()},zgssearch.addEventForFilterElem=function(){_jQueryGS("#zgs20_gsModuleFilterList .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){zgssearch.showFilterElemIcon(this)},click:function(){zgssearch.showFilterElemIcon(this)},mouseleave:function(){zgssearch.hideFilterElemIcon(this)}})},zgssearch.sortFilterActions=function(dispName){var dscolor=_jQueryGS(dispName).attr("key"),dispName=_jQueryGS(dispName).attr("value");zgssearch.setCurrentValue("sort",dscolor);dscolor=dscolor===zgssearch.getFilterInfo(zgssearch.getSearchType(),"sort","default")?"zgs19_tc2fa6ea":"zgs19_tcfd9c10";_jQueryGS(".zgs19_gsModuleFilterSerNameNew").text(dispName).attr("gstitle",dispName).removeClass().addClass("zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+dscolor),zgssearch.hideFilterList(),zgssearch.newHandleUserSearchQuery(zgssearch.getSearchType())},zgssearch.checkIfKeyPresentInAdvanceSearch=function(service,fkey){if(zgssearch.isAdvanceSearchEnabledForService(service)){var curCriteriaList=zgssearch.searchObj.advConfig||[];service===GSConstant.NOTEBOOK&&"notecardtype"===fkey&&(fkey="notesType");for(var i=0;i<curCriteriaList.length;i++)if(curCriteriaList[i].name===fkey)return!1}return!0},zgssearch.showContextFilterDialog=function(service,key,fkey,target){var accId,projId,modId,filContainer,overlayObj=zgssearch.searchObj[key]||"";1===overlayObj.length&&key==overlayObj[0]||(filContainer=_jQueryGS(target),accId=(gsfilters.selectedContextElem=filContainer).attr("acc_id"),projId=filContainer.attr("pid"),modId=filContainer.attr("gsmodule"),overlayObj=filContainer.attr("fId"),filContainer=zgssearch.replaceHTMLEntity(_jQueryGS(target).text()),filContainer=_jQueryGS("<div>",{class:"zgs19_gsContextFilterTxt zgs19_gsOverflow",gs:"newfilterActions",actiontype:"contextFilters"}).append(_jQueryGS("<span>",{class:"zgs19_gs606060Col",gs:"newfilterActions",actiontype:"contextFilters"}).append(zgssearch.I18N.getValue("common.sugg.filterby")+" ")).append(_jQueryGS("<span>",{class:"zgs19_gsFontWeight600",gs:"newfilterActions",actiontype:"contextFilters"}).text(filContainer)),filContainer=_jQueryGS("<div>",{class:"zgs19_gsContextFilterCont",gs:"newfilterActions",actiontype:"contextFilters",fkey:fkey,key:key,service:service}).append(_jQueryGS("<div>",{class:"zgs18_gsNewFilterIcon zgs19_gsContextIcon zgs19_gsfl"})).append(filContainer),accId&&filContainer.attr("acc_id",accId),projId&&filContainer.attr("pid",projId),modId&&filContainer.attr("gsmodule",modId),overlayObj&&filContainer.attr("fId",overlayObj),(overlayObj=_jQueryGS("#zgs20_gsOverlayDialog")).append(filContainer).append(_jQueryGS("<div>",{class:"zgs19_gsContextArrow"})).show(),overlayObj.addClass("zgs19_gsContextualOverlay"),zgssearch.setContextPosition(target,"zgs19_gsContextFilterCont","zgs19_gsContextArrow"),zgssearch.isContextBoxOpened=!0)},zgssearch.hideContextFilterDialogBox=function(){gsfilters.selectedContextElem={},_jQueryGS(".zgs19_gsContextFilterCont, .zgs19_gsContextArrow").remove(),_jQueryGS("#zgs20_gsOverlayDialog").removeClass("zgs19_gsContextualOverlay"),zgssearch.popupUtils.closeOverlayDialog(),zgssearch.isContextBoxOpened=!1},zgssearch.setContextPosition=function(finalLeftPos,holderId,topMostNode){var holderHeight=parseFloat(_jQueryGS(finalLeftPos).outerHeight()),leftPos=_jQueryGS(finalLeftPos).get(0).getBoundingClientRect(),arrowElem=zgssearch.gscomponent.isRTLEnabled?"right":"left",targetWidth={top:leftPos.top,left:leftPos[arrowElem]},topPos=targetWidth.top+holderHeight,leftPos=targetWidth.left,arrowElem=_jQueryGS("."+topMostNode),targetWidth=_jQueryGS(finalLeftPos).outerWidth(),topMostNode=1===zgssearch.gscomponent.UIType?_jQueryGS(".zgs19_zohosearch"):_jQueryGS(".zgs19_gsHolder"),finalLeftPos=zgssearch.gsfilters.getoffset(topMostNode);leftPos-=finalLeftPos.left,topPos-=finalLeftPos.top,parseFloat(_jQueryGS("#zgs20_gsOverlayDialog").outerWidth())-10<leftPos+targetWidth?zgssearch.gsfilters.hideContextFilterDialogBox():(finalLeftPos=zgssearch.isMobViewport()?100:80,finalLeftPos=0<(finalLeftPos=Math.floor(leftPos)-finalLeftPos)?finalLeftPos:0,topPos>topMostNode.height()/2?(topPos=topPos-holderHeight-(holderHeight=_jQueryGS("."+holderId).outerHeight()),_jQueryGS(arrowElem).css("transform","rotate(180deg)"),_jQueryGS("."+holderId).css({"inset-block-start":Math.floor(topPos)-10,left:Math.floor(finalLeftPos)}),leftPos=zgssearch.gscomponent.isRTLEnabled?Math.floor(leftPos)-(.3*targetWidth+20):Math.floor(leftPos)+(.3*targetWidth+20),_jQueryGS(arrowElem).css({"inset-block-start":Math.floor(topPos)+holderHeight+12,left:Math.floor(leftPos)})):(_jQueryGS("."+holderId).css({"inset-block-start":Math.floor(topPos)+10,left:Math.floor(finalLeftPos)}),leftPos=zgssearch.gscomponent.isRTLEnabled?Math.floor(leftPos)-.3*targetWidth:Math.floor(leftPos)+.3*targetWidth,_jQueryGS(arrowElem).css({"inset-block-start":Math.floor(topPos)-12,left:leftPos})))},zgssearch.contextFilterActions=function(key){var targetElem=_jQueryGS(key).closest(".zgs19_gsContextFilterCont"),service=_jQueryGS(targetElem).attr("service"),fkey=_jQueryGS(targetElem).attr("fkey"),key=_jQueryGS(targetElem).attr("key");zgssearch.filterThroughOptions(service,key,fkey,targetElem),_jQueryGS(".zgs19_gsContextFilterCont, .zgs19_gsContextArrow").remove(),_jQueryGS("#zgs20_gsOverlayDialog").removeClass("zgs19_gsContextualOverlay"),zgssearch.popupUtils.closeOverlayDialog(),zgssearch.isContextBoxOpened=!1},zgssearch.moreFilterCheckBoxAction=function(target,tarElem){var isChecked=_jQueryGS(tarElem).find("input").prop("checked"),isChecked=target&&"INPUT"==target.tagName?isChecked:!isChecked;return _jQueryGS(tarElem).find("input").prop("checked",isChecked),isChecked},zgssearch.renderSearchQueryHoldersInFilters=function(elemId,gsAttr,searchBoxId){_jQueryGS("#"+elemId).css("display","block"),_jQueryGS("#"+elemId).empty().append(_jQueryGS("<div>",{id:"zgs20_gsFilterQueryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(_jQueryGS("<span>",{class:"zgs18_gsLensIconTab zgs19_gsfl"})).append(_jQueryGS("<input>",{id:searchBoxId,class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:gsAttr,type:"text",placeholder:zgssearch.getI18NMsg("common.search")}))),zgssearch.focusForWeb(searchBoxId),_jQueryGS("#"+searchBoxId).attr("autocomplete","off")},zgssearch.showingFilterCount=function(filterCountDiv,selectkeysLen){filterCountDiv=_jQueryGS("#zgs20_gsCardModuleFilterElem_"+filterCountDiv).find(".zgs19_gsModuleFilterCount");1<selectkeysLen?(filterCountDiv.text("+"+(selectkeysLen-1)),filterCountDiv.css("display","block")):filterCountDiv.css("display","none")},zgssearch.renderModuleFilterWidgetList=function(pleft){zgssearch.currFilterSelectedElem="",zgssearch.isFilterListDisplay=!1;var ddTop=_jQueryGS(pleft).attr("fkey"),remWidth="formList"==ddTop||"viewList"==ddTop||"pageList"==ddTop?"zgs20_gsFormViewsFilterDataHolder":"zgs20_gsModuleFilterList",listingEleId="formList"==ddTop||"viewList"==ddTop||"pageList"==ddTop?"zgs20_gsFormViewsFilterWidgetList":"zgs20_gsModuleFilterWidgetList";ddTop!=_jQueryGS("#"+listingEleId).attr("fkey")&&(_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS("#"+listingEleId).empty().remove(),_jQueryGS(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),_jQueryGS(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),zgssearch.hideFilterElemIcon(zgssearch.oldFilterElemIcon));var searchType,isMultiSelectEnabled,parWidth,listWidth,rangeRectWidth=_jQueryGS("#"+listingEleId).css("display");null==rangeRectWidth||"none"===rangeRectWidth?(_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS("#"+listingEleId).empty().remove(),searchType=_jQueryGS(pleft).attr("service")||zgssearch.getSearchType(),"formList"!=ddTop&&"viewList"!=ddTop&&"pageList"!=ddTop||(searchType=GSConstant.CREATOR),zgssearch.getFilterInfo(searchType,ddTop,"data"),parWidth=zgssearch.getCurrentValue(ddTop,searchType),listWidth=zgssearch.getFilterInfo(searchType,ddTop,"title"),zgssearch.getFilterInfo(searchType,ddTop,"key"),isMultiSelectEnabled=gsfilters.isMultiSelectEnabledFilter(searchType,ddTop),zgssearch.getFilterInfo(searchType,ddTop,"default"),zgssearch.curFilterType="gs_filters",rangeRectWidth=GSConstant.CREATOR==searchType?"":_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetFooter",class:"zgs19_gsPosRelative zgs19_gsOverflowAuto zgs19_gsPdng10Px0px"}),_jQueryGS("#"+remWidth).append(_jQueryGS("<div>",{id:listingEleId,class:"zgs19_gsDropdownOuterElemNew",fkey:ddTop}).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterTitleHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader"}).text(listWidth).append("")).append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterWidgetHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterWidgetHeader"})).append(rangeRectWidth)),zgssearch.currFilterListElem=_jQueryGS("#"+listingEleId),zgssearch.renderTypeOneModuleFilterList(searchType,ddTop,"zgs20_gsModuleFilterWidgetFooter",remWidth,listingEleId,parWidth),zgssearch.curDatePickerElem=pleft,zgssearch.isFilterListDisplay=!0,listWidth=GSConstant.CREATOR==searchType?"zgs20_gsFormViewsFilterWidgetList":"zgs20_gsModuleFilterWidgetFooter",250<=_jQueryGS("#"+listWidth)[0].scrollHeight&&zgssearch.renderSearchQueryHoldersInFilters("zgs20_gsModuleFilterWidgetHeader","gsFilterQueryBox","zgs20_gsFilterQueryBox"),ddTop=200<(rangeRectWidth=_jQueryGS(pleft).outerWidth(!0))?rangeRectWidth:200,parWidth=20,isMultiSelectEnabled&&(parWidth+=20),_jQueryGS("#"+listingEleId).css("minWidth",rangeRectWidth+parWidth),_jQueryGS("#"+listingEleId).css("maxWidth",ddTop+parWidth),_jQueryGS("#"+listWidth).css("maxHeight",250),ddTop="zgs20_gsModuleFilterElemSL_filter"===_jQueryGS(pleft).parent()[0].id?70:33,_jQueryGS(pleft).addClass("zgs19_gsboxholder"),parWidth=_jQueryGS("#"+remWidth).width(),listWidth=_jQueryGS("#"+listingEleId).width(),remWidth=_jQueryGS(pleft).outerWidth(!0)-2||0,remWidth=(pleft=pleft.offsetLeft)+remWidth,parWidth<pleft+listWidth&&(listWidth<remWidth?pleft=remWidth-listWidth:pleft/=2),_jQueryGS("#"+listingEleId).css("inset-block-start",ddTop),_jQueryGS("#"+listingEleId).css("left",pleft),zgssearch.focusForWeb("zgs20_gsFilterQueryBox"),gsfilters.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter",searchType)):zgssearch.hideFilterList()},zgssearch.renderTypeOneModuleFilterList=function(service,fkey,hdrElemId,parentEleId,listingEleId,selectedArr){try{var ikey,fIndex=0,wObj=zgssearch.getFilterInfo(service,fkey,"data");for(ikey in wObj){var value=(value=wObj[ikey]).hasOwnProperty("componentname")?value.componentname:value,gsattr=GSConstant.CREATOR==service?"":"newfilterActions",sortSelect=GSConstant.CREATOR==service?"":"sortSelect";zgssearch.renderNewFilterList(hdrElemId,gsattr,fIndex++,fkey,ikey,selectedArr,value,sortSelect)}}catch(ex){zgssearch.throwClientError("Error in zgssearch.renderTypeOneModuleFilterList ",ex)}},zgssearch.renderNewFilterList=function(id,gsattr,fIndex,fkey,chelem,marigin,value,sortSelect){value=zgssearch.replaceHTMLEntity(value);var seleClass=chelem==marigin?"zgs19_gsModuleSeleFilterElem":"zgs19_gsModuleUnSeleFilterElem",tickEle="";chelem==marigin&&(marigin=zgssearch.isExtension?"zgs19_gsModuleSeleFilterTickMargin":"zgs18_gsModuleSeleFilterTickMargin",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick "+marigin}));chelem=_jQueryGS("<div>",{id:"zgs20_gsFilterQuerySelection"+fIndex,class:" zgs19_gsFilterQuerySelection zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow "+seleClass,gs:gsattr,actionType:sortSelect,fkey:fkey,key:chelem,value:value});chelem.text(value),_jQueryGS(chelem).attr("index",fIndex),_jQueryGS("formList"==fkey||"viewList"==fkey||"pageList"==fkey?"#zgs20_gsFormViewsFilterWidgetList":"#zgs20_gsModuleFilterWidgetList #"+id).append(chelem).append(tickEle)},zgssearch.getAccountValue=function(service,fType,curSelFilterObj,account_id,fkey){var filPar,filParId;return service===GSConstant.WORKDRIVE&&"4"==fType&&(account_id=curSelFilterObj.hasOwnProperty("teams")?curSelFilterObj.teams[0]:""),service===GSConstant.MAILS&&(account_id=curSelFilterObj.hasOwnProperty("accounts")?account_id:zgssearch.getCurrentValue("accounts",service),"folders"===fkey&&(account_id=curSelFilterObj.accounts[0])),service===GSConstant.PROJECTS&&(filPar=zgssearch.getFilterInfo(service,fkey,"parKey"),filParId=zgssearch.getFilterInfo(service,fkey,"parId"),filPar&&curSelFilterObj.hasOwnProperty(filPar)&&(account_id=curSelFilterObj[filPar][0]),filParId&&curSelFilterObj.hasOwnProperty(zgssearch.gsprojects.projects)&&curSelFilterObj.projects[0]&&(account_id=curSelFilterObj[zgssearch.gsprojects.projects][0]+"_"+account_id)),service===GSConstant.CONNECT&&(filPar=zgssearch.getFilterInfo(service,fkey,"parKey"),filParId=zgssearch.getFilterInfo(service,fkey,"parId"),filPar&&curSelFilterObj.hasOwnProperty(filPar)&&(account_id=curSelFilterObj[filPar][0]),filParId&&curSelFilterObj.hasOwnProperty(zgssearch.gsconnects.accounts)&&curSelFilterObj.accounts[0]&&(account_id=curSelFilterObj[zgssearch.gsconnects.accounts][0]+"_"+account_id)),account_id},zgssearch.getFilterAccountKeyName=function(serviceName,fkey,fType){var accKey="accounts";return"3"===fType?serviceName===GSConstant.ASANA?fkey!=zgssearch.WS&&(accKey=zgssearch.WS):serviceName===GSConstant.PROJECTS&&fkey!=zgssearch.gsprojects.projects&&(accKey=zgssearch.gsprojects.projects):"4"==fType&&serviceName===GSConstant.WORKDRIVE&&"ENTERPRISE"===zgssearch.editionTypeForWD&&(accKey="teams"),accKey},zgssearch.formNewQueryObjectModelQuery=function(curSearchObj){try{var nlpObj,accListArr,queryObject=[];if(curSearchObj.hasOwnProperty("query"))for(var queryArray=curSearchObj.query,i=0;i<queryArray.length;i++){var qObj,queryArr,menZuidObj,menZUIDArr,menEmailObj,menEmailArr,queryObj=queryArray[i];queryObj.hasOwnProperty("query")?(qObj={},queryArr=[queryObj.query],qObj[zgssearch.QUERY_OBJ_NAME]="zs_query",qObj[zgssearch.QUERY_OBJ_VALUE]=queryArr,qObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_QUERY,qObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(qObj)):queryObj.hasOwnProperty("men_user_zuid")?(menZuidObj={},menZUIDArr=[queryObj.men_user_zuid],menZuidObj[zgssearch.QUERY_OBJ_NAME]="zs_mention",menZuidObj[zgssearch.QUERY_OBJ_VALUE]=menZUIDArr,menZuidObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_MENTION,menZuidObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(menZuidObj)):queryObj.hasOwnProperty("men_user_email")&&(menEmailObj={},menEmailArr=[queryObj.men_user_email],menEmailObj[zgssearch.QUERY_OBJ_NAME]="mentioned_email",menEmailObj[zgssearch.QUERY_OBJ_VALUE]=menEmailArr,menEmailObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_MAILID,menEmailObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(menEmailObj))}curSearchObj.hasOwnProperty("nlpsearch")&&(nlpObj={},accListArr=curSearchObj.nlpsearch,nlpObj[zgssearch.QUERY_OBJ_NAME]="nlpsearch",nlpObj[zgssearch.QUERY_OBJ_VALUE]=accListArr,nlpObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_STRING,nlpObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_STRING_CONTAINS,queryObject.push(nlpObj));var service=curSearchObj.service,filterObj=zgssearch.getFilterObj(service);if(filterObj&&!_jQueryGS.isEmptyObject(filterObj)){curSearchObj.hasOwnProperty("accounts")?curSearchObj.accounts:zgssearch.getFilterInfo(service,"accounts","current");for(var filterkey=curSearchObj.hasOwnProperty("accounts")?"accounts":"",common_order=(filterkey&&curSearchObj[filterkey][0],zgssearch.getServiceOrders(filterObj)),filtersLen=common_order.length,i=0;i<filtersLen;i++){var fkey=common_order[i];if(filterObj.hasOwnProperty(fkey)&&curSearchObj.hasOwnProperty(fkey)){var accListObj,dateObj,dateValue,dateObjArr,newDateObjArr,fromDate,toDate,finalKeyObj=filterObj[fkey],defValue=""+finalKeyObj.default,innerKeyId=finalKeyObj.key,value=curSearchObj[fkey];if(value&&value[0])if("sort"!==fkey){if("accounts"===fkey&&"0"!==value[0]?((accListObj={})[zgssearch.QUERY_OBJ_NAME]="accounts_list",accListObj[zgssearch.QUERY_OBJ_VALUE]=value,accListObj[zgssearch.QUERY_OBJ_TYPE]=finalKeyObj.data_type,accListObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(accListObj)):value[0]===defValue&&(service!==GSConstant.NOTEBOOK&&service!==GSConstant.MAILS||"modules"!==fkey)||("date"===innerKeyId?(dateObj={},dateValue=value[0],zgssearch.filterDates.hasOwnProperty(dateValue)?(dateObjArr=[zgssearch.filterDates[dateValue]],(newDateObjArr=_jQueryGS.extend(!0,{},dateObjArr))[0].datetype=dateObjArr[0].datetype,dateObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_RELATIVE_DATE,dateObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,dateObj[zgssearch.QUERY_OBJ_VALUE]=[newDateObjArr[0]]):(fromDate=dateValue.fdate+" 00:00:00",toDate=dateValue.tdate+" 23:59:59",dateObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_DATE_TIME,dateObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_BETWEEN,dateObj[zgssearch.QUERY_OBJ_VALUE]=[fromDate,toDate]),dateObj[zgssearch.QUERY_OBJ_NAME]="date",queryObject.push(dateObj)):((genericObj={})[zgssearch.QUERY_OBJ_NAME]=innerKeyId,genericObj[zgssearch.QUERY_OBJ_VALUE]=value,genericObj[zgssearch.QUERY_OBJ_TYPE]=finalKeyObj.data_type,genericObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(genericObj))),service===zgssearch.GSConstant.PROJECTS&&"projects"==fkey){var projKey,genericObj,projectIdAdded="project_id"==(genericObj=genericObj||{}).name,curVal=value[0];if(projectIdAdded&&"0"==curVal)for(var obj in queryObject)"project_id"==queryObject[obj].name&&delete queryObject[obj];projectIdAdded||"0"==curVal||(projKey=zgssearch.gsprojects.projects,(genericObj={})[zgssearch.QUERY_OBJ_NAME]="project_id",genericObj[zgssearch.QUERY_OBJ_VALUE]=value,genericObj[zgssearch.QUERY_OBJ_TYPE]=filterObj[projKey].data_type,genericObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(genericObj))}}else{var sortObj={},sortInt="sortrelv"===value[0]||"sortCreatedDate"===value[0]?0:1;sortObj[zgssearch.QUERY_OBJ_NAME]="sort_criteria",sortObj[zgssearch.QUERY_OBJ_VALUE]=[sortInt],sortObj[zgssearch.QUERY_OBJ_TYPE]=zgssearch.QUERY_OBJ_DT_LONG,sortObj[zgssearch.QUERY_OBJ_OPERATOR]=zgssearch.QUERY_OBJ_LONG_IS,queryObject.push(sortObj)}}}}}catch(ex){zgssearch.throwClientError("Error in formNewQueryObjectModelQuery. ",ex)}return queryObject},zgssearch.getFilterConfig=function(advanceConfig){var qryPattern=zgssearch.searchObj,data=qryPattern.service,filterObj={service:data},advanceConfig=zgssearch.getQueryObjModelForFilters(qryPattern,advanceConfig);if(filterObj.filterconfig=advanceConfig||[],advanceConfig&&0<advanceConfig.length){advanceConfig=qryPattern.advConfig||[];0<advanceConfig.length&&(qryPattern=qryPattern.qryPattern,filterObj.advanceconfig=advanceConfig,filterObj.querypattern=qryPattern)}else if(1===zgssearch.gscomponent.UIType&&data!=GSConstant.ALL&&!zgssearch.isURLParamsSearch){data=zgssearch.getFilterInfo(data,"accounts","data");if(!data||_jQueryGS.isEmptyObject(data))return}return filterObj},zgssearch.getQueryObjModelForFilters=function(defValue,lastQry){gsfilters.checkQueryExists()?defValue.query=zgssearch.formQueryObj():(delete defValue.query,zgssearch.searchedQuery="");var service,curFilterObj=Object.assign({},defValue);return curFilterObj.hasOwnProperty("sort")||zgssearch.isURLParamsSearch||(service=curFilterObj.service,gsfilters.checkQueryExists()?zgssearch.getFilterObj(service).hasOwnProperty("sort")&&(defValue=zgssearch.getFilterInfo(service,"sort","default"),curFilterObj.sort=[defValue]):curFilterObj.sort=[service===GSConstant.ASANA?"sortDueDate":"sorttime"]),!lastQry||(lastQry=zgssearch.getLastSearchedQuery()).hasOwnProperty("nlpsearch")&&lastQry.nlpsearch&&(curFilterObj.nlpsearch=[lastQry.nlpsearch]),zgssearch.formNewQueryObjectModelQuery(curFilterObj)},zgssearch.formQueryObj=function(){return zgssearch.searchedQuery=zgssearch.getAllQueryText(),zgssearch.getQueryOrder()},zgssearch.renderCheckBox=function(viewType,isChecked,key,value){return _jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_checkbox "+("read"==viewType?"zgs19_gsPoint3opacity":"")}).append(_jQueryGS("<input>",{class:"zgs19_gsfl",type:"checkbox",checked:isChecked,key:key,value:value})).append(_jQueryGS("<label>"))},zgssearch.setCursorPosInEditableDivElement=function(selectedNode,pos){var tag=zgssearch.getTargetElem(selectedNode),setpos=tag.childNodes,set=void 0===pos?setpos.length-1:pos,selectedNode=0<setpos.length?tag.childNodes[set]:"";selectedNode&&!1!==selectedNode.isContentEditable&&(pos=selectedNode.textContent.length,setpos=document.createRange(),set=window.getSelection(),setpos.setStart(selectedNode,pos),setpos.collapse(!0),set.removeAllRanges(),set.addRange(setpos),tag.focus())}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,gsfilters=zgssearch.gsfilters||{};zgssearch.gsadvancesearch=function(gsadvancesearch){(gsadvancesearch=zgssearch.gsadvancesearch||{}).curCriteriaList=gsadvancesearch.curCriteriaList||[],gsadvancesearch.emailVsSelectedUserObj=gsadvancesearch.emailVsSelectedUserObj||{},gsadvancesearch.maxCriteriaSelectCount=15,gsadvancesearch.maxValueSelectCount=10;var i18nSelect=zgssearch.getI18NMsg("gs.cards.select");return gsadvancesearch.addEventsForAdvancedSearch=function(){_jQueryGS(".zgs19_gsFieldOptionHldr").off().on({mousemove:function(){_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){switch(_jQueryGS(this).attr("fType")){case"0":gsadvancesearch.selectField(this),gsfilters.disabledApplyButton();break;case"1":gsadvancesearch.selectOperator(this)}}}),_jQueryGS(".zgs19_gsValueOptionTxt").off().on({mousemove:function(){_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){gsadvancesearch.selectSingleValue(this),gsadvancesearch.enableSaveButton()}}),_jQueryGS(".zgs19_gsSingleSelectPicklistTxt").off().on({mousemove:function(){_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){gsadvancesearch.singleSelectPicklistActions(this)}}),_jQueryGS(".zgs19_gsFieldValueHolder").off().on({mousemove:function(){_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){gsadvancesearch.multiSelectPicklistActions(this)}}),_jQueryGS(".zgs19_gsAsInputField").off().on({focus:function(){_jQueryGS(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderFC0D1ECol"),_jQueryGS(this).closest(".zgs19_gsFilterElementOuter").addClass("zgs19_gsBorderBottomInput"),_jQueryGS(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),_jQueryGS(this).addClass("zgs19_curSelectedFilter")},blur:function(){_jQueryGS(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderFC0D1ECol"),_jQueryGS(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderBottomInput")},input:function(){gsadvancesearch.storeInputValues(this),gsadvancesearch.enableSaveButton()}}),_jQueryGS(".zgs19_gsNumInputField").off().on({keypress:function(event){var charCode=event.charCode;(46==charCode&&-1!=_jQueryGS(this).val().indexOf(".")||46!=charCode&&(charCode<48||57<charCode))&&event.preventDefault()},focus:function(){_jQueryGS(this).closest(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderFC0D1ECol")},blur:function(){_jQueryGS(this).closest(".zgs19_gsFilterElementOuter").removeClass(" zgs19_gsBorderFC0D1ECol")},click:function(){_jQueryGS(this).hasClass("zgs19_gsFilterElementOuter")&&(_jQueryGS(".zgs19_gsFilterElementOuter").removeClass("zgs19_gsBorderThemeCol zgs19_curSelectedFilter"),_jQueryGS(this).addClass("zgs19_curSelectedFilter zgs19_gsBorderThemeCol"),_jQueryGS(this).focus())},input:function(){gsadvancesearch.storeInputValues(this),gsadvancesearch.enableSaveButton()}}),_jQueryGS("#zgs20_gsFieldListQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase().trim();_jQueryGS(".zgs19_gsFieldListCont").find(".zgs19_gsFieldOptionTxt").filter(function(){var parentEle=_jQueryGS(this).closest(".zgs19_gsFieldOptionHldr");_jQueryGS(parentEle).toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(inputValLowerCase)),gsfilters.updateFilterListPosition()})}}),_jQueryGS("#zgs20_gsPickListQryBox").off().on({focus:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var searchStr=_jQueryGS(this).val();zgssearch.Utils.debounce(function(){gsadvancesearch.advancePickListSearch(searchStr)},50,"advPickListSearch",!1)}}),_jQueryGS("#zgs20_gsUserListQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsSearchQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){var searchStr=_jQueryGS(this).val();zgssearch.Utils.debounce(function(){gsadvancesearch.advanceUserSearch(searchStr)},50,"advUserSearch",!1)},keydown:function(event){var service,keycode=event.keyCode||event.which;keycode===zgssearch.specialkeys.ENTER?(service=gsfilters.getCurrentService())!=GSConstant.MAILS&&service!=GSConstant.GMAIL||gsadvancesearch.checkIfValidMailId(event.target):keycode!==zgssearch.specialkeys.UP&&keycode!==zgssearch.specialkeys.DOWN||zgssearch.stopEvent(event)}}),_jQueryGS("#zgs20_gsCrtPatnTxt").off().on({keydown:function(event){_jQueryGS(".zgs19_gscriSaveTxt").removeClass("zgs19_gsHideEleme");var keycode=event.keyCode||event.which;keycode===zgssearch.specialkeys.ENTER?(gsadvancesearch.saveEditedCriteria(),zgssearch.stopEvent(event)):keycode===zgssearch.specialkeys.ESC&&(zgssearch.isCrtPatnESCPressed=!0)}})},gsadvancesearch.checkIfValidMailId=function(targetElem){var emailId;0<_jQueryGS(targetElem).val().length&&(emailId=_jQueryGS(targetElem).val().toLowerCase(),_jQueryGS(".zgs19_gstagOuter").length<gsadvancesearch.maxValueSelectCount-1?(gsadvancesearch.renderSelectedTagInContainer(emailId),gsadvancesearch.multiSelectPicklistActions(),_jQueryGS(targetElem).val(""),_jQueryGS(targetElem).focus(),gsadvancesearch.advanceUserSearch(""),gsfilters.setFilterListPosition(gsfilters.closestHolderElem,"zgs20_gsFilterPopup","zgs19_filterBodyHldr")):zgssearch.showbannertip({ty:2,msg:zgssearch.I18N.getValue("common.adv.pickListErrorMsg",[gsadvancesearch.maxValueSelectCount])}))},gsadvancesearch.enableSaveButton=function(){gsadvancesearch.checkValidCriteriaList()&&(gsfilters.enableApplyButton(),zgssearch.hasAdvCriteriaChanged=!0)},gsadvancesearch.advancedSearchActions=function(target){switch(_jQueryGS(target).attr("actionType")){case"clearCriteria":gsadvancesearch.clearCriteria();break;case"editCriteria":gsadvancesearch.editCriteriaPattern();break;case"saveCriteria":gsadvancesearch.saveEditedCriteria();break;case"cancelCriteria":gsadvancesearch.cancelEditCriteria();break;case"addCriteria":var targetElem=_jQueryGS(target).closest(".zgs19_gsCriteria").attr("index");gsadvancesearch.addCriteria(!0,targetElem);break;case"removeCriteria":targetElem=_jQueryGS(target).closest(".zgs19_gsCriteria").attr("index");gsadvancesearch.removeCriteria(targetElem);break;case"changeComparator":gsadvancesearch.changeComparator(target);break;case"showFields":gsadvancesearch.showAdvPopUpList(target,0);break;case"showOperators":gsadvancesearch.showAdvPopUpList(target,1);break;case"showValueList":gsadvancesearch.showAdvPopUpList(target,2);break;case"showDatePicker":gsadvancesearch.handleDatepicker(target);break;case"setValueList":gsadvancesearch.storeSelectedValueList();break;case"hideValueList":gsadvancesearch.hideAdvPopUpList();break;case"undoSelectedTag":targetElem=_jQueryGS(target).closest(".zgs19_gstagUndo");gsadvancesearch.undoSelectedTag(targetElem)}},gsadvancesearch.showAdvancedSearchPage=function(isEnable){var advFilterTitle,criteriaPatternTitle,savePattern,cancelPattern,advSrhElem,advSearchDiv;0===_jQueryGS("#zgs20_gsAdvSearchContainer").length&&(advFilterTitle=zgssearch.getI18NMsg("common.adv.advFilters"),criteriaPatternTitle=zgssearch.getI18NMsg("common.adv.crtPattern"),savePattern=zgssearch.getI18NMsg("gs.settings.application.save"),advSearchDiv=zgssearch.getI18NMsg("common.edit"),cancelPattern=zgssearch.getI18NMsg("common.cancel"),advSrhElem=zgssearch.getI18NMsg("common.reset"),advSrhElem=_jQueryGS("<div>",{id:"zgs20_gsAdvSearchContainer",class:"zgs19_gsAdvSearchContainer"}).append(_jQueryGS("<div>",{class:"zgs19_gsAdSrhTleHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsFilterLabel zgs19_gsfl",gstitle:advFilterTitle}).text(advFilterTitle)).append(_jQueryGS("<div>",{class:"zgs19_gsclrfltrBtn zgs19_gsHideEleme",gs:"advSearch",actionType:"clearCriteria",gstitle:advSrhElem}).text(advSrhElem))),advSearchDiv=_jQueryGS("<div>",{id:"zgs20_gsCrtContainer",class:"zgs19_gsCrtContainer zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsCrtList",class:"zgs19_gsCrtList"})).append(_jQueryGS("<div>",{id:"zgs20_gsCrtPattern",class:"zgs19_gsCrtPattern zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsFilterLabel zgs19_gsMxWid120Px zgs19_gsOverflow",gstitle:criteriaPatternTitle}).text(criteriaPatternTitle)).append(_jQueryGS("<div>",{id:"zgs20_gsCrtPatnTxt",class:"zgs19_gsNewCrtPatnTxt",contenteditable:"false"})).append(_jQueryGS("<div>",{class:"zgs19_gsCrtPatnActionHdr zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gscriSaveTxt zgs19_tc2fa6ea zgs19_gsfl zgs19_gsOverflow",gs:"advSearch",actionType:"saveCriteria",gstitle:savePattern}).text(savePattern)).append(_jQueryGS("<div>",{class:"zgs19_gscriCancelTxt zgs19_gsfl zgs19_gsOverflow",gs:"advSearch",actionType:"cancelCriteria",gstitle:cancelPattern}).text(cancelPattern))).append(_jQueryGS("<div>",{id:"zgs20_gsEditPatn",class:"zgs19_gsEditPatnTxt zgs19_gsOverflow",gs:"advSearch",actionType:"editCriteria",gstitle:advSearchDiv}).text(advSearchDiv))),advSrhElem.append(advSearchDiv),(advSearchDiv=_jQueryGS("#zgs20_gsAdvSearchHolder")).removeClass("zgs19_gsDisplayNone"),advSearchDiv.append(advSrhElem),gsadvancesearch.addEventsForAdvancedSearch()),gsadvancesearch.cancelEditCriteria(),gsadvancesearch.showCriteriaContainer(isEnable),_jQueryGS("#zgs20_gsAdvSearchContainer").css("display","block"),zgssearch.isAdvancedFitersApplied=!0,zgssearch.hasAdvCriteriaChanged=!1,zgssearch.curFieldDetails={}},gsadvancesearch.hideAdvancedSearchPage=function(){_jQueryGS("#zgs20_gsAdvSearchContainer").css("display","none"),zgssearch.isAdvancedFitersApplied=!1},gsadvancesearch.renderPopUpElement=function(){var elem="zgs20_gsFilterPopup";gsfilters.removeAllAttributes(elem);elem=_jQueryGS("#"+elem);elem.empty().addClass("zgs19_gsFieldsPopup zgs19_gsDisplayNone").append(_jQueryGS("<div>",{class:"zgs19_gsCriteriaInfo"}).append(_jQueryGS("<span>",{class:"zgs18_gsInfoSmallIcon zgs19_gsCriInfoIcon"})).append(_jQueryGS("<span>",{class:"zgs19_gsCriInfoTxt zgs19_gsOverflow"}).text(zgssearch.getI18NMsg("common.adv.pickListMsgInfo")))),elem.append(_jQueryGS("<div>",{class:"zgs19_gsSelectedTagContainer"})),elem.append(gsfilters.addSearchQueryBox(elem,"zgs20_gsFieldListQrybox")),elem.append(_jQueryGS("<div>",{class:"zgs19_gsFieldListCont"}))},gsadvancesearch.enableClearCriteria=function(){_jQueryGS(".zgs19_gsclrfltrBtn").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsCrtPattern").removeClass("zgs19_gsDisplayNone")},gsadvancesearch.handleEmptyCriteriaActions=function(){_jQueryGS(".zgs19_gsclrfltrBtn, #zgs20_gsEditPatn").addClass("zgs19_gsHideEleme")},gsadvancesearch.clearCriteria=function(){_jQueryGS("#zgs20_gsCrtList").empty(),gsadvancesearch.hideAdvPopUpList(),gsadvancesearch.curCriteriaList=[],gsadvancesearch.renderDefaultCriteria(),gsadvancesearch.enableSaveButton(),gsfilters.enableResetButton()},gsadvancesearch.showCriteriaContainer=function(fieldsList){var elem=_jQueryGS("#zgs20_gsCrtList");if(elem.empty(),fieldsList){switch(gsfilters.getCurrentService()){case GSConstant.MAILS:case GSConstant.GMAIL:gsadvancesearch.maxCriteriaSelectCount=10,gsadvancesearch.maxValueSelectCount=5;break;default:gsadvancesearch.maxCriteriaSelectCount=15,gsadvancesearch.maxValueSelectCount=10}fieldsList=zgssearch.getFieldsList();0<Object.keys(fieldsList).length?gsadvancesearch.handleRenderCriteria(fieldsList):(elem.append(gsadvancesearch.loaderElement()),zgssearch.fetchFieldsList(gsadvancesearch.handleRenderCriteria))}else elem.append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("common.adv.enable_error"))),gsadvancesearch.curCriteriaList=[],gsadvancesearch.handleEmptyCriteriaActions(),_jQueryGS("#zgs20_gsCrtPattern").addClass("zgs19_gsDisplayNone");_jQueryGS("#zgs20_gsCrtContainer").removeClass("zgs19_gsDisplayNone")},gsadvancesearch.handleRenderCriteria=function(fieldsObj){var criteriaArr,qryPatrn,elem=_jQueryGS("#zgs20_gsCrtList");elem.empty(),0<Object.keys(fieldsObj).length?(gsadvancesearch.curCriteriaList=[],criteriaArr=(qryPatrn=gsfilters.getAdvanceFilterDetails(fieldsObj)||{}).criteriaList||[],(qryPatrn=qryPatrn.pattern)?(gsadvancesearch.renderCriteria(fieldsObj,qryPatrn,criteriaArr),gsadvancesearch.enableClearCriteria(),qryPatrn=zgssearch.correctCriteriaExpression(qryPatrn),zgssearch.renderCriteriaPatternText(_jQueryGS("#zgs20_gsCrtPatnTxt"),qryPatrn)):gsadvancesearch.renderDefaultCriteria()):elem.append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("common.adv.filters_error")))},gsadvancesearch.renderDefaultCriteria=function(){gsadvancesearch.addCriteria(!0,-1),gsadvancesearch.handleEmptyCriteriaActions(),_jQueryGS("#zgs20_gsCrtPatnTxt").text(1)},gsadvancesearch.renderCriteria=function(fieldsObj,qreryPattern,criteriaArr){var criteriaLen=criteriaArr.length;if(0<criteriaLen){var comparatorArr=qreryPattern.match(/(AND|OR)/gi);_jQueryGS.isEmptyObject(criteriaArr[0])&&gsadvancesearch.handleEmptyCriteriaActions();for(var index=0;index<criteriaLen;index++){var comparator=criteriaArr[index],name=comparator.name||"",oprTxt=fieldsObj[name]||"",dispTxt=oprTxt.display_name||"",type=oprTxt.type,operator=comparator.operator||"";operator+="";var value=comparator.value,oprTxt=zgssearch.getOperatorDisplayName(operator,type),comparator=0<index&&comparatorArr&&comparatorArr[index-1]||"";gsadvancesearch.addCriteria(!1,index-1,name,dispTxt,type,operator,oprTxt,value,comparator)}}else gsadvancesearch.renderDefaultCriteria()},gsadvancesearch.addCriteria=function(criPatternElem,index,fName,fieldTxt,type,opr,crtElement,value,oprElement){var crtHolder,newIndex=(index=parseInt(index))+1;newIndex<gsadvancesearch.maxCriteriaSelectCount?(crtHolder=_jQueryGS("#zgs20_gsCrtList"),crtElement=gsadvancesearch.formCriteriaDiv(newIndex,fieldTxt,crtElement),oprElement=oprElement||_jQueryGS("#zgs20_gsCrtOper"+index).find(".zgs19_gsCrtOperTxt").attr("comparator"),oprElement=0<newIndex?gsadvancesearch.formComparatorDiv(newIndex,oprElement):"",crtHolder.append(oprElement),crtHolder.append(crtElement),crtElement.attr("index",newIndex),gsadvancesearch.renderFieldValueElement(newIndex,fName,type,opr,value),gsadvancesearch.curCriteriaList.splice(newIndex,0,{}),criPatternElem?(-1<index&&(criPatternElem=_jQueryGS("#zgs20_gsCrtPattern"),gsfilters.isElementInViewPort(criPatternElem,"zgs19_filterBodyHldr")||_jQueryGS(".zgs19_filterBodyHldr").scrollTop(_jQueryGS(".zgs19_filterBodyHldr").scrollTop()+_jQueryGS("#zgs20_gsCriteria"+index).offset().top)),gsadvancesearch.addCriteriaPattern(newIndex),gsadvancesearch.enableClearCriteria()):fName&&(gsadvancesearch.curCriteriaList[newIndex]={name:fName,type:type,operator:opr,value:value}),gsadvancesearch.checkAndShowRemoveCrtOption(),gsadvancesearch.addEventsForAdvancedSearch()):zgssearch.showTopbannertip({ty:3,msg:zgssearch.I18N.getValue("common.adv.maxCriteria_error",[gsadvancesearch.maxCriteriaSelectCount])})},gsadvancesearch.removeCriteria=function(fieldsList){fieldsList=parseInt(fieldsList),gsadvancesearch.curCriteriaList.splice(fieldsList,1),gsadvancesearch.removeCriteriaPattern(fieldsList+1);var pattern=_jQueryGS("#zgs20_gsCrtPatnTxt").text();_jQueryGS("#zgs20_gsCrtList").empty();var criteriaArr=gsadvancesearch.curCriteriaList;gsadvancesearch.curCriteriaList=[];fieldsList=zgssearch.getFieldsList();gsadvancesearch.renderCriteria(fieldsList,pattern,criteriaArr),gsadvancesearch.checkAndShowRemoveCrtOption(),gsadvancesearch.enableSaveButton(),gsfilters.enableResetButton()},gsadvancesearch.formCriteriaDiv=function(index,fieldTxt,oprTxt){var elem="",readMode=gsfilters.getIsReadMode(),plusElem=readMode?"zgs19_gsPntEvtNone":"";fieldTxt||readMode||(fieldTxt=i18nSelect,elem="zgs19_gsHideEleme"),oprTxt||readMode||(oprTxt=i18nSelect);elem=_jQueryGS("<div>",{id:"zgs20_gsCriteria"+index,class:"zgs19_gsCriteria"}).append(_jQueryGS("<span>",{class:"zgs19_gsCrtName"}).text(index+1)).append(_jQueryGS("<div>",{id:"zgs20_gsFieldId"+index,class:"zgs19_gsfieldDiv zgs19_gsFilterElementOuter zgs19_gsFieldName "+plusElem,gs:"advSearch",actionType:"showFields"}).append(_jQueryGS("<span>",{class:" zgs19_gsSelFldName zgs19_gsNewSelFieldTxt zgs19_gsOverflow",gs:"advSearch",actionType:"showFields",gstitle:fieldTxt}).text(fieldTxt)).append(gsadvancesearch.returnDropDownIconElem(readMode,"showFields"))).append(_jQueryGS("<div>",{id:"zgs20_gsFieldOpr"+index,class:"zgs19_gsfieldDiv zgs19_gsFilterElementOuter zgs19_gsFieldOpr "+elem+plusElem,gs:"advSearch",actionType:"showOperators"}).append(_jQueryGS("<span>",{class:"zgs19_gsNewSelOprTxt zgs19_gsNewSelFieldTxt zgs19_gsOverflow",gs:"advSearch",actionType:"showOperators",gstitle:oprTxt}).text(oprTxt)).append(gsadvancesearch.returnDropDownIconElem(readMode,"showOperators"))).append(_jQueryGS("<div>",{id:"zgs20_gsFieldValue"+index,class:"zgs19_gsfieldDiv zgs19_gsFilterElementOuter zgs19_gsFieldValue "+elem+plusElem}).append(_jQueryGS("<div>",{id:"zgs20_gsInputFieldHdr",class:"zgs19_gsInputFieldHdr"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCrtActions"}).append(_jQueryGS("<div>",{class:"zgs18_MinusCircle zgs19_gsRemoveCrt",gs:"advSearch",actionType:"removeCriteria"}))),plusElem=_jQueryGS("<div>",{class:"zgs18_gsPlusCircle zgs19_gsAddCrt zgs19_gsHideEleme"});return elem.find(".zgs19_gsCrtActions").append(plusElem),zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsPlusCircle")&&zgssearch.obtainLineIconPaths("zgs18_gsPlusCircle",plusElem[0],!1,{gs:"advSearch",actionType:"addCriteria"}),elem},gsadvancesearch.returnDropDownIconElem=function(isReadMode,actionType){return isReadMode?"":_jQueryGS("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr",gs:"advSearch",actionType:actionType})},gsadvancesearch.formComparatorDiv=function(index,comp){comp=comp||"AND";var extAlignmentCls=zgssearch.isExtension?"zgs18_gsReorderExtAppMenuIcon":"";return _jQueryGS("<div>",{id:"zgs20_gsCrtOper"+index,class:"zgs19_gsCrtOper",cid:index}).append(_jQueryGS("<span>",{class:"zgs18_gsReorderAppMenuIcon zgs19_gsfr "+extAlignmentCls,gs:"advSearch",actionType:"changeComparator"})).append(_jQueryGS("<div>",{class:"zgs19_gsCrtOperTxt",comparator:comp,gs:"advSearch",actionType:"changeComparator"}).text(comp.toUpperCase()))},gsadvancesearch.checkAndShowRemoveCrtOption=function(){var crtList=_jQueryGS(".zgs19_gsCriteria"),criteriaLen=crtList.length;if(1==criteriaLen)(actionEle=_jQueryGS(crtList[0]).find(".zgs19_gsAddCrt")).removeClass("zgs19_gsDisplayNone"),(curObj=gsadvancesearch.curCriteriaList[0]||{}).name&&curObj.operator&&curObj.value?actionEle.removeClass("zgs19_gsHideEleme"):actionEle.addClass("zgs19_gsHideEleme"),_jQueryGS(crtList[0]).find(".zgs19_gsRemoveCrt").addClass("zgs19_gsDisplayNone");else if(1<criteriaLen)for(var i=0;i<criteriaLen;i++){var actionEle,curObj,eachCriElem=_jQueryGS(crtList[i]);eachCriElem.find(".zgs19_gsRemoveCrt").removeClass("zgs19_gsDisplayNone"),i==criteriaLen-1?((actionEle=eachCriElem.find(".zgs19_gsAddCrt")).removeClass("zgs19_gsDisplayNone"),(curObj=gsadvancesearch.curCriteriaList[i]||{}).name&&curObj.operator&&curObj.value?actionEle.removeClass("zgs19_gsHideEleme"):actionEle.addClass("zgs19_gsHideEleme")):eachCriElem.find(".zgs19_gsAddCrt").addClass("zgs19_gsDisplayNone")}},gsadvancesearch.changeComparator=function(compTxtElem){var oprValue=_jQueryGS(compTxtElem).closest(".zgs19_gsCrtOper"),compId=parseInt(oprValue.attr("cid")),compTxtElem=_jQueryGS(oprValue).find(".zgs19_gsCrtOperTxt"),oprValue="AND"==(oprValue=compTxtElem.attr("comparator"))?"OR":"AND";compTxtElem.attr("comparator",oprValue),compTxtElem.text(oprValue.toLocaleUpperCase()),gsadvancesearch.changeComparatorCriteriaPattern(compId,oprValue),gsadvancesearch.enableSaveButton(),gsfilters.enableResetButton()},gsadvancesearch.checkValidCriteriaList=function(){for(var curCriteriaList=gsadvancesearch.curCriteriaList,length=curCriteriaList.length,i=0;i<length;i++){var eachCriteria=curCriteriaList[i];if(!(_jQueryGS.isEmptyObject(eachCriteria)||eachCriteria.hasOwnProperty("value")&&0!==eachCriteria.value.length))return!1}return!0},gsadvancesearch.showAdvPopUpList=function(target,listType){var index=_jQueryGS(target).closest(".zgs19_gsCriteria").attr("index"),popUpElem=_jQueryGS("#zgs20_gsFilterPopup");popUpElem.hasClass("zgs19_gsFieldsPopup")||gsadvancesearch.renderPopUpElement();var oldIndex=popUpElem.attr("index"),holderElem=popUpElem.attr("lType");if(gsadvancesearch.isAdvFieldListOpened&&oldIndex==index&&holderElem==listType)gsadvancesearch.hideAdvPopUpList();else{(popUpElem=_jQueryGS("#zgs20_gsFilterPopup")).find(".zgs19_gsCriteriaInfo").css("display","none"),popUpElem.find(".zgs19_gsSelectedTagContainer").css("display","none").empty(),popUpElem.find("#zgs20_gsSearchQryHeader").css("display","none"),popUpElem.find("#zgs20_gsEditFieldsBottom").css("display","none");var criteriaObj=gsadvancesearch.curCriteriaList[index]||{},fieldName=criteriaObj.name||"",type=parseInt(criteriaObj.type);switch(listType){case 0:gsadvancesearch.handleFieldList(fieldName);break;case 1:var value=criteriaObj.operator||"";gsadvancesearch.handleOperatorList(fieldName,type,value);break;case 2:value=criteriaObj.value||[];gsadvancesearch.handleValueList(index,fieldName,type,value)}holderElem=_jQueryGS(target).closest(".zgs19_gsfieldDiv");switch(popUpElem.attr("index",index),popUpElem.attr("lType",listType),gsfilters.highlightFilterHolder(_jQueryGS(target).closest(".zgs19_gsFilterElementOuter")),gsfilters.setFilterListPosition(holderElem,"zgs20_gsFilterPopup","zgs19_filterBodyHldr"),popUpElem.css("display","block"),gsadvancesearch.isChildVisibleActions(_jQueryGS(".zgs19_gsFieldListCont")),gsadvancesearch.isAdvFieldListOpened=!0,type){case zgssearch.TYPE_SINGLE_SELECT_PICKLIST:case zgssearch.TYPE_MULTI_SELECT_PICKLIST:zgssearch.focusForWeb("zgs20_gsPickListQryBox");break;case zgssearch.TYPE_MULTI_SELECT_USER:zgssearch.focusForWeb("zgs20_gsUserListQrybox");break;default:zgssearch.focusForWeb("zgs20_gsFieldListQrybox")}}},gsadvancesearch.hideAdvPopUpList=function(){var popupElem=_jQueryGS("#zgs20_gsFilterPopup");popupElem.find(".zgs19_gsFilterQueryBox").val(""),popupElem.css("display","none"),_jQueryGS(".zgs18_gsFilterDropDownIcon").removeClass("zgs18_gsOpenFilterDropDownIcon"),_jQueryGS(".zgs19_curSelectedFilter").removeClass("zgs19_gsBorderThemeCol"),gsadvancesearch.isAdvFieldListOpened=!1,zgssearch.isFilterPageOpened&&_jQueryGS(".zgs19_applyButton").focus()},gsadvancesearch.handleFieldList=function(fieldName){var fieldList=zgssearch.getFieldsList();gsadvancesearch.addOptionInFieldList(fieldList,fieldName)},gsadvancesearch.addOptionInFieldList=function(fieldList,curFieldName){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var key,srhhdrEle=Object.keys(fieldList).length;if(0<srhhdrEle){for(key in 6<srhhdrEle&&((srhhdrEle=_jQueryGS("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader")).find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsFieldListQrybox"),srhhdrEle.css("display","block")),fieldList){var extraClass=fieldList[key],type=extraClass.type,disFieldName=extraClass.display_name,disFieldName=zgssearch.replaceHTMLEntity(disFieldName),extraClass=zgssearch.getFilterTypeIcons(type);gsadvancesearch.addOptionElementInContainer(listContainer,0,type,curFieldName,key,disFieldName,extraClass)}gsadvancesearch.addEventsForAdvancedSearch()}},gsadvancesearch.handleOperatorList=function(fieldName,type,operator){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();for(var operatorList=zgssearch.getFieldsList()[fieldName].availableCondition||[],oprsLen=operatorList.length,opr=0;opr<oprsLen;opr++){var curOpr=""+operatorList[opr],disFieldName=zgssearch.getOperatorDisplayName(curOpr,type);gsadvancesearch.addOptionElementInContainer(listContainer,1,type,operator,curOpr,disFieldName)}gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.addOptionElementInContainer=function(container,finalDiv,type,curValue,key,dispText,extraClass){var seleClass="zgs19_gsModuleUnSeleFilterElem zgs19_gsCalMW25Pxof100",tickEle="";curValue==key&&(seleClass="zgs19_gsModuleSeleFilterElem zgs19_gsCalMW45Pxof100",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick"}));finalDiv=_jQueryGS("<div>",{class:"zgs19_gsFieldOptionHldr",fType:finalDiv});extraClass&&finalDiv.append(_jQueryGS("<div>",{class:"zgs19_gsFieldTypeIcon "+extraClass})),finalDiv.append(_jQueryGS("<div>",{class:"zgs19_gsFieldOptionTxt zgs19_gsOverflow "+seleClass,type:type,key:key,gstitle:dispText}).text(dispText)),finalDiv.append(tickEle),container.append(finalDiv)},gsadvancesearch.handleValueList=function(index,fieldName,type,value){switch(type){case zgssearch.TYPE_BOOLEAN:gsadvancesearch.handleBooleanList(value);break;case zgssearch.TYPE_DATETIME:case zgssearch.TYPE_SINGLE_SELECT_PICKLIST:gsadvancesearch.handleSingleSelectPickList(fieldName,type,value);break;case zgssearch.TYPE_MULTI_SELECT_PICKLIST:gsadvancesearch.handleMultiSelectPickList(fieldName,value);break;case zgssearch.TYPE_MULTI_SELECT_USER:gsadvancesearch.handleUsersList(index,value)}},gsadvancesearch.handleBooleanList=function(curValue){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var key,valueList=zgssearch.BOOLEANPICKLIST;for(key in valueList){var dispValue=valueList[key];gsadvancesearch.addOptionElementInValueListContainer(listContainer,curValue,key,dispValue,!1)}gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.handleSingleSelectPickList=function(fieldName,type,value){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var pickList=gsadvancesearch.getPickListFromFieldObj(fieldName);_jQueryGS("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader").css("display","none");var key,isKeySelected=!1,firstVal=value[0]||"";for(key in pickList){var selectedCls,tickEle,dispValue=pickList[key]||"";key&&""!==dispValue&&(tickEle=selectedCls="",firstVal&&(key===firstVal||"customdate"===key&&!isKeySelected)?(selectedCls="zgs19_gsModuleSeleFilterElem",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick"}),isKeySelected=!0):selectedCls="zgs19_gsModuleUnSeleFilterElem",listContainer.append(_jQueryGS("<div>",{id:"zgs20_gsPickListSingleSelectTxt_"+key,class:"zgs19_gsSingleSelectPicklistTxt zgs19_gsOverflow "+selectedCls,value:key,gstitle:dispValue}).text(dispValue).append(tickEle)))}type===zgssearch.TYPE_DATETIME&&_jQueryGS(".zgs19_gsFieldListCont").children(":last-child").before(_jQueryGS("<hr>",{class:"zgs19_gsMoreFilterHRTag"})),gsfilters.updateFilterListPosition(),gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.handleMultiSelectPickList=function(srhhdrEle,value){_jQueryGS(".zgs19_gsCriteriaInfo").css("display","block");var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var pickList=gsadvancesearch.getPickListFromFieldObj(srhhdrEle),pickDataLen=Object.keys(pickList).length;0<pickDataLen?(_jQueryGS(".zgs19_gsNoResultsFound").remove(),srhhdrEle=_jQueryGS("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader"),6<pickDataLen?(srhhdrEle.find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsPickListQryBox"),srhhdrEle.css("display","block")):srhhdrEle.css("display","none"),gsadvancesearch.addOptionInPickListContainer(pickList,listContainer,value)):0===_jQueryGS(".zgs19_gsNoResultsFound").length&&0===_jQueryGS(".zgs19_gsFieldValueHolder:visible").length&&listContainer.append(_jQueryGS("<div>",{class:"zgs19_gsNoResultsFound"}).append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("gs.search.error.no_items")))),0<value.length&&_jQueryGS(".zgs19_gsSelectedTagContainer").css("display","block")},gsadvancesearch.getPickListFromFieldObj=function(pickList,curFieldObj){curFieldObj=(curFieldObj||zgssearch.getFieldsList())[pickList];if(curFieldObj.hasOwnProperty("picklistValues")){pickList=(curFieldObj.picklistValues||{}).data||{};return zgssearch.getSortedKeyValuePairs(pickList)}return curFieldObj.type===zgssearch.TYPE_DATETIME?zgssearch.relativeDateDispName:{}},gsadvancesearch.addOptionInPickListContainer=function(pickList,listContainer,value){for(var key in pickList){var dispValue=pickList[key]||"";key&&"-None-"!=dispValue&&(dispValue=zgssearch.replaceHTMLEntity(dispValue),gsadvancesearch.addOptionElementInValueListContainer(listContainer,value,key,dispValue,!0),zgssearch.includes(key,value)&&(gsadvancesearch.renderSelectedTagInContainer(key,dispValue),_jQueryGS('.zgs19_gsFieldValueHolder[value="'+key+'"]').addClass("zgs19_gsDisplayNoneImp")))}gsfilters.updateFilterListPosition(),gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.advancePickListSearch=function(query){query=query.toLowerCase();_jQueryGS(".zgs19_gsNoResultsFound").remove(),_jQueryGS(".zgs19_gsFieldListCont").find(".zgs19_gsFieldPickTxt").filter(function(){_jQueryGS(this).closest(".zgs19_gsFieldValueHolder:not('.zgs19_gsDisplayNoneImp')").toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(query))});var index,hasMore,fieldId,listContainer,service,accountId,visibleValLen=_jQueryGS(".zgs19_gsFieldValueHolder:visible").length;visibleValLen<6&&(index=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),(listContainer=(gsadvancesearch.curCriteriaList[index]||{}).name||"")&&(hasMore=!1,(accountId=(service=zgssearch.curFieldDetails[listContainer]).picklistValues||{}).hasOwnProperty("hasMore")&&accountId.hasMore&&(hasMore=!0,(fieldId=service.id||"")&&((listContainer=_jQueryGS(".zgs19_gsFieldListCont")).find("#zgs20_gsEditFieldsLoader").remove(),zgssearch.ZSNetwork.abortOngoingAdvSearchCalls(),service=(accountId=gsfilters.getCurrentFilterObj()).service||"",accountId=accountId.hasOwnProperty("accounts")&&!(1<accountId.accounts.length)&&accountId.accounts[0]||"",listContainer.append(gsadvancesearch.loaderElement()),zgssearch.fetchPicklistValueForField(service,accountId,fieldId,query,index,gsadvancesearch.renderSearchedPicklist))),hasMore||0!==visibleValLen||0!==_jQueryGS(".zgs19_gsNoResultsFound").length||0!==_jQueryGS(".zgs19_gsFieldValueHolder:visible").length||_jQueryGS(".zgs19_gsFieldListCont").append(_jQueryGS("<div>",{class:"zgs19_gsNoResultsFound"}).append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("gs.search.error.no_items")))))),gsfilters.updateFilterListPosition()},gsadvancesearch.renderSearchedPicklist=function(pickList){var value,listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.find("#zgs20_gsEditFieldsLoader").remove(),0<pickList.length?(_jQueryGS(".zgs19_gsNoResultsFound").remove(),value=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),value=(gsadvancesearch.curCriteriaList[value]||{}).value||"",gsadvancesearch.addOptionInPickListContainer(pickList,listContainer,value)):0===_jQueryGS(".zgs19_gsNoResultsFound").length&&0===_jQueryGS(".zgs19_gsFieldValueHolder:visible").length&&listContainer.append(_jQueryGS("<div>",{class:"zgs19_gsNoResultsFound"}).append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("gs.search.error.no_items"))))},gsadvancesearch.handleUsersList=function(index,value,extraInfo){var listContainer=_jQueryGS(".zgs19_gsFieldListCont");listContainer.empty();var userList=zgssearch.getUserSearchList(extraInfo=extraInfo||"");0<userList.length?gsadvancesearch.addUserOptionInValueList(userList,value,index):(listContainer.append(gsadvancesearch.loaderElement()),extraInfo={index:index,query:extraInfo||""},zgssearch.ContactsSearchType="filterUI",zgssearch.fetchUsersList(extraInfo))},gsadvancesearch.addOptionElementInValueListContainer=function(container,curValue,key,dispText,isMultiSelectSupported){dispText=zgssearch.replaceHTMLEntity(dispText);var tickEle,selectedCls="zgs19_gsModuleUnSeleFilterElem";isMultiSelectSupported?((tickEle=_jQueryGS("<div>",{class:"zgs19_gsFieldValueHolder zgs19_gsNewMultiFilterSelection",value:key,type:1})).append(_jQueryGS("<div>",{class:"zgs19_gsFieldPickTxt zgs19_gsOverflow "+selectedCls,gstitle:dispText}).text(dispText)),container.append(tickEle)):(tickEle="",curValue==key&&(selectedCls="zgs19_gsModuleSeleFilterElem",tickEle=_jQueryGS("<div>",{class:"zgs18_gsModuleSeleFilterTick"})),container.append(_jQueryGS("<div>",{class:"zgs19_gsValueOptionTxt zgs19_gsOverflow "+selectedCls,value:key,gstitle:dispText}).text(dispText).append(tickEle)))},gsadvancesearch.addUserOptionInValueList=function(userList,valueArr,assigneeObj){_jQueryGS(".zgs19_gsCriteriaInfo").css("display","block");var listContainer=_jQueryGS(".zgs19_gsFieldListCont");if(listContainer.find("#zgs20_gsEditFieldsLoader").remove(),0<userList.length){var srhhdrEle=_jQueryGS("#zgs20_gsFilterPopup #zgs20_gsSearchQryHeader");srhhdrEle.find(".zgs19_gsFilterQueryBox").attr("id","zgs20_gsUserListQrybox"),srhhdrEle.css("display","block"),_jQueryGS(".zgs19_gsNoResultsFound").remove();var index,service=gsfilters.getCurrentService(),criteraObj=zgssearch.gsadvancesearch.curCriteriaList[assigneeObj]||{};for(index in service===GSConstant.SUPPORT&&"assigneeId"===criteraObj.name&&((assigneeObj={}).full_name=zgssearch.getI18NMsg("common.adv.unassigned"),assigneeObj.uid="0",userList[0].hasOwnProperty("uid")&&"0"!=userList[0].uid&&userList.unshift(assigneeObj)),userList)gsadvancesearch.addUserInContainer(listContainer,service,userList[index],valueArr);gsadvancesearch.addEventsForAdvancedSearch()}else 0===_jQueryGS(".zgs19_gsNoResultsFound").length&&0===_jQueryGS(".zgs19_gsFieldValueHolder:visible").length&&listContainer.append(_jQueryGS("<div>",{class:"zgs19_gsNoResultsFound"}).append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("common.no_users"))));if(0<valueArr.length){for(var i=0;i<valueArr.length;i++){var dispName,key=valueArr[i];0===_jQueryGS('.zgs19_gstagOuter[value="'+key+'"]').length&&(dispName=gsadvancesearch.getUserDisplayName(key,criteraObj.name,service),gsadvancesearch.renderSelectedTagInContainer(key,dispName))}_jQueryGS(".zgs19_gsSelectedTagContainer").css("display","block")}gsfilters.updateFilterListPosition()},gsadvancesearch.addUserInContainer=function(photoURL,service,userObj,valueArr){var name=userObj.DNAME||userObj.full_name||"",email=userObj.EMAILID||userObj.email||"",zuid=""+(zuid=userObj.ZUID||userObj.zuid||""),key="",showUser=!1;switch(service){case GSConstant.CRM:case GSConstant.BIGIN:case GSConstant.SUPPORT:showUser=!!(key=userObj.uid||"");break;case GSConstant.CLIQ:case GSConstant.NOTEBOOK:case GSConstant.WORKDRIVE:case GSConstant.CONNECT:showUser=!(!(key=zuid)||"-1"==key);break;case GSConstant.MAILS:case GSConstant.GMAIL:showUser=!!(key=email)}showUser&&0===photoURL.find('.zgs19_gsFieldValueHolder[value="'+key+'"]').length&&(zgssearch.renderUserDetailsInContainer(photoURL,2,key,zuid,name,email,valueArr,!0),(photoURL=userObj.PURL||(zuid&&"-1"!=zuid?zgssearch.getThumbPhotoURL(zuid):""))?zgssearch.updateUserPhoto("zgs20_gsCustomUserChild_"+key,photoURL):zgssearch.loadResNoPhotoImg("zgs20_gsCustomUserChild_"+key),zgssearch.includes(key,valueArr)&&0===_jQueryGS('.zgs19_gstagOuter[zuid="'+zuid+'"]').length&&(gsadvancesearch.renderSelectedTagInContainer(key,key===email?key:name),_jQueryGS('.zgs19_gsFieldValueHolder[value="'+key+'"]').addClass("zgs19_gsDisplayNoneImp")))},gsadvancesearch.renderSelectedTagInContainer=function(key,dispName){dispName=dispName||key,_jQueryGS(".zgs19_gsSelectedTagContainer").append(_jQueryGS("<div>",{id:"zgs20_gsCustomTagsChild_"+key,class:"zgs19_gstagOuter zgs19_gsOverflow",value:key,gstitle:dispName}).append(_jQueryGS("<div>",{class:"zgs19_gsTagsTxt zgs19_gsOverflow",gstitle:dispName}).text(dispName)).append(_jQueryGS("<div>",{class:"zgs19_gstagUndo",gs:"advSearch",actionType:"undoSelectedTag"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon",gs:"advSearch",actionType:"undoSelectedTag"}))))},gsadvancesearch.advanceUserSearch=function(query){var listContainer,extraInfo;query=query.toLowerCase(),_jQueryGS(".zgs19_gsNoResultsFound").remove(),_jQueryGS(".zgs19_gsFieldListCont").find(".zgs19_gsFieldValueHolder:not('.zgs19_gsDisplayNoneImp')").filter(function(){var name=_jQueryGS(this).find(".zgs19_gsAutoSuggChildName").text().toLowerCase(),email=_jQueryGS(this).find(".zgs19_gsUserChildEmail").text().toLowerCase(),needToShow=-1<(-1<name.indexOf(query)||email.indexOf(query));_jQueryGS(this).toggle(needToShow)}),_jQueryGS(".zgs19_gsFieldValueHolder:visible").length<6&&(extraInfo=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),(gsadvancesearch.curCriteriaList[extraInfo]||{}).value,(listContainer=_jQueryGS(".zgs19_gsFieldListCont")).find("#zgs20_gsEditFieldsLoader").remove(),zgssearch.ZSNetwork.abortOngoingAdvSearchCalls(),extraInfo={index:extraInfo,query:query||""},zgssearch.ContactsSearchType="filterUI",listContainer.append(gsadvancesearch.loaderElement()),zgssearch.fetchUsersList(extraInfo)),gsfilters.updateFilterListPosition()},gsadvancesearch.loaderElement=function(){return zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader")},gsadvancesearch.noResultElement=function(disText){return _jQueryGS("<div>",{class:"zgs19_gsEditFieldNoUser zgs19_gsAdvSearchNoUser"}).text(disText)},gsadvancesearch.renderFieldValueElement=function(index,fieldName,type,opr,value){var addPlusELem=_jQueryGS("#zgs20_gsFieldValue"+index);addPlusELem.addClass("zgs19_gsFilterElementOuter");var elem=addPlusELem.find("#zgs20_gsInputFieldHdr"),isFieldValueRenderingNeeded=!0;if(opr&&(elem.removeClass("zgs19_gsFieldBoderBtm"),"6"!==opr&&"7"!==opr||(addPlusELem.addClass("zgs19_gsCurNotAllowed"),elem.addClass("zgs19_gsHideEleme zgs19_gsPntEvtNone"),gsadvancesearch.renderEmptyField(elem),isFieldValueRenderingNeeded=!1)),isFieldValueRenderingNeeded)switch(addPlusELem.removeClass("zgs19_gsCurNotAllowed"),elem.removeClass("zgs19_gsHideEleme zgs19_gsPntEvtNone"),parseInt(type)){case zgssearch.TYPE_TEXT:gsadvancesearch.renderTextField(elem,value);break;case zgssearch.TYPE_NUMBER:gsadvancesearch.renderNumberField(elem,opr,value);break;case zgssearch.TYPE_BOOLEAN:case zgssearch.TYPE_SINGLE_SELECT_PICKLIST:case zgssearch.TYPE_MULTI_SELECT_PICKLIST:case zgssearch.TYPE_MULTI_SELECT_USER:gsadvancesearch.renderPickListField(elem,index,fieldName,type,value);break;case zgssearch.TYPE_DATETIME:case zgssearch.TYPE_RELATIVEDATE:gsadvancesearch.renderDateField(elem,type,opr,value)}addPlusELem=_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt");value&&addPlusELem.is(":visible")?addPlusELem.removeClass("zgs19_gsHideEleme"):addPlusELem.addClass("zgs19_gsHideEleme"),gsadvancesearch.addEventsForAdvancedSearch()},gsadvancesearch.renderEmptyField=function(elem){elem.empty();var inputElem=_jQueryGS("<input>",{class:"zgs19_gsAsInputField zgs19_gsTxtInputField",type:"text"});inputElem.val(""),elem.append(inputElem),_jQueryGS(elem).find(".zgs19_gsAsInputField").val("")},gsadvancesearch.renderTextField=function(elem,value){value=value&&(value[0]||""),elem.empty();var inputElem=_jQueryGS("<input>",{class:"zgs19_gsAsInputField zgs19_gsTxtInputField",type:"text"});inputElem.val(value),inputElem.attr("gstitle",value),elem.append(inputElem),(inputElem=_jQueryGS(elem).find(".zgs19_gsAsInputField")).val(value),inputElem.focus()},gsadvancesearch.renderNumberField=function(numElem,toValue,toElem){numElem.empty(),2==toValue||3==toValue?(numElem.closest(".zgs19_gsFieldValue").removeClass("zgs19_gsFilterElementOuter"),numElem.append(_jQueryGS("<input>",{class:" zgs19_gsNumInputField zgs19_gsFilterElementOuter zgs19_gsFromNumField zgs19_curSelectedFilter",type:"text",placeholder:"From",maxlength:"20"})).append(_jQueryGS("<input>",{class:" zgs19_gsNumInputField zgs19_gsFilterElementOuter zgs19_gsToNumField",type:"text",placeholder:"To",maxlength:"20"}))):2!=toValue&&3!=toValue&&numElem.append(_jQueryGS("<input>",{class:"zgs19_gsAsInputField zgs19_gsNumInputField",type:"text",maxlength:"20"}));var fromValue="";toElem&&(fromValue=toElem[0]||""),2==toValue||3==toValue?(toValue="",toElem&&(toValue=toElem[1]),toElem=_jQueryGS(numElem).find(".zgs19_gsFromNumField"),20<fromValue.length&&(fromValue=fromValue.substring(0,20),zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("common.adv.maxLength_error")})),toElem.attr("gstitle",fromValue),toElem.val(fromValue),toElem.focus(),toElem=_jQueryGS(numElem).find(".zgs19_gsToNumField"),20<toValue.length&&(toValue=toValue.substring(0,20),zgssearch.showbannertip({ty:2,msg:zgssearch.getI18NMsg("common.adv.maxLength_error")})),toElem.attr("gstitle",toValue),toElem.val(toValue)):((numElem=_jQueryGS(numElem).find(".zgs19_gsNumInputField")).attr("gstitle",fromValue),numElem.val(fromValue),numElem.focus())},gsadvancesearch.renderDateField=function(dispName,type,opr,value){0=="#zgs20_gsCustomCalendarHolder".length&&_jQueryGS("#zgs20_globalsearch").append(_jQueryGS("<div>",{id:"zgs20_gsCustomCalendarHolder"}));var isDateListNeeded="2"!==opr&&"3"!==opr,holderDiv={};dispName.empty(),isDateListNeeded?(holderDiv=_jQueryGS("<div>",{class:"zgs19_gsAsInputField zgs19_gsInputDateHolder",gs:"advSearch",actionType:"showValueList"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsNewSelValueTxt zgs19_gsOverflow ",gs:"advSearch",actionType:"showValueList"})).append(_jQueryGS("<div>",{class:"zgs18_gsFilterDropDownIcon zgs19_gsfr zgs19_gsMgRt3Px",gs:"advSearch",actionType:"showValueList"})):(holderDiv=_jQueryGS("<div>",{class:"zgs19_gsAsInputField zgs19_gsInputDateHolder",gs:"advSearch",actionType:"showDatePicker"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsDateFromTxt zgs19_gsOverflow ",gs:"advSearch",actionType:"showDatePicker"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsDateToLebel zgs19_gsOverflow zgs19_gsDisplayNone",gs:"advSearch",actionType:"showDatePicker"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsDateTxt zgs19_gsDateToText zgs19_gsOverflow zgs19_gsDisplayNone",gs:"advSearch",actionType:"showDatePicker"})),dispName.append(holderDiv);var valueFirst,toLabelELem,toTxtElem,dateFormat=zgssearch.DATEFORMAT[type],dateElemArr=_jQueryGS(holderDiv[0]).find(".zgs19_gsDateTxt"),fromTxtElem=_jQueryGS(dateElemArr[0]);value?(fromTxtElem.addClass("zgs19_gsMxWid100Per"),valueFirst=value[0],zgssearch.relativeDateDispName.hasOwnProperty(dispName=valueFirst)&&(dispName=zgssearch.relativeDateDispName[valueFirst]),fromTxtElem.attr("gstitle",dispName),fromTxtElem.text(dispName),value[1]&&(toLabelELem=_jQueryGS(dateElemArr[1]),toTxtElem=_jQueryGS(dateElemArr[2]),fromTxtElem.removeClass("zgs19_gsMxWid100Per"),toLabelELem.removeClass("zgs19_gsDisplayNone"),toLabelELem.text(zgssearch.getI18NMsg("common.to")),toTxtElem.removeClass("zgs19_gsDisplayNone zgs19_gsMxWid100Per"),toTxtElem.attr("gstitle",value[1]),toTxtElem.text(value[1]))):(fromTxtElem.addClass("zgs19_gsMxWid100Per"),isDateListNeeded?fromTxtElem.text("Select"):fromTxtElem.text(dateFormat),toLabelELem=_jQueryGS(dateElemArr[1]),toTxtElem=_jQueryGS(dateElemArr[2]),toLabelELem.addClass("zgs19_gsDisplayNone"),toTxtElem.addClass("zgs19_gsDisplayNone")),zgssearch.loadCustomDatePickers(type,opr,dateFormat,"zgs20_gsCustomCalendarHolder",holderDiv)},gsadvancesearch.renderPickListField=function(valueLen,index,fieldName,dispObj,value){valueLen.empty(),valueLen.append(_jQueryGS("<div>",{class:"zgs19_gsAsInputField zgs19_gsPickValHolder",gs:"advSearch",actionType:"showValueList"}).append(_jQueryGS("<span>",{class:"zgs19_gsNewSelFieldTxt zgs19_gsNewSelValueTxt zgs19_gsOverflow ",gs:"advSearch",actionType:"showValueList"})).append(_jQueryGS("<span>",{class:"zgs19_gsEachFilterCount zgs19_gsNewAdvMultiCount zgs19_gsfl zgs19_gsDisplayNone",gs:"advSearch",actionType:"showValueList"})).append(_jQueryGS("<div>",{class:"zgs18_gsFilterDropDownIcon  zgs19_gsfr",gs:"advSearch",actionType:"showValueList"})));var txtElem=_jQueryGS(valueLen).find(".zgs19_gsNewSelValueTxt"),countElem=_jQueryGS(valueLen).find(".zgs19_gsNewAdvMultiCount"),displayText="";value&&0<value.length?(valueLen=value.length,displayText=(dispObj=gsadvancesearch.getDisplayValueAndOverText(fieldName,dispObj,value)).dispTxtArr[0]||value[0]||"",txtElem.removeClass("zgs19_gsMxWid75Per"),1<valueLen&&(countElem.text("+"+--valueLen),countElem.attr("gstitle",dispObj.dispTxt),countElem.removeClass("zgs19_gsDisplayNone"),txtElem.addClass("zgs19_gsMxWid75Per"))):(displayText=i18nSelect,countElem.addClass("zgs19_gsDisplayNone")),txtElem.attr("gstitle",displayText),txtElem.text(displayText)},gsadvancesearch.getDisplayValueAndOverText=function(fieldName,type,valueArr,fieldObj,service,accId,deptId,advType){for(var dispTxtArr=[],ValArrText="",valueArrLen=valueArr.length,s=0;s<valueArrLen;){var name=gsadvancesearch.getDisplayText(fieldName,type,valueArr[s],fieldObj,service,accId,deptId,advType);ValArrText+=name,++s<valueArrLen&&(ValArrText+=", "),dispTxtArr.push(name)}return{dispTxtArr:dispTxtArr,dispTxt:ValArrText}},gsadvancesearch.getDisplayText=function(fieldName,type,value,pickListData,service,accId,deptId,advType){var displayName="";if(service=service||gsfilters.getCurrentService(),type===zgssearch.TYPE_BOOLEAN&&zgssearch.BOOLEANPICKLIST.hasOwnProperty(value))displayName=zgssearch.BOOLEANPICKLIST[value];else if(type===zgssearch.TYPE_SINGLE_SELECT_PICKLIST||type===zgssearch.TYPE_MULTI_SELECT_PICKLIST){pickListData=gsadvancesearch.getPickListFromFieldObj(fieldName,pickListData);pickListData.hasOwnProperty(value)&&(displayName=zgssearch.replaceHTMLEntity(pickListData[value]))}else if(type===zgssearch.TYPE_MULTI_SELECT_USER)displayName=gsadvancesearch.getUserDisplayName(value,fieldName,service,accId,deptId);else if(type===zgssearch.TYPE_DATETIME)if(advType===zgssearch.TYPE_RELATIVEDATE){var j,filterDates=zgssearch.filterDates;for(j in filterDates){var fDateType=filterDates[j];fDateType.datevalue!=value.datevalue||fDateType.datetype!=value.datetype||fDateType.timeunit!=value.timeunit&&(value.timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_MONTH&&value.timeunit!=zgssearch.QUERY_OBJ_RELATIVE_DATE_TIME_UNIT_WEEK||"4"!=value.datetype)||(displayName=zgssearch.relativeDateDispName[j])}}else displayName=zgssearch.convertClientDateFormat([value],type);else displayName=value;return displayName},gsadvancesearch.getUserDisplayName=function(value,fieldName,service,userObj,userObject){userObj=service&&userObj?zgssearch.getUserDispName(value,!1,service,userObj,userObject):zgssearch.getUserDetails(value);return _jQueryGS.isEmptyObject(userObj)?(userObject=(userObject=zgssearch.gscardUtils.useridVSuserinfo).hasOwnProperty(value)?userObject[value]:{},_jQueryGS.isEmptyObject(userObject)?service===GSConstant.SUPPORT&&"assigneeId"===fieldName&&"0"===value?zgssearch.getI18NMsg("common.adv.unassigned"):value:service===GSConstant.MAILS?userObject.email:userObject.hasOwnProperty("full_name")?userObject.full_name:""):service===GSConstant.MAILS?userObj.EMAILID:userObj.DNAME||userObj.full_name||""},gsadvancesearch.updatedSelectedUserInfo=function(service,ownerList,txtElem){var displayText;_jQueryGS.isEmptyObject(txtElem)||(displayText=txtElem.value||"",ownerList&&!_jQueryGS.isEmptyObject(ownerList)&&(displayText=ownerList[displayText].full_name||"",txtElem=txtElem.index||"",(txtElem=_jQueryGS("#zgs20_gsFieldValue"+txtElem).find("#zgs20_gsInputFieldHdr .zgs19_gsNewSelValueTxt")).attr("gstitle",displayText),txtElem.text(displayText)))},gsadvancesearch.selectField=function(type){var textElem=_jQueryGS(type).find(".zgs19_gsFieldOptionTxt"),name=textElem.attr("key"),index=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),displayName=gsadvancesearch.curCriteriaList[index]||{};displayName.name!=name&&(type=textElem.attr("type"),displayName.name=name,displayName.type=type,displayName=textElem.text()||"",(textElem=_jQueryGS("#zgs20_gsFieldId"+index)).removeClass("zgs19_gsBorderFC0D1ECol"),(textElem=textElem.find(".zgs19_gsSelFldName")).text(displayName),textElem.attr("gstitle",displayName),gsadvancesearch.autoSelectOperator(index,name,type),gsadvancesearch.enableSaveButton(),gsadvancesearch.enableClearCriteria()),gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.autoSelectOperator=function(index,fieldName,type){var curObj=_jQueryGS("#zgs20_gsFieldOpr"+index);curObj.removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsFieldValue"+index).removeClass("zgs19_gsHideEleme");var textElem=curObj.find(".zgs19_gsNewSelOprTxt"),curOpr=""+(zgssearch.getFieldsList()[fieldName].availableCondition||[])[0],curObj=zgssearch.getOperatorDisplayName(curOpr,type);textElem.text(curObj),textElem.attr("gstitle",curObj);curObj=gsadvancesearch.curCriteriaList[index];curObj.operator=curOpr,delete curObj.value,gsadvancesearch.renderFieldValueElement(index,fieldName,type,curOpr)},gsadvancesearch.selectOperator=function(displayName){var textElem=_jQueryGS(displayName).find(".zgs19_gsFieldOptionTxt"),opr=textElem.attr("key"),index=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),curObj=gsadvancesearch.curCriteriaList[index],oldOpr=curObj.operator;oldOpr!=opr&&(curObj.operator=opr,displayName=textElem.text()||"",(textElem=_jQueryGS("#zgs20_gsFieldOpr"+index)).removeClass("zgs19_gsBorderFC0D1ECol"),(textElem=textElem.find(".zgs19_gsNewSelOprTxt")).text(displayName),textElem.attr("gstitle",displayName),gsadvancesearch.fieldValueClearActions(curObj,opr,oldOpr,index,curObj.name,curObj.type)),gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.fieldValueClearActions=function(curObj,opr,oldOpr,index,name,type){switch(opr){case"2":case"3":if("2"!==oldOpr&&"3"!==oldOpr)return delete curObj.value,gsadvancesearch.renderFieldValueElement(index,name,type,opr),void gsfilters.disabledApplyButton();break;case"6":case"7":curObj.value=["0"],gsadvancesearch.renderFieldValueElement(index,name,type,opr,!0);break;default:if(["2","3","6","7"].includes(oldOpr))return delete curObj.value,gsadvancesearch.renderFieldValueElement(index,name,type,opr),void gsfilters.disabledApplyButton()}gsadvancesearch.enableSaveButton()},gsadvancesearch.handleDatepicker=function(dType){var attributeObj,opr,value,fromValue,toValue,pElem=_jQueryGS(dType).closest(".zgs19_gsCriteria").attr("index");zgssearch.isCustomDatePickerDisplay&&gsadvancesearch.oldDateIndex==pElem?zgssearch.hideNewCustomDatePicker():(attributeObj={},opr=(value=gsadvancesearch.curCriteriaList[pElem]).operator,toValue=fromValue="",(value=value.value||"")&&(fromValue=value[0]||"",toValue=value[1]||""),2==opr||3==opr?(attributeObj.selectionType="separate",attributeObj.fromValue=fromValue,attributeObj.toValue=toValue):attributeObj.value=fromValue,attributeObj.callback=gsadvancesearch.updateFieldDateObject,gsadvancesearch.oldDateIndex=pElem,attributeObj.index=pElem,dType=(pElem=_jQueryGS(dType).closest(".zgs19_gsInputDateHolder")).attr("dType"),zgssearch.handleNewCustomDatePicker(_jQueryGS(pElem).closest(".zgs19_gsFieldValue"),dType,attributeObj))},gsadvancesearch.multiSelectPicklistActions=function(dispName){var lastSelectedElem=_jQueryGS("#zgs20_gsFilterPopup"),selectedElem=_jQueryGS(".zgs19_gstagOuter"),selectedLen=selectedElem.length,service=gsfilters.getCurrentService();if(selectedLen<gsadvancesearch.maxValueSelectCount){for(var targetElem,lType,key,selTxt="",valueArr=[],i=0;i<selectedLen;i++){var selElem=_jQueryGS(selectedElem[i]),value=selElem.attr("value");value&&valueArr.push(value),0==i&&(selTxt=service===GSConstant.MAILS?selElem.attr("value"):selElem.attr("gstitle"))}dispName&&(lType=(targetElem=_jQueryGS(dispName)).attr("type"),key=targetElem.attr("value"),valueArr.push(key),dispName="",2==lType?(dispName=service===GSConstant.MAILS?key:targetElem.find(".zgs19_gsAutoSuggChildName").text(),_jQueryGS("#zgs20_gsUserListQrybox").val(""),zgssearch.focusForWeb("zgs20_gsUserListQrybox"),gsadvancesearch.advanceUserSearch("")):1==lType&&(dispName=targetElem.find(".zgs19_gsFieldPickTxt").text(),_jQueryGS("#zgs20_gsPickListQryBox").val(""),zgssearch.focusForWeb("zgs20_gsPickListQryBox"),gsadvancesearch.advancePickListSearch("")),gsadvancesearch.renderSelectedTagInContainer(key,dispName),selectedElem=_jQueryGS(".zgs19_gstagOuter"),++selectedLen,targetElem.addClass("zgs19_gsDisplayNoneImp"),selTxt=selTxt||dispName,0===_jQueryGS(".zgs19_gsFieldListCont").children(":visible").length&&_jQueryGS(".zgs19_gsFieldListCont").append(_jQueryGS("<div>",{class:"zgs19_gsNoResultsFound"}).append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("gs.search.error.all_options_selected")))));lastSelectedElem=lastSelectedElem.attr("index");gsadvancesearch.updateFieldValueHolder(valueArr,lastSelectedElem,selTxt,selectedLen),0<valueArr.length&&(gsadvancesearch.curCriteriaList[lastSelectedElem].value=valueArr,_jQueryGS("#zgs20_gsCriteria"+lastSelectedElem).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),gsadvancesearch.enableSaveButton(),gsfilters.enableResetButton(),_jQueryGS(".zgs19_gsSelectedTagContainer").css("display","block")),gsfilters.setFilterListPosition(gsfilters.closestHolderElem,"zgs20_gsFilterPopup","zgs19_filterBodyHldr");lastSelectedElem=selectedElem[selectedLen-1];lastSelectedElem&&!gsfilters.isElementInViewPort(lastSelectedElem,"zgs19_gsSelectedTagContainer")&&_jQueryGS(".zgs19_gsSelectedTagContainer").scrollTop(_jQueryGS(lastSelectedElem).offset().top)}else zgssearch.showbannertip({ty:2,msg:zgssearch.I18N.getValue("common.adv.pickListErrorMsg",[gsadvancesearch.maxValueSelectCount])})},gsadvancesearch.updateFieldValueHolder=function(dispObj,fieldName,countElem,selectedLen){var fieldType=gsfilters.closestHolderElem;fieldType.find(".zgs19_gsBorderBtmFC0D1ECol").removeClass("zgs19_gsBorderBtmFC0D1ECol");var txtElem=fieldType.find(".zgs19_gsNewSelValueTxt");if(txtElem.removeClass("zgs19_gsMxWid75Per"),0===dispObj.length)return txtElem.attr("gstitle",i18nSelect),txtElem.text(i18nSelect),delete gsadvancesearch.curCriteriaList[fieldName].value,_jQueryGS("#zgs20_gsCriteria"+fieldName).find(".zgs19_gsAddCrt").addClass("zgs19_gsHideEleme"),_jQueryGS(".zgs19_gsSelectedTagContainer").css("display","none"),void gsfilters.disabledApplyButton();txtElem.attr("gstitle",countElem),txtElem.text(countElem);countElem=fieldType.find(".zgs19_gsNewAdvMultiCount");1<selectedLen?(fieldName=(fieldType=gsadvancesearch.curCriteriaList[fieldName]).name,fieldType=fieldType.type,dispObj=gsadvancesearch.getDisplayValueAndOverText(fieldName,fieldType,dispObj),countElem.text("+"+(selectedLen-1)),countElem.attr("gstitle",dispObj.dispTxt),_jQueryGS(countElem).removeClass("zgs19_gsDisplayNone"),txtElem.addClass("zgs19_gsMxWid75Per")):_jQueryGS(countElem).addClass("zgs19_gsDisplayNone")},gsadvancesearch.undoSelectedTag=function(pickListElem){var tagOuterElem=_jQueryGS(pickListElem).closest(".zgs19_gstagOuter"),pickListElem=tagOuterElem.attr("value");_jQueryGS(tagOuterElem).remove();pickListElem=_jQueryGS('.zgs19_gsFieldValueHolder[value="'+pickListElem+'"]');_jQueryGS.isEmptyObject(pickListElem)||(_jQueryGS(".zgs19_gsNoResultsFound").remove(),pickListElem.removeClass("zgs19_gsDisplayNoneImp")),gsadvancesearch.multiSelectPicklistActions()},gsadvancesearch.storedUserInfo=function(zuid){var uObj,name,userId=_jQueryGS(zuid).attr("value"),email=zgssearch.getUserDetails(userId,!0);_jQueryGS.isEmptyObject(email)&&(uObj={},name=_jQueryGS(zuid).find(".zgs19_gsAutoSuggChildName").text(),email=_jQueryGS(zuid).find(".zgs19_gsUserChildEmail").text(),zuid=_jQueryGS(zuid).attr("zuid"),uObj.full_name=name,uObj.email=email,uObj.zuid=zuid,uObj.uid=userId,gsfilters.getCurrentService(),gsadvancesearch.emailVsSelectedUserObj[userId]=uObj)},gsadvancesearch.getUserInfo=function(userid,service){var userObj=zgssearch.getUserDetails(userid);if(!_jQueryGS.isEmptyObject(userObj))return userObj;if(userObj=gsadvancesearch.emailVsSelectedUserObj[userid]||{},!_jQueryGS.isEmptyObject(userObj))return userObj;var uObj,userObj=(zgssearch.gscardUtils.useridVSuserinfo||{})[userid]||{};return _jQueryGS.isEmptyObject(userObj)||((uObj={}).full_name=userObj.name||"",uObj.email=userObj.email||"",uObj.zuid=userObj.zuid,uObj.uid=userid),userObj},gsadvancesearch.storeInputValues=function(addPlusELem){var from=_jQueryGS(addPlusELem).closest(".zgs19_gsCriteria").attr("index"),criteriaObj=gsadvancesearch.curCriteriaList[from],toEle=criteriaObj.operator;delete criteriaObj.value;var elem,valueArr=[],value=_jQueryGS("#zgs20_gsFieldValue"+from),addPlusELem=_jQueryGS("#zgs20_gsCriteria"+from).find(".zgs19_gsAddCrt");2==toEle||3==toEle?(from=(elem=value.find(".zgs19_gsFromNumField")).val().trim(),elem.attr("gstitle",from),elem=(toEle=value.find(".zgs19_gsToNumField")).val().trim(),toEle.attr("gstitle",elem),from&&elem?(valueArr=[from,elem],addPlusELem.removeClass("zgs19_gsHideEleme")):addPlusELem.addClass("zgs19_gsHideEleme")):(value=(elem=value.find(".zgs19_gsAsInputField")).val().trim(),elem.attr("gstitle",value),value?(valueArr=[value],addPlusELem.removeClass("zgs19_gsHideEleme")):addPlusELem.addClass("zgs19_gsHideEleme")),criteriaObj.value=valueArr,gsadvancesearch.enableSaveButton()},gsadvancesearch.selectSingleValue=function(textElem){var displayName=_jQueryGS(textElem).attr("value"),index=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),criteriaObj=gsadvancesearch.curCriteriaList[index];criteriaObj.value!=displayName&&(criteriaObj.value=[displayName],displayName=_jQueryGS(textElem).text()||"",(textElem=_jQueryGS("#zgs20_gsFieldValue"+index)).removeClass("zgs19_gsBorderFC0D1ECol"),(textElem=textElem.find(".zgs19_gsNewSelValueTxt")).text(displayName),textElem.attr("gstitle",displayName),_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),gsadvancesearch.enableSaveButton()),gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.singleSelectPicklistActions=function(textElem){var value=_jQueryGS(textElem).attr("value"),index=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),displayName=gsadvancesearch.curCriteriaList[index];displayName.value!=value&&("customdate"!==value?(displayName.value=[value],displayName=_jQueryGS(textElem).text()||"",(textElem=_jQueryGS("#zgs20_gsFieldValue"+index)).removeClass("zgs19_gsBorderFC0D1ECol"),(textElem=textElem.find(".zgs19_gsNewSelValueTxt")).text(displayName),textElem.attr("gstitle",displayName),_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme")):gsadvancesearch.handleDatepicker(_jQueryGS(gsfilters.closestHolderElem).find(".zgs19_gsInputDateHolder"))),gsadvancesearch.hideAdvPopUpList(),"customdate"!=value&&gsadvancesearch.enableSaveButton()},gsadvancesearch.updateFieldDateObject=function(todate){var fromdate,index=todate.options.index||"",parentElem=_jQueryGS("#zgs20_gsFieldValue"+index),curObj=parentElem.find(".zgs19_gsDateTxt"),fromDateELem=_jQueryGS(curObj[0]),toLabelElem=_jQueryGS(curObj[1]),toDateELem=_jQueryGS(curObj[2]),curObj=gsadvancesearch.curCriteriaList[index]||{};todate.hasOwnProperty("valueString")&&todate.valueString?(fromdate=""+todate.valueString,fromDateELem.attr("gstitle",fromdate),fromDateELem.text(fromdate),curObj.value=[fromdate],fromDateELem.addClass("zgs19_gsMxWid100Per"),toLabelElem.addClass("zgs19_gsDisplayNone"),toDateELem.addClass("zgs19_gsDisplayNone")):todate.fromValueString&&todate.toValueString&&(fromdate=""+todate.fromValueString,fromDateELem.attr("gstitle",fromdate),fromDateELem.text(fromdate),fromDateELem.removeClass("zgs19_gsMxWid100Per"),toLabelElem.removeClass("zgs19_gsDisplayNone"),toLabelElem.text(zgssearch.getI18NMsg("common.to")),todate=""+todate.toValueString,toDateELem.removeClass("zgs19_gsDisplayNone zgs19_gsMxWid100Per"),toDateELem.attr("gstitle",todate),toDateELem.text(todate),curObj.value=[fromdate,todate]),parentElem.removeClass("zgs19_gsBorderFC0D1ECol"),_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),zgssearch.isCustomDatePickerDisplay=!1,gsadvancesearch.enableSaveButton()},gsadvancesearch.storeSelectedValueList=function(){var valueArr=[],checkedBoxes=_jQueryGS(".zgs19_gsFieldListCont").find("input[type=checkbox]:checked"),checkedLen=checkedBoxes.length;if(0<checkedLen){for(var selTxt="",i=0;i<checkedLen;i++){var selElem=_jQueryGS(_jQueryGS(checkedBoxes[i])).closest(".zgs19_gsFieldValueHolder"),listType=selElem.attr("type"),value=selElem.attr("value");value&&valueArr.push(value),0==i&&(selTxt=(2==listType?selElem.find(".zgs19_gsAutoSuggChildName"):selElem).text())}var index=_jQueryGS("#zgs20_gsFilterPopup").attr("index"),fieldName=_jQueryGS("#zgs20_gsFieldValue"+index);fieldName.removeClass("zgs19_gsBorderFC0D1ECol");var txtElem=fieldName.find(".zgs19_gsNewSelValueTxt");txtElem.removeClass("zgs19_gsMxWid75Per"),txtElem.attr("gstitle",selTxt),txtElem.text(selTxt);var dispObj,countElem=fieldName.find(".zgs19_gsNewAdvMultiCount");1<checkedLen?(fieldName=(dispObj=gsadvancesearch.curCriteriaList[index]).name,dispObj=dispObj.type,dispObj=gsadvancesearch.getDisplayValueAndOverText(fieldName,dispObj,valueArr),countElem.text("+"+--checkedLen),countElem.attr("gstitle",dispObj.dispTxt),_jQueryGS(countElem).removeClass("zgs19_gsDisplayNone"),txtElem.addClass("zgs19_gsMxWid75Per")):_jQueryGS(countElem).addClass("zgs19_gsDisplayNone"),0<valueArr.length&&(gsadvancesearch.curCriteriaList[index].value=valueArr,_jQueryGS("#zgs20_gsCriteria"+index).find(".zgs19_gsAddCrt").removeClass("zgs19_gsHideEleme"),gsadvancesearch.enableSaveButton(),gsfilters.enableResetButton())}gsadvancesearch.hideAdvPopUpList()},gsadvancesearch.addCriteriaPattern=function(newQryPatrn){var qryPatrnElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),qryPatrn=qryPatrnElem.text()||"1";zgssearch.includes(newQryPatrn+1,qryPatrn)||(newQryPatrn=zgssearch.correctCriteriaExpression(qryPatrn,"",newQryPatrn),zgssearch.renderCriteriaPatternText(qryPatrnElem,newQryPatrn))},gsadvancesearch.removeCriteriaPattern=function(newQryPatrn){var qryPatrnElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),qryPatrn=qryPatrnElem.text(),newQryPatrn=zgssearch.correctCriteriaExpression(qryPatrn,newQryPatrn);zgssearch.renderCriteriaPatternText(qryPatrnElem,newQryPatrn)},gsadvancesearch.changeComparatorCriteriaPattern=function(currRowId,curVal){var qryPatrnElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),newQryPatrn=qryPatrnElem.text(),newQryPatrn=zgssearch.changeCriteriaExpression(newQryPatrn,currRowId-1,curVal.toUpperCase()),newQryPatrn=zgssearch.correctCriteriaExpression(newQryPatrn);zgssearch.renderCriteriaPatternText(qryPatrnElem,newQryPatrn)},gsadvancesearch.editCriteriaPattern=function(){var textElem=_jQueryGS("#zgs20_gsCrtPatnTxt");textElem.removeClass("zgs19_gsBorderBtmFC0D1ECol"),textElem.attr("contenteditable","true"),zgssearch.setCursorPosInEditableDivElement("zgs20_gsCrtPatnTxt"),gsadvancesearch.oldPattern=textElem.text(),gsadvancesearch.hideElementsForEditCriteria(),_jQueryGS(".zgs19_gsCrtPatnActionHdr").removeClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsEditPatn").addClass("zgs19_gsDisplayNone"),gsfilters.disabledApplyButton()},gsadvancesearch.saveEditedCriteria=function(){var inputElem=_jQueryGS("#zgs20_gsCrtPatnTxt"),newPattern=inputElem.text().trim();if(gsadvancesearch.oldPattern!=newPattern)if(zgssearch.validatePattern(newPattern,gsadvancesearch.curCriteriaList.length)){for(var comparatorArr=(newPattern=zgssearch.correctCriteriaExpression(newPattern)).match(/(AND|OR)/gi),compElemArr=_jQueryGS("#zgs20_gsCrtList").find(".zgs19_gsCrtOper"),compElemLen=compElemArr.length,i=0;i<compElemLen;i++){var comparator=comparatorArr?comparatorArr[i]:"",eachcompELem=_jQueryGS(compElemArr[i]).find(".zgs19_gsCrtOperTxt");eachcompELem.attr("comparator",comparator),eachcompELem.text(comparator)}zgssearch.renderCriteriaPatternText(inputElem,newPattern),gsadvancesearch.oldPattern=newPattern,gsadvancesearch.cancelEditCriteria(),gsadvancesearch.checkValidCriteriaList()&&gsfilters.enableApplyButton(),gsfilters.enableResetButton()}else zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("common.adv.criteriaPatternError")}),inputElem.addClass("zgs19_gsBorderBtmFC0D1ECol");else gsadvancesearch.cancelEditCriteria()},zgssearch.renderCriteriaPatternText=function(inputElem,newPattern){inputElem.empty();for(var arrayList=newPattern.split(" "),len=arrayList.length,i=0;i<len;i++)"AND"===arrayList[i]||"OR"===arrayList[i]?inputElem.append(_jQueryGS("<span>",{class:"zgs19_gsCrtPatternOprClr"}).text(arrayList[i]+" ")):inputElem.append(arrayList[i]+" ");1===len?_jQueryGS("#zgs20_gsEditPatn").addClass("zgs19_gsHideEleme"):_jQueryGS("#zgs20_gsEditPatn").removeClass("zgs19_gsHideEleme")},gsadvancesearch.cancelEditCriteria=function(){gsadvancesearch.unHideElementsForEditCriteria();var textElem=_jQueryGS("#zgs20_gsCrtPatnTxt");textElem.removeClass("zgs19_gsBorderBtmFC0D1ECol"),textElem.attr("contenteditable","false"),zgssearch.renderCriteriaPatternText(textElem,gsadvancesearch.oldPattern||"1"),_jQueryGS(".zgs19_gsCrtPatnActionHdr").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsEditPatn").removeClass("zgs19_gsDisplayNone"),gsadvancesearch.enableSaveButton()},gsadvancesearch.unHideElementsForEditCriteria=function(){_jQueryGS("#zgs20_gsCrtList, .zgs19_gsclrfltrBtn, #zgs20_gsnewFltrHdr, .zgs19_gscriSaveTxt, .zgs19_gsDescriptionTextHolder, .zgs19_gsSearchQryTextHolder, .zgs19_gsServiceHolder").removeClass("zgs19_gsHideEleme")},gsadvancesearch.hideElementsForEditCriteria=function(){_jQueryGS("#zgs20_gsCrtList, .zgs19_gsclrfltrBtn, #zgs20_gsnewFltrHdr, .zgs19_gscriSaveTxt, .zgs19_gsDescriptionTextHolder, .zgs19_gsSearchQryTextHolder, .zgs19_gsServiceHolder").addClass("zgs19_gsHideEleme")},gsadvancesearch.isChildVisibleActions=function(container){0===container.children(":visible").length?container.append(_jQueryGS("<div>",{class:"zgs19_gsNoResultsFound"}).append(gsadvancesearch.noResultElement(zgssearch.getI18NMsg("gs.search.error.all_options_selected")))):container.scrollTop(0)},gsadvancesearch}(void 0)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gsfilters=zgssearch.gsfilters||{};zgssearch.fieldDetailsMapping={},zgssearch.advanceSearchEnabledServiceArr=[GSConstant.CLIQ,GSConstant.CRM,GSConstant.BIGIN,GSConstant.SUPPORT,GSConstant.MAILS,GSConstant.NOTEBOOK,GSConstant.WORKDRIVE,GSConstant.GMAIL,GSConstant.CONNECT],zgssearch.isAdvancedFitersApplied=!1,zgssearch.isAdvCriteriaCorrect=!0,zgssearch.hasAdvCriteriaChanged=!1,zgssearch.DATEFORMAT={3:"dd MMM yyyy",4:"dd MMM yyyy hh:mm tt"},zgssearch.CALENDAR_MONTH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zgssearch.BOOLEANPICKLIST={true:zgssearch.getI18NMsg("common.adv.true"),false:zgssearch.getI18NMsg("common.adv.false")};const ops=["&","|"],peek=a=>a[a.length-1],isOperand=val=>val.match(/\d+/);zgssearch.getOperatorDisplayName=function(operator,dataType){switch(operator){case"0":return 1==dataType?"=":zgssearch.getI18NMsg("common.adv.is");case"1":return 1==dataType?"!=":zgssearch.getI18NMsg("common.adv.isNot");case"2":return zgssearch.getI18NMsg("common.adv.between");case"3":return zgssearch.getI18NMsg("common.adv.notBetween");case"4":return zgssearch.getI18NMsg("common.adv.contains");case"5":return zgssearch.getI18NMsg("common.adv.notContains");case"6":return zgssearch.getI18NMsg("common.adv.isEmpty");case"7":return zgssearch.getI18NMsg("common.adv.isNotEmpty");case"8":return zgssearch.getI18NMsg("common.adv.startWith");case"9":return 1==dataType?"<":zgssearch.getI18NMsg("common.adv.isBefore");case"10":return 1==dataType?"<=":zgssearch.getI18NMsg("common.adv.isLessEqual");case"11":return 1==dataType?">":zgssearch.getI18NMsg("common.adv.isAfter");case"12":return 1==dataType?">=":zgssearch.getI18NMsg("common.adv.isGreaterEqual");default:return""}},zgssearch.getFilterTypeIcons=function(fieldType){switch(fieldType){case zgssearch.TYPE_TEXT:return"zgs18_gsTextFieldIcon";case zgssearch.TYPE_NUMBER:return"zgs18_gsNumberFieldIcon";case zgssearch.TYPE_BOOLEAN:case zgssearch.TYPE_SINGLE_SELECT_PICKLIST:case zgssearch.TYPE_MULTI_SELECT_PICKLIST:case zgssearch.TYPE_LOOKUP:return"zgs18_gsPickListFieldIcon";case zgssearch.TYPE_DATETIME:case zgssearch.TYPE_RELATIVEDATE:return"zgs18_gsDateFieldIcon";case zgssearch.TYPE_MULTI_SELECT_USER:return"zgs18_gsUserFieldIcon"}},zgssearch.getDataTypeVSSearchType=function(type){switch(type){case zgssearch.TYPE_TEXT:case zgssearch.TYPE_BOOLEAN:case zgssearch.TYPE_SINGLE_SELECT_PICKLIST:case zgssearch.TYPE_MULTI_SELECT_PICKLIST:return zgssearch.QUERY_OBJ_DT_STRING;case zgssearch.TYPE_NUMBER:return zgssearch.QUERY_OBJ_DT_DECIMAL;case zgssearch.TYPE_DATETIME:return zgssearch.QUERY_OBJ_DT_DATE_TIME;case zgssearch.TYPE_MULTI_SELECT_USER:return zgssearch.QUERY_OBJ_DT_MENTION}return""},zgssearch.renderUserDetailsInContainer=function(holdElem,type,key,zuid,name,email,curValueArr,isMultiSelectSupported){var userInnerElem=_jQueryGS("<div>",{id:"zgs20_gsUserResultRow",class:"zgs19_gsUserResultRow"});userInnerElem.append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChildName"+key,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow",gstitle:name}).text(name))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsUserChildEmail"+key,class:"zgs19_gsUserChildEmail zgs19_gsOverflow",gstitle:email}).text(email)))),holdElem.append(_jQueryGS("<div>",{id:"zgs20_gsCustomUserChild_"+key,class:"zgs19_gsFieldValueHolder zgs19_gsQuerySugguser zgs19_gsNewMultiFilterSelection zgs19_gsCurPointer",type:type,zuid:zuid,value:key}).append(userInnerElem))},zgssearch.checkCriteriaClearBehaviour=function(appendValue){var curArr=zgssearch.gsadvancesearch.curCriteriaList||[];return!(0<curArr.length&&!_jQueryGS.isEmptyObject(curArr[0]))||(zgssearch.gsadvancesearch.enableCriteriaClearCautionPopup(appendValue),!1)},zgssearch.loadCustomDatePickers=function(customType,operator,dateFormat,calElemId,holderElem){3==customType?2==operator||3==operator?(_jQueryGS(holderElem).attr("dType","customdaterange"),0===_jQueryGS("#zgs20_gsCustomDateRangePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateRangePicker.bind(null,calElemId,dateFormat))):(_jQueryGS(holderElem).attr("dType","customdate"),0===_jQueryGS("#zgs20_gsCustomDatePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDatePicker.bind(null,calElemId,dateFormat))):4==customType&&(2==operator||3==operator?(_jQueryGS(holderElem).attr("dType","customdatetimerange"),0===_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateTimeRangePicker.bind(null,calElemId,dateFormat))):(_jQueryGS(holderElem).attr("dType","customdatetime"),0===_jQueryGS("#zgs20_gsCustomDateTimePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateTimePicker.bind(null,calElemId,dateFormat))))},zgssearch.isAdvanceSearchEnabledForService=function(service){return zgssearch.isArrayContain(service,zgssearch.advanceSearchEnabledServiceArr)},zgssearch.checkAdvanceSearchEnabledOrNot=function(){var isEnable=!1;zgssearch.curFieldDetails={};var selFilterObj=gsfilters.getCurrentFilterObj(),service=selFilterObj.service;if(zgssearch.isAdvanceSearchEnabledForService(service)){var accounts=selFilterObj.accounts||"";if(accounts){var accountId=accounts[0]||"";if(accountId&&0!=accountId){var modules="";switch(service){case GSConstant.CLIQ:case GSConstant.CONNECT:(modules=selFilterObj.modules||"")&&1===modules.length&&(isEnable=!0);break;case GSConstant.CRM:case GSConstant.BIGIN:if((modules=selFilterObj.modules||"")&&1===modules.length&&"all"!=modules[0]){var split=modules[0],apiNameVsModuleNameData=zgssearch[service+"OrgInfo"].getModuleData(split,accountId);if(!(isValidModule=apiNameVsModuleNameData&&apiNameVsModuleNameData.isDefault)&&apiNameVsModuleNameData&&service===GSConstant.CRM){apiNameVsModuleNameData=zgssearch.getFilterInfo(GSConstant.CRM,"modules","crm_modules");if(apiNameVsModuleNameData){let modAPIName=apiNameVsModuleNameData[accountId][split+"_url"];var split=modAPIName?modAPIName.split("CustomModule"):[],isValidModule=1<split.length&&parseFloat(split[1])<=500}}isValidModule&&(isEnable=!0)}break;case GSConstant.SUPPORT:(modules=selFilterObj.modules||"")&&1==modules.length&&"0"!=modules[0]&&(isEnable=!0);break;case GSConstant.MAILS:if(!(modules=selFilterObj.modules||["mails"])||1!==modules.length||"mails"!=modules[0])return void zgssearch.gsadvancesearch.hideAdvancedSearchPage();isEnable=!0;break;case GSConstant.NOTEBOOK:(modules=selFilterObj.modules||"")&&1===modules.length&&(isEnable=!0);break;case GSConstant.WORKDRIVE:case GSConstant.GMAIL:isEnable=!0}return void zgssearch.gsadvancesearch.showAdvancedSearchPage(isEnable)}}}zgssearch.gsadvancesearch.hideAdvancedSearchPage()},zgssearch.getFieldsList=function(){var service,accountId,module,fieldKey,fieldsObj=zgssearch.curFieldDetails||{};return 0===Object.keys(fieldsObj).length&&(service=(fieldKey=zgssearch.getRequiredMetaInfo())[0],accountId=fieldKey[1],module=fieldKey[2],fieldKey=fieldKey[3],fieldKey=zgssearch.formatFieldObjKey(service,accountId,module,fieldKey),zgssearch.fieldDetailsMapping.hasOwnProperty(fieldKey)&&(fieldsObj=zgssearch.fieldDetailsMapping[fieldKey],zgssearch.curFieldDetails=fieldsObj)),fieldsObj},zgssearch.getFieldObj=function(service,accountId,module,deptId,callbackParams){var fieldsObj={},fieldKey=zgssearch.formatFieldObjKey(service,accountId,module,deptId);return zgssearch.fieldDetailsMapping.hasOwnProperty(fieldKey)?fieldsObj=zgssearch.fieldDetailsMapping[fieldKey]:zgssearch.fetchFieldDetailsForService(service,accountId,deptId,module,callbackParams),fieldsObj},zgssearch.getRequiredMetaInfo=function(){var curSearchObj=gsfilters.getCurrentFilterObj(),service=curSearchObj.service||"",deptId="";return[service,curSearchObj.hasOwnProperty("accounts")&&!(1<curSearchObj.accounts.length)&&curSearchObj.accounts[0]||"",curSearchObj.hasOwnProperty("modules")&&!(1<curSearchObj.modules.length)&&curSearchObj.modules[0]||"",deptId=service==GSConstant.SUPPORT?curSearchObj.hasOwnProperty("departments")&&!(1<curSearchObj.departments.length)&&curSearchObj.departments[0]||"":deptId]},zgssearch.formatFieldObjKey=function(service,accountId,module,deptId){var key="";switch(service){case GSConstant.CRM:case GSConstant.BIGIN:case GSConstant.CONNECT:accountId&&module&&(key=service+"_"+accountId+"_"+module);break;case GSConstant.CLIQ:case GSConstant.NOTEBOOK:module&&(key=service+"_"+module);break;case GSConstant.SUPPORT:accountId&&module&&(key=service+"_"+accountId+"_"+module),deptId&&"0"!==deptId&&(key+="_"+deptId);break;case GSConstant.MAILS:case GSConstant.WORKDRIVE:case GSConstant.GMAIL:key=service}return key},zgssearch.fetchFieldsList=function(callback){var deptId=zgssearch.getRequiredMetaInfo(),service=deptId[0],accountId=deptId[1],module=deptId[2],deptId=deptId[3];zgssearch.fetchFieldDetailsForService(service,accountId,deptId,module,{callback:callback})},zgssearch.fetchFieldDetailsForService=function(service,accountId,deptId,module,callbackParams){var params="action=fetchFields&service="+service+"&accountId="+accountId;deptId&&"0"!==deptId&&(params+="&deptId="+deptId),module&&(params+="&module="+module),zgssearch.advSearchXMLHttpReq=zgssearch.uri(zgssearch.GET,"/zgssearch/gsadvancesearch",params,callbackParams,function(fieldKey,status,sortByField){var argObj=sortByField.args||{},fieldsList={},callback=argObj.callback,sortByField=zgssearch.jsonParse(fieldKey),fieldKey=zgssearch.formatFieldObjKey(service,accountId,module,deptId);if(sortByField.hasOwnProperty("fields")&&0<sortByField.fields.length)for(var fieldsArr=sortByField.fields,sortByField=service==GSConstant.GMAIL?"id":"display_name",fieldsLen=(fieldsArr=zgssearch.sortFieldDetails(fieldsArr,sortByField)).length,i=0;i<fieldsLen;i++){var eachFields=fieldsArr[i];fieldsList[eachFields.api_name]=eachFields}else argObj.status=status;zgssearch.fieldDetailsMapping[fieldKey]=fieldsList,callback&&callback(fieldsList,argObj)})},zgssearch.fetchPicklistValueForField=function(service,accountId,params,query,index,callback){service&&accountId&&params&&(params="action=fetchPickListValue&service="+service+"&accountId="+accountId+"&fieldId="+params,query&&(params+="&query="+query),zgssearch.advSearchXMLHttpReq=zgssearch.uri(zgssearch.GET,"/zgssearch/gsadvancesearch",params,{callback:callback,index:index},function(curFieldObj,status,callback){var pickListObj=callback.args||{},valueArr=[],callback=pickListObj.callback,curFieldObj=zgssearch.jsonParse(curFieldObj);curFieldObj.hasOwnProperty("data")&&(valueArr=curFieldObj.data,curFieldObj=pickListObj.index||"",pickListObj=(zgssearch.gsadvancesearch.curCriteriaList[curFieldObj]||{}).name||"",pickListObj=(curFieldObj=zgssearch.curFieldDetails[pickListObj]).picklistValues||{},_jQueryGS.extend(pickListObj,valueArr),curFieldObj.picklistValues=zgssearch.getSortedKeyValuePairs(pickListObj)),callback&&callback(valueArr)}))},zgssearch.sortFieldDetails=function(fieldsList,sortByField){fieldsList.sort(function(nameA,nameB){nameA=nameA[sortByField].toLowerCase(),nameB=nameB[sortByField].toLowerCase();return nameA<nameB?-1:nameB<nameA?1:0});for(var plFieldsArr=[],userFieldsArr=[],otherFieldsArr=[],fieldLen=fieldsList.length,i=0;i<fieldLen;i++){var fieldObj=fieldsList[i],type=fieldObj.type;(type==zgssearch.TYPE_MULTI_SELECT_PICKLIST?plFieldsArr:type==zgssearch.TYPE_MULTI_SELECT_USER?userFieldsArr:otherFieldsArr).push(fieldObj)}return(plFieldsArr=plFieldsArr.concat(userFieldsArr)).concat(otherFieldsArr)},zgssearch.getUserDetails=function(id,proxContactsOnly){var deptId=zgssearch.getRequiredMetaInfo(),service=deptId[0],accountId=deptId[1],deptId=deptId[3];return zgssearch.getUserDispName(id,proxContactsOnly,service,accountId,deptId)},zgssearch.getUserDispName=function(id,proxContactsOnly,service,accountId,deptId){switch(service){case GSConstant.CRM:case GSConstant.BIGIN:var ownerList=zgssearch[service+"OrgInfo"].getUserData(accountId);return ownerList.hasOwnProperty(id)?ownerList[id]:{};case GSConstant.SUPPORT:var usersObj="agent_"+accountId;deptId&&"0"!=deptId&&(usersObj+="_"+deptId);var uid=zgssearch.gssupportaction.supportContacts[usersObj]||{};return uid.hasOwnProperty(id)?uid[id]:{};case GSConstant.CLIQ:case GSConstant.MAILS:case GSConstant.NOTEBOOK:case GSConstant.WORKDRIVE:case GSConstant.CONNECT:case GSConstant.GMAIL:usersObj=proxContactsOnly?zgssearch.gsusercontacts.getProximityContactsObject():zgssearch.getUsersContactList(),uid=service==GSConstant.MAILS?id:zgssearch.ProximityContacts.zuidVsEmailId[id];if(usersObj.hasOwnProperty(uid))return usersObj[uid]}return{}},zgssearch.getUserSearchList=function(query){query=query||"";var deptId=zgssearch.getRequiredMetaInfo(),service=deptId[0],accountId=deptId[1],deptId=deptId[3];return zgssearch.getUserDetailsForService(service,accountId,deptId,query)},zgssearch.fetchUsersList=function(extraInfo){var reqMeta=zgssearch.getRequiredMetaInfo(),service=reqMeta[0],accountId=reqMeta[1];switch(service){case GSConstant.CRM:case GSConstant.BIGIN:return extraInfo.callback=zgssearch.advanceUserSearchAfterFetch,zgssearch[service+"OrgInfo"].getUsersInfo(accountId,extraInfo);case GSConstant.SUPPORT:var matcUserList=reqMeta[3],index="&portalId="+accountId+"&deptId="+matcUserList;if(!zgssearch.gssupportaction.isDeskSearchReqCached(extraInfo.query,index))return extraInfo.curPortalId=accountId,matcUserList&&0!=matcUserList&&(extraInfo.curDeptId=matcUserList),extraInfo.extraParams=index,extraInfo.type="advDeskAgentSearch",zgssearch.gssupportaction.fetchSupportAgents(extraInfo);zgssearch.advanceUserSearchAfterFetch({},extraInfo);break;case GSConstant.CLIQ:case GSConstant.MAILS:case GSConstant.NOTEBOOK:case GSConstant.CONNECT:case GSConstant.WORKDRIVE:case GSConstant.GMAIL:var fieldValue=extraInfo.query||"",matcUserList=zgssearch.advContactssearch(fieldValue),index=extraInfo.index||"",fieldValue=(zgssearch.gsadvancesearch.curCriteriaList[index]||{}).value||"";zgssearch.gsadvancesearch.addUserOptionInValueList(matcUserList,fieldValue,index)}},zgssearch.usersLocalSearch=function(userList,query){var matchedAgentArr=[];if(userList&&0<Object.keys(userList).length){var id,dn=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&");for(id in userList){var userObj=userList[id],email=zgssearch.replaceHTMLEntity(userObj.full_name),emailReg=new RegExp("(^"+dn+"|\\s"+dn+")","i");-1<email.search(emailReg)?matchedAgentArr.push(userObj):(email=zgssearch.replaceHTMLEntity(userObj.email),emailReg=new RegExp(dn,"i"),-1<email.search(emailReg)&&matchedAgentArr.push(userObj))}}return matchedAgentArr},zgssearch.getUserDetailsForService=function(service,accountId,deptId,query){switch(service){case GSConstant.CRM:case GSConstant.BIGIN:var agentList=zgssearch[service+"OrgInfo"].getUserData(accountId);return zgssearch.usersLocalSearch(agentList,query);case GSConstant.SUPPORT:agentList="agent_"+accountId;deptId&&"0"!=deptId&&(agentList+="_"+deptId);agentList=zgssearch.gssupportaction.supportContacts[agentList]||{};return zgssearch.usersLocalSearch(agentList,query);case GSConstant.CLIQ:case GSConstant.MAILS:case GSConstant.NOTEBOOK:case GSConstant.WORKDRIVE:case GSConstant.CONNECT:case GSConstant.GMAIL:return zgssearch.advContactssearch(query)}},zgssearch.advanceUserSearchAfterFetch=function(usersList,query){var index,fieldValue,matchUserList;_jQueryGS.isEmptyObject(query)||(index=query.index||"",fieldValue=(zgssearch.gsadvancesearch.curCriteriaList[index]||{}).value||"",matchUserList=[],usersList&&!_jQueryGS.isEmptyObject(usersList)&&(query=query.query||"",matchUserList=zgssearch.usersLocalSearch(usersList,query)),zgssearch.gsadvancesearch.addUserOptionInValueList(matchUserList,fieldValue,index))},zgssearch.advContactssearch=function(query){var finalUsersArr=[],matches=zgssearch.gsautocomplete.findMatchedData("users","@"+query),matchLen=matches.length;if(0<matchLen)for(var usersObj=zgssearch.getUsersContactList(),i=0;i<matchLen;i++){var uid=matches[i][0];usersObj.hasOwnProperty(uid)&&finalUsersArr.push(usersObj[uid])}return finalUsersArr},zgssearch.getUsersContactList=function(){var luserObj=zgssearch.gsautocomplete.get("users"),proxContacts=zgssearch.gsusercontacts.getProximityContactsObject(),queriedContacts=zgssearch.gsusercontacts.getQueriedProxContactsObject(),cachedContacts=zgssearch.gsusercontacts.getCurrCacheQryContact();return _jQueryGS.extend({},queriedContacts,cachedContacts,proxContacts,luserObj)},zgssearch.getCriteriaListFromAdvConfig=function(fieldList,advCardConfig,queryPattern){var criteriaObj={};queryPattern=queryPattern.toUpperCase();var advCriLen=advCardConfig.length;if(0<advCriLen){for(var criteriaArr=[],i=0;i<advCriLen;i++){var eachCriObj={},eachObj=advCardConfig[i],name=eachObj.name;if(fieldList.hasOwnProperty(name)){var type=fieldList[name].type,type=parseInt(type);eachCriObj.name=name,eachCriObj.operator=""+eachObj.operator;var value=eachObj.value;if(type===zgssearch.TYPE_DATETIME)if(eachObj.type===zgssearch.TYPE_RELATIVEDATE){var j,value=value[0],filterDates=zgssearch.filterDates;for(j in filterDates){var fDateType=filterDates[j];if(fDateType.datevalue==value.datevalue&&fDateType.datetype==value.datetype&&fDateType.timeunit==value.timeunit){value=[j];break}}}else value=zgssearch.convertClientDateFormat(value);eachCriObj.value=value,criteriaArr.push(eachCriObj)}}criteriaObj.criteriaList=criteriaArr,criteriaObj.pattern=queryPattern}return criteriaObj},zgssearch.checkAndMoveAdvCriteria=function(configObj,advCardConfig,service_name){var name="",operator="",key=configObj.name||"",value=configObj.value||[],type=parseInt(configObj.type);switch(key){case"date":switch(type===zgssearch.TYPE_RELATIVEDATE?operator=0:type===zgssearch.TYPE_DATETIME&&(operator=2===value.length?2:0),service_name||gsfilters.getCurrentService()){case GSConstant.CLIQ:case GSConstant.GMAIL:name="date";break;case GSConstant.WORKDRIVE:case GSConstant.CONNECT:name="modifiedtime";break;case GSConstant.NOTEBOOK:name="modifiedDate";break;default:return}break;case"searchin":name="fileType",operator=0;break;case"category":if(service_name!==GSConstant.NOTEBOOK)return;name="notesType",operator=0;break;case"group":case"categories":case"status":case"boards":name=key,operator=0;break;default:return}advCardConfig.push({name:name,value:value,operator:operator,type:type})},zgssearch.getAdvanceSearchConfig=function(){var criteriaList,criteriaArr=[];return!zgssearch.isAdvancedFitersApplied||0<(criteriaList=zgssearch.checkAndFormCriteriaList(zgssearch.gsadvancesearch.curCriteriaList)).length&&(criteriaArr=zgssearch.formNewQueryObjectModelForAdvanceSearch(criteriaList)),criteriaArr},zgssearch.getAdvanceQueryPattern=function(){var pattern=_jQueryGS(".zgs19_gsNewCrtPatnTxt").text();return(pattern=pattern.split(" ").join(""))||1!==zgssearch.gsadvancesearch.curCriteriaList.length||(pattern="1"),pattern=(pattern=zgssearch.correctCriteriaExpression(pattern)).toLowerCase()},zgssearch.checkAndFormCriteriaList=function(criteriaList){var finalCriteriaList=[];zgssearch.isAdvCriteriaCorrect=!0;for(var criElemLen=_jQueryGS(".zgs19_gsCriteria").length,service=gsfilters.getCurrentService(),i=0;i<criElemLen;i++){var fieldValue=[];if(criteriaList.hasOwnProperty(i)&&0!==Object.keys(criteriaList[i]).length){var eachCriObj=criteriaList[i],fieldName=eachCriObj.name,fieldOpr=eachCriObj.operator,fieldType=parseInt(eachCriObj.type),searchType=zgssearch.getDataTypeVSSearchType(fieldType);switch(fieldType){case zgssearch.TYPE_TEXT:(value=(valueElem=_jQueryGS("#zgs20_gsFieldValue"+i)).find(".zgs19_gsAsInputField").val())&&(fieldValue=[value]);break;case zgssearch.TYPE_NUMBER:var from,valueElem=_jQueryGS("#zgs20_gsFieldValue"+i);2==fieldOpr||3==fieldOpr?(from=valueElem.find(".zgs19_gsFromNumField").val(),valueArr=valueElem.find(".zgs19_gsToNumField").val(),from&&valueArr&&(fieldValue=[from,valueArr])):(value=valueElem.find(".zgs19_gsAsInputField").val())&&(fieldValue=[value]);break;case zgssearch.TYPE_DATETIME:var value,valueArr=eachCriObj.value;valueArr&&(value=valueArr[0],zgssearch.filterDates.hasOwnProperty(value)?(fieldValue=[zgssearch.filterDates[value]],searchType=zgssearch.QUERY_OBJ_DT_RELATIVE_DATE):(valueArr=zgssearch.convertServerDateFormat(fieldType,fieldOpr,eachCriObj.value))&&0<valueArr.length&&(fieldValue="2"===fieldOpr||"3"===fieldOpr?[valueArr[0],valueArr[1]]:[valueArr[0]]));break;case zgssearch.TYPE_RELATIVEDATE:break;case zgssearch.TYPE_BOOLEAN:case zgssearch.TYPE_SINGLE_SELECT_PICKLIST:case zgssearch.TYPE_MULTI_SELECT_PICKLIST:case zgssearch.TYPE_MULTI_SELECT_USER:(value=eachCriObj.value)&&(fieldValue=value),service==GSConstant.MAILS&&fieldType==zgssearch.TYPE_MULTI_SELECT_USER&&(searchType=zgssearch.QUERY_OBJ_DT_STRING)}if(0===(fieldValue="6"===fieldOpr||"7"===fieldOpr?["0"]:fieldValue).length)return zgssearch.criteriaErrorMsg(i),[];var criteriaObj={};criteriaObj.name=fieldName,criteriaObj.type=searchType,criteriaObj.operator=parseInt(fieldOpr),criteriaObj.value=fieldValue,finalCriteriaList.push(criteriaObj)}else{if(i!==criElemLen-1)return zgssearch.criteriaErrorMsg(i),[];0!==i&&zgssearch.gsadvancesearch.removeCriteria(i)}}return finalCriteriaList},zgssearch.convertClientDateFormat=function(value){if(value){for(var finalValue=[],i=0;i<value.length;i++){var finalDate=value[i].split(" ")[0].split("-"),finalDate=finalDate[0]+" "+zgssearch.CALENDAR_MONTH[--finalDate[1]]+" "+finalDate[2];finalValue[i]=finalDate}return finalValue}},zgssearch.convertServerDateFormat=function(type,operator,value){if(value){for(var finalValue=[],i=0;i<value.length;i++){var finalString=value[i].split(" "),date=finalString[0],month=zgssearch.CALENDAR_MONTH.indexOf(finalString[1])+1,finalString=date+"-"+(month=month<10?"0"+month:month)+"-"+finalString[2];finalValue[i]=finalString+=i%2==0&&"11"!=operator?" 00:00:00":" 23:59:59"}return finalValue}},zgssearch.criteriaErrorMsg=function(msg){var childElem=zgssearch.gsadvancesearch.curCriteriaList[msg],name=""+childElem.name,childElem=""+childElem.operator;(name?childElem?(childElem=_jQueryGS("#zgs20_gsFieldValue"+msg).find(".zgs19_gsAsInputField"),_jQueryGS(childElem[0]).val()?_jQueryGS(childElem[1]):_jQueryGS(childElem[0])):_jQueryGS("#zgs20_gsFieldOpr"+msg):_jQueryGS("#zgs20_gsFieldId"+msg)).closest(".zgs19_gsFilterElementOuter").addClass("zgs19_gsBorderFC0D1ECol"),zgssearch.isAdvCriteriaCorrect=!1;msg=zgssearch.getI18NMsg("common.adv.fieldError")+' "'+(msg+1)+'"';zgssearch.showbannertip({ty:3,msg:msg})},zgssearch.validatePattern=function(criteriaExpression,checkBrackets){if(0==checkBrackets)return!1;if(""===(criteriaExpression=(criteriaExpression=criteriaExpression.toUpperCase()).split(" ").join("").replace(/\n/g,"")))return!1;if(""!==criteriaExpression.replace(/(AND|OR|\d+|\(|\))/g,""))return!1;for(var bktCnt=0,len=criteriaExpression.length,i=0;i<len-1;i++)if("("===criteriaExpression[i]?bktCnt+=1:")"===criteriaExpression[i]&&--bktCnt,bktCnt<=0)return!1;var openBrackets=criteriaExpression.match(/\(/g),closeBrackets=criteriaExpression.match(/\)/g);if(!openBrackets||!closeBrackets)return!1;if(openBrackets.length!==closeBrackets.length)return!1;var criteriaIds=criteriaExpression.match(/\d+/g);if(!criteriaIds)return!1;for(i=0;i<criteriaIds.length;i++)if(criteriaIds[i]!==String(i+1))return zgssearch.includes(String(i+1),criteriaIds),!1;if(criteriaIds.length!==checkBrackets)return!1;checkBrackets=criteriaExpression.replace(/(AND|OR)/g,"#");return-1===checkBrackets.indexOf("(#")&&-1===checkBrackets.indexOf("#)")&&(!zgssearch.includes("##",checkBrackets)&&(-1===checkBrackets.indexOf("()")&&-1===criteriaExpression.indexOf(")(")))},zgssearch.formNewQueryObjectModelForAdvanceSearch=function(criteriaList){for(var finalQueryArr=[],criteriaLen=criteriaList.length,i=0;i<criteriaLen;i++){var queryObj=criteriaList[i],qObj={};qObj[zgssearch.QUERY_OBJ_NAME]=queryObj.name,qObj[zgssearch.QUERY_OBJ_VALUE]=queryObj.value,qObj[zgssearch.QUERY_OBJ_TYPE]=queryObj.type,qObj[zgssearch.QUERY_OBJ_OPERATOR]=queryObj.operator,finalQueryArr.push(qObj)}return finalQueryArr},zgssearch.changeCriteriaExpression=function(orginalExp,index,newOpr){var temp=0;return orginalExp.replace(/(OR|AND)/g,(match,i)=>temp===index?(temp++,newOpr):(temp++,match))},zgssearch.correctCriteriaExpression=function(expression,deleteId,tokens){expression=expression.toUpperCase();tokens=zgssearch.getPostFixAsArray(expression,deleteId,tokens);return zgssearch.getInFix(tokens)},zgssearch.getInFix=function(tokens){const s=[],prevOperator=[];if(!zgssearch.includes("2",tokens))return"1";for(var op1,op2,i=0;i<tokens.length;i++)isOperand(tokens[i])?s.push(tokens[i]):(op1=s.pop(),op2=s.pop(),prevOperator.length&&("("===op1[0]&&")"===op1[op1.length-1]&&prevOperator.pop()===tokens[i]&&(op1=op1.substring(1,op1.length-1)),"("===op2[0]&&")"===op2[op2.length-1]&&prevOperator.pop()===tokens[i]&&(op2=op2.substring(1,op2.length-1))),s.push(`(${op2}${tokens[i]}${op1})`),prevOperator.push(tokens[i]));return s.pop().replace(/&/g," AND ").replace(/\|/g," OR ").replace(/\(/g,"( ").replace(/\)/g," )")},zgssearch.getPostFixAsArray=function(expression,deleteId,insertId){var tokenArr=expression.toUpperCase().split(" ").join("").replace(/\n/g,"").replace(/(AND)/g,"&").replace(/(OR)/g,"|").match(/(&|\||\d+|\(|\))/g);deleteId&&(tokenArr=zgssearch.removeCriteriaFromExpression(tokenArr,deleteId));var len=(tokenArr=insertId?zgssearch.addCriteriaToExpression(tokenArr,insertId,expression):tokenArr).length;const output=[],stack=[];for(var i=0;i<len;i++){var token=tokenArr[i];if(parseFloat(token)&&output.push(token),zgssearch.includes(token,ops)){for(;-1!==ops.indexOf[peek(stack)]&&ops[token]<=ops[peek(stack)];)output.push(stack.pop());stack.push(token)}if("("===token&&stack.push(token),")"===token){for(;"("!==peek(stack);)output.push(stack.pop());stack.pop()}}return output},zgssearch.addCriteriaToExpression=function(index,insertId,opr){var criteriaId,tokens=index,index=String(insertId),index=tokens.indexOf(index);if(!zgssearch.includes("2",tokens))return["(","1","&","2",")"];var opr=opr.match(/(OR|AND)/g)||[],tokens=tokens.map((val,ind)=>isOperand(val)?(criteriaId=Number(val),insertId<criteriaId?String(criteriaId+1):val):val),opr=1===insertId?"OR"===opr[0]?"|":"&":"OR"===opr[insertId-2]?"|":"&";return tokens.splice(index+1,0,opr,String(insertId+1)),tokens},zgssearch.removeCriteriaFromExpression=function(ind1,deleteId){var criteriaId,tokens=ind1,deleteIdStr=String(deleteId),index=tokens.indexOf(deleteIdStr);if(-1===index)return tokens;if("("===tokens[index-1]){ind1=index;if("1"!==deleteIdStr){for(;!zgssearch.includes(tokens[index],ops);)index--;tokens[index]=tokens[ind1+1]}tokens.splice(ind1,2)}else tokens.splice(index-1,2);return tokens=tokens.map((val,ind)=>isOperand(val)?(criteriaId=Number(val),deleteId<criteriaId?String(criteriaId-1):val):val)},zgssearch.getSortedKeyValuePairs=function(keyValueArray){keyValueArray=Object.entries(keyValueArray);return keyValueArray.sort((a,b)=>a[1].toLowerCase().localeCompare(b[1].toLowerCase())),Object.fromEntries(keyValueArray)}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.defaultMaxCount=3;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.resToBeShown=zgssearch.resToBeShown||0,zgssearch.curSelectedEle=zgssearch.curSelectedEle||"",zgssearch.resultToBeShown=zgssearch.resultToBeShown||{},zgssearch.renderedResultServiceMetaObj=zgssearch.renderedResultServiceMetaObj||{},zgssearch.firstResultCallOutShown=!1,zgssearch.temp_img_info={},zgssearch.crm_rendered_modules=zgssearch.crm_rendered_modules||{},zgssearch.projects_rendered_modules=zgssearch.projects_rendered_modules||{},zgssearch.docsShared||(zgssearch.docsShared=[{title:zgssearch.getI18NMsg("common.shared_with_me",!0),icon:"zgs18_gsSharedIcon"},{title:zgssearch.getI18NMsg("gs.search.result.sharedwithgroup"),icon:"zgs18_gsGroupSharedIcon"}]),zgssearch.createServiceTemplate=function(service_name,accId,currWidgetId){var accountsBand="",template="",moreOption="",maccName=(currWidgetId=currWidgetId||{}).account_name||"";service_name!==zgssearch.GSConstant.SALESFORCE&&service_name!==zgssearch.GSConstant.ASANA&&service_name!=zgssearch.GSConstant.BIGIN&&service_name!=zgssearch.GSConstant.CRM||(maccName=zgssearch.getFilterObj(service_name).accounts.data[accId]);var currService,account_type,moduleTip,actualResEle,infoIcon,isMultiAccount,accData,parentServiceName,sub_service_name,modName,templateId,tempCurrService,moduleHeaderBand,fallbackmailheaderouterId,fallbackmailheaderId,fallbackmoduleTip,fallbackmoduleBandTip,fallbackmailHeader,tempResultEle,tempSubResultId,templateEle,scrollgsAttr,resPaneEleId,bElem,mlist=zgssearch.getWidgetServiceList(service_name),viewall=zgssearch.getI18NMsg("gs.search.sevice_view_all"),viewMoreTip=zgssearch.getI18NMsg("gs.search.link.viewmore"),serviceBandLabel="",serviceBandTip="",accLabel="",accTip="",moreBandLabel="",moreBandTip="",topband_style=zgssearch.mappedServiceList[service_name],serviceicon=topband_style.serviceicon,hyphen=zgssearch.isServiceHasWidget(service_name),snameDiv="",aname="",searchType=zgssearch.getSearchType();zgssearch.storeRenderedResultServiceInfo(service_name,accId,currWidgetId),zgssearch.mappedServiceList.hasOwnProperty(service_name)&&(currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,account_type=zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,accId):"",templateId="zgs20_gs"+currService+"Template",moduleTip=zgssearch.mappedServiceList[service_name].api_url_service_name||"",actualResEle="",currWidgetId=zgssearch.getCurrentKeyData(service_name,"current"),GSConstant.ALL===searchType?(serviceBandTip=moreBandTip=viewMoreTip+" "+(topband_style=zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.mappedServiceList[currService]:topband_style).displayName,hyphen?(accLabel=viewMoreTip+" "+mlist.label.toLowerCase(),accTip=aname=maccName||zgssearch.getFilterInfo(currService,mlist.key,"dispname")):mlist.key&&service_name!=zgssearch.GSConstant.CAMPAIGNS&&(serviceBandTip=moreBandTip=isMultiAccount=zgssearch.getCurrentKeyData(service_name,"dispname"),serviceBandLabel=moreBandLabel=viewMoreTip+" "+mlist.label.toLowerCase(),snameDiv=_jQueryGS("<span>",{class:"zgs19_gsServiceBandPortal zgs19_gsOverflow zgs19_gsfl",gstitle:isMultiAccount}).text("("+isMultiAccount+")")),isMultiAccount="zgs19_gsMxWid50Per",zgssearch.isArrayContain(service_name,zgssearch.GSConstant.accessible_cloud_apps)&&zgssearch.servMetaData[service_name]&&zgssearch.servMetaData[service_name].hasOwnProperty(accId)&&(parentServiceName=(accData=zgssearch.servMetaData[service_name][accId])&&zgssearch.GSConstant.widgetObject.hasOwnProperty("parent_service_info")?zgssearch.GSConstant.widgetObject.parent_service_info.hasOwnProperty(accData.parServId)?zgssearch.GSConstant.widgetObject.parent_service_info[accData.parServId]:accData.parServId:"",isMultiAccount="zgs19_gsMxWid50Per",infoIcon=zgssearch.isArrayContain(service_name,zgssearch.GSConstant.accessible_cloud_apps)&&""!=parentServiceName?_jQueryGS("<span>",{class:"zgs19_infoIcon zgs18_gsInfoIcon",id:"zgs20_infoIconOf"+service_name}).append("").append(_jQueryGS("<span>",{class:"zgs19_pseudoTail"})):"",sub_service_name=_jQueryGS("<div>",{class:"zgs19_accInfoOnHover"}).append(_jQueryGS("<div>",{class:"zgs19_accInfoOnHoverAccName"}).text(maccName)).append(_jQueryGS("<div>",{class:"zgs19_accInfoOnHoverPortalInfo"}).append(_jQueryGS("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).append(zgssearch.getI18NMsg("gs.con.parServInfo")+" "+parentServiceName+"'s - ")).append(_jQueryGS("<span>",{class:"zgs19_accInfoOnHoverPortalName"}).text(accData.appName)).append(_jQueryGS("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).text(" "+zgssearch.getI18NMsg("gs.con.portal")))),""!=infoIcon&&infoIcon.append(sub_service_name)),accountsBand=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsAccInfoDiv",id:"zgs20_gsAccInfoDiv"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIcons_ServBand zgs19_gsfl "+serviceicon})).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandNameNew zgs19_gsOverflow zgs19_gsfl zgs19_gsW30",service:service_name,gsa:"mc-sb-"+service_name,action_type:"service",gs:"serviceBand",acc_id:currWidgetId,gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(topband_style.displayName)).append(snameDiv).append(infoIcon||"")),hyphen&&_jQueryGS(accountsBand).find("#zgs20_gsAccInfoDiv").append(_jQueryGS("<span>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsOverflow zgs19_gsfl"}).text(" - ")).append(_jQueryGS("<div>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl "+isMultiAccount,service:service_name,gs:"serviceWidgetBand",acc_id:accId,gslabel:accLabel,gstitle:accTip}).text(aname)),"1"===account_type?_jQueryGS("#zgs20_gs"+currService+"Results")[0]||(tempResultEle="",tempResultEle=_jQueryGS("#"+(tempSubResultId="zgs20_gs_"+service_name+"_"+accId+"_Results"))[0]?_jQueryGS("#"+tempSubResultId):_jQueryGS("<div>",{id:tempSubResultId,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:service_name,acc_id:accId,gs:"ServiceTemplate"}),hyphen=viewMoreTip+" "+zgssearch.mappedServiceList[service_name].displayName,moduleHeaderBand="",zgssearch.isStreamsEnabled&&(fallbackmailheaderouterId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_Results_Outer",fallbackmailheaderId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",_jQueryGS("#"+fallbackmailheaderouterId+" > #"+fallbackmailheaderId)[0]||(fallbackmoduleTip=zgssearch.mappedServiceList[GSConstant.MAILS].api_url_service_name||"",fallbackmoduleBandTip=viewMoreTip+" "+zgssearch.mappedServiceList[GSConstant.MAILS].displayName,fallbackmailHeader=_jQueryGS("<div>",{id:"zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:GSConstant.MAILS,acc_id:accId,gsa:"mc-sb-"+GSConstant.MAILS,gs:"mailModule",module_name:GSConstant.MAILS,gstitle:fallbackmoduleBandTip}).text(fallbackmoduleTip)),_jQueryGS("#"+fallbackmailheaderouterId).prepend(fallbackmailHeader)),moduleHeaderBand=_jQueryGS("<div>",{id:"zgs20_gs_"+service_name+"_"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:accId,gsa:"mc-sb-"+service_name,gs:"mailModule",module_name:service_name,gstitle:hyphen}).text(moduleTip))),moreOption=_jQueryGS("#"+(tempCurrService="zgs20_gs"+currService+"More"))[0]?_jQueryGS("#"+tempCurrService):_jQueryGS("<div>",{id:tempCurrService,class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:currService,gsa:"mc-va-"+currService,action_type:"service",gs:"moreBand",acc_id:accId,gslabel:moreBandLabel,gstitle:moreBandTip}).text(viewall),templateEle="",(templateEle=_jQueryGS("#"+templateId)[0]?_jQueryGS("#"+templateId):(hyphen=(isMultiAccount=1<Object.keys(zgssearch.gFilterData[currService].accounts.alldata).length)?_jQueryGS("<span>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsOverflow zgs19_gsfl"}).text(" - "):"",snameDiv=isMultiAccount?_jQueryGS("<div>",{class:"zgs19_gsAllServiceBandWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid50Per",service:service_name,gs:"serviceWidgetBand",acc_id:accId,gslabel:accLabel,gstitle:accTip}).text(aname):_jQueryGS("<span>",{class:"zgs19_gsServiceBandPortal zgs19_gsOverflow zgs19_gsfl",gstitle:maccName}).text("("+maccName+")"),accountsBand=_jQueryGS("<div>",{class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsUniIcons_ServBand zgs19_gsfl "+serviceicon})).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandNameNew zgs19_gsOverflow zgs19_gsfl zgs19_gsW30",service:currService,gsa:"mc-sb-"+currService,action_type:"service",gs:"serviceBand",acc_id:currWidgetId,gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(topband_style.displayName)).append(hyphen).append(snameDiv),_jQueryGS("<div>",{id:templateId,class:"zgs19_gsServiceTemplate",service:currService,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand))).append(moreOption),template=templateEle,actualResEle=_jQueryGS("<div>",{id:"zgs20_gs_"+service_name+"_"+accId+"_Results_Outer"}).append(moduleHeaderBand).append(tempResultEle)):(moreOption=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:service_name,gsa:"mc-va-"+service_name,action_type:"service",gs:"moreBand",acc_id:accId,gslabel:moreBandLabel,gstitle:moreBandTip}).text(viewall),template=_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Template",class:"zgs19_gsServiceTemplate",service:service_name,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand).append(_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(moreOption))):(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(zgssearch.isServiceHasMultiPortals(service_name)||zgssearch.isServiceHasSubMultiPortals(service_name))?(_jQueryGS("#zgs20_MultiSearchPageHolder").length<=0&&(scrollgsAttr=zgssearch.subMultiPageEnabled?"":"multiPageHolder",_jQueryGS("#zgs20_gsMultiSearchResultPage").append(_jQueryGS("<div>",{id:"zgs20_MultiSearchPageHolder",class:"zgs19_gsModuleScrollPage zgs19_gsOverflowAuto zgs19_gsServiceSpecificPage",service:currService,acc_id:accId,gs:scrollgsAttr}))),currWidgetId=accId,serviceBandTip=moreBandTip=maccName,serviceBandLabel=moreBandLabel=viewMoreTip+" "+(mlist=zgssearch.getWidgetServiceList(currService)).label.toLowerCase(),"1"===account_type&&(mlist=zgssearch.getWidgetServiceList(service_name),moreBandTip=serviceBandTip=viewMoreTip+" "+topband_style.displayName,moreBandLabel=serviceBandLabel=""),topband_style="",service_name===zgssearch.GSConstant.SALESFORCE&&(topband_style="zgs19_gsBG"),maccName&&(zgssearch.isArrayContain(service_name,zgssearch.GSConstant.accessible_cloud_apps)&&zgssearch.servMetaData[service_name]&&zgssearch.servMetaData[service_name].hasOwnProperty(accId)&&(parentServiceName=(accData=zgssearch.servMetaData[service_name][accId])&&zgssearch.GSConstant.widgetObject.hasOwnProperty("parent_service_info")?zgssearch.GSConstant.widgetObject.parent_service_info.hasOwnProperty(accData.parServId)?zgssearch.GSConstant.widgetObject.parent_service_info[accData.parServId]:accData.parServId:"",modName=zgssearch.isArrayContain(service_name,zgssearch.GSConstant.accessible_cloud_apps)&&""!=parentServiceName?_jQueryGS("<span>",{class:"zgs19_infoIcon zgs18_gsInfoIcon",id:"zgs20_infoIconOf"+service_name}).append("").append(_jQueryGS("<span>",{class:"zgs19_pseudoTail"})):"",sub_service_name=_jQueryGS("<div>",{class:"zgs19_accInfoOnHover"}).append(_jQueryGS("<div>",{class:"zgs19_accInfoOnHoverAccName"}).text(maccName)).append(_jQueryGS("<div>",{class:"zgs19_accInfoOnHoverPortalInfo"}).append(_jQueryGS("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).append(zgssearch.getI18NMsg("gs.con.parServInfo")+" "+parentServiceName+"'s - ")).append(_jQueryGS("<span>",{class:"zgs19_accInfoOnHoverPortalName"}).text(accData.appName)).append(_jQueryGS("<span>",{class:"zgs19_accInfoOnHoverPortalInfoText"}).text(" "+zgssearch.getI18NMsg("gs.con.portal")))),""!=modName&&modName.append(sub_service_name)),accountsBand=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox "+topband_style}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:service_name}).text(mlist.label+": ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:currWidgetId,gsa:"mc-sb-"+service_name,gs:"serviceBand",gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(maccName)).append(modName)),"1"===account_type?(tempResultEle="",tempResultEle=_jQueryGS("#"+(tempSubResultId="zgs20_gs_"+service_name+"_"+accId+"_Results"))[0]?_jQueryGS("#"+tempSubResultId):_jQueryGS("<div>",{id:tempSubResultId,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:service_name,acc_id:accId,gs:"ServiceTemplate"}),tempCurrService="zgs20_gs"+accId+"More",modName=zgssearch.gFilterData[sub_service_name=currService].modules.current,zgssearch.subMultiPageEnabled&&(tempCurrService="zgs20_gs_"+(sub_service_name=modName=service_name)+"_"+accId+"_More"),moreOption=!_jQueryGS("#"+tempCurrService)[0]||zgssearch.subMultiPageEnabled?_jQueryGS("<div>",{id:tempCurrService,class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:sub_service_name,acc_id:accId,gsa:"mc-va-"+sub_service_name,action_type:"service",gs:"moreBand",module_name:modName,gslabel:viewMoreTip+" "+mlist.label.toLowerCase(),gstitle:maccName}).text(viewall):_jQueryGS("#"+tempCurrService),templateId=zgssearch.subMultiPageEnabled?"zgs20_gs_"+service_name+"_"+accId+"_Template":"zgs20_gs"+accId+"Template",templateEle="",templateEle=_jQueryGS("#"+templateId)[0]?_jQueryGS("#"+templateId):(tempCurrService=currService,accountsBand=zgssearch.subMultiPageEnabled?(tempCurrService=service_name,""):_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Topband",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox "+topband_style}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:service_name}).text(mlist.label+": ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:currService,acc_id:currWidgetId,gsa:"mc-sb-"+currService,gs:"serviceBand",gslabel:viewMoreTip+" "+mlist.label.toLowerCase(),gstitle:maccName}).text(maccName)),_jQueryGS("<div>",{id:templateId,class:"zgs19_gsServiceTemplate",service:tempCurrService,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand)),moduleHeaderBand="",zgssearch.isStreamsEnabled&&(fallbackmailheaderouterId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_Results_Outer",fallbackmailheaderId="zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",_jQueryGS("#"+fallbackmailheaderouterId+" > #"+fallbackmailheaderId)[0]||(fallbackmoduleTip=zgssearch.mappedServiceList[GSConstant.MAILS].api_url_service_name||"",fallbackmoduleBandTip=viewMoreTip+" "+zgssearch.mappedServiceList[GSConstant.MAILS].displayName,fallbackmailHeader=_jQueryGS("<div>",{id:"zgs20_gs_"+GSConstant.MAILS+"_"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:GSConstant.MAILS,acc_id:accId,gsa:"mc-sb-"+GSConstant.MAILS,gs:"mailModule",module_name:GSConstant.MAILS,gstitle:fallbackmoduleBandTip}).text(fallbackmoduleTip)),_jQueryGS("#"+fallbackmailheaderouterId).prepend(fallbackmailHeader)),moduleHeaderBand=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"_moduleHeader",class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox zgs19_gsBG"+topband_style}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:accId,gsa:"mc-sb-"+service_name,gs:"mailModule",module_name:service_name,gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(moduleTip))),templateEle.append(moreOption),template=templateEle,actualResEle=_jQueryGS("<div>",{id:"zgs20_gs_"+service_name+"_"+accId+"_Results_Multi_Outer"}).append(moduleHeaderBand).append(tempResultEle)):(moreOption=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"More",class:"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:service_name,acc_id:accId,gsa:"mc-va-"+service_name,gs:"moreBand",gslabel:moreBandLabel,gstitle:moreBandTip}).text(viewall),template=_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Template",class:"zgs19_gsServiceTemplate",service:service_name,acc_id:accId,gs:"ServiceTemplate"}).append(accountsBand).append(_jQueryGS("<div>",{id:"zgs20_gs"+accId+"Results",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(moreOption))):(resPaneEleId=zgssearch.isServiceHasFilter(service_name)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",template="1"===account_type?(tempResultEle="",tempResultEle=_jQueryGS("#"+(tempSubResultId="zgs20_gs_"+service_name+"_"+accId+"_Results"))[0]?_jQueryGS("#"+tempSubResultId):_jQueryGS("<div>",{id:tempSubResultId,class:"zgs19_gsSearchResults zgs19_gsAllSearchResults",service:service_name,acc_id:accId,gs:"ServiceTemplate"}),templateEle="",(templateEle=_jQueryGS("#"+(templateId="zgs20_gs"+service_name+"Template"))[0]?_jQueryGS("#"+templateId):(serviceBandTip=moreBandTip=maccName,serviceBandLabel=moreBandLabel=viewMoreTip+" "+mlist.label.toLowerCase(),scrollgsAttr=zgssearch.subMultiPageEnabled?"":"serviceSpecificPage",snameDiv=_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:service_name,acc_id:accId,gsa:"mc-sb-"+service_name,gs:"serviceWidgetBand",gslabel:serviceBandLabel,gstitle:serviceBandTip}).text(moduleTip),_jQueryGS("<div>",{id:templateId,class:"zgs19_gsModuleScrollPage zgs19_gsBorderBox zgs19_gsModuleServSpecific zgs19_gsOverflowAuto "+resPaneEleId,service:service_name,acc_id:accId,gs:scrollgsAttr}))).append(moduleHeaderBand).append(tempResultEle).append(moreOption)):_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Template",class:"zgs19_gsModuleScrollPage zgs19_gsBorderBox zgs19_gsModuleServSpecific zgs19_gsOverflowAuto "+resPaneEleId,service:service_name,gs:"serviceSpecificPage"}).append(_jQueryGS("<div>",{id:"zgs20_gs"+service_name+"Results",class:"zgs19_gsModuleInnerServSpecific",service:service_name}))),resPaneEleId="",zgssearch.GSConstant.ALL===searchType?(resPaneEleId="zgs20_gsAllSearchResultPage",""!==(bElem=zgssearch.getSiblingServiceElement(service_name))?_jQueryGS("#"+bElem).after(template):0<_jQueryGS("#zgs20_gsAppsTemplate").length?_jQueryGS(template).insertAfter(_jQueryGS("#zgs20_gsAppsTemplate")[0]):_jQueryGS("#zgs20_gsAllSearchResultPage").prepend(template),"1"===account_type&&(service_name==zgssearch.configured_mail_module[0]?actualResEle.insertAfter(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsServiceTopbandNew")[0]):actualResEle.insertBefore(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsMoreOption")[0]))):(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(zgssearch.isServiceHasMultiPortals(service_name)||zgssearch.isServiceHasSubMultiPortals(service_name))?(resPaneEleId="zgs20_MultiSearchPageHolder",""!==(bElem=zgssearch.getSiblingMultiElement(service_name,accId))?_jQueryGS("#"+bElem).after(template):_jQueryGS("#"+resPaneEleId).prepend(template),"1"===account_type&&(service_name==zgssearch.configured_mail_module[0]&&zgssearch.multiPageEnabled?actualResEle.insertAfter(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsServiceTopbandNew")[0]):actualResEle.insertBefore(_jQueryGS("#"+_jQueryGS(template).attr("id")+" > .zgs19_gsMoreOption")[0]))):(resPaneEleId="zgs20_gs"+service_name+"Template",_jQueryGS("#zgs20_gsModuleSearchResultPage").append(template)),zgssearch.obtainLineIconPaths(serviceicon,_jQueryGS("#"+resPaneEleId).find("."+serviceicon)[0]),zgssearch.setServiceResPaneHeight(resPaneEleId)),0<_jQueryGS(".zgs19_infoIcon").length&&_jQueryGS(".zgs19_infoIcon").hover(function(){_jQueryGS(".zgs19_accInfoOnHover").css("right","auto"),_jQueryGS(".zgs19_pseudoTail").css("left",parseFloat(_jQueryGS(this).position().left)-parseFloat(_jQueryGS(this).width())/4),_jQueryGS(this).position().left>.8*(_jQueryGS(".zgs19_accInfoOnHover").position().left+_jQueryGS(".zgs19_accInfoOnHover").width())||_jQueryGS(this).position().left<.2*_jQueryGS(".zgs19_gsServiceTopbandNew").width()?_jQueryGS(this).position().left<.2*_jQueryGS("#zgs20_gsAccInfoDiv").width()?_jQueryGS(".zgs19_accInfoOnHover").css("left",Math.abs(parseFloat(.2*_jQueryGS(".zgs19_accInfoOnHover").width())-parseFloat(_jQueryGS(this).position().left))):_jQueryGS("#zgs20_gsAccInfoDiv").width()<=_jQueryGS(this).position().left+.4*_jQueryGS(".zgs19_accInfoOnHover").width()?(_jQueryGS(".zgs19_accInfoOnHover").css("right","0"),_jQueryGS(".zgs19_accInfoOnHover").css("left","auto")):_jQueryGS(".zgs19_accInfoOnHover").css("left",parseFloat(_jQueryGS(this).position().left)-parseFloat(.7*_jQueryGS(".zgs19_accInfoOnHover").width())):_jQueryGS(".zgs19_accInfoOnHover").css("left","20%"),_jQueryGS(".zgs19_pseudoTail").css("left",parseFloat(_jQueryGS(this).position().left)-parseFloat(_jQueryGS(this).width())/4)})},zgssearch.setServiceResPaneHeight=function(servicesResPaneId){var height=_jQueryGS("#zgs20_gsResultsHolder").height()-(_jQueryGS("#zgs20_gsModuleFilterList").is(":visible")?_jQueryGS("#zgs20_gsModuleFilterList").outerHeight(!0):0);zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards||(height-=zgssearch.getLHSServicePaneHeight())),_jQueryGS("#"+servicesResPaneId).css("height",height+"px")},zgssearch.getSiblingServiceElement=function(service_name){zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)&&(service_name=zgssearch.mappedServiceList[service_name].originService);var dElem="",olist=zgssearch.getOrderedServiceList(),length=olist.length;if(0<length)for(var ol=0;ol<length;ol++){var oservice=olist[ol],oId="zgs20_gs"+oservice+"Template";if(0<_jQueryGS("#"+oId).length&&(dElem=oId),service_name===oservice)break}return dElem},zgssearch.getSiblingMultiElement=function(mlist,accId){var dElem="",currService=mlist;zgssearch.isArrayContain(mlist,zgssearch.configured_mail_module)&&(currService=zgssearch.mappedServiceList[mlist].originService);for(var mlist=zgssearch.getWidgetServiceList(currService),accIdArr=zgssearch.getFilterInfo(currService,mlist.key,"accIdArr"),ol=0;ol<accIdArr.length;ol++){var oIdSub=accIdArr[ol],account_type="zgs20_gs"+oIdSub+"Template";if(0<_jQueryGS("#"+account_type).length&&(dElem=account_type),oIdSub==accId){account_type=zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,accId):"";zgssearch.subMultiPageEnabled&&"1"===account_type&&(oIdSub="zgs20_gs_"+zgssearch.configured_mail_module[0]+"_"+oIdSub+"_Template",0<_jQueryGS("#"+oIdSub).length&&(dElem=oIdSub));break}}return dElem},zgssearch.getResultMaxCount=function(searchType,maxCount,resCount){return(GSConstant.ALL===searchType||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(maxCount=zgssearch.fWeightage[maxCount]||zgssearch.iWeightage[maxCount]||zgssearch.defaultMaxCount,(maxCount=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?zgssearch.defaultMaxCount:maxCount)<resCount&&(resCount=maxCount)),resCount},zgssearch.getServiceResultCount=function(service_name,acc_id,moduleName){try{var currService=zgssearch.mappedServiceList.hasOwnProperty(service_name)&&zgssearch.mappedServiceList[service_name].hasOwnProperty("originService")?zgssearch.mappedServiceList[service_name].originService:service_name,countOrObj=zgssearch.resultCount[currService];if(zgssearch.isServiceHasWidget(currService)&&countOrObj.hasOwnProperty(acc_id)){if(service_name===zgssearch.GSConstant.SALESFORCE||service_name===zgssearch.GSConstant.ASANA||service_name===zgssearch.GSConstant.CAMPAIGNS){var module=service_name===zgssearch.GSConstant.ASANA?zgssearch.WS:"modules",current_mod_name=zgssearch.getCurrentValue(module,service_name);if("all"!==(current_mod_name=(current_mod_name="0"!==current_mod_name?current_mod_name:zgssearch.getFilterInfo(service_name,zgssearch.WS,"default"))||"all")&&"0"!==current_mod_name)return countOrObj[acc_id][current_mod_name]}if("1"!==(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,acc_id):""))return countOrObj[acc_id];var vmodName=moduleName||service_name,allmoduleResCountObj=countOrObj[acc_id];if(allmoduleResCountObj.hasOwnProperty(vmodName))return allmoduleResCountObj[vmodName];var i,allmoduleKeys=Object.keys(allmoduleResCountObj),renderedallModuleRescount=0;for(i in allmoduleKeys)renderedallModuleRescount+=allmoduleResCountObj[allmoduleKeys[i]];return renderedallModuleRescount}return countOrObj}catch(ex){zgssearch.throwClientError("Error while getting getServiceResultCount servicename :"+service_name+" Ex: ",ex)}},zgssearch.getServiceResultObject=function(service_name,acc_id){var currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,object=zgssearch.resultObject[currService]||{};if(acc_id=currService===zgssearch.GSConstant.CAMPAIGNS?zgssearch.getCurrentValue("accounts",zgssearch.GSConstant.CAMPAIGNS):acc_id,zgssearch.isServiceHasWidget(currService)||currService===GSConstant.MAILS||currService===zgssearch.GSConstant.SALESFORCE||currService===zgssearch.GSConstant.ASANA||currService===zgssearch.GSConstant.CAMPAIGNS){if("1"===(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,acc_id):""))return object.hasOwnProperty(acc_id)&&object[acc_id][service_name]?object[acc_id][service_name]:object;if(object.hasOwnProperty(acc_id))return object[acc_id]}return object},zgssearch.getShownResultCount=function(vmodName,acc_id,moduleName){var currService=zgssearch.isArrayContain(vmodName,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[vmodName].originService:vmodName,countOrObj=zgssearch.resultToBeShown.hasOwnProperty(currService)?zgssearch.resultToBeShown[currService]:0;if(zgssearch.isServiceHasWidget(currService)){if("1"!==(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,acc_id):""))return countOrObj&&countOrObj.hasOwnProperty(acc_id)?countOrObj[acc_id]:0;vmodName=moduleName||vmodName;if(countOrObj){var allmoduleResCountObj=countOrObj[acc_id];if(allmoduleResCountObj.hasOwnProperty(vmodName))return allmoduleResCountObj[vmodName];var i,allmoduleKeys=Object.keys(allmoduleResCountObj),renderedallModuleRescount=0;for(i in allmoduleKeys)renderedallModuleRescount+=allmoduleResCountObj[allmoduleKeys[i]];return renderedallModuleRescount}return countOrObj&&countOrObj[acc_id].hasOwnProperty(vmodName)?countOrObj[acc_id][vmodName]:0}return countOrObj},zgssearch.setShownResultCount=function(service_name,acc_id,count,moduleName){var mcountObj,account_type,modulemcountObj=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;zgssearch.isServiceHasWidget(modulemcountObj)?(mcountObj=zgssearch.resultToBeShown[service_name]||{},zgssearch.isArrayContain(modulemcountObj,zgssearch.account_based_filter_service_list)?(account_type=zgssearch.getAccountType(modulemcountObj,acc_id),modulemcountObj=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:{},"1"===account_type?modulemcountObj[moduleName]=count:modulemcountObj=count,mcountObj[acc_id]=modulemcountObj):mcountObj[acc_id]=count,zgssearch.resultToBeShown[service_name]=mcountObj):zgssearch.resultToBeShown[service_name]=count},zgssearch.getStampPhotoURL=function(id){return GSConstant.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+id+zgssearch.nps},zgssearch.storeRenderedResultServiceInfo=function(service_name,accId,metaData){service_name=service_name===GSConstant.STREAMS?GSConstant.MAILS:service_name;for(var serviceMetaArr=zgssearch.renderedResultServiceMetaObj[service_name]||{},accArr=serviceMetaArr.hasOwnProperty(accId)?serviceMetaArr[accId]:[],modId=metaData.modId||metaData.module_id||"",i=0;i<accArr.length;i++){var eachAccArr=accArr[i];if(modId==(eachAccArr.modId||eachAccArr.module_id||""))return}accArr.push(metaData),serviceMetaArr[accId]=accArr,zgssearch.renderedResultServiceMetaObj[service_name]=serviceMetaArr},zgssearch.setErrorResultPageHeight=function(){var errorEleH=_jQueryGS("div#zgs20_gsAppsTemplate").parent().outerHeight(!0)-_jQueryGS("div#zgs20_gsAppsTemplate").outerHeight(!0);_jQueryGS(".zgs19_gsNonWidgetServicePage").css("height",errorEleH+"px")},zgssearch.getMoreAppsSearchResults=function(){_jQueryGS("#zgs20_gsAppsMore").hide();var toShowRescount=(toShowRescount=zgssearch.rpUIConfig.renderedResCount+zgssearch.rpUIConfig.showAppsResMin)>zgssearch.rpUIConfig.totalcount?zgssearch.rpUIConfig.totalcount:toShowRescount,currDataLength=Object.keys(zgssearch.rpUIConfig.resultData).length;zgssearch.rpUIConfig.renderedResCount<currDataLength&&toShowRescount<=currDataLength?(zgssearch.rpUIConfig.showAllFetchedAppsInResults=!0,zgssearch.renderRelatedProductResults(!0)):toShowRescount<=zgssearch.rpUIConfig.totalcount&&(zgssearch.rpUIConfig.start+=zgssearch.fetchResCount,zgssearch.getSearchResultsForRelatedProducts("result")),zgssearch.setErrorResultPageHeight()},zgssearch.hideRelatedProductResults=function(){zgssearch.rpUIConfig.isTriggeredSuggestCall=!1,zgssearch.rpUIConfig.isRPSearchCallActive=!1,_jQueryGS("div#zgs20_gsAppsTemplate").remove()},zgssearch.getRenderedAppsList=function(eleId){for(var existingRenderedServicesElems=_jQueryGS("#"+eleId).find(".zgs19_appsTxt"),existingRenderedServicesLen=existingRenderedServicesElems.length,existingRenderedServices=[],j=0;j<existingRenderedServicesLen;j++){var appName=existingRenderedServicesElems[j],appName=_jQueryGS(appName).attr("sName");existingRenderedServices.push(appName)}return existingRenderedServices},zgssearch.getExcludedRelatedproductsData=function(apiData,eleId){for(var filteredData=[],apiDataLen=apiData.length,existingData=zgssearch.getRenderedAppsList(eleId),j=0;j<apiDataLen;j++){var sName=apiData[j],sName=sName.iam_app_name||sName;-1<zgssearch.rpUIConfig.iconIncludedApps.indexOf(sName)&&-1===existingData.indexOf(sName)?filteredData.push(sName):zgssearch.rpUIConfig.totalcount--}return zgssearch.rpUIConfig.resultData=filteredData},zgssearch.toggleMoreRelatedProducts=function(){Object.keys(zgssearch.rpUIConfig.resultData).length>zgssearch.rpUIConfig.renderedResCount&&(zgssearch.curMoreService=GSConstant.GS_APPS,_jQueryGS("#zgs20_gsAppsMore").show())},zgssearch.toggleResultsRelatedProducts=function(){0===zgssearch.getRenderedAppsList("zgs20_gsAppsResults").length&&zgssearch.hideRelatedProductResults()},zgssearch.renderAppsResultTemplate=function(){var topband,relatedprodutsTemplate;0===_jQueryGS("#zgs20_gsAppsResults").length&&(relatedprodutsTemplate=zgssearch.getI18NMsg("gs.search.sugg.apps"),topband=_jQueryGS("<div>",{id:"zgs20_gsAppsTopband",class:"zgs19_gsServiceTopbandNew  zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs18_gsAppsIcon"})).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandNameTxt zgs19_gsOverflow zgs19_gsfl zgs19_gs_CRMw100",gstitle:relatedprodutsTemplate}).text(relatedprodutsTemplate)),relatedprodutsTemplate=_jQueryGS("<div>",{id:"zgs20_gsAppsMore",class:"zgs19_gsCurPointer zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:GSConstant.GS_APPS,gsa:"mc-va-apps",gs:"moreBand",gstitle:zgssearch.getI18NMsg("gs.search.sevice_view_all")}).text(zgssearch.getI18NMsg("gs.search.sevice_view_all")),relatedprodutsTemplate=_jQueryGS("<div>",{id:"zgs20_gsAppsTemplate",class:"zgs19_gsAppsServiceTemplate zgs19_gsAppsTemplate",service:GSConstant.GS_APPS,gs:"ServiceTemplate"}).append(topband).append(_jQueryGS("<div>",{id:"zgs20_gsAppsResults",class:"zgs19_gsSearchResults zgs19_gsAllSearchResults zgs19_gsAppsList"})).append(relatedprodutsTemplate),_jQueryGS("#zgs20_gsAllSearchResultPage").prepend(relatedprodutsTemplate),zgssearch.obtainLineIconPaths("zgs18_gsAppsIcon",_jQueryGS(".zgs19_gsServiceTopbandNew  > .zgs18_gsAppsIcon")[0]))},zgssearch.onSuccessRelatedProducts=function(relatedProducts){var existingData;""!==relatedProducts&&void 0!==relatedProducts&&((relatedProducts=(relatedProducts=zgssearch.jsonParse(relatedProducts)).results||relatedProducts.result_objects)?"autosuggest"===zgssearch.rpUIConfig.currCallType?(existingData=zgssearch.getExcludedRelatedproductsData(relatedProducts,"zgs20_gsQuerySuggApps_relatedproducts"),zgssearch.gsautocomplete.setAutoSuggestAppsData(existingData),zgssearch.gsautocomplete.renderMoreAppsSugg()):(zgssearch.rpUIConfig.isRPSearchCallActive=!1,zgssearch.renderAppsResultTemplate(),0<Object.keys(zgssearch.rpUIConfig.resultData).length&&(existingData=zgssearch.rpUIConfig.resultData,relatedProducts=_jQueryGS.merge(existingData,relatedProducts)),zgssearch.rpUIConfig.resultData=zgssearch.getExcludedRelatedproductsData(relatedProducts,"zgs20_gsAppsResults"),zgssearch.rpUIConfig.totalcount=Object.keys(zgssearch.rpUIConfig.resultData).length,0<zgssearch.rpUIConfig.resultData.length?zgssearch.renderRelatedProductResults(!0):zgssearch.hideRelatedProductResults()):zgssearch.hideRelatedProductResults())},zgssearch.renderRelatedProductResults=function(isSetShowAppsResMin){var relatedProducts=zgssearch.rpUIConfig.resultData,resCount=relatedProducts.length,start=zgssearch.rpUIConfig.renderedResCount;isSetShowAppsResMin&&zgssearch.setShowAppsResMin(),zgssearch.rpUIConfig.showAllFetchedAppsInResults&&(zgssearch.rpUIConfig.shownAllFetchedAppsInResults=!0,zgssearch.rpUIConfig.showAllFetchedAppsInResults=!1,zgssearch.rpUIConfig.showAppsResMin=resCount);for(var limit=start+zgssearch.rpUIConfig.showAppsResMin,j=start;j<resCount&&j<limit;j++){zgssearch.rpUIConfig.renderedResCount++;var sName=relatedProducts[j].replace(/\s/g,"").toLowerCase(),sIcon="zgs18_w"+sName,sURL=void 0!==zgssearch.rpUIConfig.appVsUrl[sName]?zgssearch.rpUIConfig.appVsUrl[sName][0]:"",displayName=void 0!==zgssearch.rpUIConfig.appVsUrl[sName]?zgssearch.rpUIConfig.appVsUrl[sName][1]:sName;_jQueryGS("div#zgs20_gsAppsResults").append(_jQueryGS("<a>",{rel:"noopener noreferrer",href:sURL,target:"_blank",gs:"rpStats",gsa:"result-rp_"+sName,key:"relatedproducts",productName:sName,class:"zgs19_gsAppsRes zgs19_gsCurPointer"}).append(_jQueryGS("<span>",{class:"zgs19_gsNaviArr zgs19_gsResultsUniIcons"})).append(_jQueryGS("<li>",{class:"zgs19_gsQueryResAppsIcon"}).append(_jQueryGS("<span>",{class:sIcon}))).append(_jQueryGS("<span>",{sName:sName,class:"zgs19_gsQueryResAppsName zgs19_appsTxt",gstitle:displayName}).text(displayName))),zgssearch.LINE_ICON_MAP.hasOwnProperty(sIcon)&&zgssearch.obtainLineIconPaths(sIcon,_jQueryGS(".zgs19_gsQueryResAppsIcon > ."+sIcon)[0])}zgssearch.toggleMoreRelatedProducts(),zgssearch.toggleResultsRelatedProducts(),zgssearch.jqueryMouseEvent()},zgssearch.getAcronym=function(title){var acronym=[];title=title.trim();try{var txtArr=title.split(" "),len=txtArr.length,regex=/[!@#$%^&*()_+\-=\[\]{};':"\\|,—.<>\/?]+/;if(0<len)for(var i=0;i<len&&!(1<acronym.length);i++){var snippet=txtArr[i],eachChar=snippet[0];if(1==regex.test(eachChar))for(var snipLen=snippet.length,j=1;j<snipLen-1;j++){var eachASnippetChar=snippet[j];0==regex.test(eachASnippetChar)&&acronym.length<2&&(acronym[i++]=eachASnippetChar)}else acronym.length<2&&(acronym[i]=eachChar);if(1<acronym.length)break}}catch(ex){zgssearch.throwClientError("Error while getting Acronym ",ex)}title=title.slice(0,2);return(title=1<acronym.length?acronym.join(""):title).toUpperCase()},zgssearch.getPhotoURL=function(modTy,current_result_obj){var pZuid,titleObj=current_result_obj.type||"",photoURL="";return"personal"===titleObj?photoURL=current_result_obj.photo+"?API=true":"org"===titleObj&&(photoURL=GSConstant.GS_CONTACTS_URL+"/api/v1/accounts/"+zgssearch.GSConstant.cuo+"/contacts/"+current_result_obj.contact_id+"/photo?include=default_photo"),modTy===GSConstant.PEOPLE?(photoURL=current_result_obj.photo)&&-1<photoURL.indexOf("/api/viewEmployeePhoto?")&&(photoURL=photoURL.replace("/api/viewEmployeePhoto?","/viewPhoto?")):modTy===GSConstant.CLIQ?(pZuid=current_result_obj.cid||"",(pZuid=((titleObj=zgssearch.chidVsMeta||{}).hasOwnProperty(pZuid)?titleObj[pZuid]:{}).owner||"")&&"-1"!==pZuid&&(photoURL=zgssearch.getThumbPhotoURL(pZuid))):modTy===GSConstant.CONNECT||modTy===GSConstant.STREAMS?(pZuid=current_result_obj.zuid||"")&&"-1"!==pZuid&&(photoURL=zgssearch.getThumbPhotoURL(pZuid)):modTy===GSConstant.SLACK&&(5!=(modTy=current_result_obj.module_id||"")&&1!=modTy||(photoURL=current_result_obj.photo||"")),photoURL},zgssearch.renderSearchResults=function(service_name,isWeightage,isToFetchAllRecords,account_id,moduleName){try{var defOrgId="",curModuleId="";service_name===zgssearch.GSConstant.ORGRESOURCES&&(curModuleId=zgssearch.getCurrentValue("modules",service_name),defOrgId=zgssearch.getFilterInfo(service_name,"accounts","mdefault"));var i=0,searchType=zgssearch.getSearchType(),id="zgs20_gs"+service_name+"Results",acc_id=account_id||zgssearch.getCurrentValue("accounts",service_name),currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;"1"===(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,acc_id):"")?id=moduleName?"zgs20_gs"+moduleName+"Results":"zgs20_gs_"+service_name+"_"+acc_id+"_Results":zgssearch.multiPageEnabled&&(id="zgs20_gs"+acc_id+"Results");var tempFetchResCount=zgssearch.fetchResCount,resultObject=zgssearch.getServiceResultObject(service_name,acc_id),curfetchResCount=0;if(service_name===zgssearch.GSConstant.CALENDAR){zgssearch.eventSplitter=!1,zgssearch.completedResToBeShown=zgssearch.completedResToBeShown||0,zgssearch.futureResToBeShown=zgssearch.futureResToBeShown||0;var completedFetchCount=0,futureFetchCount=0,completedCount=0,futureCount=0,curfetchResCount=(completedCount=zgssearch.isCompleted?zgssearch.getServiceResultCount(service_name+"_completed",acc_id):completedCount)+(futureCount=zgssearch.isUpcoming?zgssearch.getServiceResultCount(service_name+"_future",acc_id):futureCount)}else if(service_name===zgssearch.GSConstant.SALESFORCE||service_name===zgssearch.GSConstant.CAMPAIGNS){var moreResultcount=zgssearch.getMoreResultCount(service_name,acc_id);if(zgssearch.GSConstant.ALL==searchType&&isWeightage&&0<moreResultcount&&(initial_weight=zgssearch.iWeightage[service_name],tempToBeShowResCount=zgssearch.getResultMaxCount(searchType,service_name,moreResultcount+initial_weight),zgssearch.reArragegeResultsForWeightage(service_name,acc_id,tempToBeShowResCount-initial_weight),resultObject=zgssearch.getServiceResultObject(service_name,acc_id)),"object"==typeof(curfetchResCount="all"!==(search_type=(search_type=zgssearch.getCurrentValue("modules"))||zgssearch.gsfilters.getDefValueForServiceType(service_name,"modules",!0))&&"0"!=search_type?"object"==typeof(res_count_obj=zgssearch.getServiceResultCount(service_name,acc_id))?res_count_obj[acc_id][search_type]:res_count_obj:zgssearch.getServiceResultCount(service_name,acc_id))){curfetchResCount=curfetchResCount.hasOwnProperty(acc_id)?curfetchResCount[acc_id]:curfetchResCount;var temp_curfetchResCount=0;for(mod in curfetchResCount)service_name==zgssearch.GSConstant.CAMPAIGNS&&zgssearch.isArrayContain(mod,zgssearch.campaignsRenderedMod)||(temp_curfetchResCount+=curfetchResCount[mod]);curfetchResCount=temp_curfetchResCount}}else if(service_name===zgssearch.GSConstant.ASANA){var initial_weight,tempToBeShowResCount,res_count_obj,moreResultcount=zgssearch.getMoreResultCount(service_name,acc_id);if(zgssearch.GSConstant.ALL==searchType&&isWeightage&&0<moreResultcount&&(initial_weight=zgssearch.iWeightage[service_name],tempToBeShowResCount=zgssearch.getResultMaxCount(searchType,service_name,moreResultcount+initial_weight),zgssearch.reArragegeResultsForWeightage(service_name,acc_id,tempToBeShowResCount-initial_weight),resultObject=zgssearch.getServiceResultObject(service_name,acc_id)),"object"==typeof(curfetchResCount="all"!==(search_type="0"!==(search_type=zgssearch.getCurrentValue(zgssearch.WS,service_name))?search_type:zgssearch.getFilterInfo(service_name,zgssearch.WS,"default"))?"object"==typeof(res_count_obj=zgssearch.getServiceResultCount(service_name,acc_id))?res_count_obj[acc_id][search_type]:res_count_obj:zgssearch.getServiceResultCount(service_name,acc_id))){var ws,temp_curfetchResCount=0;for(ws in curfetchResCount)if("object"==typeof curfetchResCount[ws])for(var task in curfetchResCount[ws])temp_curfetchResCount+=curfetchResCount[ws][task];else temp_curfetchResCount=curfetchResCount[ws];curfetchResCount=temp_curfetchResCount}}else curfetchResCount=zgssearch.getServiceResultCount(service_name,acc_id);var wmcount,fweight,icon_template,details_template,result_template,toBeShowResCount=zgssearch.getResultMaxCount(searchType,service_name,curfetchResCount);isWeightage?(i=zgssearch.getShownResultCount(service_name,acc_id),wmcount=2<=curfetchResCount?2:1,zgssearch.GSConstant.ALL==searchType?(toBeShowResCount=(fweight=(zgssearch.fWeightage||{})[service_name])<curfetchResCount?fweight:i+wmcount,service_name===zgssearch.GSConstant.CALENDAR&&(zgssearch.isCompleted&&(completedFetchCount=zgssearch.completedResToBeShown),zgssearch.isUpcoming&&(futureFetchCount=zgssearch.futureResToBeShown))):acc_id&&(toBeShowResCount=i+wmcount<curfetchResCount?i+wmcount:curfetchResCount)):isToFetchAllRecords?toBeShowResCount=(i=zgssearch.resToBeShown)+25<curfetchResCount?i+25:curfetchResCount:zgssearch.scrollSearch?service_name===zgssearch.GSConstant.CALENDAR?zgssearch.isCompleted?completedFetchCount=i=zgssearch.completedResToBeShown:zgssearch.isUpcoming&&(futureFetchCount=i=zgssearch.futureResToBeShown):i=zgssearch.resToBeShown:zgssearch.GSConstant.ORGRESOURCES===service_name&&zgssearch.isListViewSearch()&&defOrgId===acc_id&&"0"===curModuleId&&zgssearch.isDefWelAdded&&(toBeShowResCount+=1,tempFetchResCount+=1),GSConstant.O365MAIL!==service_name&&GSConstant.SLACK!==service_name&&!GSConstant.GMAIL||(icon_template=zgssearch.Template.iconTemplate(),details_template=zgssearch.Template.infoTemplate(),result_template=zgssearch.Template.resultTitleTemplate(),_jQueryGS("#zgs20_gsSearchResultMiddle").find("#iconTemplate").remove(),_jQueryGS("#zgs20_gsSearchResultMiddle").find("#infoTemplate").remove(),_jQueryGS("#zgs20_gsSearchResultMiddle").find("#resultTitleTemplate").remove(),_jQueryGS("#zgs20_gsSearchResultMiddle").append(icon_template).append(details_template).append(result_template)),service_name!==GSConstant.CALENDAR&&(toBeShowResCount=tempFetchResCount<toBeShowResCount-i?tempFetchResCount:toBeShowResCount);var total_results_area_width=zgssearch.getResultsAreaWidth();total_results_area_width<=0&&(total_results_area_width=_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-100,zgssearch.setResultsAreaWidth(total_results_area_width));var tempResIndex,campResObj,service_meta_info,resultMap,acc_img_data,resCountForServ,orderList,mlist,accIdArr,render_mod_count,targetId,first_account_res_template,first_click_elem,firstResult,service_img_data=[],gsresults=zgssearch.mappedServiceList[service_name].results,curIndex=0;if(service_name===zgssearch.GSConstant.SALESFORCE){search_type=(search_type=zgssearch.getCurrentValue("modules"))||"all";var module_name,temp_results_obj=resultObject,results_width_data=[],rendered_modules=(renderedObj=zgssearch.crm_rendered_modules[service_name]||{})[acc_id]||[];for(module_name in temp_results_obj)("all"!==search_type&&!zgssearch.multiPageEnabled||rendered_modules.indexOf(module_name)<=-1||zgssearch.GSConstant.ALL==searchType)&&(zgssearch.GSConstant.ALL!=searchType&&rendered_modules.push(module_name),(service_info={}).parent_div_id=id,service_info.service_name=service_name,service_info.offset=i,temp_res_obj=temp_results_obj[module_name],0<(res_count=zgssearch.resultCount[service_name][acc_id][module_name])&&(service_info.limit=res_count,service_name!==zgssearch.GSConstant.CRM&&(service_info.acc_id=acc_id),module_parent_id="zgs20_gs"+acc_id+module_name+"Results","all"===search_type&&(service_info.module_parent_id=module_parent_id),service_info.records_info=temp_res_obj,service_info.search_module_name=module_name,service_info.search_type=search_type,service_info.results_area_width=total_results_area_width,service_info.service_addtional_info=zgssearch.getServiceResultsAdditionalInfo(service_name,acc_id),(new zgssearch.ZSCRMFactory).createCRM(service_info).renderResults(),((results_width={}).service_name=service_name)!==zgssearch.GSConstant.CRM&&(results_width.account_id=acc_id),results_width.results_parent_id="all"===search_type?module_parent_id:id,results_width.total_results_area_width=total_results_area_width,results_width_data.push(results_width)));zgssearch.GSConstant.ALL!=searchType&&(renderedObj[acc_id]=rendered_modules,zgssearch.crm_rendered_modules[service_name]=renderedObj);for(var mod=0;mod<results_width_data.length;mod++)(service_mod_info=results_width_data[mod]).is_cursor_need="all"!==search_type,zgssearch.Utils.setResultsWidth(service_mod_info)}else if(service_name==zgssearch.GSConstant.ASANA){var renderedObj,module,service_info,temp_res_obj,res_count,module_parent_id,proj_mgmt_instance,results_width,search_type=zgssearch.getCurrentValue(zgssearch.WS,service_name),temp_results_obj=resultObject,results_width_data=[],rendered_modules=(renderedObj=zgssearch.projects_rendered_modules[service_name]||{})[acc_id]||[];for(module in temp_results_obj)("all"!==search_type&&!zgssearch.multiPageEnabled||rendered_modules.indexOf(module)<=-1||zgssearch.GSConstant.ALL==searchType)&&(zgssearch.GSConstant.ALL!=searchType&&rendered_modules.push(module),(service_info={}).parent_div_id=id,service_info.acc_id=acc_id,service_info.service_name=service_name,service_info.offset=i,temp_res_obj=temp_results_obj[module],0<(res_count=zgssearch.resultCount[service_name][acc_id][module])&&(service_info.limit=res_count,module_parent_id="zgs20_gs"+acc_id+"_"+module+"Results","all"===search_type&&(service_info.module_parent_id=module_parent_id),service_info.results=temp_res_obj,service_info.search_workspace_id=module,service_info.search_workspace_name=zgssearch.getFilterData(zgssearch.GSConstant.ASANA,zgssearch.WS,"data",module,acc_id),service_info.search_type=search_type,service_info.results_area_width=total_results_area_width,(proj_mgmt_instance=(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance(service_info)).renderResults(),(results_width={}).service_name=service_name,results_width.account_id=acc_id,results_width.results_parent_id="all"===search_type?module_parent_id:id,results_width.total_results_area_width=total_results_area_width,results_width_data.push(results_width)));zgssearch.GSConstant.ALL!=searchType&&(renderedObj[acc_id]=rendered_modules,zgssearch.projects_rendered_modules[service_name]=renderedObj);for(var service_mod_info,mod=0;mod<results_width_data.length;mod++)(service_mod_info=results_width_data[mod]).is_cursor_need="all"!==search_type,zgssearch.Utils.setResultsWidth(service_mod_info);searchType!==zgssearch.GSConstant.ALL&&(!zgssearch.multiPageEnabled||zgssearch.multiPageEnabled&&isWeightage)&&zgssearch.gskeyboard.insertElement()}else if(service_name==zgssearch.GSConstant.PROJECTS)(service_info={}).results=resultObject,service_info.service_name=service_name,service_info.parent_div_id=id,service_info.offset=i,service_info.limit=toBeShowResCount,service_info.acc_id=acc_id,service_info.results_area_width=total_results_area_width,service_info.timezone=zgssearch.gsprojects.portalTimezone[acc_id]||{},(proj_mgmt_instance=(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance(service_info)).renderResults(),service_img_data=proj_mgmt_instance.getServiceImgData();else if(-1<zgssearch.SERVICES_STORAGE.indexOf(service_name)){if("object"!=typeof curfetchResCount){var fileMgmt=new zgssearch.FileMgmtFactory;0===acc_id&&(acc_id=_jQueryGS("#zgs20_gs"+service_name+"Template .zgs19_gsSearchResultTable")[0].getAttribute("acc_id"));var response=zgssearch.getResponseObject(service_name+acc_id),responseObj=Object.assign({},response);if(searchType==zgssearch.GSConstant.ALL||zgssearch.multiPageEnabled){for(var resultsArr=[],resCount=i;resCount<toBeShowResCount;resCount++)responseObj.result_objects[resCount]&&resultsArr.push(responseObj.result_objects[resCount]);responseObj.result_objects=resultsArr}var fileMgmtInfo={};fileMgmtInfo.offset=i,fileMgmtInfo.parentId=id,fileMgmtInfo.service=service_name,fileMgmtInfo.accountId=acc_id;var fileMgmtService=fileMgmt.createFileMgmtService(fileMgmtInfo);fileMgmtService.setResponseObj(responseObj.result_objects),fileMgmtService.renderResults()}}else if(service_name===zgssearch.GSConstant.EVERNOTE){var notesTemplateConstructor=new zgssearch.notesTemplateFactory,response=zgssearch.getResponseObject(service_name+acc_id),responseObj=Object.assign({},response);if(searchType==zgssearch.GSConstant.ALL||zgssearch.multiPageEnabled){for(resultsArr=[],resCount=i;resCount<toBeShowResCount;resCount++)responseObj.result_objects[resCount]&&resultsArr.push(responseObj.result_objects[resCount]);responseObj.result_objects=resultsArr}var evrNoteObj={};evrNoteObj.offset=i,evrNoteObj.parentId=id,evrNoteObj.service=service_name,evrNoteObj.accountId=acc_id;var notesTemplateInstance=notesTemplateConstructor.createCurServiceInstance(evrNoteObj);notesTemplateInstance.setResponseObj(responseObj.result_objects),notesTemplateInstance.renderResults()}else for(service_name===zgssearch.GSConstant.CALENDAR&&!zgssearch.eventSplitter&&!zgssearch.scrollSearch&&zgssearch.isCompleted&&zgssearch.isUpcoming&&0===completedFetchCount&&0===futureFetchCount&&(zgssearch.eventSplitter=!0),service_name===zgssearch.GSConstant.CAMPAIGNS&&(tempResIndex=i,campResObj=resultObject);i<toBeShowResCount;i++){if(service_name===zgssearch.GSConstant.CAMPAIGNS){for(var modId in zgssearch.campaignsRenderedMod=zgssearch.campaignsRenderedMod||[],campResObj)if(!zgssearch.isArrayContain(modId,zgssearch.campaignsRenderedMod)||zgssearch.scrollSearch){var modName,moduleId,modObj,modHeader,metaObj,resultObject=campResObj[modId],filterData=zgssearch.getFilterObj(service_name),filterModId=parseInt(modId);if(!(searchType==zgssearch.GSConstant.ALL&&isWeightage&&Object.keys(resultObject).length<=tempResIndex)){"0"!=search_type||searchType==zgssearch.GSConstant.ALL&&0!=tempResIndex||(moduleId="zgs20_gs"+modId+"_"+(modName=filterData.modules.data.hasOwnProperty(filterModId)?filterData.modules.data[filterModId]:"")+"Results",(modObj={}).id="zgs20_gs"+modId+"_"+modName+"Template",modObj.service_name=service_name,modObj.mod_name=modId,modObj.mod_disp_name=modName,modObj.acc_id=acc_id,modHeader=zgssearch.CrmUtils.constructModHeader(modObj),metaObj={modId:modId},zgssearch.storeRenderedResultServiceInfo(service_name,acc_id,metaObj),_jQueryGS("#"+id).append(_jQueryGS("<div>",{id:moduleId}).append(modHeader)),id=moduleId),acc_id=modId,searchType!=zgssearch.GSConstant.ALL&&zgssearch.campaignsRenderedMod.push(modId);break}tempResIndex=0,zgssearch.campaignsRenderedMod.push(modId)}curIndex=tempResIndex++}service_name===zgssearch.GSConstant.CALENDAR?zgssearch.isUpcoming&&futureFetchCount<futureCount?(curIndex=futureFetchCount,futureFetchCount++):zgssearch.isCompleted&&completedFetchCount<completedCount&&(zgssearch.eventSplitter&&(_jQueryGS(zgssearch.getTargetElem(id)).prepend(zgssearch.getEventSplitter()),zgssearch.eventSplitter=!1),curIndex=-completedFetchCount-1,completedFetchCount++):service_name!=zgssearch.GSConstant.CAMPAIGNS&&(curIndex=i);var elemId=service_name+curIndex;if(resultObject.hasOwnProperty(elemId)){var temp_info,resObj=resultObject[elemId],href=zgssearch.fetchCalloutUrlByAccId(service_name,resObj,acc_id),resultDiv=zgssearch[gsresults].getHtmlTemplate(resObj,acc_id,href,id,service_name,curIndex,total_results_area_width,{}),photoURL=zgssearch.getPhotoURL(service_name,resObj);if(zgssearch.renderHtmlElement(resultDiv,service_name,id,photoURL,curIndex,acc_id,resObj),service_name===GSConstant.GMAIL){let targetElement=_jQueryGS("#zgs20_gs"+acc_id+"Results_"+curIndex);targetElement.length<1&&(targetElement=_jQueryGS("#zgs20_gsgmailResults_"+curIndex)),zgssearch.gsgmailresults.pushLabelsToSpace(targetElement,acc_id,!0,!1)}-1<zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(service_name)&&void 0!==photoURL&&((temp_info={}).id=id+"_"+i,""===photoURL.trim()&&(temp_info.no_photo=!0),temp_info.img_url=photoURL||zgssearch.gsspacer,service_img_data.push(temp_info))}}searchType!==zgssearch.GSConstant.ALL&&(!zgssearch.multiPageEnabled||zgssearch.multiPageEnabled&&isWeightage)&&zgssearch.gskeyboard.insertElement(),zgssearch.GSConstant.WORKDRIVE===service_name&&((service_meta_info={}).service_name=service_name,service_meta_info.total_results_area_width=total_results_area_width,service_meta_info.account_id=acc_id,resultMap=zgssearch.mappedServiceList[service_name].results,zgssearch[resultMap].hasOwnProperty("setFooterElementsWidth")&&zgssearch[resultMap].setFooterElementsWidth(service_meta_info)),0<service_img_data.length&&(zgssearch.mappedServiceList[service_name].is_multi_accounts&&acc_id?((acc_img_data={})[acc_id]=service_img_data,zgssearch.temp_img_info[service_name]=acc_img_data):zgssearch.temp_img_info[service_name]=service_img_data),zgssearch.GSConstant.ALL===searchType?(resCountForServ=service_name==zgssearch.GSConstant.ASANA?curfetchResCount:toBeShowResCount,zgssearch.setShownResultCount(currService,acc_id,resCountForServ,service_name),service_name===zgssearch.GSConstant.CALENDAR&&(zgssearch.isCompleted&&(zgssearch.completedResToBeShown=completedFetchCount),zgssearch.isUpcoming&&(zgssearch.futureResToBeShown=futureFetchCount)),isWeightage||zgssearch.setWeightServices(service_name),orderList=zgssearch.getOrderedServiceList(),zgssearch.scrollSearch||service_name!=orderList[1]||(zgssearch.firstResultCallOutShown=!0)):zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?(zgssearch.resToBeShown=0,zgssearch.setShownResultCount(currService,acc_id,toBeShowResCount,service_name),mlist=zgssearch.getWidgetServiceList(service_name),accIdArr=zgssearch.getFilterInfo(service_name,mlist.key,"accIdArr"),zgssearch.scrollSearch||service_name!=accIdArr[1]||(zgssearch.firstResultCallOutShown=!0)):service_name===zgssearch.GSConstant.CALENDAR?(zgssearch.isCompleted&&(zgssearch.completedResToBeShown=completedFetchCount,zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",zgssearch.calendarScrollValue)),zgssearch.isUpcoming&&(zgssearch.futureResToBeShown=futureFetchCount),0<curfetchResCount&&(zgssearch.firstResultCallOutShown=!0),(zgssearch.scrollSearch||0!=completedFetchCount)&&zgssearch.completedResToBeShown!==zgssearch.searchResultsLimit&&completedFetchCount%tempFetchResCount==0||(zgssearch.completedNoMoreResults=!0),(zgssearch.scrollSearch||0!=futureFetchCount)&&zgssearch.futureResToBeShown!==zgssearch.searchResultsLimit&&futureFetchCount%tempFetchResCount==0||(zgssearch.futureNoMoreResults=!0)):(zgssearch.firstResultCallOutShown=!0,zgssearch.resToBeShown=toBeShowResCount,service_name==zgssearch.GSConstant.ORGRESOURCES&&zgssearch.isListViewSearch()&&defOrgId===acc_id&&"0"===curModuleId&&zgssearch.isDefWelAdded&&zgssearch.scrollSearch&&--curfetchResCount,zgssearch.resToBeShown!==zgssearch.searchResultsLimit&&curfetchResCount%tempFetchResCount==0||(zgssearch.noMoreResults=!0,service_name==GSConstant.ONEDRIVE&&(zgssearch.noMoreResults=zgssearch.isListViewSearch()?curfetchResCount%tempFetchResCount!=24:curfetchResCount%24!=0)),service_name===zgssearch.GSConstant.SALESFORCE&&zgssearch.isListViewSearch()&&"all"===(search_type=(search_type=zgssearch.getCurrentValue("modules"))||"all")&&(render_mod_count=Object.keys(zgssearch.resultObject[zgssearch.GSConstant.SALESFORCE][acc_id]).length,zgssearch.noMoreResults=10<render_mod_count),zgssearch.setShownResultCount(currService,acc_id,toBeShowResCount,service_name)),zgssearch.noMoreResults&&service_name==zgssearch.GSConstant.ORGRESOURCES&&!zgssearch.noResFeed&&(targetId=zgssearch.getTargetElem(id),_jQueryGS("<div>",{class:"zgs19_gsFeedbackForm",gs:"feedBack",style:"margin-top: 5px;"}).append(_jQueryGS("<a>",{class:"zgs19_gsResultTitle zgs19_gsFeedbackCol zgs19_gsCurPointer ",gs:"feedBack"}).text(zgssearch.getI18NMsg("gs.search.error.no_result_feedback_form"))).insertAfter(_jQueryGS(targetId)),zgssearch.noResFeed=!0),zgssearch.isMobViewport()&&(zgssearch.firstResultCallOutShown=!1),zgssearch.firstResultCallOutShown&&!zgssearch.curSelectedEle&&""==zgssearch.curSelectedEle&&(firstResult="",firstResult=service_name===zgssearch.GSConstant.CALENDAR?(zgssearch.isUpcoming?firstResult=zgssearch.gskeyboard.findDataNode(0,""):zgssearch.isCompleted&&!zgssearch.isUpcoming&&(firstResult=zgssearch.gskeyboard.findDataNode(-1,"")),firstResult.getAttribute("id")):service_name===zgssearch.GSConstant.SALESFORCE?(zgssearch.multiPageEnabled?(first_account_res_template=_jQueryGS("#zgs20_MultiSearchPageHolder >div")[0],first_click_elem=_jQueryGS(first_account_res_template).find(".zgs19_gsSearchResultTable")[0]):(first_click_elem=_jQueryGS(_jQueryGS("#zgs20_gssalesforceResults >div")[0]).find(".zgs19_gsSearchResultTable")[0],"all"!==(zgssearch.getCurrentValue("modules")||"all")&&(first_click_elem=_jQueryGS("#zgs20_gssalesforceResults >div")[0])),_jQueryGS(first_click_elem).attr("id")):zgssearch.gskeyboard.getFirstDataNode(),_jQueryGS("#"+firstResult).click()),-1<zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(service_name)&&zgssearch.setContactsImage(service_name,acc_id)}catch(ex){zgssearch.throwClientError("Error while rendering search results. servicename :"+service_name+" Ex:",ex)}},zgssearch.getEventSplitter=function(){return _jQueryGS("<div>",{class:"zgs19_gsEventSplitter"}).append(_jQueryGS("<span>",{class:"zgs19_gsSplitterText"}).text(zgssearch.getI18NMsg("gs.search.filter.upcomingEvents")))},zgssearch.renderHtmlElement=function(resDiv,service_name,infoDiv2,photoURL,parentDiv,acc_id,resObj){_jQueryGS("#"+("zgs20_dummy"+service_name+"Res")).remove();var infoDiv,infoDiv1,nonEmptyChildren=zgssearch.getTargetElem(infoDiv2),finalWidth="",resId=infoDiv2+"_"+parentDiv;finalWidth=service_name==GSConstant.SLACK||service_name==GSConstant.O365MAIL||service_name==GSConstant.GMAIL?(infoDiv=resDiv.infoDiv||{},infoDiv1=resDiv.infoDiv1||{},infoDiv2=resDiv.infoDiv2||{},_jQueryGS("<div>",{id:resId,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",service:service_name,gs:"searchResultTable"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(resDiv.iconDiv).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(infoDiv).append(infoDiv1).append(infoDiv2)))):_jQueryGS("<div>",{id:resId,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",service:service_name,gs:"searchResultTable"}).append(resDiv),_jQueryGS(finalWidth).attr("index",parentDiv),acc_id&&_jQueryGS(finalWidth).attr("acc_id",acc_id),service_name==GSConstant.CALENDAR&&parentDiv<0?_jQueryGS(nonEmptyChildren).prepend(finalWidth):_jQueryGS(nonEmptyChildren).append(finalWidth),service_name==GSConstant.CONNECT&&(nonEmptyChildren=(parentDiv=_jQueryGS("#"+resId).find(".zgs19_gsConnectFooterTxt")).find(".zgs19_gsContactEmail:not(:empty)"),finalWidth=parentDiv.find(".zgs19_gsResRightFilter"),finalWidth=(finalWidth=_jQueryGS(parentDiv).outerWidth()-_jQueryGS(finalWidth).outerWidth())/nonEmptyChildren.length/_jQueryGS(parentDiv).outerWidth()*100,_jQueryGS(nonEmptyChildren).css("max-width",finalWidth+"%")),zgssearch.LAZY_IMG_LOAD_SUPPORTED_SERVICES.indexOf(service_name)<=-1&&("8"===(resObj.cpt||"")?zgssearch.setDeptIcon(resId):photoURL?zgssearch.updateUserPhoto(resId,photoURL):-1===zgssearch.havingUserPhoto.indexOf(service_name)&&zgssearch.loadResNoPhotoImg(resId))},zgssearch.setContactsImage=function(service_name,acc_id){if(zgssearch.temp_img_info[service_name]){for(var ima_supports=zgssearch.mappedServiceList[service_name].is_multi_accounts,service_img_data=ima_supports&&acc_id?_jQueryGS.isEmptyObject(zgssearch.temp_img_info[service_name])?[]:zgssearch.temp_img_info[service_name][acc_id]:zgssearch.temp_img_info[service_name],records_length=service_img_data.length,record=0;record<records_length;record++){var errorClass=service_img_data[record],img_elem=errorClass.id,img_url=errorClass.img_url,errorClass=errorClass.no_photo||!1,img_elem=_jQueryGS("#"+img_elem).find("img");errorClass?zgssearch.setEmptyPhoto(img_elem):(null==(errorClass=_jQueryGS(img_elem).attr("gs_err_class"))&&(errorClass="zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"),zgssearch.network.imageRenderer.renderImage(img_url,{img_elem:img_elem,class_name:"zgs19_gsUserPhoto",errorClass:errorClass},null))}ima_supports&&acc_id?delete zgssearch.temp_img_info[service_name][acc_id]:delete zgssearch.temp_img_info[service_name]}},zgssearch.setEmptyPhoto=function(imgEle){imgEle.attr("group")&&"true"==imgEle.attr("group")||!1||imgEle.attr("class","zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto")},zgssearch.setDeptIcon=function(imgEle){imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto&&_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons zgs19_gsGRDeptSMIcon"))},zgssearch.getConnectorFilterMod=function(martxt,acc_id,conObj,filterDisplay){var acc_id=acc_id||"",moduleId=martxt.cid||"",moduleName=martxt.cn||"",curModuleId=zgssearch.getCurrentValue("modules",GSConstant.ORGRESOURCES),intxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),martxt="";return(conObj.cell1||conObj.cell2)&&(martxt="display:initial;margin-inline-start:12px;"),filterDisplay&&"0"===curModuleId&&void 0!==curModuleId&&"undefined"!==curModuleId?_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:martxt}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl"}).text(intxt)).append(_jQueryGS("<span>",{id:"zgs20_moduleName",class:"zgs19_hvr_underline",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_department"),gstitle:moduleName,gs:"gsconnService",key:moduleId,acc_id:acc_id}).text(moduleName)):_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",style:martxt}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl"}).text(intxt)).append(_jQueryGS("<span>",{id:"zgs20_moduleName",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:moduleName,style:"display:initial;margin-inline-start:3px;"}).text(moduleName))},zgssearch.getPeopleUserDetails=function(totalResWidth,mail,mpicon,phone,rowStyle,dept,deptId,resObj){var searchType=zgssearch.getSearchType(),cpt=resObj.cpt||"",currentFolder={},cell1="",cell2="",cell3="",cell4="",mTit="",mTit1="";mpicon&&(currentFolder.cell1=mpicon,mTit=zgssearch.getI18NMsg("common.mobile"),cell1_title=currentFolder.cell1),"8"===cpt&&(currentFolder.cell1=resObj.suppmail||"-",mTit=zgssearch.getI18NMsg("gs.connector.support.email"),"-"===currentFolder.cell1&&(currentFolder.cell1=zgssearch.getI18NMsg("common.not_available")),cell1_title=currentFolder.cell1),(rowStyle||phone)&&(phone&&(currentFolder.cell2=phone,mTit1=zgssearch.getI18NMsg("common.phone")),rowStyle&&(currentFolder.cell2=rowStyle,mTit1=zgssearch.getI18NMsg("gs.search.service_people.extn"),"8"===cpt&&"-"===currentFolder.cell2&&(currentFolder.cell2=zgssearch.getI18NMsg("common.not_available")))),dept&&(currentFolder.cell3=dept);var cell1_title,rowStyle="";Object.keys(currentFolder).length;return currentFolder.cell1&&(mpicon=mpicon?"zgs19_gsContactMobileImg":"zgs19_gsContactPhoneImg",cell1_title=currentFolder.cell1,"8"===cpt&&(mpicon="zgs19_gsGRDeskIcon zgs19_gsGRDeskIconStyles"),cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl "+mpicon})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:mTit,gstitle:cell1_title}).text(currentFolder.cell1))),currentFolder.cell2&&(cell2=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:rowStyle=cell1?"margin-inline-start:12px;":""}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:mTit1,gstitle:currentFolder.cell2}).text(currentFolder.cell2))),currentFolder.cell3&&(rowStyle=cell1||cell2?"margin-left:12px;":"",currentFolder=zgssearch.getCurrentValue("departments",GSConstant.PEOPLE),cell3=searchType===zgssearch.GSConstant.ALL||"0"===currentFolder&&searchType===zgssearch.GSConstant.PEOPLE?_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_hvr_underline zgs19_gsOverflow zgs19_gsfl",style:rowStyle}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_department"),gstitle:dept,gs:"peopleResDepartment",fId:deptId,gsfilter:"deptName",fName:dept,style:"display:initial;margin-left:3px;"}).text(dept)):_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",style:rowStyle}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(_jQueryGS("<span>",{class:"contactDetail",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:dept,style:"display:initial;margin-left:3px;"}).text(dept))),{cell1:cell1,cell2:cell2,cell3:cell3,cell4:cell4=mail?_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow zgs19_gsWid97Per"}).append(_jQueryGS("<span>",{istip:!0,gslabel:zgssearch.getI18NMsg("common.email"),gstitle:mail}).text(mail)):cell4}},zgssearch.getPulseFooterElemsWidth=function(pulseAuthorWidth,pulseNameWidth){_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<span>",{class:"zgs19_fontsize14 zgs19_gsDisplayNone",id:"zgs20_gsConnectTempSpan"})),_jQueryGS("#zgs20_gsConnectTempSpan").text("").text(pulseAuthorWidth);pulseAuthorWidth=_jQueryGS("#zgs20_gsConnectTempSpan").width()+10;_jQueryGS("#zgs20_gsConnectTempSpan").empty().append(pulseNameWidth);pulseNameWidth=_jQueryGS("#zgs20_gsConnectTempSpan").width()+40;return _jQueryGS("#zgs20_gsConnectTempSpan").remove(),150<=pulseAuthorWidth&&pulseNameWidth<150?pulseAuthorWidth=150-pulseNameWidth+150:pulseAuthorWidth<150&&150<=pulseNameWidth?pulseNameWidth=150-pulseAuthorWidth+150:pulseAuthorWidth=pulseNameWidth=150,{auth:"max-width:"+pulseAuthorWidth+"px;",name:"max-width:"+pulseNameWidth+"px;"}},zgssearch.getUserStatus=function(uzuid,cobj){var name="",tip="",status="",pname=zgssearch.isWMSChatPaused();return uzuid&&"-1"!==uzuid&&!pname&&(pname="big"==cobj?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus",(cobj=zgssearch.getWMSUserContacts()).hasOwnProperty(uzuid)&&(0==(status=cobj[uzuid].STATUS)?(name=pname+" zgs19_gsWMSOffline",tip=zgssearch.getI18NMsg("gs.search.iam.offline")):1==status?(name=pname+" zgs19_gsWMSOnline",tip=zgssearch.getI18NMsg("gs.search.iam.online")):2==status?(name=pname+" zgs19_gsWMSInvisible",tip=zgssearch.getI18NMsg("gs.search.iam.invisible")):3==status?(name=pname+" zgs19_gsWMSBusy",tip=zgssearch.getI18NMsg("gs.search.iam.busy")):4==status&&(name=pname+" zgs19_gsWMSIdle",tip=zgssearch.getI18NMsg("gs.search.iam.idle")))),{name:name,tip:tip,status:status}}}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS;zgssearch.sseHolder=[],zgssearch.total_no_of_results=0,zgssearch.isCompleted=!1,zgssearch.isUpcoming=!1,zgssearch.calendarScrollValue=0,zgssearch.SECOND_IN_MILLIS=1e3,zgssearch.MINUTE_IN_MILLIS=6e4,zgssearch.HOURS_IN_MILLIS=36e5,zgssearch.DAY_IN_MILLIS=864e5;var featureArr,featurePropObj,viewport,embedDBPage,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.iWeightage=zgssearch.iWeightage||{},zgssearch.fWeightage=zgssearch.fWeightage||{},zgssearch.resultCount=zgssearch.resultCount||{},zgssearch.resultObject=zgssearch.resultObject||{},zgssearch.moreResultCount=zgssearch.moreResultCount||{},zgssearch.moreResultObject=zgssearch.moreResultObject||{},zgssearch.max_view_port_results_count=12,zgssearch.max_mod_results_count=4,zgssearch.max_mod_count=2,zgssearch.cursorObj=zgssearch.cursorObj||{},zgssearch.weightServices=zgssearch.weightServices||[],zgssearch.moduleRenderedInAllApps=zgssearch.moduleRenderedInAllApps||{},zgssearch.prevSelectedLeftPanelDivision=zgssearch.prevSelectedLeftPanelDivision||"",zgssearch.selectedLeftPanelDivision=zgssearch.selectedLeftPanelDivision||"search",zgssearch.filter_type="search_view",GSConstant.timeoutSSE=GSConstant.timeoutSSE?zgssearch.jsonParse(GSConstant.timeoutSSE):150,zgssearch.service_addtional_info={},zgssearch.storedServiceMod={},zgssearch.crmDataObj={},zgssearch.crmDispObj={},zgssearch.crmMandName={},zgssearch.crmCustomMod={},zgssearch.biginDataObj={},zgssearch.biginDispObj={},zgssearch.biginMandName={},zgssearch.chidVsMeta=zgssearch.chidVsMeta||{},zgssearch.pulseNetworkId=zgssearch.pulseNetworkId||{},zgssearch.pulseNetworkURL=zgssearch.pulseNetworkURL||{},zgssearch.crm_modules_data=[],zgssearch.multiStartSet=zgssearch.multiStartSet||0,zgssearch.multiResCount=zgssearch.multiResCount||0,zgssearch.multiResulList=zgssearch.multiResulList||{},zgssearch.multiResultObj=zgssearch.multiResultObj||{},zgssearch.multiPageEnabled=zgssearch.multiPageEnabled||!1,zgssearch.subMultiPageEnabled=zgssearch.subMultiPageEnabled||!1,zgssearch.widgetServiceList={},zgssearch.widgetServiceList[GSConstant.STREAMS]={label:zgssearch.getI18NMsg("gs.search.multi.account"),sublabel:zgssearch.getI18NMsg("gs.search.multi.module"),key:"accounts",childkey:"modules"},zgssearch.widgetServiceList[GSConstant.MAILS]={label:zgssearch.getI18NMsg("gs.search.multi.account"),sublabel:zgssearch.getI18NMsg("gs.search.multi.module"),key:"accounts",childkey:"modules"},zgssearch.widgetServiceList[GSConstant.CONNECT]={label:zgssearch.getI18NMsg("gs.search.multi.network"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.CRM]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.SUPPORT]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.REPORTS]={label:zgssearch.getI18NMsg("gs.search.multi.database"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.WIKI]={label:zgssearch.getI18NMsg("common.wiki"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.BOOKS]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.INVOICE]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.INVENTORY]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.ORGRESOURCES]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.CAMPAIGNS]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.WORKDRIVE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.BIGIN]={label:zgssearch.getI18NMsg("gs.search.multi.organization"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.PROJECTS]={label:zgssearch.getI18NMsg("gs.search.multi.portal"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.DROPBOX]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.GOOGLEDRIVE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.BOX]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.SLACK]={label:zgssearch.getI18NMsg("gs.search.multi.database"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.SALESFORCE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.O365MAIL]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.ONEDRIVE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.ASANA]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts",childkey:"workspaces"},zgssearch.widgetServiceList[GSConstant.EVERNOTE]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.widgetServiceList[GSConstant.GMAIL]={label:zgssearch.getI18NMsg("gs.search.multi.account"),key:"accounts"},zgssearch.service_cursor_info=zgssearch.service_cursor_info||[],zgssearch.cursor_info_service_search=zgssearch.cursor_info_service_search||{},zgssearch.service_module_cursor_info=zgssearch.service_module_cursor_info||[],zgssearch.responseObj={},zgssearch.emptySearchAllowedFromExternal=[GSConstant.WEBSITE],zgssearch.getWidgetServiceList=function(service){return zgssearch.widgetServiceList[service]||{}},zgssearch.onSuccessFunction=function(key,data){zgssearch.preCheckForURLSearch();var response=zgssearch.jsonParse(data);switch(key){case"IWEIGHT":zgssearch.initialWeightage(response);break;case"WEIGHT":zgssearch.finalWeightage(response);break;case"NLP_TRACER":zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer);break;case"RESULT":zgssearch.GSConstant.isNLPTracerEnabled&&zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer),zgssearch.handleSSESearchResult(response);break;case"NONSSE":zgssearch.GSConstant.isNLPTracerEnabled&&zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer),zgssearch.handleNonSSESearchResult(response),zgssearch.closeMsg="CLOSE",zgssearch.closeConnection();break;case"VERSION":zgssearch.gsversion.handleVersionChanges(response);break;case"CLOSE":case"ERROR":zgssearch.closeSSEAction(key)}},zgssearch.closeSSEAction=function(key){zgssearch.isBuildChanged||(zgssearch.closeMsg=key,zgssearch.network.removeEventSource(),zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||GSConstant.ALL===zgssearch.getSearchType()?zgssearch.handleSSESearchResult({closeSSEAction:!0}):zgssearch.closeConnection())},zgssearch.hasSearchResults=function(no_of_results){zgssearch.multiPageEnabled||zgssearch.scrollSearch?zgssearch.total_no_of_results+=no_of_results||0:zgssearch.total_no_of_results=no_of_results||0},zgssearch.hasSearchResultsNonSSE=function(obj){for(var service_name in obj)"weightage"!==service_name&&zgssearch.hasSearchResults(obj[service_name])},zgssearch.closeConnection=function(){zgssearch.renderMultiResults(),zgssearch.removeScrollLoader(),zgssearch.hideSearchPageLoader();var searchType=zgssearch.getSearchType();zgssearch.is_scroll_search=zgssearch.scrollSearch;var mresObj,page=zgssearch.GSConstant.ALL===searchType?"zgs20_gsAllSearchResultPage":"zgs20_gsModuleSearchResultPage";(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(zgssearch.isServiceHasMultiPortals(searchType)||zgssearch.isServiceHasSubMultiPortals(searchType))&&(page="zgs20_gsMultiSearchResultPage"),0===zgssearch.total_no_of_results?(zgssearch.noMoreResults=!0,zgssearch.completedNoMoreResults=!0,zgssearch.futureNoMoreResults=!0,zgssearch.scrollSearch?"ERROR"==zgssearch.closeMsg&&zgssearch.errorResultPage("zgs20_gs"+searchType+"Template"):(zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),zgssearch.GSConstant.ALL!==searchType&&(zgssearch.displayModuleResultPage(),zgssearch.renderFiltersInfoAction(searchType,"zgs20_gsModuleFilterList",""),zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0)),"CLOSE"===zgssearch.closeMsg?zgssearch.zeroResultsPage(page):"ERROR"!==zgssearch.closeMsg&&""!==zgssearch.closeMsg||zgssearch.isSearchCallActive&&navigator.onLine||zgssearch.errorResultPage(page))):zgssearch.scrollSearch||zgssearch.openFirstResultCallout(),zgssearch.scrollSearch&&!zgssearch.isBuildChanged&&(zgssearch.scrollSearch=!1,zgssearch.isScrollSearchResults||(zgssearch.getSearchType()==zgssearch.GSConstant.CALENDAR?zgssearch.isTopReached(mresObj="zgs20_gscalendarTemplate")?zgssearch.completedNoMoreResults=!0:zgssearch.isBottomReached(mresObj)&&(zgssearch.futureNoMoreResults=!0):zgssearch.noMoreResults=!0),zgssearch.isScrollSearchResults=!1),zgssearch.multiPageEnabled&&(mresObj=zgssearch.multiResultObj||{},zgssearch.renderMultiMorePageOption(mresObj,searchType),searchType!==zgssearch.GSConstant.SALESFORCE||zgssearch.is_scroll_search||(zgssearch.renderResultsForViewPort(searchType),setTimeout(function(){zgssearch.gskeyboard.checkAndInsertElements()},1e3))),zgssearch.subMultiPageEnabled&&zgssearch.renderSubMultiMorePageOption(searchType),zgssearch.multiPageEnabled||searchType!==zgssearch.GSConstant.SALESFORCE||zgssearch.is_scroll_search||zgssearch.renderResultsForViewPort(searchType),!zgssearch.scrollSearch&&zgssearch.isBuildChanged&&(zgssearch.noMoreResults=!1,zgssearch.completedNoMoreResults=!1,zgssearch.futureNoMoreResults=!1),zgssearch.moduleRenderedInAllApps={},zgssearch.isSearchCallActive=!1,zgssearch.enablingSSIcon()},zgssearch.openFirstResultCallout=function(){var service_name,firstResult,first_click_elem;zgssearch.scrollSearch||zgssearch.firstResultCallOutShown||zgssearch.curSelectedEle||""!=zgssearch.curSelectedEle||(service_name=zgssearch.getSearchType(),zgssearch.gskeyboard.insertElement(),firstResult=zgssearch.gskeyboard.getFirstDataNode(),service_name===zgssearch.GSConstant.SALESFORCE&&(first_click_elem=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?(first_click_elem=_jQueryGS("#zgs20_MultiSearchPageHolder >div")[0],_jQueryGS(first_click_elem).find(".zgs19_gsSearchResultTable")[0]):_jQueryGS(_jQueryGS("#zgs20_gssalesforceResults >div")[0]).find(".zgs19_gsSearchResultTable")[0],firstResult=_jQueryGS(first_click_elem).attr("id")),!zgssearch.isMobViewport()&&firstResult&&_jQueryGS("#"+firstResult).click())},zgssearch.zeroResultsPage=function(pageId,addCls){var errMsg,sugg,cls,className;_jQueryGS("#zgs20_gsSearchResultRight").html(""),zgssearch.hideSearchPageLoader(),0===zgssearch.getRenderedAppsList("zgs20_gsAppsResults").length&&(className=zgssearch.getSearchType(),errMsg=addCls||(zgssearch.searchErrorMsg?zgssearch.getI18NMsg(zgssearch.searchErrorMsg):zgssearch.getI18NMsg("gs.search.error.no_result_match_for_search")),sugg=addCls||zgssearch.searchErrorMsg?"":zgssearch.getI18NMsg("gs.search.error.no_result_match_for_search_try_different"),cls="zgs19_gsTryDifferent zgs19_gsOverflow",addCls="",className==GSConstant.ORGRESOURCES&&(sugg=zgssearch.getI18NMsg("gs.search.error.no_result_feedback_form"),cls="zgs19_gsFeedbackForm",addCls="zgs19_gsResultTitle",zgssearch.gsconnector.renderfeedbackForm()),className=zgssearch.isServiceHasFilter(className)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",_jQueryGS("#"+pageId).append(_jQueryGS("<div>",{class:className+" zgs19_gsOverflowAuto"}).append(_jQueryGS("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(errMsg))).append(_jQueryGS("<div>",{class:cls}).append(_jQueryGS("<div>",{class:addCls}).text(sugg)))),zgssearch.searchErrorMsg="")},zgssearch.errorResultPage=function(errorEleH){var tryagainEle=zgssearch.getSearchType(),excep=zgssearch.getI18NMsg("gs.search.error.generic_error_messege"),className=zgssearch.isServiceHasFilter(tryagainEle)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage",tryagainEle="";0<zgssearch.getRenderedAppsList("zgs20_gsAppsResults").length&&(excep=zgssearch.getI18NMsg("gs.search.error.noresults_generic_error_messege"),tryagainEle=_jQueryGS("<div>",{class:"zgs19_gsTryDifferent zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.getI18NMsg("gs.search.error.tryagain_generic_error_messege")))),_jQueryGS("#"+errorEleH).append(_jQueryGS("<div>",{class:className+" zgs19_gsOverflowAuto"}).append(_jQueryGS("<div>",{class:"zgs19_gsNoResults zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(excep))).append(tryagainEle));errorEleH=_jQueryGS("#"+errorEleH).outerHeight(!0)-_jQueryGS("div#zgs20_gsAppsTemplate").outerHeight(!0);_jQueryGS("."+className).css("height",errorEleH+"px")},zgssearch.clearOldSelectedEle=function(){var elem=zgssearch.curSelectedEle;elem&&_jQueryGS(elem).css("background-color","#fff")},zgssearch.changeBGClass=function(elem,colorout,colorin){elem&&_jQueryGS(elem).removeClass(colorout).addClass(colorin)},zgssearch.initialWeightage=function(obj){zgssearch.iWeightage=obj,zgssearch.weightServices=[]},zgssearch.finalWeightage=function(obj){zgssearch.fWeightage=obj,zgssearch.fillEmptySlots()},zgssearch.setWeightServices=function(service){zgssearch.weightServices.push(service),zgssearch.fillEmptySlots()},zgssearch.fillEmptySlots=function(){for(var wObj=zgssearch.fWeightage||{},sObj=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),searchType=zgssearch.getSearchType(),len=zgssearch.weightServices.length,wi=0;wi<len;wi++){var target,acc_id,rlength,service=zgssearch.weightServices[wi];wObj.hasOwnProperty(service)&&zgssearch.isArrayContain(service,sObj)&&GSConstant.ALL==searchType&&(service=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,target=zgssearch.getTargetElem("zgs20_gs"+service+"Template"),acc_id=_jQueryGS(target).attr("acc_id"),rlength=zgssearch.getShownResultCount(service,acc_id),zgssearch.GSConstant.SALESFORCE,zgssearch.weightServices[wi]="",wObj[service]>rlength&&(zgssearch.renderSearchResults(service,!0,!1,acc_id),zgssearch.handleMoreOptionforWeightage(service,acc_id,target),zgssearch.jqueryMouseEvent()))}},zgssearch.handleMoreOptionforWeightage=function(service,acc_id,target){var sList=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]);zgssearch.isArrayContain(service,sList)&&zgssearch.getServiceResultCount(service,acc_id)<=zgssearch.getShownResultCount(service,acc_id)&&zgssearch.hideResMoreOption(target,service)},zgssearch.handleSSESearchResult=function(response){var mobj;GSConstant.ALL===zgssearch.getSearchType()?(zgssearch.startResultTimer(),zgssearch.handleSearchResult(response)):zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?(mobj=zgssearch.multiResultObj||{},_jQueryGS.isEmptyObject(mobj)&&(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage()),zgssearch.scrollSearch?zgssearch.removeScrollLoader():zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0),zgssearch.processSearchResponse(response)):zgssearch.scrollSearch?(zgssearch.removeScrollLoader(),zgssearch.processSearchResponse(response)):(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.processSearchResponse(response),zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0))},zgssearch.startResultTimer=function(){zgssearch.isBrowserSupportSSE&&(zgssearch.timerEnabled||(zgssearch.timerEnabled=!0,zgssearch.sseWaitingTime=!0,setTimeout(function(){zgssearch.sseWaitingTime=!1,zgssearch.isDashboardOpened||zgssearch.isCardPageOpened||zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),zgssearch.loadSSEHolderSearchResults()},GSConstant.timeoutSSE)))},zgssearch.loadSSEHolderSearchResults=function(){var length=zgssearch.sseHolder.length;if(0<length){for(var sh=0;sh<length;sh++){var obj=zgssearch.sseHolder[sh];zgssearch.processSearchResponse(obj)}zgssearch.sseHolder=[]}},zgssearch.handleSearchResult=function(obj){zgssearch.sseWaitingTime?zgssearch.sseHolder.push(obj):zgssearch.processSearchResponse(obj)},zgssearch.handleNonSSESearchResult=function(response){zgssearch.gsversion.isBuildChanged(response)?(zgssearch.scrollSearch&&(zgssearch.accountUpdateForScroll=!0),zgssearch.firstResultCallOutShown=!0,zgssearch.curSelectedEle="",zgssearch.gsversion.handleVersionChanges(response)):zgssearch.toggleSearchResultsForNonSSE(response)},zgssearch.toggleSearchResultsForNonSSE=function(response){response.hasOwnProperty("nlp_tracer")&&(zgssearch.gsnlpsearch.storeNLPTracerData(response.nlp_tracer),delete response.nlp_tracer);var mobj=zgssearch.getSearchType();GSConstant.ALL===mobj?(zgssearch.displayResultPage(),zgssearch.displayAllResultPage(),response.hasOwnProperty("weightage")&&zgssearch.finalWeightage(response.weightage)):zgssearch.scrollSearch?zgssearch.removeScrollLoader():(mobj=zgssearch.multiResultObj||{},_jQueryGS.isEmptyObject(mobj)&&(zgssearch.displayResultPage(),zgssearch.displayModuleResultPage())),zgssearch.processSearchResponse(response)},zgssearch.processSearchResponse=function(response){if(response.hasOwnProperty("results"))for(var resultsArr=response.results,totres=resultsArr.length,serv=0;serv<totres;serv++){var serviceResArr=resultsArr[serv];if(1==serviceResArr.response_code)for(var service=serviceResArr.service,serviceAccRes=serviceResArr.service_results,tot_acc_results=serviceAccRes.length,acc=0;acc<tot_acc_results;acc++){var eachServRes=serviceAccRes[acc],acc_id=eachServRes.account_id;if(zgssearch.searchErrorMsg="gs.search.error.reload_error_message",!zgssearch.getFilterObj(service)||!zgssearch.getFilterObj(service).accounts)return;if(!zgssearch.isArrayContain(acc_id,zgssearch.getFilterInfo(service,"accounts","accIdArr")))break;zgssearch.searchErrorMsg="",zgssearch.generateSearchResult(service,eachServRes)}}else response.hasOwnProperty("closeSSEAction")&&response.closeSSEAction&&zgssearch.closeConnection()},zgssearch.displayResultPage=function(){zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.hideCalloutHolder(),_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block"),_jQueryGS("#zgs20_gsResultsHolder").css("display","block")},zgssearch.displayModuleResultPage=function(){zgssearch.clearAndReturnCurrResultPage().style.display="block"},zgssearch.clearAndReturnCurrResultPage=function(){_jQueryGS("#zgs20_gsSearchResultRight").html("");var module_elem=document.getElementById("zgs20_gsAllSearchResultPage");module_elem.innerHTML="",module_elem.style.display="none";var multi_portal_elem=document.getElementById("zgs20_gsMultiSearchResultPage");multi_portal_elem.innerHTML="",multi_portal_elem.style.display="none";module_elem=document.getElementById("zgs20_gsModuleSearchResultPage");return module_elem.innerHTML="",module_elem.style.display="none",zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?multi_portal_elem:module_elem},zgssearch.updateCurrentAccountDetails=function(serviceName,accId,metaData,is_cur_acc_update_need){if(zgssearch.updateSpecificAccountDetails(serviceName,accId,metaData),zgssearch.isWidgetService(serviceName)){var connector_id,account_name,mlist,accName=(metaData=metaData||{}).hasOwnProperty("account_name")?metaData.account_name:zgssearch.getAccountNameFromWidget(serviceName,accId);if(serviceName===zgssearch.GSConstant.SUPPORT){if(accId&&metaData.hasOwnProperty("department_id")){var departmentId=metaData.department_id;zgssearch.updateFilterInfo(serviceName,"accounts","current",accId);for(var deptIdArr=departmentId.split(","),curdeptIdArr=zgssearch.getFilterInfo(serviceName,"departments","current").split(","),deptCount=deptIdArr.length,i=0;i<deptCount;i++)if(!zgssearch.includes(deptIdArr[i],curdeptIdArr)){zgssearch.updateFilterInfo(serviceName,"departments","current",departmentId),curdeptIdArr=zgssearch.getFilterInfo(serviceName,"departments","current").split(",");break}var portalName=zgssearch.getFilterData(serviceName,"accounts","data",accId),deptName=0<curdeptIdArr.length?zgssearch.getFilterData(serviceName,"departments","data",curdeptIdArr[0]):"";zgssearch.updateFilterInfo(serviceName,"accounts","dispname",portalName),zgssearch.updateFilterInfo(serviceName,"departments","dispname",deptName)}}else serviceName===zgssearch.GSConstant.CRM||serviceName===zgssearch.GSConstant.BIGIN?(zgssearch.storeServiceResultsAdditionalInfo(serviceName,accId,metaData),(mlist=zgssearch.getFilterInfo(serviceName,"accounts","data"))&&(zgssearch.updateFilterInfo(serviceName,"accounts","current",accId),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",mlist[accId])),(mlist=zgssearch.getFilterInfo(serviceName,"modules","data"))&&""!=mlist&&mlist.hasOwnProperty(accName)&&(zgssearch.updateFilterInfo(serviceName,"modules","current",accName),zgssearch.updateFilterInfo(serviceName,"modules","dispname",mlist[accName]))):serviceName===zgssearch.GSConstant.SALESFORCE?(zgssearch.storeServiceResultsAdditionalInfo(serviceName,accId,metaData),is_cur_acc_update_need=void 0===is_cur_acc_update_need||is_cur_acc_update_need,(connector_id=accId||metaData.account_id||metaData.CONNECTOR_ID||metaData.acc_id)&&is_cur_acc_update_need&&(zgssearch.updateFilterInfo(serviceName,"accounts","current",connector_id),account_name=zgssearch.getFilterData(serviceName,"accounts","data",connector_id),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",account_name),(mlist=zgssearch.getFilterInfo(serviceName,"modules","data")).hasOwnProperty(accName)&&(zgssearch.updateFilterInfo(serviceName,"modules","current",accName),zgssearch.updateFilterInfo(serviceName,"modules","dispname",mlist[accName])))):serviceName===zgssearch.GSConstant.WEBSITE?(GSConstant.rD=GSConstant.rD||metaData.rD,GSConstant.pId=GSConstant.pId||metaData.pId):serviceName===zgssearch.GSConstant.ASANA?(connector_id=accId||metaData.account_id||metaData.CONNECTOR_ID||metaData.acc_id)&&(zgssearch.updateFilterInfo(serviceName,"accounts","current",connector_id),account_name=zgssearch.getFilterData(serviceName,"accounts","data",connector_id),zgssearch.updateFilterInfo(serviceName,"accounts","dispname",account_name),(mlist=zgssearch.getFilterInfo(serviceName,zgssearch.WS,"data")).hasOwnProperty(accName)&&(zgssearch.updateFilterInfo(serviceName,zgssearch.WS,"current",accName),zgssearch.updateFilterInfo(serviceName,zgssearch.WS,"dispname",mlist[accName]))):serviceName!=zgssearch.GSConstant.CAMPAIGNS&&(mlist=zgssearch.getWidgetServiceList(serviceName),zgssearch.updateFilterInfo(serviceName,mlist.key,"dispname",accName||""),zgssearch.updateFilterInfo(serviceName,mlist.key,"current",accId||""))}},zgssearch.storeServiceResultsAdditionalInfo=function(serviceName,fields,metaData){var connector_id;serviceName===GSConstant.CRM||serviceName===GSConstant.BIGIN?zgssearch.assignCRMMetaDetails(serviceName,fields,metaData):serviceName===GSConstant.SALESFORCE&&(connector_id=fields||metaData.CONNECTOR_ID||metaData.acc_id||metaData.account_id,fields=metaData.fields,zgssearch.setServiceResultsAdditionalInfo(serviceName,connector_id,metaData.modId,fields))},zgssearch.setServiceResultsAdditionalInfo=function(service_name,connector_id,modId,fields){zgssearch.service_addtional_info[service_name]=zgssearch.service_addtional_info[service_name]||{};var curr_fields=zgssearch.service_addtional_info[service_name][connector_id]||{};curr_fields[modId]=fields,zgssearch.service_addtional_info[service_name][connector_id]=curr_fields},zgssearch.getServiceResultsAdditionalInfo=function(service_name,connector_id){return zgssearch.service_addtional_info[service_name][connector_id]||{}},zgssearch.updateBooksModuleName=function(serviceName,module){if(module)for(var childMods in zgssearch.booksModulesObj){childMods=zgssearch.booksModulesObj[childMods];if(childMods.key==module){zgssearch.updateFilterInfo(serviceName,"searchin","dispname",childMods.value),zgssearch.updateFilterInfo(serviceName,"searchin","current",childMods.key);break}}},zgssearch.iterResultObjData=function(service_name,accId,metaData){service_name===GSConstant.CONNECT&&(zgssearch.pulseNetworkId[accId]=metaData.network_id,zgssearch.pulseNetworkURL[accId]=metaData.network_url)},zgssearch.storeResultObject=function(service_name,acc_id,metaData,resultArray){var index=0,resultObject={},no_of_results=metaData.no_of_results,completedIndex=-1,futureIndex=0;service_name===zgssearch.GSConstant.CALENDAR&&(zgssearch.isCompleted=0<metaData.completed_no_of_results,zgssearch.isUpcoming=0<metaData.future_no_of_results),zgssearch.isCursorSupportedService(service_name)&&(no_of_results=metaData.total_no_of_results),service_name===zgssearch.GSConstant.CLIQ&&(zgssearch.chidVsMeta=_jQueryGS.extend({},zgssearch.chidVsMeta,metaData.chidVsMeta));var mresObj=zgssearch.resultObject[service_name]||{},mcountObj=zgssearch.resultCount[service_name]||{},account_type=zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(service_name,acc_id):"";if(zgssearch.isServiceHasMultiPortals(service_name))if(service_name===zgssearch.GSConstant.SALESFORCE||service_name==zgssearch.GSConstant.ASANA)zgssearch.storeMultiOrgModuleResults(service_name,acc_id,metaData,resultArray);else if(zgssearch.scrollSearch&&mcountObj.hasOwnProperty(acc_id)&&mresObj.hasOwnProperty(acc_id)&&(index=mcountObj[acc_id],resultObject=mresObj[acc_id]),"1"===account_type){var index=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:index,resultObject=mresObj.hasOwnProperty(acc_id)?mresObj[acc_id]:{},moduleName=metaData.module_id;index=index.hasOwnProperty(moduleName)?index[moduleName]:0,resultObject=resultObject.hasOwnProperty(moduleName)?resultObject[moduleName]:{};for(var i=0;i<no_of_results;i++,index++)resultObject[moduleName+index]=resultArray[i];zgssearch.storeMultiModuleResults(service_name,acc_id,metaData,index,resultObject,mresObj,mcountObj)}else{for(i=0;i<no_of_results;i++,index++)resultObject[service_name+index]=resultArray[i];mcountObj[acc_id]=index,mresObj[acc_id]=resultObject,zgssearch.resultCount[service_name]=mcountObj,zgssearch.resultObject[service_name]=mresObj}else if(service_name===zgssearch.GSConstant.CALENDAR){if(zgssearch.scrollSearch&&(zgssearch.isCompleted&&(completedIndex=zgssearch.resultCount[service_name+"_completed"],completedIndex*=-1,--completedIndex),zgssearch.isUpcoming&&(futureIndex=zgssearch.resultCount[service_name+"_future"]),resultObject=zgssearch.resultObject[service_name]),zgssearch.isCompleted){for(i=0;i<metaData.completed_no_of_results;i++,completedIndex--)resultObject[service_name+completedIndex]=resultArray[i];completedIndex+=1}if(zgssearch.isUpcoming){i=0;for(zgssearch.isCompleted&&(i=metaData.completed_no_of_results);i<no_of_results;i++,futureIndex++)resultObject[service_name+futureIndex]=resultArray[i]}zgssearch.isCompleted&&(zgssearch.calendarScrollValue=85*(metaData.completed_no_of_results-1),zgssearch.resultCount[service_name+"_completed"]=-1*completedIndex),zgssearch.isUpcoming&&(zgssearch.resultCount[service_name+"_future"]=futureIndex),zgssearch.resultCount[service_name]=-1*completedIndex+futureIndex,zgssearch.resultObject[service_name]=resultObject}else if(service_name===zgssearch.GSConstant.SALESFORCE||service_name===zgssearch.GSConstant.CAMPAIGNS||service_name===zgssearch.GSConstant.ASANA)zgssearch.storeMultiOrgModuleResults(service_name,acc_id,metaData,resultArray);else if(zgssearch.scrollSearch&&(index=zgssearch.resultCount[service_name],resultObject=zgssearch.resultObject[service_name]),"1"===account_type){index=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:index,resultObject=mresObj.hasOwnProperty(acc_id)?mresObj[acc_id]:{};moduleName=metaData.module_id;index=index.hasOwnProperty(moduleName)?index[moduleName]:0,resultObject=resultObject.hasOwnProperty(moduleName)?resultObject[moduleName]:{};for(i=0;i<no_of_results;i++,index++)resultObject[moduleName+index]=resultArray[i];zgssearch.storeMultiModuleResults(service_name,acc_id,metaData,index,resultObject,mresObj,mcountObj)}else{for(i=0;i<no_of_results;i++,index++)resultObject[service_name+index]=resultArray[i];zgssearch.resultCount[service_name]=index,zgssearch.resultObject[service_name]=resultObject}},zgssearch.storeMultiModuleResults=function(currService,acc_id,moduleresultObj,index,resultObject,mresObj,mcountObj){var moduleName=moduleresultObj.module_id,moduleresultObj=mcountObj.hasOwnProperty(acc_id)?mcountObj[acc_id]:{};moduleresultObj[moduleName]=index,mcountObj[acc_id]=moduleresultObj;moduleresultObj=mresObj.hasOwnProperty(acc_id)?mresObj[acc_id]:{};moduleresultObj[moduleName]=resultObject,mresObj[acc_id]=moduleresultObj,zgssearch.resultCount[currService]=mcountObj,zgssearch.resultObject[currService]=mresObj},zgssearch.storeMultiOrgModuleResults=function(service_name,acc_id,metaData,cardDetails,searchObj){var max_results_count=zgssearch.max_view_port_results_count;zgssearch.resetAccountMoreResObj(service_name,acc_id);var cardContext,module_results_data=cardDetails,mrdl=module_results_data.length,service_res=zgssearch.resultObject[service_name]||{},service_res_count=zgssearch.resultCount[service_name]||{},account_results_obj=zgssearch.storedServiceMod[service_name]||0,mresObj=service_res[acc_id]||{},mcountObj=service_res_count[acc_id]||{},searchType=zgssearch.getSearchType(),cardObj=service_name==zgssearch.GSConstant.ASANA?"workspaces":"modules",current_mod_name=zgssearch.getCurrentValue(cardObj,service_name);searchObj&&(cardContext=(new zgssearch.dashboardSearchActions).createActionType(),cardDetails=searchObj.cardId,cardObj=zgssearch.gscardinDb.getOriginalCardId(cardDetails),cardObj=cardContext.getCardObjInContext(cardObj)||{},service_res=zgssearch.gscardsresult.cardResultsObj[cardDetails][service_name]||{},service_res_count=zgssearch.gscardsresult.cardResultsCount[cardDetails][service_name],searchType=(searchType=cardObj.service||service_name)||zgssearch.GSConstant.ALL,mresObj=service_res[acc_id]||{},mcountObj=service_res_count||{},cardDetails=(zgssearch.gscardfilter.tempCardIdsVsObj.hasOwnProperty(cardDetails)?zgssearch.gscardfilter.tempCardIdsVsObj[cardDetails]:cardObj).cardconfig,current_mod_name=zgssearch.gscardinDb.getFilterVal(cardDetails,"module")||zgssearch.GSConstant.ALL,_jQueryGS.isEmptyObject(cardObj)&&(current_mod_name=metaData.modId)),searchType===zgssearch.GSConstant.ALL&&(max_results_count=zgssearch.fWeightage[service_name]||zgssearch.iWeightage[service_name]||zgssearch.defaultMaxCount);var isListViewSearch=zgssearch.isListViewSearch();if("all"!==current_mod_name&&"0"!==current_mod_name){var resultObject={},index=0;service_res[acc_id]&&((_jQueryGS.isEmptyObject(searchObj)?"":zgssearch.cardScrollSearch[searchObj.cardId])||zgssearch.scrollSearch)&&service_res[acc_id]&&(resultObject=mresObj[current_mod_name]||{},index=mcountObj[current_mod_name]);for(var result=0;result<mrdl;result++,index++)resultObject[service_name+index]=module_results_data[result];mresObj[current_mod_name]=resultObject,mcountObj[current_mod_name]=index}else{var has_more_results=!1,temp_mresObj={},temp_mcountObj={},queryResCount=0,queryMoreResCount=0,account_results_count=metaData.modId,mod_resulsts=module_results_data,mrl=mod_resulsts.length;if(0<mrl)if(searchType===zgssearch.GSConstant.ALL||isListViewSearch||zgssearch.multiPageEnabled)if(zgssearch.multiPageEnabled&&account_results_obj>=zgssearch.max_mod_count){for(has_more_results=!0,resultObject={},result=0;result<mrl;result++)resultObject[service_name+result]=mod_resulsts[result];temp_mresObj[account_results_count]=resultObject,temp_mcountObj[account_results_count]=Object.keys(resultObject).length}else{zgssearch.storedServiceMod[service_name]=++account_results_obj;for(var resultObject={},temp_mod_results={},index=0,allowed_res_count=0,other_res_count=0,result=0;result<mrl;result++,index++)(searchObj||(searchType!=zgssearch.GSConstant.CAMPAIGNS||"0"!=current_mod_name&&"all"!=current_mod_name)&&isListViewSearch)&&!zgssearch.multiPageEnabled&&searchType!==zgssearch.GSConstant.ALL?(resultObject[service_name+result]=mod_resulsts[result],allowed_res_count++):allowed_res_count<zgssearch.max_mod_results_count&&0<max_results_count?(allowed_res_count++,max_results_count--,resultObject[service_name+result]=mod_resulsts[result]):(temp_mod_results[service_name+result]=mod_resulsts[result],other_res_count++);0<allowed_res_count&&(mresObj[account_results_count]=resultObject,mcountObj[account_results_count]=allowed_res_count),0<other_res_count&&(has_more_results=!0,temp_mresObj[account_results_count]=temp_mod_results,temp_mcountObj[account_results_count]=other_res_count)}else{for(var resultObject={},tempResObj={},result=0;result<mrl;result++,index++)result<zgssearch.max_mod_results_count?(queryResCount++,resultObject[service_name+result]=mod_resulsts[result]):(has_more_results=!0,queryMoreResCount++,tempResObj[service_name+result]=mod_resulsts[result]);mresObj[account_results_count]=resultObject,mcountObj[account_results_count]=Object.keys(resultObject).length,temp_mresObj[account_results_count]=tempResObj,temp_mcountObj[account_results_count]=Object.keys(tempResObj).length}if(!isListViewSearch&&!zgssearch.multiPageEnabled&&queryResCount<zgssearch.max_view_port_results_count&&0<queryMoreResCount){var mod,remainingCount=zgssearch.max_view_port_results_count-queryResCount;for(mod in temp_mresObj){if(remainingCount<0)break;var key,tempResults=temp_mresObj[mod],resultObj=mresObj[mod]||{};for(key in tempResults){if(remainingCount<0)break;resultObj[key]=tempResults[key],delete tempResults[key],remainingCount--}mresObj[mod]=resultObj,mcountObj[mod]=Object.keys(resultObj).length,temp_mresObj[mod]=tempResults,temp_mcountObj[mod]=Object.keys(tempResults).length}}}account_results_obj=zgssearch.resultObject[service_name]||{};account_results_obj[acc_id]=mresObj;var mrc,account_results_count=zgssearch.resultCount[service_name]||{};account_results_count[acc_id]=mcountObj,zgssearch.resultCount[service_name]=account_results_count,zgssearch.resultObject[service_name]=account_results_obj,searchObj&&((mrc={})[service_name]={},mrc[service_name][acc_id]=mresObj,zgssearch.gscardsresult.cardResultsObj[searchObj.cardId]=mrc,zgssearch.gscardsresult.cardResultsCount[searchObj.cardId][service_name]=mcountObj),has_more_results&&(zgssearch.moreResultObject=zgssearch.moreResultObject||{},(mrc=zgssearch.moreResultObject[service_name]||{})[acc_id]=temp_mresObj,zgssearch.moreResultObject[service_name]=mrc,zgssearch.moreResultCount=zgssearch.moreResultCount||{},(mrc=zgssearch.moreResultCount[service_name]||{})[acc_id]=temp_mcountObj,zgssearch.moreResultCount[service_name]=mrc)},zgssearch.resetAccountMoreResObj=function(service_name,account_id){zgssearch.moreResultObject=zgssearch.moreResultObject||{},service_name&&zgssearch.moreResultObject[service_name]&&(account_id&&zgssearch.moreResultObject[service_name][account_id]&&(zgssearch.moreResultObject[service_name][account_id]={}),account_id&&zgssearch.moreResultCount[service_name][account_id]&&(zgssearch.moreResultCount[service_name][account_id]={}))},zgssearch.reArragegeResultsForWeightage=function(service_name,acc_id,toBeShowResCount){var resultObject=zgssearch.getServiceResultObject(service_name,acc_id),result_mod_names=[];for(mod in resultObject)result_mod_names.push(mod);zgssearch.moreResultObject=zgssearch.moreResultObject||{};var serviceAccMoreResultObj=(zgssearch.moreResultObject[service_name]||{})[acc_id]||{},pushing_keys=[];for(mod in serviceAccMoreResultObj){if(toBeShowResCount<=0)break;var key,results=resultObject[mod]||{},moreResults=serviceAccMoreResultObj[mod]||{};for(key in moreResults){if(toBeShowResCount<=0)break;toBeShowResCount--,results[key]=moreResults[key],pushing_keys.push(key)}resultObject[mod]=results}var account_results_count=zgssearch.resultObject[service_name]||{};account_results_count[acc_id]=resultObject,zgssearch.resultObject[service_name]=account_results_count;var mod,account_results_count=zgssearch.resultCount[service_name]||{},resultCount={};for(mod in resultObject)resultCount[mod]=Object.keys(resultObject[mod]).length;account_results_count[acc_id]=resultCount,zgssearch.resultCount[service_name]=account_results_count},zgssearch.assignCRMMetaDetails=function(service,accId,metaData){var key,fullObj=metaData.modules_metadata||metaData.all_search;for(key in fullObj){var fobj=fullObj[key];zgssearch[service+"DataObj"][accId]&&zgssearch[service+"DispObj"][accId]&&zgssearch[service+"MandName"][accId]||(zgssearch[service+"DataObj"][accId]={},zgssearch[service+"DispObj"][accId]={},zgssearch[service+"MandName"][accId]={}),zgssearch[service+"DataObj"][accId][service+"_"+key]||(zgssearch[service+"DataObj"][accId][service+"_"+key]=fobj.search_data_type_columns,zgssearch[service+"DispObj"][accId][service+"_"+key]=fobj.search_display_columns,zgssearch[service+"MandName"][accId][service+"_"+key]=fobj.mand_col)}},zgssearch.checkUndefined=function(str){return void 0===str||"undefined"===str||"null"===str?"":str},zgssearch.addDefWelcomePageResult=function(service_name,acc_id,metaData,resultArray){var wsumm=zgssearch.getFilterInfo(GSConstant.ORGRESOURCES,"accounts","mdefault"),wtitle=acc_id||"";GSConstant.ORGRESOURCES!=service_name||!zgssearch.isListViewSearch()||wtitle!==wsumm||"0"===(wtitle=zgssearch.getCurrentValue("modules",service_name))&&void 0!==wtitle&&"undefined"!==wtitle&&metaData.no_of_results%zgssearch.fetchResCount==0&&(zgssearch.isDefWelAdded=!0,wsumm=zgssearch.getI18NMsg("gs.search.service_connector.welcomepage_tagline"),wtitle=zgssearch.getI18NMsg("gs.search.service_connector.welcomepage_header"),resultArray.unshift({cpt:"0",title:wtitle,summ:wsumm,url:"https://ziasearch.zohosites.com"}),metaData.no_of_results+=1,zgssearch.total_no_of_results+=1,zgssearch.storeResultObject(service_name,acc_id,metaData,resultArray))},zgssearch.getAccountNameFromWidget=function(service_name,accId){var account_name="",account_type="accounts";return account_name=""!==(account_type=service_name==zgssearch.GSConstant.CAMPAIGNS?"modules":account_type)?zgssearch.getFilterData(service_name,account_type,"data",accId):account_name},zgssearch.updateCursorInfo=function(service_name,cursor,cursor_info,cardId,total_no_of_results){var account_id=cursor||cursor_info.account_id||"",no_of_results=cursor_info.no_of_results,cursor=cursor_info.cursor||("object"==typeof total_no_of_results?total_no_of_results.cursor:""),total_no_of_results=cursor_info.total_no_of_results||0,cursor_info={};cursor_info.cursor=cursor,cursor_info.total_no_of_results=total_no_of_results,cursor_info.no_of_results=no_of_results,cardId?zgssearch.service_cursor_info[cardId]=cursor_info:""!==account_id?(zgssearch.service_cursor_info[service_name]=zgssearch.service_cursor_info[service_name]||{},zgssearch.service_cursor_info[service_name][account_id]=cursor_info):zgssearch.service_cursor_info[service_name]=cursor_info},zgssearch.getCursorInfo=function(service_name,accId){return""!==accId?zgssearch.service_cursor_info[service_name][accId]||{}:zgssearch.service_cursor_info[service_name]||{}},zgssearch.updateModuleCursorInfo=function(service_name,cursor_info,account_cursor){var account_id=cursor_info,cursor_info={};cursor_info.cursor=account_cursor;account_cursor={};account_cursor[account_id]=cursor_info,zgssearch.service_module_cursor_info=zgssearch.service_module_cursor_info||{},zgssearch.service_module_cursor_info[service_name]=account_cursor},zgssearch.getModuleCursorInfo=function(service_name,connector_id){return((zgssearch.service_module_cursor_info[service_name]||{})[connector_id]||{}).cursor||""},zgssearch.resetModuleCursorInfo=function(service_name,connector_id){(zgssearch.service_module_cursor_info[service_name]||{})[connector_id]={}},zgssearch.isCursorSupportedService=function(service_name){return-1<zgssearch.cursor_supported_services.indexOf(service_name)},zgssearch.newHandleUserSearchQuery=function(url){zgssearch.network.removeEventSource(),zgssearch.hideSearchPageLoader(),zgssearch.clearPrevSearchAction(),zgssearch.filter_type="search_view",zgssearch.selectedLeftPanelDivision="search",zgssearch.isIntegViewPage&&(zgssearch.hideIntegrationsPage(),""!=url&&url!=zgssearch.GSConstant.ALL||zgssearch.updateSearchType(zgssearch.GSConstant.ALL)),url=zgssearch.isCardPageOpened||zgssearch.isDashboardOpened||zgssearch.gsusersettings.isSettingsOpened?zgssearch.updateSearchPage():url,zgssearch.clearOldSearchData(url),zgssearch.updateQueryBox(url),zgssearch.gsautocomplete.storeRecentSearch(),zgssearch.displayDefaultPage(!0);url=zgssearch.formFinalSearchURL();url?(zgssearch.showSearchPageLoader(),zgssearch.getNewSearchResults(url),zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)"))):(zgssearch.network.abortOngoingCalls(),zgssearch.errorResultPage("zgs20_gsAllSearchResultPage"))},zgssearch.updateSearchPage=function(){zgssearch.isDashboardEnabled&&(zgssearch.setHighlightForLeftDivisonPanel("search"),zgssearch.setStatusClsForLeftDivision());var prevSearchObj=zgssearch.searchObj,service=prevSearchObj.service;zgssearch.gsusersettings.isSettingsOpened&&(_jQueryGS("#zgs20_gsSettingsPage").remove(),_jQueryGS("#zgs20_gsSettingsPages").css("display","none"),_jQueryGS(".zgs18_gsSettingsIconTop").removeClass("zgs19_gsSettingsIconTopSelected"),zgssearch.gsusersettings.isSettingsOpened=!1,zgssearch.isAsanaWorkspacesAuthentication=!1,_jQueryGS(".zgs19_gsServiceOrderDialog").hide(),_jQueryGS(".zgs19_gsServiceAccOrderDialog").hide());var serviceNameInSearchBox=zgssearch.getCurrentQueryCriteria("service");return serviceNameInSearchBox&&service!==serviceNameInSearchBox?(service=zgssearch.includes(serviceNameInSearchBox,zgssearch.getEnabledServiceList())?serviceNameInSearchBox:GSConstant.ALL,zgssearch.updateSearchType(service)):(service=zgssearch.includes(service,zgssearch.getEnabledServiceList())?service:GSConstant.ALL,zgssearch.updateSearchType(service),service!=GSConstant.ALL&&(zgssearch.searchObj=Object.assign({},prevSearchObj))),zgssearch.gshistory.updateSearchURLParams(service,zgssearch.getQueryText()),zgssearch.hideCardsPage(),zgssearch.hideDashboard(),zgssearch.gsfilters.checkFiltersAppliedOrNot(),_jQueryGS("#zgs20_gsSearchResultMiddle").show(),_jQueryGS("#zgs20_gsSearchResultRight").show(),zgssearch.setSizeForRespectiveResultsArea(),service},zgssearch.formFinalSearchURL=function(nextStartValue,scrollType){var filterObj=zgssearch.getFilterConfig();if(filterObj){var advanceConfigArr=filterObj.service,eachConfigArr=filterObj.filterconfig||[],finalURL=zgssearch.getWidgetServiceList(advanceConfigArr);zgssearch.updateMultiPageAndSubPageFlag(advanceConfigArr,finalURL.key);finalURL=(zgssearch.checkisSSECall(advanceConfigArr)?zgssearch.domainURL:zgssearch.getserviceresultsURL)+"?search_type="+advanceConfigArr;return finalURL+=0<eachConfigArr.length?"&query_object="+encodeURIComponent(JSON.stringify(eachConfigArr)):"",finalURL+="&no_of_results="+zgssearch.fetchResCount+"&usd=true",zgssearch.ismultiConfigEnabled&&(GSConstant.ALL!==advanceConfigArr&&!zgssearch.multiPageEnabled||(finalURL+="&startSet="+zgssearch.multiStartSet)),!filterObj.hasOwnProperty("advanceconfig")||0<(advanceConfigArr=filterObj.advanceconfig).length&&(finalURL+="&adv_query_object="+encodeURIComponent(JSON.stringify(advanceConfigArr))+"&querypattern="+encodeURIComponent(filterObj.querypattern)),finalURL+=nextStartValue?"&is_scroll=true&start="+nextStartValue:"&is_scroll=false",scrollType&&(finalURL+="&scroll_type="+scrollType),finalURL}return""},zgssearch.updateQueryBox=function(search_type,criteriaObj){var mquery=criteriaObj||zgssearch.getQueryText();zgssearch.gshistory.updateSearchURLParams(search_type,mquery);var tdisp=zgssearch.getCurrentQueryCriteria("services"),criteriaObj=zgssearch.isURLParamsSearch?zgssearch.getMappedServiceList():zgssearch.gsautocomplete.get("services");criteriaObj.hasOwnProperty(search_type)&&tdisp!==search_type&&(zgssearch.isQueryHasServiceCriteria()||!mquery&&!zgssearch.isQueryHasUserCriteria()||zgssearch.isURLParamsSearch)&&(tdisp=zgssearch.isURLParamsSearch?criteriaObj[search_type].displayName:criteriaObj[search_type],(criteriaObj={}).services={name:tdisp,services:search_type},zgssearch.isURLParamsSearch&&(criteriaObj.query1={name:mquery},zgssearch.emptySearchBoxValues()),zgssearch.renderQuerySpanElement(criteriaObj),zgssearch.handleSearchCloseIcon())},zgssearch.getNewSearchResults=function(url){var query,curService=zgssearch.getSearchType();zgssearch.searchURL=url,zgssearch.renderFiltersInfoAction(curService),zgssearch.isArrayContain(curService,zgssearch.handlebarDependentService)&&!zgssearch.isHandlebarLoaded()&&((new ZSHandlebarsResource).load(),zgssearch.handlebarsErrShown=!1,zgssearch.waitForHandlebarLoad=!1),zgssearch.gscomponent.isShowAppsData&&(query=zgssearch.getAllQueryText(),zgssearch.isQueryValid(query)&&"all"===curService&&(zgssearch.resetRelatedProducts(),zgssearch.rpUIConfig.currCallType="",zgssearch.rpUIConfig.searchedQuery=query,zgssearch.rpUIConfig.isRPSearchCallActive=!0)),url+=zgssearch.getBuildDetails()+"&__T="+(new Date).getTime(),zgssearch.isExtension&&(url+="&api_consumer=zgs-ex"),GSConstant.nlpSearchEnabled&&document.getElementById("zgs20_gsNLPSearchEnabled")&&!document.getElementById("zgs20_gsNLPSearchEnabled").disabled&&document.getElementById("zgs20_gsNLPSearchEnabled").checked&&(url+="&nlpsearch=true",zgssearch.updateLastSearchQuery("nlpsearch","true")),zgssearch.isSearchCallActive=!0,zgssearch.network.abortOngoingCalls(),zgssearch.scrollSearch||(zgssearch.disablingSSIcon(),zgssearch.showSearchPageLoader()),zgssearch.checkisSSECall(zgssearch.getSearchType())?zgssearch.network.getSearchResultsForSSE(url):zgssearch.getSearchResultsForNonSSE(url)},zgssearch.isMultiSelectResults=function(service,fkey,defValue){var curValue=zgssearch.searchObj;return curValue.hasOwnProperty(fkey)&&service===curValue.service?zgssearch.checkContextFiltersAppliedOrNot(fkey,defValue):zgssearch.getFilterInfo(service,fkey,"default")===defValue},zgssearch.updateMultiPageAndSubPageFlag=function(service,key){zgssearch.updateMultiPageFlag(service,key),zgssearch.checkAndUpdateSubMultiPageFlag(service)},zgssearch.updateSubMultiPageFlagNoWidgetData=function(currAccountId){currAccountId===zgssearch.GSConstant.MAILS&&(currAccountId=zgssearch.getCurrentValue("accounts",currAccountId),zgssearch.multiPageEnabled||"0"!==currAccountId||zgssearch.updateSubMultiPageFlag("0"))},zgssearch.checkAndUpdateSubMultiPageFlag=function(account_type){var currModule;account_type===zgssearch.GSConstant.MAILS&&(currModule=zgssearch.getCurrentValue("accounts",account_type),account_type=zgssearch.getAccountType(account_type,currModule)||"0",currModule=(currModule=zgssearch.getCurrentValue("modules"))&&"1"===account_type?currModule[0]:"",zgssearch.updateSubMultiPageFlag(currModule))},zgssearch.generateSearchResult=function(service_name,serviceResArr){zgssearch.gsautocomplete.isAutoSuggDisplay&&zgssearch.removeQuerySugg();var sList=zgssearch.getServiceList("serviceList")||[],errorId=serviceResArr.response_code;if(1==errorId)if(zgssearch.isArrayContain(service_name,zgssearch.handlebarDependentService)&&zgssearch.isArrayContain(service_name,sList)&&!zgssearch.isHandlebarLoaded())zgssearch.waitForHandlebarLoad?zgssearch.handlebarsErrShown||(errorId=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?"zgs20_gsMultiSearchResultPage":"zgs20_gsModuleSearchResultPage",zgssearch.zeroResultsPage(errorId,zgssearch.getI18NMsg("gs.search.error.reload_error_message")),zgssearch.multiPageEnabled&&(zgssearch.handlebarsErrShown=!0)):setTimeout(function(){zgssearch.waitForHandlebarLoad=!0,zgssearch.generateSearchResult(service_name,serviceResArr)},2e3);else if(service_name===GSConstant.NOTEBOOK&&zgssearch.isArrayContain(service_name,sList)&&!zgssearch.isNotebookComponentLoaded)zgssearch.loadNotebookComponent(function(){zgssearch.generateSearchResult(service_name,serviceResArr)});else{var accId=serviceResArr.hasOwnProperty("account_id")?serviceResArr.account_id:"";if(serviceResArr.hasOwnProperty("account_results")){var modResArr=serviceResArr.account_results,totalmodRes=modResArr.length,currSearchType=zgssearch.getSearchType(),currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name;service_name===zgssearch.GSConstant.MAILS&&zgssearch.updateSubMultiPageFlagNoWidgetData(service_name),!zgssearch.multiPageEnabled&&1<totalmodRes&&currService!==zgssearch.GSConstant.ALL&&zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&zgssearch.displayModuleResultPage();for(var i=0;i<totalmodRes;i++){var account_name=modResArr[i],metaData=account_name.meta_data,resultArray=account_name.result_objects;if("appsearch"===service_name){zgssearch.onSuccessRelatedProducts(account_name);break}var no_of_results=metaData.no_of_results,resModuleName=metaData.hasOwnProperty("module_id")?metaData.module_id:"",account_type=metaData.hasOwnProperty("modId")?metaData.modId:"";if(service_name==zgssearch.GSConstant.ASANA){zgssearch.searchErrorMsg="gs.search.error.reload_error_message";var totResults=zgssearch.getFilterInfo(service_name,"workspaces","data");if(!totResults||_jQueryGS.isEmptyObject(totResults)||!totResults[accId])return;if("object"!=typeof totResults[accId]||!totResults[accId].hasOwnProperty(account_type))return;zgssearch.searchErrorMsg=""}totResults=no_of_results,account_type=zgssearch.getCurrentValue("modules",service_name);service_name==GSConstant.SALESFORCE&&"all"===account_type&&(totResults=totalmodRes),zgssearch.hasSearchResults(totResults),account_name.account_id=accId,zgssearch.setResponseObject(service_name,accId,account_name,metaData);account_type=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]);zgssearch.updateCursorInfo(service_name,accId,metaData),service_name!=GSConstant.DROPBOX&&service_name!=GSConstant.GOOGLEDRIVE&&service_name!=GSConstant.SLACK&&service_name!=GSConstant.O365MAIL&&service_name!=GSConstant.ONEDRIVE&&service_name!=GSConstant.GMAIL||(zgssearch.cursorObj[accId]=zgssearch.getCursorInfo(service_name,accId)),service_name!==zgssearch.GSConstant.SALESFORCE&&service_name!==zgssearch.GSConstant.ASANA||zgssearch.updateModuleCursorInfo(service_name,accId,serviceResArr.cursor);account_name=metaData.account_name||zgssearch.getAccountNameFromWidget(service_name,accId);if(account_name&&(metaData.account_name=account_name),0<no_of_results&&zgssearch.isArrayContain(service_name,account_type)){zgssearch.storeResultObject(service_name,accId,metaData,resultArray),zgssearch.iterResultObjData(service_name,accId,metaData);account_type=zgssearch.isArrayContain(service_name,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(service_name,accId):"";if(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||currSearchType==zgssearch.GSConstant.ALL&&zgssearch.isServiceHasMultiPortals(service_name)){service_name===zgssearch.GSConstant.SALESFORCE&&zgssearch.updateCurrentAccountDetails(service_name,accId,metaData,!1),service_name!==zgssearch.GSConstant.BIGIN&&service_name!==zgssearch.GSConstant.CRM||zgssearch.assignCRMMetaDetails(service_name,accId,metaData);var res,templateService=zgssearch.isMultiDefaultAccount(service_name,accId),mresArr=zgssearch.multiResultObj[service_name]||[],accResPresent=!1;for(res in mresArr)accId==mresArr[res].account_id&&(accResPresent=!0);accResPresent||(templateService?mresArr.unshift(serviceResArr):mresArr.push(serviceResArr),"1"===account_type&&(zgssearch.isArrayContain(resModuleName,zgssearch.mail_module_subset)||zgssearch.mail_module_subset.push(resModuleName))),zgssearch.updateSpecificAccountDetails(service_name,accId,metaData),"1"===account_type&&(zgssearch.isArrayContain(resModuleName,zgssearch.mail_module_subset)||(zgssearch.mail_module_subset.push(resModuleName),mresArr.push(serviceResArr))),zgssearch.multiResultObj[service_name]=mresArr;var defAccId,defmetaData,defresArr;totResults==i+1||zgssearch.GSConstant.SALESFORCE,templateService&&(defAccId=accId,defmetaData=metaData,defresArr=resultArray,zgssearch.isArrayContain(service_name,zgssearch.multiModServices)||zgssearch.renderSingleMultiResults(service_name,accId,metaData,resultArray))}else zgssearch.moduleRenderedInAllApps[service_name]||(currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,templateService=service_name,resModuleName=metaData.module_id,zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&"1"===account_type&&(zgssearch.isArrayContain(resModuleName,zgssearch.mail_module_subset)||zgssearch.mail_module_subset.push(resModuleName),templateService=resModuleName),zgssearch.scrollSearch?(zgssearch.isScrollSearchResults=!0,!zgssearch.accountUpdateForScroll&&currService!==zgssearch.GSConstant.CRM&&currService!==zgssearch.GSConstant.BIGIN||(zgssearch.updateCurrentAccountDetails(currService,accId,metaData),zgssearch.accountUpdateForScroll=!1),currService===zgssearch.GSConstant.CRM&&zgssearch.assignCRMMetaDetails(currService,accId,metaData),currService===zgssearch.GSConstant.SALESFORCE&&zgssearch.storeServiceResultsAdditionalInfo(currService,accId,metaData)):(zgssearch.updateCurrentAccountDetails(currService,accId,metaData),zgssearch.renderFiltersInfoAction(service_name),zgssearch.createServiceTemplate(templateService,accId,metaData),zgssearch.addDefWelcomePageResult(currService,accId,metaData,resultArray)),zgssearch.renderSearchResults(templateService,!1,!1,accId),currSearchType!=zgssearch.GSConstant.ALL||service_name!=zgssearch.GSConstant.SALESFORCE&&service_name!=zgssearch.GSConstant.CAMPAIGNS||0!=i||(zgssearch.moduleRenderedInAllApps[service_name]=!0),zgssearch.jqueryMouseEvent())}else zgssearch.scrollSearch&&(zgssearch.noMoreResults=!0)}(zgssearch.multiPageEnabled||currSearchType==zgssearch.GSConstant.ALL)&&zgssearch.isArrayContain(service_name,zgssearch.multiModServices)&&defAccId&&zgssearch.renderSingleMultiResults(service_name,defAccId,defmetaData,defresArr),zgssearch.storedServiceMod[service_name]=0}}},zgssearch.renderMultiResults=function(){var searchType=zgssearch.getSearchType(),mresObj=zgssearch.multiResultObj||{};if(zgssearch.GSConstant.ALL==searchType)for(var ser in mresObj)zgssearch.renderInnerMultiResults(mresObj,ser,1);else if(zgssearch.isArrayContain(searchType,zgssearch.account_based_filter_service_list)&&!zgssearch.multiPageEnabled&&mresObj.hasOwnProperty(searchType)||zgssearch.resultCount.hasOwnProperty(searchType)){var currModulesList=[],currModuleResultList=[],submresObj=[],currentSelecteModule="",no_of_results=zgssearch.gFilterData[searchType],acc_id=no_of_results&&no_of_results.accounts?zgssearch.getCurrentValue("accounts",searchType):"";if("1"===zgssearch.getAccountType(searchType,acc_id)){no_of_results.hasOwnProperty("enabled_mod_list")?(currentSelecteModule="0"!==(no_of_results=zgssearch.getCurrentValue("modules",searchType))?no_of_results:"")?(no_of_results=zgssearch.getServiceResultCount(currentSelecteModule,acc_id),zgssearch.getShownResultCount(currentSelecteModule,acc_id)<no_of_results&&currModulesList.push(currentSelecteModule)):currModulesList=zgssearch.configured_mail_module:zgssearch.isArrayContain(searchType,currModulesList)||currModulesList.push(searchType);for(var currSearchTypeResultsListLen=currModulesList.length,i=0;i<currSearchTypeResultsListLen;i++){var serviceResult=currModulesList[i]+acc_id,responseObj=zgssearch.getResponseObject(serviceResult),serviceResult=responseObj||zgssearch.multiResultObj[serviceResult];serviceResult&&currModuleResultList.push(serviceResult)}0<currModuleResultList.length&&(submresObj[searchType]=currModuleResultList,zgssearch.renderInnerMultiResults(submresObj,searchType,currSearchTypeResultsListLen))}else zgssearch.multiPageEnabled&&mresObj.hasOwnProperty(searchType)&&zgssearch.renderInnerMultiResults(mresObj,searchType)}else zgssearch.multiPageEnabled&&mresObj.hasOwnProperty(searchType)&&zgssearch.renderInnerMultiResults(mresObj,searchType);zgssearch.openFirstResultCallout()},zgssearch.renderInnerMultiResults=function(mresObj,service,limit){var tempResArr=mresObj[service]||[],trlen=tempResArr.length;if(trlen){limit=limit||trlen;for(var acc=0;acc<trlen&&acc<limit;acc++){var eachres=tempResArr[acc],accId=eachres.account_id;if(eachres.hasOwnProperty("account_results"))for(var modResArr=eachres.account_results,totalModRes=modResArr.length,j=0;j<totalModRes;j++){var resArr=modResArr[j],metaData=resArr.meta_data,resArr=resArr.result_objects;zgssearch.renderSingleMultiResults(service,accId,metaData,resArr)}else zgssearch.renderSingleMultiResults(service,accId,eachres.meta_data,eachres.result_objects)}}else zgssearch.renderSingleMultiResults(service,tempResArr.account_id,tempResArr.meta_data,tempResArr.result_objects)},zgssearch.renderSingleMultiResults=function(service,accId,metaData,resultArray){var currService=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,multiServiceArr=zgssearch.multiResulList[currService]||[],account_id=(metaData.hasOwnProperty("module_id")?metaData.module_id:service)+(accId||metaData.account_id||metaData.CONNECTOR_ID);zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&service==zgssearch.GSConstant.MAILS&&(service=metaData.module_id),zgssearch.isArrayContain(account_id,multiServiceArr)||(zgssearch.multiResCount++,multiServiceArr.push(account_id),zgssearch.multiResulList[currService]=multiServiceArr,zgssearch.createServiceTemplate(service,accId,metaData),zgssearch.addDefWelcomePageResult(service,accId,metaData,resultArray),zgssearch.renderSearchResults(service,!1,!1,accId),zgssearch.jqueryMouseEvent())},zgssearch.handleResizeForMultiPortalPage=function(){var service_name,currService,filterData,accId,searchType,mresObj;(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(mresObj="zgs20_MultiSearchPageHolder",service_name=zgssearch.getSearchType(),currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,filterData=zgssearch.gFilterData[currService],accId=zgssearch.getCurrentValue("accounts",service_name),"1"===(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,accId):"")&&(!filterData.hasOwnProperty("enabled_mod_list")||"all"!==(searchType=zgssearch.getCurrentValue("modules",service_name))&&(mresObj="zgs20_gs"+searchType+"Template")),zgssearch.setServiceResPaneHeight(mresObj),searchType=zgssearch.getSearchType(),mresObj=zgssearch.multiResultObj||{},zgssearch.renderMultiMorePageOption(mresObj,searchType))},zgssearch.getMoreResultCount=function(searchType,current_acc_id){var more_res_count=0;current_acc_id=current_acc_id||"",zgssearch.moreResultCount=zgssearch.moreResultCount||{};var acc_id,moreResultCountObj=zgssearch.moreResultCount[searchType];for(acc_id in moreResultCountObj)if(""===current_acc_id||current_acc_id===acc_id){var mod,modResCountObj=moreResultCountObj[acc_id];for(mod in modResCountObj)more_res_count+=modResCountObj[mod];if(current_acc_id===acc_id)break}return more_res_count},zgssearch.getRenderedResultCount=function(searchType,current_acc_id){var res_count=0;current_acc_id=current_acc_id||"",zgssearch.resultCount=zgssearch.resultCount||{};var acc_id,sResCountObj=zgssearch.resultCount[searchType];for(acc_id in sResCountObj)if(""===current_acc_id||current_acc_id===acc_id){var mod,modResCountObj=sResCountObj[acc_id];for(mod in modResCountObj)res_count+=modResCountObj[mod];if(current_acc_id===acc_id)break}return res_count},zgssearch.renderModuleResults=function(service_name){service_name===zgssearch.GSConstant.SALESFORCE&&"all"!==zgssearch.getCurrentValue("modules",service_name)&&zgssearch.renderResultsForViewPort(service_name)},zgssearch.renderAccountResults=function(service_name,current_acc_id){if(service_name===zgssearch.GSConstant.SALESFORCE){zgssearch.moreResultObject=zgssearch.moreResultObject||{};var moreResultObject=zgssearch.moreResultObject[service_name];if(moreResultObject){var accMoreResultObject=moreResultObject[current_acc_id],accResultObject=zgssearch.resultObject[service_name][current_acc_id],accResultCountObject=zgssearch.resultCount[service_name][current_acc_id];if(0<zgssearch.getMoreResultCount(service_name,current_acc_id)){for(var mod in accMoreResultObject){var key,results=accMoreResultObject[mod],temp_obj=accResultObject[mod]||{};for(key in results)temp_obj[key]=results[key];0<Object.keys(temp_obj).length&&(accResultObject[mod]=temp_obj,accResultCountObject[mod]=Object.keys(temp_obj).length)}zgssearch.resetAccountMoreResObj(service_name,current_acc_id)}}}},zgssearch.renderResultsForViewPort=function(searchType){if(searchType===zgssearch.GSConstant.SALESFORCE){if(0<zgssearch.getMoreResultCount(searchType)){var tarElem=zgssearch.getRenderedResultCount(searchType);if(tarElem<zgssearch.max_view_port_results_count){zgssearch.console.log(searchType+" Render more results for view port");var results_requires_count=zgssearch.max_view_port_results_count-tarElem;zgssearch.moreResultObject=zgssearch.moreResultObject||{};var moreResultObject=zgssearch.moreResultObject[searchType];for(acc_id in moreResultObject){var accResultObject=zgssearch.resultObject[searchType][acc_id],accResultObjectCount=zgssearch.resultCount[searchType][acc_id],moreModResObj=moreResultObject[acc_id];if(zgssearch.multiPageEnabled)for(var mod in moreModResObj){var temp_obj={};if(!accResultObject[mod]){var current_mod_res_count=0;for(key in results=moreModResObj[mod])current_mod_res_count<zgssearch.max_mod_results_count&&(temp_obj[key]=results[key],current_mod_res_count++,results_requires_count--),accResultObject[mod]=temp_obj,accResultObjectCount[mod]=Object.keys(temp_obj).length}}if(0<results_requires_count)for(var mod in moreModResObj){var key,results=moreModResObj[mod],temp_obj=accResultObject[mod]||{};for(key in results){if(results_requires_count<=0)break;temp_obj[key]=results[key],results_requires_count--}if(0<Object.keys(temp_obj).length&&(accResultObject[mod]=temp_obj,accResultObjectCount[mod]=Object.keys(temp_obj).length),results_requires_count<=0)break}if(results_requires_count<=0)break}for(var multiResultsData=zgssearch.multiResultObj[searchType],multiResultsDataLength=multiResultsData.length,acc=0;acc<multiResultsDataLength;acc++)for(var account_info=multiResultsData[acc],acc_id=account_info.account_id||account_info.CONNECTOR_ID||account_info.acc_id,totalModRes=account_info.account_results.length,j=0;j<totalModRes;j++)zgssearch.renderSearchResults(searchType,!1,!1,acc_id);tarElem=_jQueryGS("#zgs20_MultiSearchPageHolder >div")[0],tarElem=_jQueryGS(tarElem).find(".zgs19_gsSearchResultTable")[0];zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.changeBGClass(tarElem,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem")}}zgssearch.Utils.setServiceModResultsWidth(searchType)}},zgssearch.hasVerticalScrollBar=function(target){var hasScroll=!1,target=zgssearch.getTargetElem(target);return hasScroll=target?target.scrollHeight>target.clientHeight:hasScroll},zgssearch.renderMultiMorePageOption=function(index,service){var tempResArr,ailen,sset;zgssearch.multiPageEnabled&&(zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder")||(tempResArr=index[service]||[],ailen=zgssearch.getWidgetServiceList(service),ailen=(index=zgssearch.getFilterInfo(service,ailen.key,"accIdArr")).length-1,0<(index=zgssearch.getMultiPageIndex(service,index,tempResArr))&&index<ailen&&0<zgssearch.multiResCount&&zgssearch.multiStartSet!=(sset=(index+index%2)/2)?zgssearch.handleMultiPageScroll(service,sset):zgssearch.weightageForMultiPage(service,tempResArr),zgssearch.jqueryMouseEvent()))},zgssearch.renderSubMultiMorePageOption=function(searchType){if(zgssearch.mappedServiceList[searchType]){var filterData=zgssearch.gFilterData.hasOwnProperty(searchType)?zgssearch.gFilterData[searchType]:"";if(filterData)for(var account_id=filterData.hasOwnProperty("accounts")?zgssearch.getCurrentValue("accounts",searchType):"",shownSubMultiResArr=zgssearch.resultToBeShown.hasOwnProperty(searchType)?zgssearch.resultToBeShown[searchType][account_id]:[],flag=!0;flag;){var isMore=!1;if(!zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder"))for(var confServices=shownSubMultiResArr?Object.keys(shownSubMultiResArr):[],trlen=confServices.length,i=0;i<trlen;i++){var target,eachSubService=confServices[i];shownSubMultiResArr[eachSubService]<zgssearch.getServiceResultCount(eachSubService,account_id)&&(zgssearch.renderSearchResults(eachSubService,isMore=!0,!1,account_id),target=zgssearch.getTargetElem("zgs20_gs_"+eachSubService+"_"+account_id+"Template"),zgssearch.handleMoreOptionforWeightage(eachSubService,account_id,target))}flag=isMore}}},zgssearch.getMultiPageIndex=function(service,accIdArr,tempResArr){var temp_acc_arr=[];if(-1<zgssearch.getEnabledCloudApps().indexOf(service)){var tempResArrLength=tempResArr.length;if(accIdArr.length-1>tempResArrLength){for(var need_update=!1,i=0;i<tempResArrLength;i++)if((trobj=tempResArr[i]).account_id!==accIdArr[i+1]){need_update=!0;break}if(need_update){temp_acc_arr.push("0");for(i=0;i<tempResArrLength;i++){var trobj=tempResArr[i];temp_acc_arr.indexOf(trobj.account_id)<=-1&&temp_acc_arr.push(trobj.account_id)}for(var accIdArrLength=accIdArr.length,i=0;i<accIdArrLength;i++)temp_acc_arr.indexOf(accIdArr[i])<=-1&&temp_acc_arr.push(accIdArr[i])}}}return temp_acc_arr.length<=0&&(temp_acc_arr=accIdArr),zgssearch.getSearchedMultiPageIndex(service,tempResArr,temp_acc_arr)},zgssearch.getSearchedMultiPageIndex=function(service,tempResArr,accIdArr){for(var index=-1,trlen=tempResArr.length,i=0;i<trlen;i++)var accIndex=tempResArr[i],accIndex=accIndex.account_id||accIndex.CONNECTOR_ID,accIndex=accIdArr.indexOf(accIndex),index=accIndex<index?index:accIndex;return zgssearch.isArrayContain(service,zgssearch.account_based_filter_service_list)&&zgssearch.gFilterData[service].all_mod_list&&1<zgssearch.gFilterData[service].all_mod_list.length&&index--,index},zgssearch.weightageForMultiPage=function(service,resArr){if(zgssearch.multiPageEnabled)for(var flag=!0;flag;){var isMore=!1;if(!zgssearch.hasVerticalScrollBar("zgs20_MultiSearchPageHolder"))for(var trlen=resArr.length,i=0;i<trlen;i++)for(var trobj=resArr[i],account_id=trobj.account_id||"",modResArr=trobj.account_results,j=0;j<modResArr.length;j++){var metaData=modResArr[j].meta_data;service=metaData.hasOwnProperty("module_id")?metaData.module_id:service;var target=metaData.no_of_results,target=(target=service===GSConstant.SALESFORCE?metaData.hasOwnProperty("cursor")?metaData.cursor:modResArr.length:target)||0;zgssearch.getShownResultCount(service,account_id)<target&&(zgssearch.renderSearchResults(service,isMore=!0,!1,account_id),target=zgssearch.getTargetElem("zgs20_gs"+account_id+"Template"),zgssearch.handleMoreOptionforWeightage(service,account_id,target))}flag=isMore}},zgssearch.getResObjByAccId=function(service,acc_id,moduleName){var trobj={},tempResArr=(zgssearch.multiResultObj||{})[zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service]||[],trlen=tempResArr.length;if(0<trlen)for(var i=0;i<trlen;i++){var tempobj=tempResArr[i],account_id=tempobj.account_id||tempobj.CONNECTOR_ID||tempobj.acc_id;if(moduleName)if(tempobj.account_results[0].meta_data.module_id===moduleName){trobj=tempobj;break}if(account_id==acc_id){trobj=tempobj;break}}return trobj},zgssearch.loadSearchResults=function(service_name,acc_id,currModule){var mresObj=zgssearch.getAccountType(service_name,acc_id),currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,mresObj=zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,acc_id):"",moduleName=_jQueryGS(currModule).attr("module_name")||"";zgssearch.multiPageEnabled||"1"!==mresObj||(zgssearch.resultToBeShown[currService]=0),zgssearch.gshistory.updateSearchURLParams(currService),service_name==GSConstant.MAILS&&"1"===mresObj&&""!==moduleName&&(currModule=zgssearch.getCurrentValue("modules",currService),zgssearch.updateSubMultiPageFlag(currModule)),zgssearch.displayResultPage(),zgssearch.displayModuleResultPage(),zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||"1"===mresObj?(zgssearch.renderFiltersInfoAction(currService),zgssearch.renderMultiResults(),mresObj=zgssearch.multiResultObj||{},zgssearch.renderMultiMorePageOption(mresObj,service_name),zgssearch.subMultiPageEnabled&&zgssearch.renderSubMultiMorePageOption(currService)):(zgssearch.renderFiltersInfoAction(service_name),zgssearch.createServiceTemplate(service_name),service_name===zgssearch.GSConstant.SALESFORCE&&zgssearch.renderAccountResults(service_name,acc_id),zgssearch.renderSearchResults(service_name,!1,!1,acc_id,moduleName)),service_name!==zgssearch.GSConstant.CALENDAR&&zgssearch.setScrollTop(".zgs19_gsModuleScrollPage",0),zgssearch.jqueryMouseEvent()},zgssearch.getSpecificResultsObject=function(serviceObj,service,module){return service!==zgssearch.GSConstant.SALESFORCE&&service!==zgssearch.GSConstant.ASANA&&service!==zgssearch.GSConstant.CAMPAIGNS||!module?serviceObj:serviceObj[module]},zgssearch.findPosY=function(obj,target){var curtop=0;if(obj)if(obj.offsetParent){for(;null!=obj&&obj.offsetParent!=target;)curtop+=obj.offsetTop,obj=obj.offsetParent;0==curtop&&(curtop+=obj.offsetTop)}else obj.y?curtop+=obj.y:curtop+=obj.offsetTop;return curtop},zgssearch.findPosX=function(obj,target){var curleft=0;if(obj)if(obj.offsetParent){for(;null!=obj&&obj.offsetParent!=target;)curleft+=obj.offsetLeft,obj=obj.offsetParent;0==curleft&&(curleft+=obj.offsetLeft)}else obj.x?curleft+=obj.x:curleft+=obj.offsetLeft;return curleft},zgssearch.hasOwnProperty("onSuccessFunction")&&zgssearch.hasOwnProperty("serviceList")&&zgssearch.loadResultsFromHolder(),zgssearch.showBiggerSearch=function(){_jQueryGS("#zgs20_globalsearch").show(),zgssearch.focusForWeb("zgs20_gsQueryBox"),_jQueryGS("#zgs20_zohosearchLoader").hide()},zgssearch.resetZiaMobileResultArea=function(){var resultDisp=_jQueryGS("#zgs20_gsSearchResultRight").css("display"),calloutDisp=_jQueryGS("#zgs20_gsSearchResultMiddle").css("display");"block"!=resultDisp&&"block"!=calloutDisp||(zgssearch.isMobViewport()?(zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.firstResultCallOutShown=!1,zgssearch.curSelectedEle="",_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultMiddle").css("width","100%"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","none")):(_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block"),_jQueryGS(".zgs19_gsCalloutActionMob").css("display","none"),_jQueryGS(".zgs19_gsMobDisableFields").css("display","block"),zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)")))},zgssearch.resetZiaMobileCalloutArea=function(){var resultDisp=_jQueryGS("#zgs20_gsSearchResultRight").css("display"),calloutDisp=_jQueryGS("#zgs20_gsSearchResultMiddle").css("display");"block"!==resultDisp&&"block"!==calloutDisp||zgssearch.isMobViewport()||zgssearch.curSelectedEle||0===zgssearch.total_no_of_results||zgssearch.openFirstResultCallout()},zgssearch.getLHSServicePaneHeight=function(){return"ZW"===gscomponent.pcode&&(gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia)?0:_jQueryGS("#zgs20_gsSearchResultLeft").height()},zgssearch.getWMSBarHeight=function(){return zgssearch.isMobViewport()?0:_jQueryGS("#wmstoolbar").height()||28},zgssearch.getResultAreaWidth=function(){return _jQueryGS("#zgs20_gsSearchResultMiddle").width()+1},zgssearch.setCalloutPreviewPosition=function(){var sizeObj=gscomponent.isResizeEnabled()?zgssearch.getLHSServicePaneWidth():"auto",sizeObj=zgssearch.isMaxCalloutOpen?sizeObj:zgssearch.getResultAreaWidth();zgssearch.isMaxCalloutOpen?_jQueryGS("#zgs20_gsSearchResultRight").css("inset-inline-start","0px !important"):(_jQueryGS("#zgs20_gsSearchResultRight").css("inset-inline-start",sizeObj+"px"),sizeObj=zgssearch.getSizeForResultsArea(),_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",sizeObj.resultsAreaW+"px"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",sizeObj.calloutAreaW+"px"))},zgssearch.setSearchBoxSegmentSize=function(){var ssIconW,filterIcon,filterIconW,extraIconW,searchBoxW,queryBoxW=_jQueryGS(".zgs19_gsqryinnerdiv").outerWidth(!0);0<queryBoxW&&(searchBoxW=_jQueryGS("#zgs20_gsQueryCloseBox").outerWidth(!0),ssIconW=_jQueryGS("#zgs20_gsSSIconHolder").is(":visible")?_jQueryGS("#zgs20_gsSSIconHolder").outerWidth(!0):0,extraIconW=_jQueryGS(".zgs19_gsnlpZia").is(":visible")?_jQueryGS(".zgs19_gsnlpZia").outerWidth(!0):0,filterIconW=(filterIcon=_jQueryGS("#zgs20_gsFilterIconHolder")).is(":visible")?filterIcon.outerWidth(!0):0,zgssearch.sQueryBoxWid=queryBoxW-(extraIconW=ssIconW+extraIconW+filterIconW),searchBoxW=queryBoxW-(searchBoxW+extraIconW),filterIcon.css("inset-inline-end",extraIconW-filterIconW),_jQueryGS("#zgs20_gsQueryCloseBox").css("inset-inline-end",extraIconW),_jQueryGS("#zgs20_gsQueryBox, #zgs20_gsQuerySpanBox").css("width",searchBoxW).trigger("resize"),_jQueryGS("#zgs20_gsSuggestionDiv").css("width",searchBoxW))},zgssearch.isWPSmartViewPort=function(){if("ZW"!==gscomponent.pcode||!gscomponent.isWPSmartViewEnabled&&!zgssearch.isWPSmartViewEnabledinZia)return!1;var zsWidth=_jQueryGS("#zgs20_globalsearch").is(":visible")?_jQueryGS("#zgs20_globalsearch").width():0;return zgssearch.isWPSmartViewEnabledinZia=0!=zsWidth&&zsWidth<=768,gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia},zgssearch.switchWPSmartView=function(isWPSmartViewEnabled,isWPSmartViewEnabledinZia){void 0!==isWPSmartViewEnabledinZia?zgssearch.isWPSmartViewEnabledinZia=isWPSmartViewEnabledinZia:gscomponent.isWPSmartViewEnabled=isWPSmartViewEnabled,zgssearch.isSmartViewServicePaneOpened=!1,gscomponent.isWPSmartViewEnabled||zgssearch.isWPSmartViewEnabledinZia?(zgssearch.isWPSmartViewEnabledComponent||(zgssearch.isWPSmartViewEnabledComponent=!0,sizeObj=_jQueryGS("<div>",{class:"zgs18_gsSVLHSArrow zgs19_gsDisplayNone",gs:"hideSVLHSServices"}),_jQueryGS(sizeObj).insertAfter("#zgs20_gsSearchResultLeft"),height=_jQueryGS("<div>",{id:"zgs20_gsSVOverlayDialog",class:"zgs19_gsSVOverlayDialog zgs19_gsDisplayNone",gs:"hideSVLHSServices"}),_jQueryGS(height).insertBefore("#zgs20_gsSearchTopBandHolder")),_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsWPSmartView")):_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsWPSmartView");var sizeObj=zgssearch.getSizeForResultsArea();_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",sizeObj.resultsAreaW+"px"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",sizeObj.calloutAreaW+"px"),zgssearch.setCalloutPreviewPosition();sizeObj=zgssearch.getSizeForResultsArea();zgssearch.setResultPreviewWidth(sizeObj.resultAndCalloutAreaW,sizeObj.calloutAreaW),zgssearch.setSearchBoxSegmentSize(),_jQueryGS("#zgs20_gsQuerySugg").css("margin-inline-start",_jQueryGS(".zgs19_gsqryinnerdiv").position().left);var height=_jQueryGS("#zgs20_gsHolder").height()-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0);_jQueryGS("#zgs20_gsSearchResultsArea").css({width:sizeObj.resultAndCalloutAreaW+"px",height:height+"px"}),_jQueryGS("#zgs20_gsResultsHolder").css("height",height+"px"),zgssearch.resetZiaMobileResultArea(),zgssearch.resetZiaMobileCalloutArea()},zgssearch.toggleSmartViewServicePane=function(isSmartViewServicePaneOpened){zgssearch.isSmartViewServicePaneOpened=isSmartViewServicePaneOpened,zgssearch.isSmartViewServicePaneOpened?(_jQueryGS(".zgs18_gsSVLHSArrow").removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsDisplayBlock"),_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsSmartViewServices")):(_jQueryGS(".zgs18_gsSVLHSArrow").removeClass("zgs19_gsDisplayBlock").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsSmartViewServices"))},zgssearch.handlerWPMobileSmartView=function(){var zsWidth;2!==gscomponent.UIType&&("ZW"===gscomponent.pcode&&zgssearch.isWPSmartViewPort()?(_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsWPSmartView"),0!=(zsWidth=_jQueryGS("#zgs20_globalsearch").is(":visible")?_jQueryGS("#zgs20_globalsearch").width():0)&&zsWidth<=768?_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsWPMobileSmartView"):_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsWPMobileSmartView"),zgssearch.switchWPSmartView(!0,!0)):(_jQueryGS("#zgs20_globalsearch").removeClass("zgs19_gsWPMobileSmartView").removeClass("zgs19_gsWPSmartView"),zgssearch.switchWPSmartView(!1,!1)))},zgssearch.setEmbedZOSElemSize=function(){var resultsAreaMaxW=gscomponent.uiPosition(),middlePercentageW=resultsAreaMaxW.hasOwnProperty("left")?resultsAreaMaxW.left+" !important; ":"",resultAndCalloutAreaW=resultsAreaMaxW.hasOwnProperty("right")?resultsAreaMaxW.right+" !important; ":"",resultsAreaW=resultsAreaMaxW.hasOwnProperty("top")?resultsAreaMaxW.top+" !important; ":"",height=resultsAreaMaxW.hasOwnProperty("height")?resultsAreaMaxW.height:"",resultsAreaMinW=resultsAreaMaxW.hasOwnProperty("width")?resultsAreaMaxW.width:"",calloutAreaW=resultsAreaMaxW.hasOwnProperty("margin-top")?resultsAreaMaxW["margin-top"]:"",resultsAreaMaxW=resultsAreaMaxW.hasOwnProperty("margin-left")?resultsAreaMaxW["margin-left"]:"";2===gscomponent.UIType?_jQueryGS("#zgs20_gsHolder").css("cssText","left: "+middlePercentageW+" !important; top: "+resultsAreaW+"margin-top: 0px !important; margin-left: 0px !important;"):(_jQueryGS("#zgs20_gsHolder").css("inset-inline-start",middlePercentageW),_jQueryGS("#zgs20_gsHolder").css("inset-inline-end",resultAndCalloutAreaW),_jQueryGS("#zgs20_gsHolder").css("inset-block-start",resultsAreaW),_jQueryGS("#zgs20_gsHolder").css("margin-block-start",calloutAreaW),_jQueryGS("#zgs20_gsHolder").css("margin-inline-start",resultsAreaMaxW)),_jQueryGS("#zgs20_gsHolder").css("height",height),_jQueryGS("#zgs20_gsHolder").css("width",resultsAreaMinW),zgssearch.handlerWPMobileSmartView();middlePercentageW=zgssearch.getLHSServicePaneWidth(),resultAndCalloutAreaW=(0===_jQueryGS("#zgs20_gsHolder").width()?parseInt(resultsAreaMinW.replace("px","")):_jQueryGS("#zgs20_gsHolder").width())-middlePercentageW,calloutAreaW=resultAndCalloutAreaW-(resultsAreaW=_jQueryGS("#zgs20_gsSearchResultMiddle").width());if(4===gscomponent.UIType){var resultsAreaMaxW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))||0,resultsAreaMinW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("min-width").replace("px",""))||0,minPrev=parseInt(_jQueryGS("#zgs20_gsSearchResultRight").css("min-width").replace("px",""))||0,middlePercentageW=Math.floor(.4*resultAndCalloutAreaW),resultsAreaW=middlePercentageW<=resultsAreaMaxW?middlePercentageW<resultsAreaMinW?resultsAreaMinW:middlePercentageW:resultsAreaMaxW;if("ZW"===gscomponent.pcode&&calloutAreaW<minPrev)return void zgssearch.switchWPSmartView(!0,!0);calloutAreaW=minPrev<(calloutAreaW=resultAndCalloutAreaW-resultsAreaW)?calloutAreaW:minPrev}minPrev=calloutAreaW,calloutAreaW=zgssearch.isMaxCalloutOpen?resultAndCalloutAreaW:calloutAreaW;_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",resultsAreaW+"px"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",calloutAreaW+"px"),zgssearch.setCalloutPreviewPosition(),zgssearch.setResultPreviewWidth(resultAndCalloutAreaW,minPrev),zgssearch.setSearchBoxSegmentSize(),_jQueryGS("#zgs20_gsQuerySugg").css("margin-inline-start",_jQueryGS(".zgs19_gsqryinnerdiv").position().left),height=_jQueryGS("#zgs20_gsHolder").height()-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),_jQueryGS("#zgs20_gsSearchResultsArea").css({width:resultAndCalloutAreaW+"px",height:height+"px"}),_jQueryGS("#zgs20_gsResultsHolder").css("height",height+"px")},zgssearch.setSearchBoxWidth=function(){var width=_jQueryGS(window).width(),searchboxAndBtnWth=_jQueryGS("#zgs20_gsLogoHolder").width(),searchBoxMaxW=_jQueryGS("#zgs20_gsSearchBoxRight").width(),searchboxWid=_jQueryGS(".zgs19_searchbtnOuter").outerWidth(!0),searchboxAndBtnWth=width-searchboxAndBtnWth-searchBoxMaxW,searchBoxMaxW=parseInt(_jQueryGS("#zgs20_gsQueryBoxHolder").css("max-width").replace("px","")),searchboxAndBtnWth=searchBoxMaxW<searchboxAndBtnWth?searchBoxMaxW:searchboxAndBtnWth;_jQueryGS("#zgs20_gsQueryBoxHolder").css("width",searchboxAndBtnWth+"px"),_jQueryGS(".zgs19_gsqryinnerdiv").css("width",searchboxAndBtnWth-searchboxWid+"px")},zgssearch.handlerResizeForTourAndFeature=function(){zgssearch.hasOwnProperty("gstourcomponent")&&zgssearch.gstourcomponent.isTourComponentOpened&&zgssearch.tour.trigger("stop.tourbus"),zgssearch.hasOwnProperty("gsfeatureComponent")&&zgssearch.gsfeatureComponent.isFeatureComponentOpened&&zgssearch.gsfeatureComponent.hideFeatureCarousel()},zgssearch.setGSElemSize=function(){var isDashboardOpened,isCardPageOpened,height=_jQueryGS(window).height(),servListheight=_jQueryGS(window).width();2===gscomponent.UIType||4===gscomponent.UIType?zgssearch.setEmbedZOSElemSize():(zgssearch.resetZiaMobileResultArea(),height-=zgssearch.getWMSBarHeight(),_jQueryGS("#zgs20_zohosearch").css("height",height+"px"),_jQueryGS("#zgs20_zohosearch").css("width",servListheight+"px"),isDashboardOpened=height-(isSettingsOpened=0<(isCardPageOpened=_jQueryGS("#zgs20_gsNotificationBanner")).length?isCardPageOpened.outerHeight(!0):0),_jQueryGS("#zgs20_zohosearchWrapper").css("height",isDashboardOpened+"px"),_jQueryGS("#zgs20_zohosearchWrapper").css("width",servListheight+"px"),_jQueryGS("#zgs20_gsOverlayDialog").css("inset-block-start",isSettingsOpened+"px"),_jQueryGS("#zgs20_gsOverlayDialog").css("height",isDashboardOpened+"px"),height=_jQueryGS("#zgs20_zohosearchWrapper").outerHeight(!0)-_jQueryGS("#zgs20_gsSearchTopBandHolder").outerHeight(!0),_jQueryGS("#zgs20_globalsearch").css("height",height+"px"),_jQueryGS("#zgs20_globalsearch").css("width",servListheight+"px"),_jQueryGS("#zgs20_zohosearchLoader").css("height",height+"px"),_jQueryGS("#zgs20_zohosearchLoader").css("width",servListheight+"px"),_jQueryGS("#zgs20_gsSearchResultsArea").css({width:servListheight+"px",height:height+"px"}),zgssearch.setSearchBoxWidth(),isCardPageOpened=document.getElementById("zgs20_gsSearchBtn")?_jQueryGS("div.zgs19_gsSearchTopBandHolder > .zgs19_searchbtnOuter").outerWidth(!0):0,isSettingsOpened=_jQueryGS("div.zgs19_gsSearchTopBandHolder").width()-(_jQueryGS("div.zgs19_gsSearchTopBandHolder > .zgs19_gsLogoHolder").outerWidth(!0)+_jQueryGS("div.zgs19_gsSearchTopBandHolder > .zgs19_gsInfoBox").outerWidth(!0)+isCardPageOpened),_jQueryGS("div.zgs19_gsQueryBoxHolder").css("width",isSettingsOpened+"px"),zgssearch.setSearchBoxSegmentSize(),zgssearch.setSizeForRespectiveResultsArea(),zgssearch.GSConstant.isNLPTracerEnabled&&_jQueryGS("#zgs20_gsnlpTracerData").css("height",_jQueryGS("#zgs20_globalsearch").height()),zgssearch.isOpenDoubleClickPopup&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1,zgssearch.isOpenPopup=!1),zgssearch.isMenuPopUpOpened&&(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1,zgssearch.openContextPopup=!1),zgssearch.isAttendeesListOpened&&(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1),zgssearch.isAttendeeMenuPopUp&&(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),zgssearch.isAttendeeMenuPopUp=!1),zgssearch.isFilterListDisplay&&zgssearch.gsfilters.hideEachFilterPopUp(),zgssearch.hasOwnProperty("gsadvancesearch")&&zgssearch.gsadvancesearch.isAdvFieldListOpened&&zgssearch.gsadvancesearch.hideAdvPopUpList(),zgssearch.isAppListOpened&&zgssearch.gsfilters.hideAppsList(),zgssearch.gssavedsearches.isSaveThisSearchDialogOpened&&zgssearch.gssavedsearches.calculatePositionForSaveSearchPopup(),isDashboardOpened=zgssearch.isDashboardViewOpened(),isCardPageOpened=zgssearch.isCardViewOpened(),zgssearch.isMobViewport()?(_jQueryGS("#zgs20_gsOverlayDialog").find(".zgs19_gsCnfrmDialogBox").remove(),_jQueryGS("#zgs20_gsOverlayDialog").css("display","none"),zgssearch.hideCreateNewPopUp(),zgssearch.handlerResizeForTourAndFeature(),zgssearch.isShowQuickActionsPage&&(zgssearch.hideQuickActionsPage(),document.getElementById("zgs20_gsWelcomePage")?zgssearch.showWelcomePage():zgssearch.renderWelcomePage()),zgssearch.gsusersettings=zgssearch.gsusersettings||{},void 0!==zgssearch.gsusersettings.isSettingsOpened&&zgssearch.gsusersettings.isSettingsOpened&&(zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),zgssearch.closeActionForSettings()),(isDashboardOpened||isCardPageOpened)&&(zgssearch.gsdbhome.isAddCardPopupOpened&&zgssearch.gsaddcards.removeAddCardPopupAction(!1),zgssearch.closeActionForCards(),zgssearch.hideDashboard(),zgssearch.setHighlightForLeftDivisonPanel("search"),zgssearch.updateSearchType(GSConstant.ALL),zgssearch.clickActionForServiceList(GSConstant.ALL),zgssearch.gsusersettings.changeUrlBeforeSettingsClose()),zgssearch.hideManageAppPopUp(),buttonHt=400<servListheight?servListheight:400,_jQueryGS("#zgs20_gsSearchResultsArea").css("width",buttonHt),_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",buttonHt).css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",buttonHt)):(zgssearch.setStatusClsForLeftDivision(),0<_jQueryGS("#zgs20_gsWelcomePage").length&&"block"==_jQueryGS("#zgs20_gsHideScrollPage").css("display")&&zgssearch.canShowHomepage()&&(zgssearch.isShowQuickActionsPage=!0),_jQueryGS("#zgs20_gsSearchBottomHolder").css("transform","")),zgssearch.renderLandingPage(),zgssearch.resetZiaMobileCalloutArea()),zgssearch.setLHSHiddenScrollHeight(),zgssearch.handleResizeForMultiPortalPage(),!!zgssearch.hasOwnProperty("gstopband")&&zgssearch.gstopband.isUserDetailsOpened&&zgssearch.gstopband.resizeProfilePage();var isSettingsOpened=!!zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened;isSettingsOpened&&zgssearch.gsusersettings.resizeSettingsPage(),isCardPageOpened&&zgssearch.gscards.handleResizeForCards(),isDashboardOpened&&zgssearch.gsdbhome.setSizeForDashboards(),zgssearch.isFilterPageOpened&&(_jQueryGS("#zgs20_gsfilterHolder").hasClass("zgs19_gsCardsFilterPopUp")?zgssearch.isCardPageOpened?zgssearch.gscardfilter.setFilterContainerPosition():zgssearch.gsfilters.filterActions("cancel"):zgssearch.setSearchFilterContainerPosition()),zgssearch.isContextBoxOpened&&zgssearch.gsfilters.setContextPosition(_jQueryGS(zgssearch.gsfilters.selectedContextElem),"zgs19_gsContextFilterCont","zgs19_gsContextArrow"),zgssearch.hasOwnProperty("gstourcomponent")&&zgssearch.gstourcomponent.isTourComponentOpened&&zgssearch.gstourcomponent.handlerResizeForTourComponent();var servListheight=_jQueryGS("#zgs20_gsResultsHolder").height(),buttonHt=0,buttonHt=0<_jQueryGS("#zgs20_gsServiceReOrdering .zgs19_gsServiceSaveNew").length?_jQueryGS("#zgs20_gsServiceReOrdering .zgs19_gsServiceSaveNew").height()||0:_jQueryGS("#zgs20_gsSettingsHolder").height()||0;_jQueryGS("#zgs20_gsServicesListOrder").css({height:servListheight-buttonHt+"px","border-bottom":"1px solid #ddd;"}),_jQueryGS("#zgs20_gsServiceReOrdering").css({height:servListheight+"px"});servListheight=_jQueryGS("#zgs20_gsSearchResultLeft").height()-_jQueryGS("#zgs20_gsSettingsHolder").outerHeight();zgssearch.isDashboardEnabled&&(servListheight-=_jQueryGS("#zgs20_gsDashboardHolder").outerHeight()),_jQueryGS("#zgs20_gsServListHolder").css("height",servListheight),isDashboardOpened||isCardPageOpened||isSettingsOpened||zgssearch.setAllServiceEleSize(),zgssearch.setShowAppsResMin("resize")},zgssearch.getSizeForResultsArea=function(){var resultAndCalloutAreaW=_jQueryGS("#zgs20_gsResultsHolder").width()||0,calloutAreaW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("max-width").replace("px",""))||0,resultsAreaMinW=parseInt(_jQueryGS("#zgs20_gsSearchResultMiddle").css("min-width").replace("px",""))||0,calloutAreaMinW=parseInt(_jQueryGS("#zgs20_gsSearchResultRight").css("min-width").replace("px",""))||0,resultsAreaW=Math.floor(.4*resultAndCalloutAreaW),resultsAreaW=resultsAreaW<=calloutAreaW?resultsAreaW<resultsAreaMinW?resultsAreaMinW:resultsAreaW:calloutAreaW,calloutAreaW=calloutAreaMinW<(calloutAreaW=resultAndCalloutAreaW-resultsAreaW)?calloutAreaW:calloutAreaMinW;return{resultsAreaW:resultsAreaW,calloutAreaW:calloutAreaW=zgssearch.isMaxCalloutOpen?resultAndCalloutAreaW:calloutAreaW,resultAndCalloutAreaW:resultAndCalloutAreaW}},zgssearch.setSizeForRespectiveResultsArea=function(){var sizeObj=zgssearch.getSizeForResultsArea();_jQueryGS("#zgs20_gsSearchResultMiddle").css("width",sizeObj.resultsAreaW+"px"),_jQueryGS("#zgs20_gsSearchResultRight").css("width",sizeObj.calloutAreaW+"px"),zgssearch.setCalloutPreviewPosition(),"search"==zgssearch.selectedLeftPanelDivision&&zgssearch.setResultPreviewWidth(sizeObj.resultAndCalloutAreaW,sizeObj.calloutAreaW)},zgssearch.setResultPreviewWidth=function(maxPrev,minPrev){zgssearch.maxPrevPane=null!=typeof zgssearch.maxPrevPane?maxPrev:zgssearch.maxPrevPane,zgssearch.minPrevPane=null!=typeof zgssearch.minPrevPane?minPrev:zgssearch.minPrevPane,zgssearch.minPrevPane--},zgssearch.setAllServiceEleSize=function(){var currentModule,service_name=_jQueryGS(zgssearch.curSelectedEle).attr("service"),resPaneEleId=_jQueryGS("#zgs20_gsSearchResultMiddle").height(),curResEleId="zgs20_gsAllSearchResultPage",searchType=zgssearch.getSearchType(),curResPageHeight=0,currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,filterData=zgssearch.gFilterData[currService],curResPageHeight=(searchType!==GSConstant.ALL&&(curResEleId="zgs20_gs"+searchType+"Template",(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(curResEleId="zgs20_MultiSearchPageHolder"),accId=filterData?zgssearch.getCurrentValue("accounts",service_name):"","1"===(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,accId):"")&&"all"!==(currentModule=zgssearch.getCurrentValue("modules",service_name))&&(curResEleId="zgs20_gs"+currentModule+"Template")),resPaneEleId),resPaneEleId="",resPaneEleId=searchType==GSConstant.ALL?"zgs20_gsAllSearchResultPage":zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?"zgs20_MultiSearchPageHolder":"zgs20_gs"+searchType+"Template",accId=zgssearch.getCurrentValue("accounts",service_name);if("1"===(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,accId):"")&&(currentModule=zgssearch.getCurrentValue("modules",service_name),searchType!==GSConstant.ALL&&"all"!==currentModule&&(resPaneEleId="zgs20_gs"+currentModule+"Template")),zgssearch.setServiceResPaneHeight(resPaneEleId),zgssearch.isMobViewport()&&(curResPageHeight-=zgssearch.getLHSServicePaneHeight()),service_name){var service_info,scallout=zgssearch.mappedServiceList[service_name].callout;switch(service_name){case GSConstant.MAILS:case GSConstant.STREAMS:case GSConstant.REPORTS:case GSConstant.CREATOR:case GSConstant.CRM:case GSConstant.WORKDRIVE:case GSConstant.CHAT:case GSConstant.CLIQ:case GSConstant.SUPPORT:case GSConstant.CONNECT:case GSConstant.WIKI:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.INVENTORY:case GSConstant.WEBSITE:case GSConstant.ORGRESOURCES:case GSConstant.SLACK:case GSConstant.O365MAIL:case GSConstant.CALENDAR:case GSConstant.NOTEBOOK:zgssearch[scallout].setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.GOOGLEDRIVE:case GSConstant.BOX:case GSConstant.DROPBOX:case GSConstant.ONEDRIVE:var fileMgmtInstance=new zgssearch.FileMgmtFactory,fileMgmtInfo={};fileMgmtInfo.service=service_name,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.PEOPLE:case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:zgssearch.gscontacts.setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.SALESFORCE:(service_info={}).service_name=zgssearch.GSConstant.SALESFORCE,service_info.acc_id=zgssearch.getResultAccountId(),(new zgssearch.ZSCRMFactory).createCRM(service_info).setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.ASANA:case GSConstant.PROJECTS:(service_info={}).service_name=service_name,service_info.acc_id=zgssearch.getResultAccountId(),(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance(service_info).setServiceEleSize(curResEleId,curResPageHeight);break;case GSConstant.EVERNOTE:zgssearch.notesTemplateInstance.setServiceEleSize(curResEleId,curResPageHeight)}}},zgssearch.callingAttachEvent=function(event){document.getElementById("zgs20_globalsearch").setAttribute("data-disableShortcuts",!0),document.getElementById("zgs20_gsSearchResultsArea").setAttribute("data-disableShortcuts",!0)},zgssearch.callingDeattachEvent=function(event){document.getElementById("zgs20_globalsearch").removeAttribute("data-disableShortcuts"),document.getElementById("zgs20_gsSearchResultsArea").removeAttribute("data-disableShortcuts")},zgssearch.preCheckForURLSearch=function(){var searchType;(zgssearch.isURLParamsSearch||zgssearch.isExternalSearch)&&(zgssearch.queryOrigin=1,zgssearch.isExternalSearch=!1,zgssearch.isURLParamsSearch=!1,searchType=zgssearch.getSearchType(),GSConstant.ALL==searchType||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||zgssearch.isServiceHasMultiPortals(searchType)&&(zgssearch.multiPageEnabled=!0))},zgssearch.checkExternalQueries=function(){var filter=zgssearch.domainOriginObj||{},query=filter.query||"",service=filter.service||"";GSConstant.ziaOrigin=filter.fromOrigin||"";var service=zgssearch.hasOwnProperty("gshistory")?zgssearch.gshistory.getProperServiceName(service):service,searchType=zgssearch.isServiceSearch?zgssearch.getSearchType():GSConstant.ALL,olist=zgssearch.getOrderedServiceList();zgssearch.isArrayContain(service,olist)&&(searchType=service),(zgssearch.isQueryValid(query)||gscomponent.isEmptySearchAllowed||zgssearch.isArrayContain(service,zgssearch.emptySearchAllowedFromExternal))&&(zgssearch.emptySearchBoxValues(),document.getElementById("zgs20_gsQueryBox").value=query,zgssearch.queryOrigin=3,zgssearch.isExternalSearch=!0,filter=filter.filter||"",zgssearch.hasOwnProperty("onSuccessFunction")&&GSConstant.hasOwnProperty("widgetObject")&&""!==filter&&zgssearch.updateFilterParamsForService(service,filter),zgssearch.newHandleUserSearchQuery(searchType))},zgssearch.setSearchProperty=function(isSearchEnabled){4===gscomponent.UIType&&(gscomponent.isSameQrySearchEnabled=isSearchEnabled)},zgssearch.preThemeSetup=function(){gscomponent.isResizeEnabled()||(zgssearch.isCliqDomain&&!_jQueryGS("#zgs20_globalsearch").hasClass("zgs19_gsCliqTheme")?_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsCliqTheme"):_jQueryGS("#zgs20_globalsearch").addClass("zgs19_gsOtherTheme"))},zgssearch.sendGSOpenedStats=function(){var event,key;zgssearch.isSendGSOpenedStats||(zgssearch.isSendGSOpenedStats=!0,zgssearch.hasOwnProperty("gsanalytics")&&(event=window.event||event,key=zgssearch.isOpenViaShortcut?"kb-fsb":"mc-fsb",key=zgssearch.getStatsKey(key),zgssearch.gsanalytics.sendStatsData(event,key)))},zgssearch.setResponseObject=function(service,accId,resObj,moduleName){moduleName=moduleName&&moduleName.hasOwnProperty("module_id")?moduleName.module_id:"";service=moduleName||service;service=accId?service+accId:service;service&&(zgssearch.responseObj[service]=resObj)},zgssearch.getResponseObject=function(key){return zgssearch.responseObj.hasOwnProperty(key)?zgssearch.responseObj[key]:""},zgssearch.init=function(){var qryInnerDiv,zstitle;zgssearch.integComp&&zgssearch.integComp.integPage||(1===gscomponent.UIType?zgssearch.triggerBiggerGlobalsearch():zgssearch.triggerGlobalsearch()),zgssearch.initServiceList(),zgssearch.resultarea||zgssearch.isIntegViewPage||(zgssearch.resultarea=!0,zstitle=zgssearch.getI18NMsg("gs.search.service_backtotop"),qryInnerDiv=zgssearch.getI18NMsg("gs.search.service_backtohome"),_jQueryGS("#zgs20_gsResultsHolder").append(_jQueryGS("<div>",{id:"zgs20_gsSearchResultMiddle",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultMiddle zgs19_gsDisplayNone zgs19_isPanelHidden",domselector:"resultpreview"}).append(_jQueryGS("<div>",{id:"zgs20_gsAllSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsOverflowAuto zgs19_gsDisplayNone",gs:"AllSearchPage"})).append(_jQueryGS("<div>",{id:"zgs20_gsMultiSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsModuleSearchResultPage",class:"zgs19_gsSearchResultPage zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsBackToTop",class:"zgs19_gsBackToTop zgs19_gsDisplayNone zgs19_gsCurPointer",gstitle:zstitle,gs:"backToTop"}))).append(_jQueryGS("<div>",{id:"zgs20_gsSearchResultRight",class:"zgs19_gsResultsHolderChild zgs19_gsSearchResultRight zgs19_gsDisplayNone",domselector:"calloutpreview"})).append(_jQueryGS("<div>",{id:"zgs20_gsSettingsPages",class:"zgs19_gsSettingsPages zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_gsHomeIcon",class:"zgs18_gsHomeIcon zgs19_gsDisplayNone zgs19_gsCurPointer",gstitle:qryInnerDiv,gs:"backToHome"})),zgssearch.setLHSHiddenScrollHeight(),_jQueryGS("#zgs20_gsQueryBox").after(_jQueryGS("<div>",{id:"zgs20_gsSuggestionDiv",class:"zgs19_gsQueryDiv zgs19_gsBorderBox zgs19_gsBoxshadow zgs19_gsuserselnone zgs19_gsOverflow"})),_jQueryGS("#zgs20_gsQueryBoxHolder").append(_jQueryGS("<div>",{id:"zgs20_gsQuerySugg",class:"zgs19_gsQuerySugg zgs19_gsBorderBox zgs19_gsOverflow zgs19_gsDisplayNone"})),zstitle=zgssearch.hasOwnProperty("gsfilters")?zgssearch.gsfilters.createFilterIcon():"",qryInnerDiv=_jQueryGS("#zgs20_gsQueryBoxHolder").find(".zgs19_gsqryinnerdiv"),_jQueryGS(qryInnerDiv).append(_jQueryGS("<div>",{id:"zgs20_gsQueryCloseBox",class:"zgs19_gsQueryCloseBox zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone"}).append(_jQueryGS("<span>",{class:"zgs18_gsQueryCloseIcon zgs19_gsCurPointer"}))).append(zstitle),zgssearch.addEventForSearchBox(),1===gscomponent.UIType&&(zstitle=zgssearch.getI18NMsg("gs.search.service_welcome_page"),_jQueryGS("#zgs20_gsMobBandName").empty().append(_jQueryGS("<a>",{title:zstitle,class:"zgs19_gsOverflow zgs19_gsLogoText",href:"/searchhome"}).text(zstitle)))),!gscomponent||2!==gscomponent.UIType&&4!==gscomponent.UIType||zgssearch.fetchWidgetDetails(),gscomponent&&gscomponent.hasOwnProperty("isResizeEnabled")&&gscomponent.isResizeEnabled()&&zgssearch.setGSElemSize(),1===gscomponent.UIType&&(zgssearch.showBiggerSearch(),zgssearch.gszohosearch.triggerBiggerZOSUI()),zgssearch.preThemeSetup(),gscomponent.setTheme()},zgssearch.GSConstant.hasOwnProperty("featureList")?(featureArr=zgssearch.GSConstant.featureList||[zgssearch.featureNameConst.DASHBOARDS],viewport="","zgs20_gsEmbedCard"==(viewport=(featurePropObj={}).viewport=zgssearch.GSConstant.isEmbedDashboard?(zgssearch.isEmbedDashboardEnabled=!0,"zgs20_gsEmbedDashboard"):zgssearch.GSConstant.hasOwnProperty("isEmbedCard")?(zgssearch.isEmbedCardEnabled=!0,"zgs20_gsEmbedCard"):void 0)&&(embedDBPage=_jQueryGS("<div>",{id:"zgs20_gsEmbedCard",class:"zgs19_gsEmbedCard",gs:"globalsearch"}).append(_jQueryGS("<div>",{tabindex:"5",id:"zgs20_zohosearch",class:" zgs19_zohosearch",gs:"globalsearch"}).append(_jQueryGS("<div>",{id:"zgs20_gsOverlayDialog",class:"zgs19_gsOverlayDialog zgs19_gsDisplayNone"})).append(_jQueryGS("<div>",{id:"zgs20_globalsearch",class:"zgs19_globalsearch zgs19_globalsearch_position_new zgs19_gsDisplayNone",style:"display: block;"}).append(_jQueryGS("<div>",{id:"zgs20_gsCardsPage",class:"zgs19_gsCardsPage"})))),_jQueryGS(document.body).append(embedDBPage),zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_gsEmbedCard"),featurePropObj.calloutOpenInNewTab=!1,featurePropObj.resultFullWidth=!0),"zgs20_gsEmbedDashboard"==viewport&&((embedDBPage=document.createElement("div")).tabIndex=5,embedDBPage.id="zgs20_gsEmbedDashboard",embedDBPage.className="zgs_gsEmbedDashboard",embedDBPage.setAttribute("style","width: 100%;height: 100%;"),embedDBPage.innerHTML='<div tabindex="5" id="zgs20_zohosearch" class=" zgs19_zohosearch" gs="globalsearch">\n                                            <div id="zgs20_gsOverlayDialog" class="zgs19_gsOverlayDialog zgs19_gsDisplayNone"></div>\n                                            <div id="zgs20_globalsearch" class="zgs19_globalsearch zgs19_globalsearch_position_new zgs19_gsDisplayNone" style="display: block;">\n                                            </div>\n                                        </div>',document.body.appendChild(embedDBPage),zgssearch.searchViewport=zgssearch.pcViewport=document.getElementById("zgs20_gsEmbedDashboard")),zgssearch.isEmbed=zgssearch.isEmbedDashboardEnabled||zgssearch.isEmbedCardEnabled,zgssearch.globalinit(featureArr,featurePropObj)):zgssearch.init()}(zgssearch,window),zgssearch.isIE&&("/settings"==window.location.pathname&&zgssearch.hasOwnProperty("clickActionForSettings")&&zgssearch.clickActionForSettings("settings"),"/cards"==window.location.pathname&&zgssearch.hasOwnProperty("clickActionForCards")&&zgssearch.clickActionForCards(),zgssearch.includes("/dashboards",window.location.pathname)&&zgssearch.hasOwnProperty("clickActionForDashboards")&&zgssearch.clickActionForDashboards()),function(zgssearch,window){var gskeyboard,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gskeyboard=(gskeyboard=void 0,(gskeyboard=zgssearch.gskeyboard||{}).dashboard=gskeyboard.dashboard||{},gskeyboard.card=gskeyboard.card||{},gskeyboard.initialize=function(){gskeyboard.count=0,gskeyboard.index={},gskeyboard.nodeList=[]},gskeyboard.initializeDashboard=function(cardId){gskeyboard.dashboardNodeList=[],gskeyboard.index={},gskeyboard.dashboardNodeCount=0,gskeyboard.currentCardId=cardId},gskeyboard.getFirstDataNode=function(){var firstResultDiv=_jQueryGS("div.zgs19_gsSearchResultTable[index=0]")[0];return firstResultDiv?firstResultDiv.getAttribute("id"):null},gskeyboard.findDataNode=function(index,accId){return gskeyboard.insertElement(),_jQueryGS("div.zgs19_gsSearchResultTable[index='"+index+"']")[0]},gskeyboard.checkAndInsertElements=function(){gskeyboard.nodeList.length<=0&&gskeyboard.insertElement()},gskeyboard.insertElement=function(){gskeyboard.index={},gskeyboard.count=0,gskeyboard.nodeList=[];for(var nodesList=document.getElementsByClassName("zgs19_gsSearchResultTable"),nodes_lenth=nodesList.length,node=0;node<nodes_lenth;node++){var elem_id=_jQueryGS(nodesList[node]).attr("id");gskeyboard.index[elem_id]=node,gskeyboard.nodeList.push(elem_id),gskeyboard.count++}},gskeyboard.getNextPrevElement=function(code){var elem_id,cur_elem_index;return zgssearch.curSelectedEle?(cur_elem_index=_jQueryGS(zgssearch.curSelectedEle).attr("id"),-1<(cur_elem_index=gskeyboard.nodeList.indexOf(cur_elem_index))&&(elem_id=38===code?gskeyboard.nodeList[cur_elem_index-1]:gskeyboard.nodeList[cur_elem_index+1])):elem_id=gskeyboard.nodeList[0],elem_id},gskeyboard.keyUpAndDownAction=function(currIndex){var node=null,link=38===currIndex?"prev":"next";zgssearch.curSelectedEle?(gskeyboard.nodeList.length<=0&&gskeyboard.checkAndInsertElements(),((currIndex=gskeyboard.nodeList.indexOf(zgssearch.curSelectedEle.getAttribute("id")))+1==gskeyboard.nodeList.length||currIndex<=0)&&document.getElementsByClassName("zgs19_gsSearchResultTable").length!=gskeyboard.nodeList.length&&(gskeyboard.insertElement(),currIndex=gskeyboard.nodeList.indexOf(zgssearch.curSelectedEle.getAttribute("id"))),"prev"==link&&0<currIndex?node=gskeyboard.nodeList[currIndex-1]:"next"==link&&currIndex+1<gskeyboard.nodeList.length&&(node=gskeyboard.nodeList[currIndex+1])):node=gskeyboard.getFirstDataNode(),zgssearch.highlightRes(node,link)},zgssearch.highlightRes=function(finalEleIndex,link){var tarElem,searchType,nodeList,curResPage,eletop,eleheight,pageHeight,viewport_top,acc_id,mservice,resPageEle;finalEleIndex&&(pageHeight="zgs20_gsSearchResultMiddle",tarElem=zgssearch.getTargetElem(finalEleIndex),zgssearch.hideAllDropdownList(tarElem),mservice=_jQueryGS(tarElem).attr("service"),searchType=zgssearch.getSearchType(),acc_id=0,nodeList=[],nodeList=zgssearch.isDashboardViewOpened()?(resPageEle=tarElem.parentElement,pageHeight=curResPage=_jQueryGS(resPageEle).attr("id"),gskeyboard.dashboard.nodeList):zgssearch.isCardViewOpened()?(resPageEle=tarElem.parentElement,curResPage=_jQueryGS(resPageEle).attr("id"),pageHeight="zgs20_gsCrdPrevResult",gskeyboard.card.nodeList):(curResPage="zgs20_gsAllSearchResultPage",searchType!=GSConstant.ALL&&(curResPage="zgs20_gs"+searchType+"Template",(zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled)&&(curResPage="zgs20_MultiSearchPageHolder"),acc_id=_jQueryGS("#zgs20_gsModuleFilterList").height()||0),_jQueryGS("#"+curResPage).is(":visible")||(curResPage=zgssearch.getParentNode(tarElem,"serviceSpecificPage")?zgssearch.getParentNode(tarElem,"serviceSpecificPage").id:curResPage),zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.changeBGClass(tarElem,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem"),zgssearch.curSelectedEle=tarElem,eletop=zgssearch.getCurrentResObj(),eleheight={calloutPgtype:"search",parentElem:"zgs20_gsSearchResultRight",calloutId:zgssearch.mappedServiceList[mservice].id,iconDisplay:!0,curSelectedEle:tarElem},zgssearch.searchCalloutObj=eleheight,zgssearch.isArrayContain(mservice,zgssearch.pcEnabledSer)?(viewport_top={},(viewport_top=eletop).serviceName=mservice,viewport_top=Object.assign(eletop,eleheight),new zgssearch.getCalloutForResult(viewport_top).constructPreviewComponent()):(eleheight.type="search",eleheight.parentElem="#zgs20_gsSearchResultRight",zgssearch.getCalloutData(tarElem,eletop,eleheight)),zgssearch.gskeyboard.nodeList),resPageEle=zgssearch.getTargetElem(curResPage),viewport_top=zgssearch.getTargetElem(pageHeight),eletop=zgssearch.findPosY(tarElem,viewport_top),eleheight=_jQueryGS(tarElem).outerHeight(),pageHeight=_jQueryGS(resPageEle).height(),(viewport_top=_jQueryGS(resPageEle).scrollTop())<=eletop&&eletop+eleheight<=viewport_top+pageHeight||("prev"===link?_jQueryGS("#"+curResPage).scrollTop(eletop-acc_id):tarElem.scrollIntoView(!1)),zgssearch.setCalloutSearchType(mservice),acc_id=_jQueryGS(tarElem).attr("acc_id"),mservice=zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled?acc_id:mservice,zgssearch.isDashboardViewOpened()||zgssearch.isCardViewOpened()||(searchType===GSConstant.ALL&&zgssearch.curMoreService!==mservice&&zgssearch.hideResMoreOption(tarElem,zgssearch.curMoreService),zgssearch.showResMoreOption(tarElem)),finalEleIndex=document.getElementById(finalEleIndex),0==nodeList.length&&(gskeyboard.insertElement(),nodeList=zgssearch.gskeyboard.nodeList),"object"==typeof finalEleIndex&&(finalEleIndex=_jQueryGS(finalEleIndex).attr("id")),finalEleIndex=nodeList.indexOf(finalEleIndex),resPageEle=zgssearch.getTargetElem(curResPage),0===finalEleIndex?_jQueryGS(resPageEle).scrollTop(0):finalEleIndex===nodeList.length-1&&null!==resPageEle&&_jQueryGS(resPageEle).scrollTop(resPageEle.scrollHeight),!zgssearch.isMobViewport()&&zgssearch.isMaxCalloutOpen&&zgssearch.minCalloutPreviewChange(tarElem))},gskeyboard.isCurElementInViewPort=function(rect){var parentRect=rect.parentNode.getBoundingClientRect(),rect=rect.getBoundingClientRect();return rect.top>=parentRect.top&&rect.bottom<=parentRect.bottom},gskeyboard.keyboardNavgForAutoSugg=function(relem){relem=gskeyboard.getkeyboardNavgElemForCustomSugg(relem,zgssearch.gsautocomplete.currselecelem,"zgs19_gsAutoSuggChild");zgssearch.gsautocomplete.currselecelem=relem,zgssearch.updatesuggtext(),relem.scrollIntoView(!1),_jQueryGS(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")},gskeyboard.keyboardNavgForServiceSugg=function(relem){relem=gskeyboard.getkeyboardNavgElemForCustomSugg(relem,zgssearch.gsfilters.currselecElem,"zgs19_gsnewServiceInfoHolder");(zgssearch.gsfilters.currselecElem=relem).scrollIntoView(!1),_jQueryGS(".zgs19_gsnewServiceInfoHolder").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsnewServiceInfoHolder .zgs19_gsNewSerivceTxt").removeClass("zgs19_gsFtWeightBold"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsNewSerivceTxt").addClass("zgs19_gsFtWeightBold")},gskeyboard.getkeyboardNavgElemForCustomSugg=function(keycode,elem,qryLen){var qrySelector=document.querySelectorAll("."+qryLen),qryLen=qrySelector.length,index=elem?(index=Array.prototype.indexOf.call(qrySelector,elem),keycode==zgssearch.specialkeys.UP?(index-=1)<0?qryLen-1:index:qryLen<=(index+=1)?0:index):keycode==zgssearch.specialkeys.UP?qryLen-1:0;return qrySelector[index]},gskeyboard.keyboardNavgForFilters=function(keycode,oldElem){var tindex=zgssearch.currFilterSelectedElem||"",relem=tindex?_jQueryGS(tindex).attr("index"):"-1",tcount=_jQueryGS("#zgs20_gsModuleFilterWidgetFooter .zgs19_gsFilterQuerySelection").length,tindex=_jQueryGS(".zgs19_gsFilterQuerySelection:first").attr("index"),relem=parseInt(relem),tcount=(tindex=parseInt(tindex))+parseInt(tcount);relem=-1==relem?keycode==zgssearch.specialkeys.UP?tcount-1:tindex:keycode==zgssearch.specialkeys.UP?(relem-=1)<tindex?tcount-1:relem:tcount<=(relem+=1)?tindex:relem;relem=zgssearch.getTargetElem("zgs20_gsFilterQuerySelection"+relem);relem&&(zgssearch.currFilterSelectedElem=relem,"none"==_jQueryGS(relem).css("display")?oldElem!=relem&&gskeyboard.keyboardNavgForFilters(keycode,oldElem=oldElem||relem):(relem.scrollIntoView(!1),_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn")))},gskeyboard.keyboardNavgForAdvFilters=function(keycode){var className,tcount,relem=_jQueryGS(".zgs19_gsAutoSuggChildIn:visible"),popUpElem=_jQueryGS("#zgs20_gsFilterPopup").find(".zgs19_gsFieldValueHolder:visible, .zgs19_gsFieldOptionHldr:visible");popUpElem&&(className=_jQueryGS(popUpElem).attr("class").split(" ")[0],tcount=popUpElem.length,relem=relem?popUpElem.index(relem):-1,relem=-1==(relem=parseInt(relem))?keycode==zgssearch.specialkeys.UP?tcount-1:0:keycode==zgssearch.specialkeys.UP?(relem-=1)<0?tcount-1:relem:tcount<=(relem+=1)?0:relem,(relem=_jQueryGS(".zgs19_gsFieldListCont ."+className+":visible:eq("+relem+")")[0])&&(relem.scrollIntoView(!1),popUpElem.removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn")))},gskeyboard.keyboardNavgForEditFields=function(keycode){var tindex=zgssearch.currEditFieldselecelem||"",relem=tindex?_jQueryGS(tindex).attr("index"):"-1",tcount=_jQueryGS("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").length,tindex=_jQueryGS(".zgs19_gsEditFieldsChild:first").attr("index"),relem=parseInt(relem),tcount=(tindex=parseInt(tindex))+parseInt(tcount);relem=-1==relem?keycode==zgssearch.specialkeys.UP?tcount-1:tindex:keycode==zgssearch.specialkeys.UP?(relem-=1)<tindex?tcount-1:relem:tcount<=(relem+=1)?tindex:relem;relem=zgssearch.getTargetElem("zgs20_gsEditFieldsChild"+relem);relem&&(relem.scrollIntoView(!1),zgssearch.currEditFieldselecelem=relem,_jQueryGS(".zgs19_gsEditFieldsRadio").prop("checked",!1),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(relem).find(".zgs19_gsEditFieldsRadio").prop("checked",!0),_jQueryGS(relem).addClass("zgs19_gsAutoSuggChildIn"))},gskeyboard.initForCardsAndDashboard=function(type,cardId){gskeyboard[type].index={},gskeyboard[type].nodeCount=0,gskeyboard[type].nodeList=[],gskeyboard[type].currentCardId=cardId},gskeyboard.dashboard.getValues=function(){this.getCardId=function(){return"#zgs20_gs"+gskeyboard.dashboard.currentCardId+"card"},this.getCurrentCardElem=function(){var card_id="zgs20_gs"+gskeyboard.dashboard.currentCardId+"card";return document.getElementById(card_id)},this.getCurrentSelectedElem=function(){return zgssearch.gscardsresult.curSelectedEle.id}},gskeyboard.card.getValues=function(){this.getCardId=function(){return"#zgs20_gsCrdPrevResult"},this.getCurrentCardElem=function(){return document.getElementById("zgs20_gsCrdPrevResult")},this.getCurrentSelectedElem=function(){return zgssearch.gscards.curSelectedEle.id}},gskeyboard.getCardDataNode=function(parentElem,index){return _jQueryGS(parentElem).find(".zgs19_gsCardResultTable[index='"+index+"']")[0]},gskeyboard.insertCardDashboardElems=function(type){gskeyboard[type].index={},gskeyboard[type].nodeCount=0,gskeyboard[type].nodeList=[];var cardElem=(new gskeyboard[type].getValues).getCurrentCardElem();if(cardElem)for(var nodesList=cardElem.getElementsByClassName("zgs19_gsCardResultTable"),nodes_lenth=nodesList.length,node=0;node<nodes_lenth;node++){var elem_id=_jQueryGS(nodesList[node]).attr("id");gskeyboard[type].index[elem_id]=node,gskeyboard[type].nodeList.push(elem_id),gskeyboard[type].nodeCount++}},gskeyboard.NavForCardsAndDashboard=function(nodeList,currIndex){var node=null,link=38===nodeList?"prev":"next",nodeList=gskeyboard[currIndex].nodeList;0==nodeList.length&&gskeyboard.insertCardDashboardElems(currIndex);currIndex=(new gskeyboard[currIndex].getValues).getCurrentSelectedElem(),currIndex=nodeList.indexOf(currIndex);"prev"==link&&0<currIndex?node=nodeList[currIndex-1]:"next"==link&&currIndex+1<nodeList.length&&(node=nodeList[currIndex+1]),_jQueryGS("#"+node).click(),zgssearch.highlightRes(node,link)},gskeyboard.insertDashboardElements=function(){gskeyboard.index={},gskeyboard.dashboardNodeCount=0,gskeyboard.dashboardNodeList=[];for(var card_id="zgs20_gs"+gskeyboard.currentCardId+"card",nodesList=document.getElementById(card_id).getElementsByClassName("zgs19_gsCardResultTable"),nodes_lenth=nodesList.length,node=0;node<nodes_lenth;node++){var elem_id=_jQueryGS(nodesList[node]).attr("id");gskeyboard.index[elem_id]=node,gskeyboard.dashboardNodeList.push(elem_id),gskeyboard.dashboardNodeCount++}},gskeyboard.keyboardNavgForDashboard=function(currIndex){var node=null,link=38===currIndex?"prev":"next";0==gskeyboard.dashboardNodeList.length&&gskeyboard.insertDashboardElements();currIndex=gskeyboard.dashboardNodeList.indexOf(zgssearch.gscardsresult.curSelectedEle.id);"prev"==link&&0<currIndex?node=gskeyboard.dashboardNodeList[currIndex-1]:"next"==link&&currIndex+1<gskeyboard.dashboardNodeList.length&&(node=gskeyboard.dashboardNodeList[currIndex+1]),_jQueryGS("#"+node).click(),zgssearch.highlightRes(node,link)},gskeyboard)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.lastSearchQuery=zgssearch.lastSearchQuery||{},zgssearch.emailRegexPattern=/^[\w]([\w\-\.\+\'\/]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/,zgssearch.nextScrollValue=zgssearch.nextScrollValue||0,zgssearch.completedNextScrollValue=zgssearch.completedNextScrollValue||0,zgssearch.futureNextScrollValue=zgssearch.futureNextScrollValue||0,zgssearch.searchResultsLimit=zgssearch.searchResLimit||500,zgssearch.searchViewport=zgssearch.searchViewport||{},zgssearch.mousewheelevt=/Firefox/i.test(zgssearch.userAgent)?"DOMMouseScroll":"mousewheel",zgssearch.isCalloutActionListOpened=!1,zgssearch.isMenuPopUpOpened=!1,zgssearch.isAttendeesListOpened=!1,zgssearch.isAttendeeMenuPopUp=!1,zgssearch.calendarInterval="",zgssearch.openContextPopup=!1,zgssearch.isOpenDoubleClickPopup=!1,zgssearch.isSmartViewServicePaneOpened=zgssearch.isSmartViewServicePaneOpened||!1,zgssearch.menuPopUpAction="",zgssearch.currHoverRes="",zgssearch.dateFilterDisplay=!1,zgssearch.calendarActionPopUpOpened=!1,zgssearch.timezonePopUp=!1,zgssearch.isLeftDivisonPanelHidden=zgssearch.isLeftDivisonPanelHidden||!1,zgssearch.isShowQuickActionsPage=!zgssearch.hasOwnProperty("isShowQuickActionsPage")||zgssearch.isShowQuickActionsPage,zgssearch.lastVisibleStateOfWindow=zgssearch.lastVisibleStateOfWindow||0,zgssearch.oldSelectedPos={},zgssearch.cardObjForCurrentSelectedElem={},zgssearch.dashboardSearchActions&&(zgssearch.commonSearchActions=new zgssearch.dashboardSearchActions),zgssearch.clickedViewAllServicesList=[],zgssearch.resulstAreaWidth=zgssearch.resulstAreaWidth||0,zgssearch.handleGSSearch=function(){zgssearch.isGSOpened&&!zgssearch.isWidgetCallWaitNeeded&&(zgssearch.checkExternalQueries(),zgssearch.focusForWeb("zgs20_gsQueryBox"))},zgssearch.handleToggleGSEvent=function(){zgssearch.setWMSZIndex(),zgssearch.isGSOpened?zgssearch.callingAttachEvent():zgssearch.callingDeattachEvent()},zgssearch.closeBiggerZOSPopup=function(event,isFocusCheck){if(zgssearch.hasOwnProperty("gszohosearch")&&zgssearch.gszohosearch.isFeedbackOpened){if(isFocusCheck)return void zgssearch.stopEvent(event);zgssearch.gszohosearch.toggleFeedback()}zgssearch.hasOwnProperty("gstopband")&&(zgssearch.gstopband.hideHamburger(),zgssearch.gstopband.hideUserDetails()),zgssearch.hasOwnProperty("gsnlpsearch")&&zgssearch.gsnlpsearch.hideNLPTracer()},zgssearch.handleKeydownAction=function(event){var tid,keycode=event.keyCode||event.which,query=zgssearch.getAllQueryText(),search_type=zgssearch.getSearchType(),isWMSPopUpDisplay=zgssearch.isWMSPopUPOpened(),isSearchEvent=zgssearch.getTopMostParentNode(event.target,"globalsearch");if(null!==isSearchEvent)if(keycode==zgssearch.specialkeys.ENTER)if(zgssearch.isQueryFocused){var target=zgssearch.gsautocomplete.currselecelem;if(zgssearch.gsautocomplete.isAutoSuggDisplay&&target)zgssearch.updateautosuggest(target,event);else{if(zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.checkIfDefaultDashboardOpened())return zgssearch.gsdbhome.defaultDbSuccAction=_jQueryGS("#zgs20_gsSearchBtnIcon"),void event.preventDefault();zgssearch.removeQuerySugg();var fTarget=zgssearch.checkAndReturnServiceCriteria(search_type);search_type!=fTarget&&(zgssearch.updateSearchType(fTarget),zgssearch.updateCurrentPage(fTarget)),zgssearch.newHandleUserSearchQuery(fTarget)}zgssearch.stopEvent(event)}else zgssearch.isMoreInnerFilterListDisplay?(fTarget=zgssearch.currFilterSelectedElem)&&(zgssearch.clickActionForMoreInnerList(fTarget),zgssearch.hideMoreInnerFilterList()):zgssearch.isEditFieldsDisplay?zgssearch.gsaction.handleEnterAction():zgssearch.gssavedsearches.isSaveThisSearchDialogOpened&&zgssearch.popupUtils.popupSaveAction?zgssearch.gssavedsearches.savedSearchActions(zgssearch.popupUtils.popupSaveAction):zgssearch.isCardViewOpened()&&zgssearch.popupUtils.popupSaveAction?zgssearch.gscards.conifrmOnCards(zgssearch.popupUtils.popupSaveAction):zgssearch.isDashboardViewOpened()&&zgssearch.gsdbhome.isDashboardPopupOpened?zgssearch.gsdbhome.dashboardConfirmActions(zgssearch.popupUtils.popupSaveAction):zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.isAddCardPopupOpened&&zgssearch.gsaddcards.isPopupOpened&&zgssearch.gsaddcards.cardConfirmActions(zgssearch.popupUtils.popupSaveAction);else keycode==zgssearch.specialkeys.ESC?(zgssearch.handleESCAction(isWMSPopUpDisplay),isWMSPopUpDisplay||(zgssearch.stopEvent(event),_jQueryGS("#zgs20_gsHolder").focus())):keycode==zgssearch.specialkeys.TAB?zgssearch.gsautocomplete.isAutoSuggDisplay?((target=zgssearch.gsautocomplete.currselecelem)||(tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),target=zgssearch.getTargetElem(tid)),zgssearch.updateautosuggest(target,event),zgssearch.stopEvent(event)):zgssearch.gscalendaraction.AttendeeSuggestion?(tid=_jQueryGS(".zgs19_gsAttendeeContainer:first").attr("id"),zgssearch.gscalendaraction.addAttendeesToAttendeeList(zgssearch.getTargetElem(tid)),zgssearch.gscalendaraction.hideAttendeeSuggestion(),zgssearch.stopEvent(event)):(zgssearch.timezonePopUp||zgssearch.calendarActionPopUpOpened)&&zgssearch.stopEvent(event):keycode==zgssearch.specialkeys.RIGHT?zgssearch.getCursorPositionForSearchBox()==query.length&&zgssearch.gsautocomplete.isAutoSuggDisplay&&((target=zgssearch.gsautocomplete.currselecelem)||(tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id"),target=zgssearch.getTargetElem(tid)),zgssearch.updateautosuggest(target,event),zgssearch.stopEvent(event)):keycode!=zgssearch.specialkeys.UP&&keycode!=zgssearch.specialkeys.DOWN||(zgssearch.isEditFieldsDisplay?zgssearch.gskeyboard.keyboardNavgForEditFields(keycode):zgssearch.gsautocomplete.isAutoSuggDisplay||zgssearch.gsfilters.isUserSuggDisplay?zgssearch.gskeyboard.keyboardNavgForAutoSugg(keycode):zgssearch.timezonePopUp||zgssearch.gscalendaraction.AttendeeSuggestion||!zgssearch.calendarActionPopUpOpened?isWMSPopUpDisplay||zgssearch.isFeedbackFieldsFocused||(zgssearch.isDashboardViewOpened()?zgssearch.gscardinDb.isCardMaximised&&zgssearch.gskeyboard.NavForCardsAndDashboard(keycode,zgssearch.DASHBOARD_TYPE):zgssearch.isCardViewOpened()?zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.isCreateCardPageOpened?zgssearch.stopEvent(event):_jQueryGS("#zgs20_gsCrdPrevResult").length&&zgssearch.gskeyboard.NavForCardsAndDashboard(keycode,zgssearch.CARD_TYPE):"search"!==zgssearch.selectedLeftPanelDivision||zgssearch.isFilterPageOpened||zgssearch.isQueryFocused||zgssearch.gssavedsearches.isSaveThisSearchDialogOpened||zgssearch.gskeyboard.keyUpAndDownAction(keycode)):zgssearch.stopEvent(event),zgssearch.hasOwnProperty("gscomponent")&&1===gscomponent.UIType&&zgssearch.closeBiggerZOSPopup(event,!0),isWMSPopUpDisplay||zgssearch.stopEvent(event))},zgssearch.handleESCAction=function(isWMSPopUpDisplay){if(zgssearch.isGSOpenedKeyUp=!0,zgssearch.isDatePickerDisplay)zgssearch.hideDatePicker();else if(zgssearch.isCustomDatePickerDisplay)zgssearch.hideNewCustomDatePicker();else{if(zgssearch.isMoreInnerFilterListDisplay)return zgssearch.hideMoreInnerFilterList(),void zgssearch.focusForWeb("zgs20_gsHolder");if(zgssearch.isMoreFilterListDisplay)return zgssearch.hideMoreFilterList(),void zgssearch.hideMoreInnerFilterList();if(zgssearch.isCalloutActionListOpened)return zgssearch.hideCalloutActionList(),_jQueryGS(".zgs19_gsLabelsPopUp").remove(),void _jQueryGS(".zgs19_gsFlagPopUpElement").remove();if(zgssearch.isEditFieldsDisplay)zgssearch.hideEditFieldsList();else{if(zgssearch.isMenuPopUpOpened)return _jQueryGS(".zgs19_gsMenuPopUp").remove(),void(zgssearch.isMenuPopUpOpened=!1);if(zgssearch.isAttendeesListOpened)return _jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),void(zgssearch.isAttendeesListOpened=!1);if(zgssearch.isAttendeeMenuPopUp)return _jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),void(zgssearch.isAttendeeMenuPopUp=!1);if(zgssearch.isOpenDoubleClickPopup)return _jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1,void(zgssearch.isOpenPopup=!1);if(zgssearch.gscalendaraction.AttendeeSuggestion)zgssearch.gscalendaraction.hideAttendeeSuggestion();else if(zgssearch.timezonePopUp)zgssearch.gscalendaraction.hideTimeZoneDialogBox();else if(zgssearch.calendarActionPopUpOpened)zgssearch.gscalendaraction.hideEditEventDialogBox();else if(zgssearch.gsautocomplete.isAutoSuggDisplay)zgssearch.removeQuerySugg();else{if(zgssearch.isServiceOverlayOpened)return zgssearch.gsusersettings.updateReorderActions("cancelSerOrder"),void(zgssearch.isServiceOverlayOpened=!1);if(zgssearch.isAccountsOverlayOpened)return zgssearch.gsusersettings.updateSettingsActions("cancelSerAccOrder"),void(zgssearch.isAccountsOverlayOpened=!1);if(zgssearch.gsusersettings.isSettingsOpened)return zgssearch.gsusersettings.changeUrlBeforeSettingsClose(),void zgssearch.closeActionForSettings();if(zgssearch.gssavedsearches.isSaveThisSearchDialogOpened)return zgssearch.gssavedsearches.addToDbDDOpened?(zgssearch.gssavedsearches.hideAddtodblistholder(),_jQueryGS("#zgs20_addToDbInputListInput").blur(),void _jQueryGS("#zgs20_gsMultiServiceSavePopup").click().focus()):zgssearch.gssavedsearches.isAddtoDbElementOpened?void zgssearch.gssavedsearches.hideaddtodbElement():void zgssearch.gssavedsearches.hideSavedSearchDialog();if(_jQueryGS(".zgs19_gsCardsListElement").is(":visible"))zgssearch.gsaddcards.showCardList();else{if(_jQueryGS(".zgs19_gsActionsPopUp").is(":visible"))return _jQueryGS("#zgs20_gsOverlayDialog").empty(),void _jQueryGS("#zgs20_gsOverlayDialog").css("display","none");if(zgssearch.isFilterListDisplay)return zgssearch.stopEvent(event),void zgssearch.gsfilters.hideEachFilterPopUp("zgs20_gsFilterPopup");if(zgssearch.hasOwnProperty("gsadvancesearch")&&zgssearch.gsadvancesearch.isAdvFieldListOpened)return zgssearch.stopEvent(event),void zgssearch.gsadvancesearch.hideAdvPopUpList();if(zgssearch.isAppListOpened)zgssearch.gsfilters.hideAppsList();else{if(zgssearch.isCrtPatnESCPressed)return zgssearch.gsadvancesearch.cancelEditCriteria(),zgssearch.isCrtPatnESCPressed=!1,void _jQueryGS("#zgs20_gsfilterBodyHldr").click().focus();if(!zgssearch.isFilterPageOpened||zgssearch.isFilterListDisplay||zgssearch.gsadvancesearch.isAdvFieldListOpened||zgssearch.isAppListOpened){if(zgssearch.hasOwnProperty("gscards")){if(zgssearch.hasOwnProperty("gscreatecards")){if(zgssearch.isAppListOpened)return _jQueryGS("#zgs20_gsFilterPopup").css("display","none"),zgssearch.isAppListOpened=!1,void(zgssearch.gsfilters.currselecElem="");if(zgssearch.gsfilters.isUserSuggDisplay)return void zgssearch.gsfilters.hideUserContactSugg()}if(zgssearch.gscardinfo.isCardInfoPopupOpened)return 0<_jQueryGS(".zgs19_gsAddCardInfo").length?void zgssearch.gscardinfo.hideEditCardInfo():void(0<_jQueryGS(".zgs19_gsCardInfo").length&&zgssearch.gscardinfo.hideCardPageInfoBox());if(zgssearch.isCardPageOpened&&zgssearch.popupUtils.isPopupOpened)return zgssearch.popupUtils.closeCnfrmDialogBox(),void zgssearch.popupUtils.closeOverlayDialog();if(zgssearch.popupUtils.isSelectionPopupOpened)return void zgssearch.popupUtils.closeSelectionPopup();if(zgssearch.gscards.isCardServiceListFilterOpened)return void zgssearch.gscards.hideServiceFilter();if(zgssearch.gscards.isMoreServiceFiltersOpened)return void zgssearch.gscards.closeMoreServiceFilterContainer();zgssearch.gscards.isCardsActionMenuOpened&&zgssearch.gscards.hideCardsActionMenu()}if(zgssearch.hasOwnProperty("gsdbhome")){if(zgssearch.isDashboardOpened&&zgssearch.gsdbhome.isDashboardPopupOpened)return void zgssearch.gsdbhome.dashboardConfirmActions(zgssearch.popupUtils.popupCancelAction);if(""!=zgssearch.gscardinDb.maximisedCardId){_jQueryGS(".zgs19_gsThumbNailViewOuter").remove();var maximiseCard=_jQueryGS("#zgs20_gs"+zgssearch.gscardinDb.maximisedCardId+"card");return void zgssearch.gscardinDb.minimiseCard(maximiseCard,"minimise")}}zgssearch.hasOwnProperty("gscomponent")&&1===gscomponent.UIType&&zgssearch.closeBiggerZOSPopup(event),isWMSPopUpDisplay||zgssearch.isEmbed?zgssearch.isGSOpenedKeyUp=!1:zgssearch.globalToggleHandling()}else zgssearch.gsfilters.filterActions("cancel")}}}}}},window.removeEventListener("keyup",zgssearch.handleKeyUpAction,!0),zgssearch.handleKeyUpAction=function(event){(event.keyCode||event.which)==zgssearch.specialkeys.ESC&&zgssearch.isGSOpenedKeyUp&&(zgssearch.isGSOpenedKeyUp=!1,zgssearch.stopEvent(event))},window.addEventListener("keyup",zgssearch.handleKeyUpAction,!0),zgssearch.globalClickEventForOverlay=function(event){1!==gscomponent.UIType&&(zgssearch.isGSOpenedKeyUp=!1,zgssearch.globalToggleHandling())},zgssearch.isWMSPopUPOpened=function(){var wmsUserProfilePopUp,imgPreviewPopUp,zcustomPopUp,zuserProfilePopUp,fileforwLen,zcwindowsZIndex,isWMSPopUp=!1,zindex=_jQueryGS("#zgs20_globalsearch").css("z-index");return isNaN(zindex)||(zindex=parseInt(zindex),zuserProfilePopUp="wms_contactdetails",fileforwLen="wms-imgpreviewcontainer",zgssearch.isCliqDomain&&(zuserProfilePopUp="hover",fileforwLen="imgviewer"),zcustomPopUp=_jQueryGS("#custommsg").css("display"),wmsUserProfilePopUp=_jQueryGS("#"+zuserProfilePopUp).css("display"),imgPreviewPopUp=_jQueryGS("#"+fileforwLen).css("display"),zcustomPopUp&&"none"!=zcustomPopUp?(zcustomPopUp=_jQueryGS("#custommsg").css("z-index"),isNaN(zcustomPopUp)||zindex<=(zcustomPopUp=parseInt(zcustomPopUp))&&(isWMSPopUp=!0)):wmsUserProfilePopUp&&"none"!=wmsUserProfilePopUp?(zuserProfilePopUp=_jQueryGS("#"+zuserProfilePopUp).css("z-index"),isNaN(zuserProfilePopUp)||zindex<=(zuserProfilePopUp=parseInt(zuserProfilePopUp))&&(isWMSPopUp=!0)):imgPreviewPopUp&&"none"!=imgPreviewPopUp&&(zcwindowsZIndex=_jQueryGS("#"+fileforwLen).css("z-index"),isNaN(zcwindowsZIndex)||zindex<=(zcwindowsZIndex=parseInt(zcwindowsZIndex))&&(isWMSPopUp=!0)),zgssearch.isCliqDomain&&(fileforwLen=_jQueryGS("#fileforwardwin").length,zcwindowsZIndex=_jQueryGS("#zcwindows").css("z-index"),0<fileforwLen&&(isNaN(zcwindowsZIndex)||zindex<=(zcwindowsZIndex=parseInt(zcwindowsZIndex))&&(isWMSPopUp=!0)))),isWMSPopUp},zgssearch.moreSearchResultPage=function(target,service_name){var isQueryChanged,searchType,acc_id,modName;zgssearch.network.removeEventSource(),service_name!==GSConstant.GS_APPS?(isQueryChanged=zgssearch.getAllQueryText()!==zgssearch.searchedQuery,service_name=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,zgssearch.updateQueryBox(service_name,zgssearch.getQueryText()),zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.searchedQuery=zgssearch.getAllQueryText(),searchType=zgssearch.getSearchType(),zgssearch.clearPrevSearchAction(),modName=_jQueryGS(target).attr("gs"),acc_id=_jQueryGS(target).attr("acc_id"),GSConstant.ALL==searchType&&zgssearch.isServiceHasMultiPortals(service_name)&&"serviceWidgetBand"!=modName&&(zgssearch.multiPageEnabled=!0),zgssearch.getSearchType()!==service_name&&zgssearch.updateSearchType(service_name,target),zgssearch.checkAndUpdateSubMultiPageFlag(service_name),zgssearch.multiPageEnabled||(acc_id&&zgssearch.setCurrentValue("accounts",acc_id),service_name!==zgssearch.GSConstant.MAILS||(modName=_jQueryGS(target).attr("module_name"))&&"0"!=modName&&zgssearch.setCurrentValue("modules",modName)),"account"===(_jQueryGS(target).attr("action_type")||"account")&&(zgssearch.isArrayContain(service_name,zgssearch.multiModSupportedServices)||service_name===GSConstant.MAILS||service_name===GSConstant.PROJECTS)||isQueryChanged?zgssearch.newHandleUserSearchQuery(service_name):(zgssearch.loadSearchResults(service_name,acc_id,target),zgssearch.gsfilters.checkFiltersAppliedOrNot())):zgssearch.getMoreAppsSearchResults()},zgssearch.toggleCalloutActionList=function(target){var calloutActionEle=zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder").getElementsByClassName("zgs19_gsCalloutActionList");"block"!=_jQueryGS(calloutActionEle).css("display")&&zgssearch.hideAllDropdownList(),zgssearch.isCalloutActionListOpened?(_jQueryGS(target).removeClass("zgs19_gsBorderCCC"),_jQueryGS(".zgs19_gsLabelsPopUp").remove(),_jQueryGS(".zgs19_gsFlagPopUpElement").remove(),_jQueryGS(calloutActionEle).css("display","none"),zgssearch.isCalloutActionListOpened=!1):(_jQueryGS(target).addClass("zgs19_gsBorderCCC"),_jQueryGS(calloutActionEle).css("display","block"),zgssearch.isCalloutActionListOpened=!0),zgssearch.isDashboardPageOpened&&_jQueryGS(target).closest(".zgs19_gsInrCrdBody").outerHeight()<=230&&(_jQueryGS(calloutActionEle).css("height","180px"),_jQueryGS(calloutActionEle).css("overflow-x","auto"))},zgssearch.downloadForCalloutAction=function(service,resObj,target){switch(service){case GSConstant.WIKI:zgssearch.gswiki.downloadWikiDocument(resObj);break;case GSConstant.WORKDRIVE:zgssearch.gsworkdrive.downloadWorkDriveDocument(resObj);break;default:var fileMgmtInstance=new zgssearch.FileMgmtFactory,fileMgmtInfo={};fileMgmtInfo.service=service,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).downloadDocument(resObj,target)}},zgssearch.continueForCalloutAction=function(url,resObj,target,event){url===GSConstant.SLACK?(url=zgssearch.fetchCalloutUrl(url,resObj,target),zgssearch.openInNewTab(url)):zgssearch.chatAction(target,"continue",event,resObj)},zgssearch.readMailstatusCalloutActions=function(service,curRe,resObj,target){var calloutObj=(new zgssearch.dashboardSearchActions).createActionType(target).getSearchDBCalloutObj();switch(service){case GSConstant.MAILS:zgssearch.gsmails.toggleMailStatus(curRe,resObj,"markAsRead",calloutObj,target);break;case GSConstant.O365MAIL:zgssearch.gso365mail.toggleMailStatus("read",curRe,resObj,calloutObj,target);break;case GSConstant.GMAIL:zgssearch.gsgmail.toggleMailStatus("read",curRe,resObj,calloutObj,target)}},zgssearch.unreadMailstatusCalloutActions=function(service,curRe,resObj,target){var calloutObj=(new zgssearch.dashboardSearchActions).createActionType(target).getSearchDBCalloutObj();switch(service){case GSConstant.MAILS:zgssearch.gsmails.toggleMailStatus(curRe,resObj,"markAsUnread",calloutObj,target);break;case GSConstant.O365MAIL:zgssearch.gso365mail.toggleMailStatus("unread",curRe,resObj,calloutObj,target);break;case GSConstant.GMAIL:zgssearch.gsgmail.toggleMailStatus("unread",curRe,resObj,calloutObj,target)}},zgssearch.contextMenuActionsPopUp=function(target,topPos){var action,ownerId,pos,leftPos,beforepos;zgssearch.isCardViewOpened()||zgssearch.isDashboardViewOpened()||(leftPos=zgssearch.getCurrentResObj(),pos=zgssearch.getCalloutSearchType(),action=_jQueryGS(target).attr("gs"),pos===GSConstant.CLIQ&&(ownerId=leftPos.cid||"",-1!==(ownerId=(beforepos=(beforepos=zgssearch.chidVsMeta||{}).hasOwnProperty(ownerId)?beforepos[ownerId]:"").owner)&&"-1"!==ownerId&&void 0!==ownerId&&""!=ownerId||(zgssearch.isMenuPopUpOpened=!0,zgssearch.openContextPopup=!0)),pos===GSConstant.CAMPAIGNS&&"1"===zgssearch.getResultAccountId()&&(zgssearch.isMenuPopUpOpened=!0,zgssearch.openContextPopup=!0),zgssearch.isMenuPopUpOpened&&action===_jQueryGS(zgssearch.menuPopUpAction).attr("gs")||zgssearch.openContextPopup?(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1):(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.addMenuContent(target,leftPos,pos,beforepos,topPos),_jQueryGS("#zgs20_gsMenuPopUp").show(),leftPos=_jQueryGS(target).height(),beforepos=_jQueryGS("#zgs20_gsSearchResultRight").get(0).getBoundingClientRect(),topPos=_jQueryGS(target).get(0).getBoundingClientRect().top-beforepos.top+leftPos+16,pos!=zgssearch.GSConstant.ASANA&&(beforepos=_jQueryGS(target).closest(".zgs19_gsUserBackground").width(),leftPos=_jQueryGS("#zgs20_gsMenuPopUp").outerWidth(),(leftPos=(pos=_jQueryGS(target).position()).left+beforepos/2-leftPos/2)<10&&(beforepos=pos.left+beforepos/2-(leftPos=10),_jQueryGS(".zgs19_gsMenuPopUp").prepend("<style>.zgs19_gsMenuPopUp::before{left:"+beforepos+"px !important;}</style>"),_jQueryGS(".zgs19_gsMenuPopUp").prepend("<style>.zgs19_gsMenuPopUp::after{left:"+beforepos+"px !important;}</style>")),_jQueryGS(".zgs19_gsMenuPopUp").css("left",leftPos)),_jQueryGS(".zgs19_gsMenuPopUp").css("top",topPos),zgssearch.isMenuPopUpOpened=!0,zgssearch.menuPopUpAction=target))},zgssearch.toggleBacktoTop=function(id,backToTopId){0<_jQueryGS("#"+id).scrollTop()?zgssearch.showScrollTopIcon(backToTopId):zgssearch.hideScrollTopIcon(backToTopId)},zgssearch.setWMSZIndex=function(){var zindex,zindex_wms,wmstoolbarZIndex;zgssearch.hasWebMessanger?zgssearch.isGSOpened?(zindex=2147483646,(zindex_wms=WebMessanger.getZIndex?WebMessanger.getZIndex():"")&&(zgssearch.wmsZIndex||(zgssearch.wmsZIndex=zindex_wms),zgssearch.wmsContactsZIndex||(wmstoolbarZIndex=_jQueryGS("#wms_contactdetails").css("z-index"))&&(zgssearch.wmsContactsZIndex=wmstoolbarZIndex),zgssearch.wmstoolbarZIndex||(wmstoolbarZIndex=_jQueryGS("#wmstoolbar").css("z-index"),isNaN(wmstoolbarZIndex)||zindex<(wmstoolbarZIndex=parseInt(wmstoolbarZIndex))&&(zgssearch.wmstoolbarZIndex=wmstoolbarZIndex)),isNaN(zindex_wms)||(zindex_wms=parseInt(zindex_wms),zgssearch.isGSOpened&&(zindex=zindex<zindex_wms?zindex:zindex_wms))),WebMessanger.setZIndex(zindex),4!==gscomponent.UIType&&1!==gscomponent.UIType&&_jQueryGS("#zgs20_globalsearch").css("z-index",zindex),_jQueryGS("#wms_contactdetails").css("z-index",zindex+1),_jQueryGS("#wmstoolbar").css("z-index",zindex-2),1===gscomponent.UIType&&(_jQueryGS("#zgs20_feedbackDialog").css("z-index",zindex+1),_jQueryGS("#wmstoolbar").css("z-index",zindex+1)),WebMessanger.closeOpenPopup&&WebMessanger.closeOpenPopup()):(zgssearch.wmsZIndex&&(WebMessanger.setZIndex(zgssearch.wmsZIndex),_jQueryGS("#wmstoolbar").css("z-index",zgssearch.wmsZIndex)),zgssearch.wmsContactsZIndex&&_jQueryGS("#wms_contactdetails").css("z-index",zgssearch.wmsContactsZIndex),zgssearch.wmstoolbarZIndex&&_jQueryGS("#wmstoolbar").css("z-index",zgssearch.wmstoolbarZIndex)):0==zgssearch.gscomponent.UIType&&_jQueryGS("#zgs20_globalsearch").css("z-index",999)},zgssearch.showScrollTopIcon=function(backToTopId){_jQueryGS(backToTopId).css("display","block"),zgssearch.isMobViewport()?_jQueryGS(backToTopId).css("bottom","90px"):_jQueryGS(backToTopId).css("bottom","20px")},zgssearch.hideScrollTopIcon=function(backToTopId){_jQueryGS(backToTopId).css("display","none")},zgssearch.multiPageScrollEvent=function(sset,event){var service,tempResArr,ailen;zgssearch.isBottomReached(sset)&&(service=zgssearch.getSearchType(),tempResArr=(zgssearch.multiResultObj||{})[service]||[],ailen=zgssearch.getWidgetServiceList(service),ailen=(sset=zgssearch.getFilterInfo(service,ailen.key,"accIdArr")).length-1,0<(sset=zgssearch.getSearchedMultiPageIndex(service,tempResArr,sset))&&sset<ailen&&0<zgssearch.multiResCount&&(zgssearch.multiStartSet!=(sset=(sset+sset%2)/2)&&zgssearch.handleMultiPageScroll(service,sset))),zgssearch.stopEvent(event)},zgssearch.modulePageScrollEvent=function(id,event){var search_type=zgssearch.getSearchType(),is_cursor_supported=zgssearch.isCursorSupportedService(search_type),service_cursor="";is_cursor_supported&&(soid=zgssearch.curSelectedEle.getAttribute("acc_id"),service_cursor=(search_mod_type=zgssearch.cursorObj[soid])?search_mod_type.cursor:"");var finalcursorVal="",nextStartValue=parseInt(zgssearch.nextScrollValue);if(nextStartValue<parseInt(zgssearch.searchResultsLimit)||is_cursor_supported&&""!==service_cursor){var soid,crm_mod_cursor,search_mod_type,finalURL,query=zgssearch.getQueryText(),isCrmAllSearchLimit=!1;if(search_type!==zgssearch.GSConstant.CRM||"true"!=zgssearch.GSConstant.CRM_FETCH_ALL_RECORDS||(soid=zgssearch.getCurrentValue("modules",search_type))&&"all_crm_mod"===soid&&(isCrmAllSearchLimit=!0),(search_type=zgssearch.checkAndReturnServiceCriteria(search_type))===zgssearch.GSConstant.CALENDAR)switch(zgssearch.getCurrentValue("eventTypes",search_type)){case"0":zgssearch.checkAndFormSearchURL(query,search_type,id,-1),zgssearch.checkAndFormSearchURL(query,search_type,id,1);break;case"-1":zgssearch.checkAndFormSearchURL(query,search_type,id,-1);break;case"1":zgssearch.checkAndFormSearchURL(query,search_type,id,1)}else zgssearch.isBottomReached(id)&&(zgssearch.isValidSearchQuery(query,search_type,_jQueryGS("#"+id))?zgssearch.newHandleUserSearchQuery(search_type):isCrmAllSearchLimit?(crm_mod_cursor=zgssearch.resultCount.crm,zgssearch.nextScrollValue<crm_mod_cursor&&zgssearch.renderSearchResults(search_type,!1,!0)):zgssearch.noMoreResults||search_type==GSConstant.ONEDRIVE&&!service_cursor||(query&&encodeURIComponent(query),nextStartValue+=is_cursor_supported?search_mod_type.total_no_of_results:zgssearch.fetchResCount,crm_mod_cursor="",!zgssearch.isListViewSearch()||search_type!==zgssearch.GSConstant.SALESFORCE&&search_type!==zgssearch.GSConstant.ASANA||(finalURL=search_type===zgssearch.GSConstant.SALESFORCE?"modules":zgssearch.WS,search_mod_type=zgssearch.getCurrentValue(finalURL,search_type),finalURL=zgssearch.getCurrentValue("accounts",search_type),"all"===search_mod_type&&""!==finalURL&&(""===(crm_mod_cursor=zgssearch.getModuleCursorInfo(search_type,finalURL))||"0"===crm_mod_cursor?zgssearch.scrollSearch=!0:nextStartValue=0)),finalURL=zgssearch.formFinalSearchURL(nextStartValue),(zgssearch.isListViewSearch()&&search_type==zgssearch.GSConstant.SLACK||search_type==zgssearch.GSConstant.DROPBOX||search_type==zgssearch.GSConstant.GOOGLEDRIVE||search_type==zgssearch.GSConstant.O365MAIL||search_type==zgssearch.GSConstant.ONEDRIVE||search_type==zgssearch.GSConstant.GMAIL)&&(finalcursorVal=service_cursor),finalURL+=(finalcursorVal=(search_type===zgssearch.GSConstant.SALESFORCE||search_type===zgssearch.GSConstant.ASANA)&&""!==crm_mod_cursor&&"0"!==crm_mod_cursor?crm_mod_cursor:finalcursorVal)&&is_cursor_supported?"&cursor="+finalcursorVal:"",zgssearch.scrollSearch||(zgssearch.scrollSearch=!0,zgssearch.nextScrollValue=nextStartValue,zgssearch.resetCRMModCursor(search_type),zgssearch.hideSearchPageLoader(),zgssearch.addScrollLoader(id,"zgs20_gsScrollLoader"),zgssearch.setCursorValue(search_type,finalcursorVal),zgssearch.getNewSearchResults(finalURL))))}zgssearch.stopEvent(event)},zgssearch.setCursorValue=function(service,cursorVal){zgssearch.cursor_info_service_search[service]=cursorVal},zgssearch.getCursorValue=function(service){return zgssearch.cursor_info_service_search.hasOwnProperty(service)?zgssearch.cursor_info_service_search[service]:""},zgssearch.resetCusrorValue=function(service){zgssearch.cursor_info_service_search[service]=""},zgssearch.resetCRMModCursor=function(search_type){var search_mod_type,search_connector_id;search_type===zgssearch.GSConstant.SALESFORCE&&(search_mod_type=zgssearch.getCurrentValue("modules",search_type),search_connector_id=zgssearch.getCurrentValue("accounts",search_type),"all"===search_mod_type&&""!==search_connector_id&&zgssearch.resetModuleCursorInfo(search_type,search_connector_id))},zgssearch.isBottomReached=function(actualLocation){var scrollHeight=zgssearch.getTargetElem(actualLocation);if(scrollHeight&&0<scrollHeight.scrollTop){actualLocation=scrollHeight.scrollTop+scrollHeight.offsetHeight,scrollHeight=scrollHeight.scrollHeight;if(scrollHeight-actualLocation<300||actualLocation===scrollHeight)return!0}return!1},zgssearch.isTopReached=function(actualLocation){actualLocation=zgssearch.getTargetElem(actualLocation);if(actualLocation){actualLocation=actualLocation.scrollTop;if(actualLocation<300||0===actualLocation)return!0}return!1},zgssearch.checkAndFormSearchURL=function(query,search_type,id,scrollType){var isscrollReached=!1,url=!1,nextStartValue=0;-1===scrollType?(isscrollReached=zgssearch.isTopReached(id),url=zgssearch.completedNoMoreResults,nextStartValue=zgssearch.completedNextScrollValue):1===scrollType&&(isscrollReached=zgssearch.isBottomReached(id),url=zgssearch.futureNoMoreResults,nextStartValue=zgssearch.futureNextScrollValue);isscrollReached&&(zgssearch.isValidSearchQuery(query,search_type)?zgssearch.newHandleUserSearchQuery(query,search_type):url||(nextStartValue+=zgssearch.fetchResCount,url=zgssearch.formFinalSearchURL(nextStartValue,scrollType),zgssearch.scrollSearch||(zgssearch.scrollSearch=!0,zgssearch.hideSearchPageLoader(),-1===scrollType?(zgssearch.completedNextScrollValue=nextStartValue,zgssearch.addTopScrollLoader(id,"zgs20_gsScrollLoader")):1===scrollType&&(zgssearch.futureNextScrollValue=nextStartValue,zgssearch.addScrollLoader(id,"zgs20_gsScrollLoader")),zgssearch.getNewSearchResults(url))))},zgssearch.addTopScrollLoader=function(id,fourDotLoader){zgssearch.removeScrollLoader();fourDotLoader=zgssearch.getFourDotLoader(fourDotLoader,"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader zgs19_gsScrollMargin");_jQueryGS("#"+id).prepend(fourDotLoader)},zgssearch.addScrollLoader=function(id,fourDotLoader){zgssearch.removeScrollLoader();fourDotLoader=zgssearch.getFourDotLoader(fourDotLoader,"zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader");_jQueryGS("#"+id).append(fourDotLoader)},zgssearch.removeScrollLoader=function(){0<_jQueryGS("#zgs20_gsScrollLoader").length&&_jQueryGS("#zgs20_gsScrollLoader").remove()},zgssearch.updateLastSearchQuery=function(key,value){zgssearch.lastSearchQuery[key]=value},zgssearch.getLastSearchedQuery=function(){return _jQueryGS.isEmptyObject(zgssearch.lastSearchQuery)?"":zgssearch.lastSearchQuery},zgssearch.checkAndReturnServiceCriteria=function(service){return zgssearch.getCurrentQueryCriteria("services")||service},zgssearch.clearPrevSearchAction=function(){zgssearch.closeMsg="",zgssearch.nonsearchcall="",zgssearch.curSelectedEle="",zgssearch.nextScrollValue=0,zgssearch.completedNextScrollValue=0,zgssearch.futureNextScrollValue=0,zgssearch.multiResCount=0,zgssearch.multiStartSet=0,zgssearch.multiResulList={},zgssearch.renderedResultServiceMetaObj={},zgssearch.mail_module_subset=[],zgssearch.gssupport.calloutRespData={},zgssearch.multiPageEnabled=!1,zgssearch.scrollSearch=!1,zgssearch.timerEnabled=!1,zgssearch.isDefWelAdded=zgssearch.isDefWelAdded||!1,zgssearch.noResFeed=!1,zgssearch.noMoreResults=!1,zgssearch.completedNoMoreResults=!1,zgssearch.futureNoMoreResults=!1,zgssearch.isMaxCalloutOpen=!1,zgssearch.setCalloutPreviewPosition(),zgssearch.firstResultCallOutShown=!1,clearInterval(zgssearch.calendarInterval),zgssearch.dateFilterDisplay=!1,zgssearch.hideHomeIcon(),zgssearch.hideWelcomePage(),zgssearch.removeIframeHolder(),zgssearch.hideCalloutLoader(),zgssearch.hideScrollTopIcon("#zgs20_gsBackToTop"),zgssearch.removeScrollLoader(),zgssearch.hideSearchPageLoader(),zgssearch.hideQuickActionsPage(),_jQueryGS("#zgs20_gsQueryBoxHolder").css("display","block"),_jQueryGS("#zgs20_gsSearchBoxRight").css("display","block"),zgssearch.GSConstant.isNLPTracerEnabled&&zgssearch.gsnlpsearch.clearNLPTracerData(),zgssearch.gskeyboard.initialize(),_jQueryGS("#zgs20_gsIntranetfeedbackform").css("display","none"),zgssearch.gswebsite.hasOwnProperty("ZohoHCAsap")&&delete zgssearch.gswebsite.ZohoHCAsap},zgssearch.removeIframeHolder=function(){var docsPrevHolderElem=_jQueryGS(".zgs19_gsSearchResultRight").find("#zgs20_gsDocsPreviewHolder");docsPrevHolderElem.empty().css("visibility","hidden"),zgssearch.isMaxCalloutOpen&&zgssearch.minCalloutPreviewChange(docsPrevHolderElem)},zgssearch.clearOldSearchData=function(search_type){zgssearch.clearPrevSearchAction(),zgssearch.total_no_of_results=0,zgssearch.searchedQuery="",zgssearch.mail_module_subset=[],zgssearch.chidVsMeta={},zgssearch.multiResultObj={},zgssearch.responseObj={},zgssearch.docIdsVsEncryptedIds={},GSConstant.ALL===search_type?(zgssearch.resultCount={},zgssearch.resultObject={},zgssearch.moreResultCount={},zgssearch.moreResultObject={},zgssearch.crm_rendered_modules={},zgssearch.projects_rendered_modules={},zgssearch.iWeightage={},zgssearch.fWeightage={},zgssearch.resultToBeShown={},zgssearch.Utils.clearAllModResInfo()):(zgssearch.resultCount[search_type]=0,zgssearch.resultObject[search_type]={},zgssearch.moreResultCount[search_type]={},zgssearch.moreResultObject[search_type]={},zgssearch.crm_rendered_modules[search_type]={},zgssearch.projects_rendered_modules[search_type]={},zgssearch.iWeightage[search_type]=0,zgssearch.fWeightage[search_type]=0,zgssearch.subMultiPageEnabled||(zgssearch.resultToBeShown[search_type]=0),zgssearch.Utils.clearServiceModResInfo(search_type)),zgssearch.campaignsRenderedMod=[]},zgssearch.isValidSearchQuery=function(cquery,service,target){var valid=!1;return zgssearch.isQueryValid(cquery)||zgssearch.isQueryHasUserCriteria()?(cquery=zgssearch.getAllQueryText(),zgssearch.searchedQuery===cquery&&zgssearch.getSearchType()===service&&!gscomponent.isSameQrySearchEnabled||(valid=!(gscomponent.isSameQrySearchEnabled=!1))):valid=!1,valid},zgssearch.updateSearchType=function(search_type,targetEle){zgssearch.resizeForLeftPanelchanges();var accDefValue=zgssearch.getSearchType();search_type=zgssearch.hasOwnProperty("gshistory")?zgssearch.gshistory.getProperServiceName(search_type):search_type,zgssearch.isArrayContain(search_type,zgssearch.configured_mail_module)&&(search_type=zgssearch.mappedServiceList[search_type].originService),!zgssearch.multiPageEnabled&&search_type!==GSConstant.ALL&&search_type===GSConstant.MAILS||zgssearch.updateSubMultiPageFlag(""),_jQueryGS("#"+("zgs20_gsServicePanelList"+accDefValue)).removeClass("zgs19_gsSelectedServicepanel zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel");var dashboardTarElem="zgs20_gsServicePanelList"+search_type;_jQueryGS("#"+dashboardTarElem).removeClass("zgs19_gsUnServiceLeftPanel zgs19_gsBGC2f").addClass("zgs19_gsSelectedServicepanel");var target=zgssearch.getTargetElem(dashboardTarElem);zgssearch.isDashboardEnabled?setTimeout(function(){target&&!zgssearch.gskeyboard.isCurElementInViewPort(target)&&target.scrollIntoView({behavior:"smooth",block:"end"})},500):target&&!zgssearch.gskeyboard.isCurElementInViewPort(target)&&target.scrollIntoView(!1),zgssearch.isDashboardEnabled&&(dashboardTarElem=_jQueryGS("#zgs20_gsDashboardHolder").children("#zgs20_gsServicePanelListDashboard"),_jQueryGS(dashboardTarElem).addClass("zgs19_gsUnServiceLeftPanel").removeClass("zgs19_gsSelectedServicepanel")),zgssearch.hideWelcomePage(),zgssearch.hideQuickActionsPage(),zgssearch.isFilterPageOpened||accDefValue===search_type||(zgssearch.setService(search_type),(accDefValue=zgssearch.getFilterInfo(search_type,"accounts","default"))&&0!=accDefValue&&zgssearch.setCurrentValue("accounts",accDefValue)),_jQueryGS("#zgs20_gsFilterIconHolder").attr("gsa",search_type+"_searchbox_filter"),zgssearch.GSConstant.nlpSearchEnabled&&zgssearch.hasOwnProperty("gsnlpsearch")&&zgssearch.gsnlpsearch.toggleNLPSearchForServices(),zgssearch.setSearchBoxPlaceHolder(),zgssearch.handleSearchCloseIcon()},zgssearch.setSearchBtnAndVal=function(){_jQueryGS("#zgs20_gsSearchBtn").val(zgssearch.getI18NMsg("common.search")),_jQueryGS("#zgs20_gsSearchBtn").show()},zgssearch.setSearchBoxPlaceHolder=function(){var enabledCloudApps,pholder=zgssearch.getI18NMsg("common.search");GSConstant.ALL==zgssearch.getSearchType()&&(pholder=zgssearch.getI18NMsg("gs.search_across_zoho"),enabledCloudApps=zgssearch.getEnabledCloudApps(),(zgssearch.isNICDomain()||0<enabledCloudApps.length&&4!==gscomponent.UIType)&&(pholder=zgssearch.getI18NMsg("gs.search_across_apps")),navigator&&1!==gscomponent.UIType&&(pholder+=0<=navigator.platform.toUpperCase().indexOf("MAC")?" ( "+zgssearch.getI18NMsg("gs.search_across_zoho_cmd")+" + / )":" ( "+zgssearch.getI18NMsg("gs.search_across_zoho_ctrl")+" + / )",pholder=gscomponent.getSearchBoxPlaceholder()||pholder)),zgssearch.getTargetElem("zgs20_gsQueryBox").setAttribute("placeholder",pholder),zgssearch.focusForWeb("zgs20_gsQueryBox")},zgssearch.setPosForToList=function(cleft,rightOffset){var parentNode,blogOrPanelList;"tolink"==rightOffset?(_jQueryGS("#zgs20_gsDropdownToList").css("inset-block-start",59),_jQueryGS("#zgs20_gsDropdownToList").css("inset-inline-start",59)):"showMoreBlogCategory"==rightOffset?(blogOrPanelList="showMoreBlogCategory"==rightOffset?_jQueryGS(cleft).attr("childId"):"zgs20_gsPanelListList",parentNode=zgssearch.getNodeByAttr(cleft,"gs","categories"),cleft=_jQueryGS(parentNode).position(),blogOrPanelList=_jQueryGS(parentNode).find("#"+blogOrPanelList),cleft=cleft.left,blogOrPanelList.css("left",cleft)):(rightOffset="ownerLink",_jQueryGS("#zgs20_gsDropdownOwnerList").css("inset-block-start",36),rightOffset=_jQueryGS(".zgs19_gsCalloutMetaLeft").width()+_jQueryGS(".zgs19_gsCalloutUserDate").width()-(document.getElementById("zgs20_gsCalloutDDOwnerList").offsetLeft+_jQueryGS("#zgs20_gsCalloutDDOwnerList").width()),_jQueryGS("#zgs20_gsDropdownOwnerList").css("inset-inline-end",rightOffset))},zgssearch.hideAllDropdownList=function(target){zgssearch.handleHidePopover(target),zgssearch.hasOwnProperty("clearTooltip")&&zgssearch.clearTooltip();var targetParent,labelMatch,flagMatch,searchAction,action=_jQueryGS(target).attr("gs");zgssearch.isCardViewOpened()&&(1!==(aparNote=_jQueryGS(target).closest("#zgs20_gsCardsList")).length&&"cardslist"!==action&&zgssearch.gscards.hideCardsList(),zgssearch.gscards.isCardServiceListFilterOpened&&"cardServiceFilter"!=action&&(aparNote=_jQueryGS(target).closest("#zgs20_cardAppFilterPopup"),"cardServiceFilter"!==action&&1!==aparNote.length&&zgssearch.gscards.hideServiceFilter()),zgssearch.gscards.isCardViewMenuOpened&&"cardViewMenu"!==action&&(_jQueryGS("#zgs20_gsCardViewMenu").css("display","none"),zgssearch.gscards.isCardViewMenuOpened=!1),zgssearch.gscardfilter.hasOwnProperty("isSaveCardPopupOpened")&&zgssearch.gscardfilter.isSaveCardPopupOpened&&(labelMatch=_jQueryGS(target).closest(".zgs19_gsSaveCardDropdownPopUp"),targetParent=_jQueryGS(target).closest(".zgs19_gsSaveCardDropdown"),1!==labelMatch.length&&1!==targetParent.length&&zgssearch.gscardfilter.hideSaveAsDropDown()),zgssearch.gscards.isMoreServiceFiltersOpened&&1!==(labelMatch=_jQueryGS(target).closest(".zgs19_gsMoreServicePopup")).length&&zgssearch.gscards.closeMoreServiceFilterContainer(),zgssearch.gscards.isCardsActionMenuOpened&&1!==(labelMatch=_jQueryGS(target).closest(".zgs19_gsCardsListMenu")).length&&zgssearch.gscards.hideCardsActionMenu()),zgssearch.gscardinfo.isCardInfoPopupOpened&&target&&(action=target.getAttribute("action"),aparNote=_jQueryGS(target).closest(".zgs19_gsFilterDispNameList"),"filterCount"!==action&&"advFilterCount"!==action&&1!==aparNote.length&&zgssearch.gscardinfo.closeDispNameList()),zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.gsdbhome.isDashboardMenuOpened&&(aparNote=_jQueryGS(target).closest("#zgs20_gsdashboardList"),searchAction=(flagMatch=zgssearch.getParentNode(target,"dbTitle"))?flagMatch.getAttribute("gs"):"",1!==aparNote.length&&"dblist"!==action&&"dbTitle"!==searchAction&&(_jQueryGS("#zgs20_gsdashboardList").remove(),zgssearch.gsdbhome.isDashboardMenuOpened=!1)),zgssearch.gscards.isCardServiceListFilterOpened&&"dashboardServiceFilter"!=action&&"cardServiceFilter"!=action&&(aparNote=_jQueryGS(target).closest("#zgs20_cardAppFilterPopup"),"dashboardServiceFilter"!==action&&1!==aparNote.length&&zgssearch.gscards.hideServiceFilter()),zgssearch.gsaddcards.isCardActionMenuOpened&&"cardMenu"!==action&&zgssearch.gsaddcards.closeCardActionMenu(),zgssearch.gsdbhome.isDBViewMenuOpened&&"dbviewmenu"!==action&&(zgssearch.gsdbhome.isDBViewMenuOpened=!1,_jQueryGS("#zgs20_gsDbViewMenu").css("display","none")),zgssearch.popupUtils.isSelectionPopupOpened&&"cardsortList"!==action&&"dbsortList"!==action&&zgssearch.popupUtils.closeSelectionPopup(),_jQueryGS(".zgs19_gsCardsListElement").is(":visible")&&"showCardTitle"!=action&&!zgssearch.getParentNode(target,"separateCardsList")&&zgssearch.gsaddcards.showCardList(),!_jQueryGS(".zgs19_gsAutoGenerateDbPopup").is(":visible")||1===_jQueryGS(target).closest("#zgs20_gsAutoGenerateWandIcon").length&&1!==_jQueryGS(target).closest(".zgs19_gsAutoGenerateDbPopup").length||_jQueryGS(".zgs19_gsAutoGenerateDbPopup").css("display","none")),!zgssearch.gssavedsearches.addToDbDDOpened||"addToDbInput"==action||zgssearch.getParentNode(target,"dashboardDD")||zgssearch.getParentNode(target,"disabledDbInAddToDb")||zgssearch.gssavedsearches.hideAddtodblistholder(),"autogeneratedb"!==action&&zgssearch.hideCreateNewPopUp(),"actionlist"!==action&&(labelMatch=!zgssearch.getParentNode(target,"calloutlabelAction")&&!zgssearch.getParentNode(target,"addlabel")&&!zgssearch.getParentNode(target,"removelabel"),flagMatch=!zgssearch.getParentNode(target,"calloutflagAction")&&!zgssearch.getParentNode(target,"flagChangeAction"),timezoneElem="flagChangeAction"!=action,searchAction=!zgssearch.getParentNode(target,"calloutLabelSearchAction"),labelMatch&&flagMatch&&searchAction&&timezoneElem&&(zgssearch.hideCalloutActionList(),_jQueryGS(".zgs19_gsLabelsPopUp").remove(),_jQueryGS(".zgs19_gsFlagPopUpElement").remove())),"moreAsanaProjects"!=action&&zgssearch.hideMoreContextualFilter(),"moreProjOwners"!=action&&zgssearch.hideMoreResultFields(),"showMoreBlogCategory"==action&&"forumsCategories"==action||zgssearch.gsconnect.hideMoreCategories(zgssearch.currConnectCategoryWid),zgssearch.getParentNode(target,"moreLabels")||_jQueryGS(".zgs19_gsMoreLabelsPopUp").remove();var aparNote=_jQueryGS(target).closest(".zgs19_gsSenderAbout");"sender"!==action&&"owner"!==action&&"cname"!==action&&"receiver"!==action&&!0===zgssearch.isMenuPopUpOpened&&1!==aparNote.length&&(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1),"sendMail"!=action&&"gswmschat"!=action&&"attendeegswmsaudio"!=action&&"attendeegswmsvideo"!=action||(zgssearch.isAttendeesListOpened?(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1):zgssearch.isAttendeeMenuPopUp&&(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),zgssearch.isAttendeeMenuPopUp=!1));var timezoneElem=_jQueryGS(target).closest(".zgs19_gsAttendeesListMenuPopUp");zgssearch.isAttendeesListOpened&&1!==timezoneElem.length&&"attendeesListPopup"!==action&&(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1);timezoneElem=_jQueryGS(target).closest(".zgs19_gsAttendeeMenuPopUp");zgssearch.isAttendeeMenuPopUp&&1!==timezoneElem.length&&"attendeeMenuPopUp"!=action&&(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),zgssearch.isAttendeeMenuPopUp=!1);var parentElem,overLayElem,timezoneElem=_jQueryGS(target).closest("#zgs20_gsAttendeeSearchBox");zgssearch.hasOwnProperty("gscalendaraction")&&(zgssearch.gscalendaraction.AttendeeSuggestion&&1!==timezoneElem.length&&(_jQueryGS(".zgs19_gsAtdeSuggContainer").css("display","none"),_jQueryGS("#zgs20_gsAttendeeEditList").css("display","block"),zgssearch.gscalendaraction.AttendeeSuggestion=!1),timezoneElem=_jQueryGS(target).closest(".zgs19_gsTzList"),zgssearch.gscalendaraction.tzList&&1!==timezoneElem.length&&"calendarActions"!==action&&(_jQueryGS(".zgs19_gsTzList").css("display","none"),zgssearch.gscalendaraction.tzList=!1),timezoneElem=_jQueryGS(target).closest(".zgs19_gsTimeZonePopup"),zgssearch.timezonePopUp&&1!==timezoneElem.length&&"calendarActions"!==action&&zgssearch.gscalendaraction.hideTimeZoneDialogBox()),(zgssearch.isFilterListDisplay||zgssearch.isAppListOpened||zgssearch.gsfilters.isUserSuggDisplay)&&(parentElem=_jQueryGS(target).closest("#zgs20_gsFilterPopup"),zgssearch.isAppListOpened?1===parentElem.length||zgssearch.getParentNode(target,"openAppsList")||zgssearch.gsfilters.hideAppsList():zgssearch.gsfilters.isUserSuggDisplay?1!==parentElem.length&&(_jQueryGS("#zgs20_gsFilterPopup").css("display","none"),zgssearch.gsfilters.isUserSuggDisplay=!1,zgssearch.gsfilters.currselecElem=""):_jQueryGS("#zgs20_gsFilterPopup").is(":visible")?zgssearch.gsfilters.checkAndHideFilterPageElements(target):(parNote=zgssearch.getParentNode(target,"mFilterWidget"),filterBox=zgssearch.getParentNode(target,"gsFilterWidgetHeader"),overLayElem=zgssearch.getParentNode(target,"filterCheckBoxChild"),_jQueryGS(target).hasClass("zgs19_gsSubModuleFilterElemDDIcon")||"mFilterWidgetHeader"===action||"subModuleFilter"===action||"moduleFilterEditFields"===action||parNote||filterBox||overLayElem||zgssearch.hideFilterList())),zgssearch.isFilterPageOpened&&!zgssearch.isCustomDatePickerDisplay&&(parentElem=_jQueryGS(target).closest(".zgs19_filterHolder"),overLayElem=_jQueryGS(target).closest(".zgs19_gsOverlayDialog"),0===parentElem.length&&(0<overLayElem.length||_jQueryGS(".zgs19_filterHolder").hasClass("zgs19_gsCardsFilterPopUp"))&&zgssearch.gsfilters.filterActions("cancel")),zgssearch.hasOwnProperty("gsadvancesearch")&&zgssearch.gsadvancesearch.isAdvFieldListOpened&&(dueParnote=_jQueryGS(target).attr("actiontype"),1!==_jQueryGS(target).closest("#zgs20_gsFilterPopup").length&&("advSearch"!=action||"advSearch"==action&&"showFields"!=dueParnote&&"showOperators"!=dueParnote&&"showValueList"!=dueParnote)&&zgssearch.gsadvancesearch.hideAdvPopUpList()),zgssearch.isContextBoxOpened&&0==_jQueryGS(target).closest(".zgs19_gsContextFilterCont").length&&zgssearch.hideContextFilterDialogBox();aparNote=_jQueryGS(target).closest("#zgs20_gsPopupSearch");zgssearch.isOpenDoubleClickPopup&&1!==aparNote.length&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1);var filterBox2,filterBox,dueParnote=(new zgssearch.dashboardSearchActions).createActionType(target).getCalloutParent(),aparNote=zgssearch.getParentNode(target,"tolink"),parNote=zgssearch.getParentNode(target,"toDDList");aparNote||parNote||(_jQueryGS(dueParnote).find("#zgs20_gsDropdownToList").css("display","none"),_jQueryGS(dueParnote).find("#zgs20_gsCalloutDDList1").removeClass("zgs19_gsBorderCCC")),aparNote=zgssearch.getParentNode(target,"ownerlink"),parNote=zgssearch.getParentNode(target,"blogCategoryList"),aparNote||parNote||(_jQueryGS(dueParnote).find("#zgs20_gsDropdownOwnerList").css("display","none"),_jQueryGS(dueParnote).find("#zgs20_gsCalloutDDOwnerList").removeClass("zgs19_gsBorderCCC")),zgssearch.isDatePickerDisplay?(filterBox2=zgssearch.getParentNode(target,"gsfilterComponentPicker"),dueParnote=zgssearch.getNoteByAttr(target,"datatype","dueDateChange"),filterBox2||dueParnote||zgssearch.hideDatePicker()):zgssearch.isCustomDatePickerDisplay?(filterBox2=zgssearch.getParentNode(target,"gsDatePickerComponent"))||action||zgssearch.hideNewCustomDatePicker():zgssearch.isMoreFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay?(parNote=zgssearch.getParentNode(target,"more_filters"),filterBox=zgssearch.getParentNode(target,"moreFilterHolder"),filterBox2=zgssearch.getParentNode(target,"moreInnerFilterHolder"),parNote||filterBox||filterBox2||zgssearch.dateFilterDisplay||zgssearch.hideMoreFilterList(),parNote=zgssearch.getParentNode(target,"moreFilterList"),filterBox=zgssearch.getParentNode(target,"moreInnerFilterHolder"),"moduleInnerFilterChild"!=action&&(parNote||filterBox)||zgssearch.hideMoreInnerFilterList()):zgssearch.isEditFieldsDisplay&&(aparNote=(aparNote=zgssearch.getParentNode(target,"CalloutEditFields"))||zgssearch.getParentNode(target,"ticketAction"),parNote=zgssearch.getParentNode(target,"editFieldsList"),filterBox=zgssearch.getParentNode(target,"editFieldsHeader"),aparNote||parNote||filterBox||(zgssearch.hideEditFieldsList(),zgssearch.gsaction.currSearchType={})),0<_jQueryGS(".zgs19_gsGmailLabelsDropDown").length&&("gmailLabelDropdown"==_jQueryGS(target).attr("gs")&&"none"!=_jQueryGS(target).siblings().last().css("display")||_jQueryGS(".zgs19_gsGmailLabelsDropDown").hide())},zgssearch.getNoteByAttr=function(target,attrName,attrValue){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(attrValue===_jQueryGS(parNode).attr(attrName))return parNode;parNode=parNode.parentNode}return null},zgssearch.getNodeByAttr=function(target,attrName,attrValue){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){var gsAttr=_jQueryGS(parNode).attr(attrName);if(zgssearch.includes(attrValue,gsAttr))return parNode;parNode=parNode.parentNode}return null},zgssearch.getvalueByAttr=function(target,attrName){for(var parNode=target,parObj={},global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(parNode.hasAttribute(attrName))return parObj.node=parNode,parObj[attrName]=parNode.getAttribute(attrName),parObj;parNode=parNode.parentNode}return null},zgssearch.getTopMostParentNode=function(target,gsName){for(var parNode=target;parNode;){if(gsName===_jQueryGS(parNode).attr("gs"))return parNode;parNode=parNode.parentNode}return null},zgssearch.getParentTipNode=function(target){for(var parNode=target,global=zgssearch.getTargetElem("zgs20_globalsearch");parNode&&parNode!==global;){if(_jQueryGS(parNode).attr("gsParentTip"))return parNode;parNode=parNode.parentNode}return null},zgssearch.hideResMoreOption=function(acc_id,searchType){var service=_jQueryGS(acc_id).attr("service"),moreEleId="zgs20_gs"+(searchType||service)+"More",searchType=zgssearch.getSearchType();(zgssearch.multiPageEnabled||GSConstant.MAILS===searchType&&zgssearch.subMultiPageEnabled)&&(moreEleId="zgs20_gs"+(acc_id=_jQueryGS(acc_id).attr("acc_id"))+"More",zgssearch.subMultiPageEnabled&&(moreEleId="zgs20_gs_"+service+"_"+acc_id+"_More")),zgssearch.curMoreService="",_jQueryGS("#"+moreEleId).hide()},zgssearch.showResMoreOption=function(moduleName){_jQueryGS(".zgs19_gsMoreOption").css("display","none");var acc_id=_jQueryGS(moduleName).attr("acc_id"),service=_jQueryGS(moduleName).attr("service"),moreEleId=zgssearch.getSearchType(),moduleName=GSConstant.ALL!==moreEleId?_jQueryGS(moduleName).attr("service"):"";!zgssearch.isServiceHasMoreResults(service,acc_id,moduleName)&&service!==GSConstant.GS_APPS||(zgssearch.multiPageEnabled||GSConstant.MAILS===moreEleId&&zgssearch.subMultiPageEnabled?(moreEleId="zgs20_gs"+(zgssearch.curMoreService=acc_id)+"More",zgssearch.subMultiPageEnabled&&(moreEleId="zgs20_gs_"+service+"_"+acc_id+"_More"),_jQueryGS("#"+moreEleId).css("display","block")):service===GSConstant.GS_APPS?zgssearch.toggleMoreRelatedProducts():(zgssearch.curMoreService=service,_jQueryGS("#zgs20_gs"+service+"More").css("display","block")))},zgssearch.isServiceHasMoreResults=function(service,acc_id,moduleName){var flag=!1,no_of_results=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]);if(zgssearch.isArrayContain(service,no_of_results)){var currWs,no_of_results=zgssearch.getSearchType();if(!(flag=zgssearch.GSConstant.ALL==no_of_results&&zgssearch.isServiceHasMultiPortals(service)&&2<=(zgssearch.multiResultObj[service]||[]).length?!0:flag))if(service===zgssearch.GSConstant.ASANA&&(currWs=zgssearch.getCurrentValue(zgssearch.WS,service),acc_id=acc_id||zgssearch.getCurrentValue("accounts",service)),service===zgssearch.GSConstant.SALESFORCE||service===zgssearch.GSConstant.ASANA&&"all"==currWs){var mod,more_account_results=(zgssearch.moreResultCount[service]||{})[acc_id]||{},more_results_count=0;for(mod in more_account_results)more_results_count+=more_account_results[mod];flag=0<more_results_count}else{no_of_results=zgssearch.getServiceResultCount(service,acc_id,moduleName);"object"==typeof no_of_results&&service===zgssearch.GSConstant.ASANA&&(no_of_results=no_of_results[acc_id][currWs]),zgssearch.getShownResultCount(service,acc_id,moduleName)<no_of_results&&(flag=!0)}}return flag},zgssearch.mouseEnterEvent=function(elem,action){try{zgssearch.isGSOpened&&"ServiceTemplate"===action&&zgssearch.showResMoreOption(elem)}catch(ex){}},zgssearch.mouseLeaveEvent=function(elem,action){try{zgssearch.isGSOpened&&"ServiceTemplate"===action&&zgssearch.hideResMoreOption(elem)}catch(ex){}},zgssearch.appendFilterIcon=function(elem,service){var tarElem=zgssearch.currHoverRes,filterCls="";switch(service||_jQueryGS(tarElem).attr("service")){case zgssearch.GSConstant.CRM:case zgssearch.GSConstant.CLIQ:case zgssearch.GSConstant.MAILS:case zgssearch.GSConstant.STREAMS:case zgssearch.GSConstant.SUPPORT:case zgssearch.GSConstant.PEOPLE:case zgssearch.GSConstant.CONNECT:case zgssearch.GSConstant.BOOKS:case zgssearch.GSConstant.INVOICE:case zgssearch.GSConstant.INVENTORY:case zgssearch.GSConstant.CALENDAR:case zgssearch.GSConstant.O365MAIL:case zgssearch.GSConstant.NOTEBOOK:case zgssearch.GSConstant.SALESFORCE:case zgssearch.GSConstant.ASANA:case zgssearch.GSConstant.BIGIN:case zgssearch.GSConstant.EVERNOTE:filterCls="deptName"===_jQueryGS(elem).attr("gsfilter")?-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon3":"zgs18_gsModuleFilterIcon2":"zgs18_gsModuleFilterIcon1";break;case zgssearch.GSConstant.WEBSITE:case zgssearch.GSConstant.ORGRESOURCES:_jQueryGS(elem).attr("gs"),filterCls=-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4";break;case zgssearch.GSConstant.WORKDRIVE:filterCls="rightFilter"===_jQueryGS(elem).attr("gsfilter")?"zgs18_gsModuleFilterIcon1":-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4";break;case zgssearch.GSConstant.PROJECTS:filterCls="projectsFilter"===_jQueryGS(elem).attr("gs")?(-1<_jQueryGS(zgssearch.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")?"zgs18_gsModuleFilterIcon5":"zgs18_gsModuleFilterIcon4")+" zgs19_gsPdLt2Px":"zgs18_gsModuleFilterIcon1";break;case zgssearch.GSConstant.GMAIL:filterCls="zgs18_gsModuleFilterIcon7"}zgssearch.setGSTagElems(tarElem);tarElem=_jQueryGS("<span>",{id:"zgs20_gsHoverFilter",class:filterCls});_jQueryGS(tarElem).insertBefore(elem);tarElem=zgssearch.getParentNode(elem,"gsFilterIcon");tarElem&&(_jQueryGS(tarElem).find(".zgs19_gsResIntxt2").css("visibility","hidden"),_jQueryGS(tarElem).find(".zgs19_gsResIntxt").css("visibility","hidden"),_jQueryGS(tarElem).find(".zgs19_gsContactDeptImg").css("visibility","hidden"))},zgssearch.removeFilterIcon=function(tarElem){_jQueryGS(tarElem).css("max-width","");tarElem=zgssearch.getParentNode(tarElem,"gsFilterIcon");tarElem&&(_jQueryGS(tarElem).find(".zgs19_gsResIntxt2").css("visibility","visible"),_jQueryGS(tarElem).find(".zgs19_gsResIntxt").css("visibility","visible"),_jQueryGS(tarElem).find(".zgs19_gsContactDeptImg").css("visibility","visible")),_jQueryGS("#zgs20_gsHoverFilter").remove()},zgssearch.setCurrentHoveredRes=function(ele){zgssearch.currHoverRes=ele},zgssearch.removeCurrentHoveredRes=function(){zgssearch.currHoverRes=""},zgssearch.jqueryMouseEvent=function(){_jQueryGS(".zgs19_auth").off().on({mouseenter:function(){zgssearch.gssettingsapptab.showAccModInfo(this)},mouseleave:function(){zgssearch.gssettingsapptab.hideAccModInfo(this)}}),_jQueryGS(".zgs19_sub_auth").off().on({mouseenter:function(){zgssearch.gssettingsapptab.showAccModInfo(this)},mouseleave:function(){zgssearch.gssettingsapptab.hideAccModInfo(this)}}),_jQueryGS(".zgs19_gsSearchResultTable").off().on({mouseenter:function(){zgssearch.setCurrentHoveredRes(this)},mouseleave:function(){zgssearch.removeCurrentHoveredRes()}}),_jQueryGS(".zgs19_hvr_underline").off().on({mouseenter:function(){zgssearch.appendFilterIcon(this)},mouseleave:function(){zgssearch.removeFilterIcon(this)}}),_jQueryGS(".zgs19_gsServiceTemplate").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"ServiceTemplate")}}),_jQueryGS(".zgs19_gsAppsTemplate").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"ServiceTemplate")}}),_jQueryGS("#zgs20_gsSearchResultLeft").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"serviceLeftPanel")},mouseleave:function(){zgssearch.mouseLeaveEvent(this,"serviceLeftPanel")}}),_jQueryGS(".zgs19_gsServiceMenu").off().on({mouseenter:function(){zgssearch.mouseEnterEvent(this,"serviceLeftPanelMenu")}}),_jQueryGS("#zgs20_gsQuerySugg").off().on({mouseleave:function(){var tid=_jQueryGS(".zgs19_gsAutoSuggChild:first").attr("id");_jQueryGS("#"+tid+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")}}),_jQueryGS(".zgs19_gsAppsRes").off().on({mousedown:function(event){"relatedproducts"==_jQueryGS(this).attr("key")&&(zgssearch.gsautocomplete.openApp(event,this),zgssearch.stopEvent(event))}}),_jQueryGS(".zgs19_gsAutoSuggChild").off().on({mousemove:function(){var elemId;zgssearch.handleMouseMoveEvent(),zgssearch.gsautocomplete.currselecelem!=this&&(zgssearch.gsautocomplete.currselecelem=this,zgssearch.updatesuggtext(),_jQueryGS(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),elemId=_jQueryGS(this).attr("id"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold"))},mouseleave:function(){var elemId;zgssearch.isMouseStopped||(elemId=_jQueryGS(this).attr("id"),_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS("#"+elemId+" .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),zgssearch.gsautocomplete.currselecelem="",zgssearch.updatesuggtext())},mousedown:function(event){zgssearch.gsautocomplete.mousedown=!0,zgssearch.gsautocomplete.contextmenu=!1,"relatedproducts"==_jQueryGS(this).attr("key")&&(zgssearch.gsautocomplete.openApp(event,this),zgssearch.stopEvent(event))},contextmenu:function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu=!0},click:function(event){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu?zgssearch.gsautocomplete.contextmenu=!1:zgssearch.updateautosuggest(this,event)}}),_jQueryGS(".zgs19_gsAutoSuggShowMore").off().on({mousedown:function(){zgssearch.gsautocomplete.mousedown=!0,zgssearch.gsautocomplete.contextmenu=!1},contextmenu:function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu=!0},click:function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.gsautocomplete.contextmenu?zgssearch.gsautocomplete.contextmenu=!1:zgssearch.gsautocomplete.showMoreAutoSuggest(this)}}),_jQueryGS(".zgs19_gsAteendeeInfo").off().on({mouseenter:function(){_jQueryGS(this).find(".zgs19_gsAttendeeActionsHover").css("visibility","visible")},mouseleave:function(){_jQueryGS(this).find(".zgs19_gsAttendeeActionsHover").css("visibility","hidden")}}),_jQueryGS(".zgs19_gsAttendeeContainer").off().on({mouseenter:function(){_jQueryGS(this).find(".zgs19_gsAttendeeClose").css("visibility","visible")},mouseleave:function(){_jQueryGS(this).find(".zgs19_gsAttendeeClose").css("visibility","hidden")}}),_jQueryGS(".zgs19_gsTzInput").off().on({input:function(){var inputValLowerCase=_jQueryGS(this).val().toLowerCase();_jQueryGS(".zgs19_gsTzListContainer>.zgs19_gsTzItem").filter(function(){_jQueryGS(this).toggle(-1<_jQueryGS(this).text().toLowerCase().indexOf(inputValLowerCase))})},keydown:function(event){var keycode=event.keyCode||event.which;keycode!==zgssearch.specialkeys.ENTER&&keycode!==zgssearch.specialkeys.UP&&keycode!==zgssearch.specialkeys.DOWN||zgssearch.stopEvent(event)}}),_jQueryGS("#zgs20_gsAttendeeSearchBox").off().on({input:function(){var query;Object.keys(zgssearch.gscalendaraction.tempAttendeeList).length<=100&&(0<(query=_jQueryGS("#zgs20_gsAttendeeSearchBox").val()).length?zgssearch.gscalendaraction.updateSearchQueryForCalendar(query):zgssearch.gscalendaraction.hideAttendeeSuggestion())},keydown:function(event){var emailId,count,keycode=event.keyCode||event.which;keycode===zgssearch.specialkeys.ENTER?0<_jQueryGS("#zgs20_gsAttendeeSearchBox").val().length&&(emailId=_jQueryGS("#zgs20_gsAttendeeSearchBox").val().toLowerCase(),zgssearch.emailRegexPattern.test(emailId)?(count=Object.keys(zgssearch.gscalendaraction.tempAttendeeList).length,zgssearch.gscalendaraction.addAttendeeDetails(1+count,!1,"","","",emailId,null,"zgs20_gsAttendeeEditList",!1),zgssearch.gscalendaraction.tempAttendeeList[emailId]={eM:emailId},_jQueryGS("#zgs20_gsAttendeeSearchBox").val(""),_jQueryGS("#zgs20_gsAttendeeSearchBox").focus()):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.emailError")})):keycode!==zgssearch.specialkeys.UP&&keycode!==zgssearch.specialkeys.DOWN||zgssearch.stopEvent(event)}}),_jQueryGS(".zgs19_gsTimezoneData").off().on({mouseenter:function(){zgssearch.showTimezoneInfo(this)},mouseleave:function(){zgssearch.hideMoreContextualFilter()}})},zgssearch.jqueryMouseEvent(),zgssearch.showTimezoneInfo=function(target){let self=target;zgssearch.Utils.debounce(function(){var projFactoryInstance=new zgssearch.ZSProjectMgmtFactory,service_info={};service_info.service_name=zgssearch.GSConstant.PROJECTS,projFactoryInstance.createProjectMgmtInstance(service_info).getTimezoneDetails(self)},200,"showTimezoneInfo")},zgssearch.hideFilterList=function(){zgssearch.currFilterSelectedElem="",zgssearch.isFilterListDisplay=!1,_jQueryGS(zgssearch.currFilterListElem).remove(),_jQueryGS(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),_jQueryGS(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsboxholder"),zgssearch.hideFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideMoreFilterList=function(){zgssearch.curMoreFiltersList={},zgssearch.curMoreDateFiltersList={},zgssearch.isMoreFilterListDisplay=!1,_jQueryGS("#zgs20_gsMoreFilterWidgetList").remove(),zgssearch.hideMoreFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideMoreInnerFilterList=function(){zgssearch.isMoreInnerFilterListDisplay=!1,_jQueryGS("#zgs20_gsMoreFilterInnerList").remove(),_jQueryGS(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"),zgssearch.hideMoreFilterElemIcon(zgssearch.oldFilterElemIcon)},zgssearch.hideCalloutActionList=function(){zgssearch.isCalloutActionListOpened=!1,_jQueryGS(".zgs19_gsCalloutActionList").css("display","none"),_jQueryGS(".zgs18_gsCalloutActionMenu").removeClass("zgs19_gsBorderCCC")},zgssearch.hideEditFieldsList=function(){zgssearch.currEditFieldselecelem="",zgssearch.isEditFieldsDisplay=!1,_jQueryGS("#zgs20_gsEditFieldsHolder").remove(),_jQueryGS(".zgs19_gsEditFieldsNameHolder").removeClass("zgs19_gsboxholder zgs19_gsboxholderbot"),_jQueryGS(".zgs19_gsEditFieldsNotify").addClass("zgs19_gsHideEleme")},zgssearch.hideFormsViewsFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),fkey=_jQueryGS("#zgs20_gsFormViewsFilterWidgetList").attr("fkey");!zgssearch.isFilterListDisplay||zgssearch.isFilterListDisplay&&ekey!=fkey?_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden"):zgssearch.oldFilterElemIcon=elem},zgssearch.hideFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),ckey=_jQueryGS("#zgs20_gsModuleFilterWidgetList").attr("fkey");!zgssearch.isFilterListDisplay||zgssearch.isFilterListDisplay&&ekey!=ckey?(ckey=_jQueryGS(zgssearch.curDatePickerElem).attr("fkey"),(!zgssearch.isDatePickerDisplay||zgssearch.isDatePickerDisplay&&ekey!=ckey)&&_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")):zgssearch.oldFilterElemIcon=elem},zgssearch.hideMoreFilterElemIcon=function(elem){var ekey=_jQueryGS(elem).attr("fkey"),ckey=_jQueryGS("#zgs20_gsMoreFilterInnerList").attr("fkey");!zgssearch.isMoreInnerFilterListDisplay||zgssearch.isMoreInnerFilterListDisplay&&ekey!=ckey?(ckey=_jQueryGS(zgssearch.curDatePickerElem).attr("fkey"),(!zgssearch.isDatePickerDisplay||zgssearch.isDatePickerDisplay&&ekey!=ckey)&&_jQueryGS(elem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")):zgssearch.oldFilterElemIcon=elem},zgssearch.hideMoreContextualFilter=function(){_jQueryGS("#zgs20_gsHoverFilter").remove(),_jQueryGS("#zgs20_gsResultFilterDropDown").remove()},zgssearch.hideMoreResultFields=function(){_jQueryGS("#zgs20_gsResultFilterDropDown").remove()},zgssearch.removeClass=function(parentEle,childCls,tobeRemoveCls){_jQueryGS(parentEle).find(childCls).removeClass(tobeRemoveCls)},zgssearch.showFilterElemIcon=function(elem){zgssearch.removeClass(elem,".zgs19_gsModuleFilterElemIcon","zgs19_gsVisibleHidden")},zgssearch.handleMouseMoveEvent=function(){zgssearch.isMouseStopped=!1,clearTimeout(zgssearch.setMouseTimer),zgssearch.setMouseTimer=setTimeout(function(){zgssearch.isMouseStopped=!0,clearTimeout(zgssearch.setMouseTimer)},100)},zgssearch.addEventFormsViewsFilterElem=function(){_jQueryGS("#zgs20_gsFormViewsFilterDataHolder .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){zgssearch.showFilterElemIcon(this)},click:function(){zgssearch.showFilterElemIcon(this)},mouseleave:function(){zgssearch.hideFormsViewsFilterElemIcon(this)}})},zgssearch.addEventForFormsViewsListBox=function(targetId){_jQueryGS("#"+targetId+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),zgssearch.currCreatorFilterSelectedElem!=this&&(zgssearch.currCreatorFilterSelectedElem=this,_jQueryGS(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){zgssearch.isMouseStopped||(_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn"),zgssearch.currCreatorFilterSelectedElem="")},mousedown:function(){zgssearch.currCreatorFilterClickelem=this,zgssearch.isCurrCreatorFilterClickelem=!0}})},zgssearch.addMoreEventForFilterElem=function(){_jQueryGS("#zgs20_gsMoreFilterWidgetList .zgs19_gsModuleMoreFilterElemHolder").off().on({mousemove:function(){_jQueryGS(this).attr("soid")&&zgssearch.showFilterElemIcon(this)},mouseleave:function(){_jQueryGS(this).attr("soid")&&zgssearch.hideMoreFilterElemIcon(this)}})},zgssearch.addEventForEditFieldsQueryBox=function(){_jQueryGS("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").off().on({mousemove:function(){zgssearch.handleMouseMoveEvent(),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),_jQueryGS(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){zgssearch.isMouseStopped||_jQueryGS(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){zgssearch.currEditFieldselecelem=this;var dtypeattr=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype");"statusChange"==dtypeattr?zgssearch.gssupportaction.clickActionForStatus(this):"configSortAction"===dtypeattr?zgssearch.gsusersettings.clickActionForSort(this):(_jQueryGS(".zgs19_gsEditFieldsRadio").prop("checked",!1),_jQueryGS(this).find(".zgs19_gsEditFieldsRadio").prop("checked",!0),_jQueryGS(".zgs19_gsEditFieldsNotify").removeClass("zgs19_gsHideEleme"))}}),_jQueryGS("#zgs20_gsEditFieldsQrybox").off().on({focus:function(){_jQueryGS("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){_jQueryGS("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){zgssearch.gsaction.searchForEditFields()}}),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox")},zgssearch.getResultsAreaWidth=function(){return zgssearch.resulstAreaWidth},zgssearch.setResultsAreaWidth=function(width){zgssearch.resulstAreaWidth=width},zgssearch.isServiceHasEmptySearch=function(service){for(var issupported=!1,slist=[],mlist=zgssearch.getMappedServiceList(),len=(slist=GSConstant.ALL==service?zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]):service.split()).length||0,i=0;i<len;i++){var serv=slist[i];if(mlist.hasOwnProperty(serv))if(mlist[serv].listview){issupported=!0;break}}return issupported},zgssearch.hideServiceAccOrderOverlay=function(){_jQueryGS(".zgs19_gsServiceAccOrderDialog").remove(),_jQueryGS(".zgs19_gsServiceOrderOverlay").remove()},gscomponent.isResizeEnabled()&&(window.removeEventListener("resize",zgssearch.gsresizepage,!1),zgssearch.gsresizepage=function(){zgssearch.hideDatePicker(),zgssearch.hidetooltip(),zgssearch.setGSElemSize()},window.addEventListener("resize",zgssearch.gsresizepage,!1)),zgssearch.searchViewport.removeEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,{passive:!0}),zgssearch.gsmousewheelevent=function(event){zgssearch.isGSOpened&&zgssearch.hidetooltip()},zgssearch.searchViewport.addEventListener(zgssearch.mousewheelevt,zgssearch.gsmousewheelevent,{passive:!0}),zgssearch.isExtension&&(zgssearch.searchViewport.removeEventListener("click",zgssearch.smallerExtensionClickEvent,!0),zgssearch.smallerExtensionClickEvent=function(event){try{var target;1==(event.which||"")&&(target=event.target,zgssearch.hideAllDropdownList(target),"myaccounts"===_jQueryGS(target).attr("gs")&&(zgssearch.openInNewTab(zgssearch.GSConstant.IAM_ACCOUNTS_URL),zgssearch.stopEvent(event)))}catch(ex){zgssearch.throwClientError("Error in smallerExtensionClickEvent.",ex)}},zgssearch.searchViewport.addEventListener("click",zgssearch.smallerExtensionClickEvent,!0)),1===gscomponent.UIType&&(window.removeEventListener("click",zgssearch.globalClickEvent,!0),zgssearch.globalClickEvent=function(event){try{if(1==(event.which||"")){var target=event.target;switch(zgssearch.hideAllDropdownList(target),_jQueryGS(target).attr("gs")||zgssearch.getParentNode(target,"gs")){case"sendFeedback":zgssearch.gszohosearch.sendFeedbackValidation();break;case"feedBack":zgssearch.gsconnector.renderfeedbackForm(),zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.curSelectedEle="";break;case"zsfeedback":zgssearch.hideManageAppPopUp(),zgssearch.gszohosearch.toggleFeedback(),zgssearch.stopEvent(event)}}}catch(ex){zgssearch.throwClientError("Error in globalClickEvent.",ex)}},window.addEventListener("click",zgssearch.globalClickEvent,!0),zgssearch.searchViewport.removeEventListener("click",zgssearch.biggerZOSClickEvent,!0),zgssearch.biggerZOSClickEvent=function(event){try{if(1==(event.which||"")){var target=event.target;switch(zgssearch.hideAllDropdownList(target),_jQueryGS(target).attr("gs")||zgssearch.getParentNode(target,"gs")){case"myaccounts":zgssearch.openInNewTab(zgssearch.GSConstant.IAM_ACCOUNTS_URL),zgssearch.stopEvent(event);break;case"signout":zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED&&zgssearch.gstopband.hideUserDetails(),zgssearch.globalClickEventForOverlay(event);break;case"userDetails":case"gsProfilePhoto":zgssearch.gstopband.createUserDetailsTemplate(),zgssearch.gstopband.toggleUserDetails();break;case"nlpTracer":zgssearch.gsnlpsearch.toggleNLPTracer();break;default:if(zgssearch.getParentNode(target,"hamburger"))return void zgssearch.gstopband.toggleHamburger();if(!zgssearch.getParentNode(target,"feedbackData")&&zgssearch.hasOwnProperty("gszohosearch")&&zgssearch.gszohosearch.isFeedbackOpened)return void zgssearch.gszohosearch.toggleFeedback();zgssearch.getParentNode(target,"zsfeedback")&&(zgssearch.gszohosearch.toggleFeedback(),zgssearch.stopEvent(event))}}}catch(ex){zgssearch.throwClientError("Error in biggerZOSClickEvent.",ex)}},zgssearch.searchViewport.addEventListener("click",zgssearch.biggerZOSClickEvent,!0)),zgssearch.searchViewport.removeEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.scrollEvent=function(event){try{zgssearch.isGSOpened&&(zgssearch.hideWidgetsPopup(event),zgssearch.Utils.debounce(function(){zgssearch.hidetooltip();var tarId=_jQueryGS(event.target).attr("gs"),service_name=_jQueryGS(event.target).attr("service");switch(tarId){case"serviceSpecificPage":zgssearch.toggleBacktoTop("zgs20_gs"+service_name+"Template","#zgs20_gsBackToTop"),zgssearch.modulePageScrollEvent("zgs20_gs"+service_name+"Template",event),zgssearch.stopEvent(event);break;case"multiPageHolder":zgssearch.toggleBacktoTop("zgs20_MultiSearchPageHolder","#zgs20_gsBackToTop"),zgssearch.multiPageScrollEvent("zgs20_MultiSearchPageHolder",event),zgssearch.stopEvent(event);break;case"calloutFooter":var sdisplay=zgssearch.getTargetElem("zgs20_gsMailCallout");sdisplay&&(zgssearch.setGSTagElems(sdisplay),zgssearch.setPosForToList(sdisplay.tolink,"tolink"),zgssearch.stopEvent(event));break;case"cardContent":case"cardsListContent":zgssearch.gscards.cardsPageScrollEvent();break;case"eachCardContent":zgssearch.gsaddcards.editDashboardDraggableElemsScroll(event);break;case"dashboardContent":zgssearch.gscardinDb.dashboardScrollEvent();break;case"savedSearchesPage":zgssearch.savedSearchPageScrollEvent("zgs20_gsSSTabListing",event);break;case"cardResTemplate":zgssearch.gscardsresult.cardScrollEvent(_jQueryGS(event.target).attr("id"),event),zgssearch.stopEvent(event);break;case"cardPageResTemplate":zgssearch.gsCardResUtils.cardScrollEvent(_jQueryGS(event.target).attr("id"),event),zgssearch.stopEvent(event);break;default:sdisplay=zgssearch.getParentNode(event.target,"servListHolder");sdisplay&&(sdisplay=zgssearch.getTargetElem("zgs20_gsServListHolder").scrollHeight<=_jQueryGS(sdisplay).scrollTop()+_jQueryGS(sdisplay).height()?"none":"block",_jQueryGS("#zgs20_gsSerPanelShadow").css("display",sdisplay),zgssearch.stopEvent(event))}},70,"scrollEvent"))}catch(ex){zgssearch.throwClientError("Error in scrollEvent.",ex)}zgssearch.wheelEvent(event)},zgssearch.searchViewport.addEventListener("scroll",zgssearch.scrollEvent,!0),zgssearch.scrollDown=zgssearch.scrollDown||0,zgssearch.wheelEvent=function(event){try{zgssearch.isGSOpened&&zgssearch.Utils.throttle(function(){var tarElem=tarElem||zgssearch.getParentNode(event.target,"AllSearchPage");tarElem=(tarElem=tarElem||zgssearch.getParentNode(event.target,"multiPageHolder"))||zgssearch.getParentNode(event.target,"serviceSpecificPage");var scrollId="",curPos=_jQueryGS(event.target).attr("gs");switch(curPos=tarElem?_jQueryGS(tarElem).attr("gs"):curPos){case"serviceSpecificPage":var currService=zgssearch.getSearchType(),scrollId="zgs20_gs"+currService+"Template",currService=zgssearch.isArrayContain(currService,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[currService].originService:currService;zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)&&(zgssearch.subMultiPageEnabled||zgssearch.multiPageEnabled||(scrollId=_jQueryGS("#"+tarElem.id)[0]));break;case"multiPageHolder":scrollId="zgs20_MultiSearchPageHolder";break;case"AllSearchPage":scrollId="zgs20_gsAllSearchResultPage"}curPos=zgssearch.getTargetElem(scrollId);curPos&&(curPos=curPos.scrollHeight-curPos.offsetHeight,!zgssearch.isWPMobViewPort()&&scrollId&&300<curPos&&zgssearch.isMobViewport()&&zgssearch.hasVerticalScrollBar(scrollId)&&(curPos=_jQueryGS(tarElem).scrollTop(),zgssearch.scrollDown>curPos&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS("#zgs20_gsSearchBottomHolder").css("transform","translateY(0px)")),zgssearch.scrollDown<curPos&&(zgssearch.isScrollDownwards=!0,_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(-115%)"),_jQueryGS("#zgs20_gsSearchBottomHolder").css("transform","translateY(-62px)")),zgssearch.scrollDown=curPos,zgssearch.setServiceResPaneHeight(scrollId)))},500,"wheelEvent")}catch(ex){zgssearch.throwClientError("Error in scrollDown Event.",ex)}},zgssearch.handleHidePopover=function(target){var tarElem,extTarElem,childTarElem;1!==gscomponent.UIType&&0!==gscomponent.UIType||(zgssearch.gstopband.isAllappsOpened&&(tarElem=zgssearch.getParentNode(target,"hamburger"),childTarElem=zgssearch.getParentNode(target,"hamburgerData"),tarElem||childTarElem||zgssearch.gstopband.hideHamburger()),zgssearch.gstopband.isUserDetailsOpened&&(tarElem=zgssearch.getParentNode(target,"userDetails"),extTarElem=zgssearch.getParentNode(target,"gsOpenProfile"),childTarElem=zgssearch.getParentNode(target,"userData"),tarElem||childTarElem||extTarElem||zgssearch.gstopband.hideUserDetails()),zgssearch.GSConstant.isNLPTracerEnabled&&(tarElem=zgssearch.getParentNode(target,"nlpTracer"),childTarElem=zgssearch.getParentNode(target,"nlpTracerData"),tarElem||childTarElem||zgssearch.gsnlpsearch.hideNLPTracer()))},zgssearch.obtainAppOpenBtn=function(menuEl,currService){_jQueryGS(menuEl).find(".zgs19_appAccessBtn").length<1&&(actualCenterPosition=_jQueryGS("<div>",{class:"zgs19_appAccessBtn",gs:currService.gs,service:currService.service}).text(currService.content),_jQueryGS(menuEl[currService.previewHolder]).append(actualCenterPosition)),zgssearch.setGSTagElems(menuEl);var actualCenterPosition=((_jQueryGS(menuEl[currService.previewHolder]).height()||0)-(_jQueryGS(menuEl[currService.gs]).height()+20))/2;_jQueryGS(menuEl[currService.gs]).css("margin",actualCenterPosition+"px auto")},zgssearch.performGoToTop=function(){var service_name=zgssearch.getSearchType(),bttId="zgs20_gs"+service_name+"Template";zgssearch.multiPageEnabled&&(bttId="zgs20_MultiSearchPageHolder");var currService=zgssearch.isArrayContain(service_name,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service_name].originService:service_name,accId=(zgssearch.gFilterData[currService],zgssearch.getCurrentValue("accounts",service_name));"1"===(zgssearch.isArrayContain(currService,zgssearch.account_based_filter_service_list)?zgssearch.getAccountType(currService,accId):"")&&(bttId="zgs20_gs"+zgssearch.getCurrentValue("modules",service_name)+"Template"),_jQueryGS("#"+bttId).stop(!0).animate({scrollTop:0},250)},zgssearch.getResObj=function(cardObjDOMElem){var cardId="",isDashboardPageOpened=!!zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.isDashboardOpened||zgssearch.gsdbhome.isAddCardPopupOpened),resp=zgssearch.isCardViewOpened();if(isDashboardPageOpened?cardId=0<(cardObjDOMElem=_jQueryGS(cardObjDOMElem).closest(".zgs19_gsCard")).length?cardObjDOMElem.attr("cardid"):"":resp&&(cardId=_jQueryGS("#zgs20_gsCrdPrevBdy").attr("cardid")),!isDashboardPageOpened&&!resp)return zgssearch.getCurrentResObj();if(cardId&&zgssearch.cardObjForCurrentSelectedElem.hasOwnProperty(cardId)&&zgssearch.cardObjForCurrentSelectedElem[cardId].hasOwnProperty("resultObj")){resp=zgssearch.cardObjForCurrentSelectedElem[cardId].resultObj;return resp=(zgssearch.gscardUtils.cardIdsVsObject[cardId]||{}).cardtype==zgssearch.BOOKMARK_CARD?resp.data:resp}},zgssearch.searchViewport.removeEventListener("click",zgssearch.clickEvent,!0),zgssearch.clickEvent=function(event){try{var url="",ccode=event.which||"";if(zgssearch.isGSOpened&&1==ccode){var target=event.target;zgssearch.addNoReferrerToLink(target),zgssearch.hideAllDropdownList(target);var resObj=(new zgssearch.dashboardSearchActions).createActionType(target).getCurrentResultObj(),target_element=_jQueryGS(target),action=target_element.attr("gs"),service=target_element.attr("service");switch(zgssearch.clickEventTrig=!1,action){case"resultTitle":zgssearch.stopEvent(event),zgssearch.loadCallout(target);break;case"gsoverlay":zgssearch.gscomponent.SMALL_UI_PROFILE_ENABLED&&zgssearch.gstopband.hideUserDetails(),zgssearch.globalClickEventForOverlay(event);break;case"moveToAttachArea":var calloutParent=(currSearchType=(new zgssearch.dashboardSearchActions).createActionType(target)).getCalloutParent(target),service=currSearchType.getServiceName(),dispName=zgssearch.mappedServiceList[service].displayName,footerArea="#zgs20_gs"+dispName+"CalloutFooter",calloutFooArea=_jQueryGS(calloutParent).find(footerArea),attachEle=_jQueryGS(calloutParent).find("#zgs20_gs"+dispName+"CalloutAttachInfo");zgssearch.moveToViewPort(calloutFooArea,attachEle);break;case"creatorApp":case"connectApp":case"websitePage":case"notebookPage":case"connPage":case"cliqApp":case"notebookApp":case"reportsApp":case"campaignApp":case"documentsApp":case"workDriveApp":zgssearch.clickActionForCalloutTitle(target,event);break;case"actionlist":zgssearch.toggleCalloutActionList(target);break;case"gsClose":zgssearch.gstopband.hideUserDetails(),zgssearch.open();break;case"gsOpenProfile":zgssearch.userDisplayName=zgssearch.GSConstant.cun,zgssearch.userEmailId=zgssearch.GSConstant.cue,zgssearch.contactServer=zgssearch.GSConstant.GS_CONTACTS_URL,zgssearch.gstopband.createUserDetailsTemplate(1),zgssearch.gstopband.toggleUserDetails();break;case"gsOpenInNewTab":zgssearch.openInNewTab(zgssearch.httpstxt+"://"+GSConstant.searchdomainURL);break;case"maxpreview":zgssearch.maxCalloutPreview(resObj,target);break;case"minpreview":zgssearch.minCalloutPreview(service,resObj,target);break;case"closeBoxMob":zgssearch.closeIconCallout();break;case"docsdownload":var fileMgmtInstance=new zgssearch.FileMgmtFactory,fileMgmtInfo={};fileMgmtInfo.service=service,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).downloadDocument(resObj,target_element);break;case"workdrivedownload":zgssearch.gsworkdrive.downloadWorkDriveDocument(resObj);break;case"wikidownload":zgssearch.gswiki.downloadWikiDocument(resObj);break;case"backToTop":zgssearch.performGoToTop();break;case"backToCardTop":var cardId=target_element.closest(".zgs19_gsCard").attr("cardId"),ocardId=zgssearch.gscardinDb.getOriginalCardId(cardId),service=zgssearch.gsdbUtils.cardIdsVsObject[ocardId].service;_jQueryGS("#zgs20_"+service+"CardResult_"+cardId).stop(!0).animate({scrollTop:0},250);break;case"backToCardPageTop":cardId=_jQueryGS(".zgs19_gsCrdHdrTitle").attr("cardId"),service=zgssearch.gscardUtils.cardIdsVsObject[cardId].service;_jQueryGS("#zgs20_"+service+"CardPageResult_"+cardId).stop(!0).animate({scrollTop:0},250);break;case"serviceBand":case"serviceWidgetBand":zgssearch.isArrayContain(service,zgssearch.serviceList)&&zgssearch.moreSearchResultPage(target,service);break;case"service_multi_mod":zgssearch.filterServiceModules(target_element);break;case"moreBand":var acc_id=target_element.attr("acc_id"),moduleName=_jQueryGS(target).attr("service");!zgssearch.isServiceHasMoreResults(service,acc_id,moduleName)&&service!==GSConstant.GS_APPS||zgssearch.moreSearchResultPage(target,service);break;case"contactsMore":var scallout=zgssearch.mappedServiceList[service].callout;zgssearch[scallout].getContactsMoreInfo(resObj,target);break;case"continuechat":case"connectcontinuechat":zgssearch.chatAction(target,"continue",event,resObj);break;case"slackcontinuechat":url=zgssearch.fetchCalloutUrl(service,resObj,target),zgssearch.openInNewTab(url);break;case"sendMail":case"deskmail":zgssearch.startComposeMail(target,"email"),zgssearch.stopEvent(event);break;case"peopleprofile":url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(resObj.pkid||""),zgssearch.openInNewTab(url);break;case"peopledept":url=GSConstant.GS_PEOPLE_URL+"/hr#organization/department/searchdepts-deptId:"+(resObj.deptid||""),zgssearch.openInNewTab(url);break;case"people_reportingto":var reportpkid=target_element.attr("value"),url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(reportpkid||"");zgssearch.openInNewTab(url);break;case"searchIcon":var searchInpId=target_element.attr("searchInpId");zgssearch.gsusersettings.addSearchBoxProperty(target,searchInpId);break;case"serviceM2T":zgssearch.gssettingsapptab.moveToTopForServices(target);break;case"serviceAccountsM2T":zgssearch.gssettingsapptab.moveToTopForAccounts(target);break;case"settingsfields":action=target_element.attr("datatype");zgssearch.gsusersettings.updateSettingsActions(action,target),zgssearch.isAccountsOverlayOpened=!1;break;case"reorderfields":action=target_element.attr("datatype");zgssearch.gsusersettings.updateReorderActions(action),zgssearch.isServiceOverlayOpened=!1;break;case"servicetext":var service_name=target_element.attr("ser"),ele=zgssearch.gssettingsapptab.currSelectedService;zgssearch.isAsanaWorkspacesAuthentication&&(_jQueryGS("#zgs20_gsSettingsModuleErrorPage").remove(),zgssearch.isAsanaWorkspacesAuthentication=!1),service_name!==ele&&zgssearch.gssettingsapptab.getService(service_name);break;case"services_settings_back":zgssearch.gssettingsapptab.backToListView();break;case"renderPrefActions":var actionType=target_element.attr("datatype");zgssearch.Utils.settingsPageActionsCallable(target_element,actionType);break;case"userpreferences":zgssearch.gsusersettings.openSettingsPage();break;case"reorderservices":zgssearch.hideManageAppPopUp(),zgssearch.gssettingsapptab.assignServiceListBeforeReorder(),zgssearch.gssettingsapptab.displayServicesReOrderingOverlay(target);break;case"reorderservicesaccounts":zgssearch.gssettingsapptab.displaySeriveAccountsReOrderingOverlay(target);break;case"reorderservicemodules":zgssearch.gssettingsapptab.service_modules.displayModulesReOrderingOverlay();break;case"button":zgssearch.gssettingsapptab.toggleAppsView(target);break;case"menuoption":zgssearch.clickActionForMenuOption(target);break;case"gswmschat":zgssearch.chatAction(target,"chat",event,resObj);break;case"attendeegswmsaudio":case"attendeegswmsvideo":var zuid=target_element.attr("zuid");zgssearch.startAudioVideoCall(zuid,action,event);break;case"gswmsaudio":case"gswmsvideo":var currSearchType,zuid=resObj.zuid||"";(service=(currSearchType=(new zgssearch.dashboardSearchActions).createActionType(target)).getServiceName())===GSConstant.CALENDAR&&(zuid=zgssearch.eventHostZUID),zgssearch.startAudioVideoCall(zuid,action,event);break;case"backToHome":zgssearch.openHomePage();break;case"gsWebService":var fkey=target_element.attr("fkey"),key=target_element.attr("key");zgssearch.showContextFilterDialog(GSConstant.WEBSITE,key,fkey,target);break;case"gsconnService":key=target_element.attr("key");zgssearch.showContextFilterDialog(GSConstant.ORGRESOURCES,key,"modules",target);break;case"gsNotebookService":fkey=target_element.attr("fkey"),key=target_element.attr("key");zgssearch.showContextFilterDialog(GSConstant.NOTEBOOK,key,fkey,target);break;case"crmmod":case"biginmod":var module=target_element.attr("mod"),orgId=target_element.attr("acc_id"),serviceName="biginmod"==action?zgssearch.GSConstant.BIGIN:zgssearch.GSConstant.CRM;orgId&&zgssearch.setCurrentValue("accounts",orgId),zgssearch.showContextFilterDialog(serviceName,module,"modules",target);break;case"salesforcemod":module=target_element.attr("mod");zgssearch.filterServiceModules(target_element);break;case"cliqModules":var cfId=target_element.attr("fId");zgssearch.showContextFilterDialog(GSConstant.CLIQ,cfId,"modules",target);break;case"mailModule":module=target_element.attr("module_name");zgssearch.filterThroughOptions(GSConstant.MAILS,module,"modules",target);break;case"mailfolder":var folderId=target_element.attr("fId");zgssearch.showContextFilterDialog(GSConstant.MAILS,folderId,"folders",target);break;case"streamEntityType":var entityTypeId=target_element.attr("eId");zgssearch.showContextFilterDialog(GSConstant.MAILS,entityTypeId,"entity_type",target);break;case"outlookfolder":folderId=target_element.attr("fId");zgssearch.showContextFilterDialog(GSConstant.O365MAIL,folderId,"folders",target);break;case"gmailLabel":var labelId=target_element.attr("labelId");zgssearch.showContextFilterDialog(GSConstant.GMAIL,labelId,"labels",target);break;case"gmailLabelDropdown":var distanceFromRight,dropDownContainer=_jQueryGS(target_element).siblings("#zgs20_gsGmailLabelsDropDownContainer"),searchResIndex=_jQueryGS(_jQueryGS(target).parentsUntil(".zgs19_gsSearchResultTable").get(-1)).parent().attr("index"),cardResIndex=_jQueryGS(_jQueryGS(target).parentsUntil(".zgs19_gsCardResultTable").get(-1)).parent().attr("index"),isNotFirstResult=0!=searchResIndex&&0!=cardResIndex,isInCallout=_jQueryGS(target)[0]===_jQueryGS("#zgs20_gsCalloutUserLabelHeader .zgs19_gsShowHiddenLabelCount")[0];!isInCallout&&0==_jQueryGS(_jQueryGS(target).parentsUntil(".zgs19_gsSearchResultTable").get(-1)).parent().next().length&&0==_jQueryGS(_jQueryGS(target).parentsUntil(".zgs19_gsCardResultTable").get(-1)).parent().next().length&&isNotFirstResult&&(_jQueryGS(target_element).siblings().find(".zgs19_gmailLabelPseudoTail").addClass("zgs19_invertedGmailLabelPseudoTail").removeClass("zgs19_gmailLabelPseudoTail"),dropDownContainer.addClass("zgs19_blockHeightForInvertedContainer")),"none"==_jQueryGS(target).siblings().last().css("display")?dropDownContainer.show():dropDownContainer.hide(),isInCallout&&(distanceFromRight=window.innerWidth-_jQueryGS("#zgs20_gsCalloutUserLabelHeader .zgs19_gsShowHiddenLabelCount").get(0).getBoundingClientRect().right,_jQueryGS("#zgs20_gsCalloutUserLabelHeader #zgs20_gsGmailLabelsDropDownContainer").css("inset-inline-end",distanceFromRight-125)),_jQueryGS(dropDownContainer).css("width","auto"),_jQueryGS(dropDownContainer).css("width",_jQueryGS(dropDownContainer).width()+18+"px");break;case"gmailLabelDropdownFilter":service=_jQueryGS(target_element).attr("service"),fkey=_jQueryGS(target_element).attr("fkey"),key=_jQueryGS(target_element).attr("key");zgssearch.filterThroughOptions(service,key,fkey,target_element);break;case"workDriveTeams":var teamId=target_element.attr("teamId");zgssearch.showContextFilterDialog(GSConstant.WORKDRIVE,teamId,"teams",target);break;case"workDriveFolders":var fId=target_element.attr("fId");zgssearch.showContextFilterDialog(GSConstant.WORKDRIVE,fId,"folders",target);break;case"deskModules":var moduleId=target_element.attr("fId");zgssearch.updateDepartmentInfoforDesk(GSConstant.SUPPORT,target),zgssearch.showContextFilterDialog(GSConstant.SUPPORT,moduleId,"modules",target);break;case"deskDept":var depId=target_element.attr("fId");zgssearch.showContextFilterDialog(GSConstant.SUPPORT,depId,"departments",target);break;case"booksModules":case"invoiceModules":case"inventoryModules":var fpId=target_element.attr("fId");zgssearch.showContextFilterDialog(service,fpId,"modules",target);break;case"connectModules":var connectMod=target_element.attr("key");zgssearch.showContextFilterDialog(GSConstant.CONNECT,connectMod,"modules",target);break;case"forumsCategories":var connectCateg=target_element.attr("cId");zgssearch.filterThroughOptions(GSConstant.CONNECT,connectCateg,"categories",target);break;case"feedGroup":var feedGroup=target_element.attr("gId");zgssearch.showContextFilterDialog(GSConstant.CONNECT,feedGroup,"group",target);break;case"calendarServices":var calednarSer=target_element.attr("fId");zgssearch.showContextFilterDialog(GSConstant.CALENDAR,calednarSer,"services",target);break;case"peopleResDepartment":var deptId=target_element.attr("fId"),deptName=target_element.attr("fName"),currentPeopleDept=zgssearch.getFilterInfo(GSConstant.PEOPLE,"departments","data");null!=currentPeopleDept&&(currentPeopleDept.hasOwnProperty(deptId)||(currentPeopleDept[accId=(accId=zgssearch.getCurrentValue("accounts",service))&&"0"!=accId?accId:zgssearch.getFilterInfo("people","accounts","default")][deptId]=deptName,zgssearch.updateFilterInfo("people","data",currentPeopleDept))),zgssearch.showContextFilterDialog(zgssearch.GSConstant.PEOPLE,deptId,"departments",target);break;case"asanaProjects":var projectId=target_element.attr("pid");zgssearch.showContextFilterDialog(zgssearch.GSConstant.ASANA,projectId,"projects",target);break;case"projectsModule":var modId=target_element.attr("mod_id");zgssearch.showContextFilterDialog(zgssearch.GSConstant.PROJECTS,modId,"modules",target);break;case"projectsFilter":var projId=target_element.attr("filter_id");zgssearch.showContextFilterDialog(zgssearch.GSConstant.PROJECTS,projId,"projects",target);break;case"evernoteNotebooks":var notebookId=target_element.attr("nbid");zgssearch.showContextFilterDialog(zgssearch.GSConstant.EVERNOTE,notebookId,"modules",target);break;case"intranetSearch":zgssearch.clickActionForServiceList(zgssearch.GSConstant.ORGRESOURCES);break;case"extensionSearch":var browserType=target_element.attr("browserType"),downloadableLink=zgssearch.GSConstant[browserType+"_LINK"];zgssearch.openInNewTab(downloadableLink);break;case"cloudAppsNew":zgssearch.gssettingsapptab.currSelectedService="others",zgssearch.clickActionForSettings("settings");break;case"sender":case"owner":case"cname":service=zgssearch.calloutSearchType,module=zgssearch.getResultAccountId();service===GSConstant.CAMPAIGNS&&"3"===module||service===GSConstant.ORGRESOURCES&&5!=resObj.cpt||service==GSConstant.DROPBOX||service==GSConstant.GOOGLEDRIVE||service==GSConstant.BOX?(zgssearch.isMenuPopUpOpened=!0,zgssearch.openContextPopup=!0):zgssearch.openContextPopup=!1,zgssearch.contextMenuActionsPopUp(target);break;case"receiver":service=zgssearch.calloutSearchType,module=zgssearch.getResultAccountId();(service===GSConstant.CAMPAIGNS&&"2"!==module||service===GSConstant.MAILS||service==GSConstant.O365MAIL||service==GSConstant.GMAIL)&&(zgssearch.openContextPopup=!1,zgssearch.contextMenuActionsPopUp(target));break;case"authorStory":zgssearch.projectMgmtCalloutObj.getStoryAuthorDetails(target);break;case"cliqchannel":var cliq_channel_url=target_element.attr("cliq_channel_url");window.open(cliq_channel_url,"_blank","noopener");break;case"connectgroup":var connect_group_url=target_element.attr("connect_group_url");window.open(connect_group_url,"_blank","noopener");break;case"no_team_email":case"no_cliqchannel":case"no_support_email":zgssearch.Utils.showErrorMsg("Data not available");break;case"cloudconnectors":zgssearch.connectors.getCloudConnectors();break;case"connectoraccounts":zgssearch.connectors.getConnectorAccounts();break;case"getconnector":var connector_name=target_element.attr("connector_name");zgssearch.connectors.getConnectorInfo(connector_name);break;case"connector_auth":connector_name=target_element.attr("connector_name");zgssearch.connectors.configureConnector(connector_name);break;case"connector_reauth":connector_name=target_element.attr("connector_name");zgssearch.connectors.reconnectConnector(connector_name);break;case"connector_delete":connector_name=target_element.attr("connector_name");zgssearch.connectors.deleteConnector(connector_name);break;case"deleteAccountConfirmation":"yesDelete"===_jQueryGS(target).attr("cnfrmType")&&zgssearch.connectors.deleteAccount(),zgssearch.popupUtils.closeCnfrmDialogBox(),zgssearch.popupUtils.closeOverlayDialog();break;case"manageApps":zgssearch.showManageAppPopUp();break;case"attendeeMenuPopUp":zgssearch.gscalendar.attendeeMenuActionsPopUp(target);break;case"attendeesListPopup":zgssearch.gscalendar.attendeesListMenuActionsPopUp(target);break;case"conn_modules":var ser=target_element.attr("ser"),accId=target_element.attr("accId");zgssearch.gsCloud&&zgssearch.gsCloud.hideAccView&&zgssearch.gsCloud.hideAccView(),ser!=zgssearch.GSConstant.ASANA||zgssearch.isIntegViewPage?ser==zgssearch.GSConstant.MAILS?zgssearch.gssettingsapptab.mail_modules.getModules(ser,accId):ser!=zgssearch.GSConstant.SALESFORCE||zgssearch.isIntegViewPage||zgssearch.gssettingsapptab.crm_modules.getFromWidgetAndRender(ser,accId):zgssearch.gssettingsapptab.service_modules.getFromWidgetAndRender(ser,accId);break;case"redirect_accounts":ser=target_element.attr("ser");zgssearch.isAsanaWorkspacesAuthentication&&(_jQueryGS("#zgs20_gsSettingsModuleErrorPage").remove(),zgssearch.isAsanaWorkspacesAuthentication=!1),zgssearch.gssettingsapptab.showApplicationData(ser);break;case"calendarCnfrmActions":zgssearch.gscalendaraction.userCalendarActions(target);break;case"showSVLHSServices":case"hideSVLHSServices":zgssearch.toggleSmartViewServicePane(!zgssearch.isSmartViewServicePaneOpened);break;case"savethissearch":zgssearch.gssavedsearches.displaySavedSearchDialog(zgssearch.getI18NMsg("gs.saved_searches.save_search_title"));break;case"cardSecFullView":var cardType=_jQueryGS(target).attr("cardType");zgssearch.gscards.renderSpecificCardSection(cardType);break;case"cardSecViewAll":cardType=_jQueryGS(target).attr("cardType");zgssearch.gscards.renderSpecificCardSection(cardType);var eventArr=[{cardtype:cardType}];zgssearch.gsdbUtils.sendDashboardAnanlytics(zgssearch.CARD_TYPE,"viewAll","",eventArr);break;case"cardslist":zgssearch.gscards.openCardsList(target_element);break;case"selSpecificCrd":cardId=_jQueryGS(target).closest(".zgs19_gsEachCardTit").attr("cardlistId");zgssearch.gshistory.pushCardsState("/cards/"+cardId,"#"+zgssearch.cardHash.home),zgssearch.gscards.updateCardPreview(cardId);eventArr=[{service:(cardIdObj=zgssearch.gscardUtils.cardMetaObj[cardId]).service,cardtype:cardIdObj.cardtype}];zgssearch.gsdbUtils.sendDashboardAnanlytics(zgssearch.CARD_TYPE,"cardPreview",cardId,eventArr);break;case"ssCnfrmActions":case"savePreviewCnfrmActions":zgssearch.gssavedsearches.savedSearchActions(target);break;case"saveCardActions":zgssearch.gscards.saveCardActions(target);break;case"cardCnfrmActions":zgssearch.gscards.conifrmOnCards(target);break;case"addCrdCautCnfrmAction":zgssearch.gsaddcards.cautionCnfrmActions(target_element);break;case"createCrdCautAction":zgssearch.gscreatecards.cardCautionCnfrmActions(target_element);break;case"dashboardServiceFilter":zgssearch.gscards.openServiceFilter(".zgs19_gsCardsContent");break;case"cardServiceFilter":zgssearch.gscards.openServiceFilter(".zgs19_gsCardSerFilterIcon");break;case"cardActions":zgssearch.gscards.actionsOnCards(target_element);break;case"showpreviewresults":zgssearch.gscreatecards.showPreviewResults();break;case"ccPrevReload":zgssearch.gscreatecards.refreshPreviewResults(target);break;case"closeCCPrev":zgssearch.gscreatecards.closeCreateCrdPreView();break;case"importInput":break;case"createDashboard":zgssearch.gsdbhome.createDashboard();break;case"viewAllDashboard":zgssearch.gsdbhome.openDashboardListContent();break;case"dblist":zgssearch.gsdbhome.renderDashboardsList();break;case"dbsortList":zgssearch.gsdbhome.openDbSortList();break;case"selDbSortVal":zgssearch.gsdbhome.selectDbSortValue(target_element);break;case"refreshDB":zgssearch.gsdbhome.refreshDashboard(target);break;case"dbLisActions":action=target_element.attr("actiontype");zgssearch.gsdbhome.dashboardListactions(action,target_element);break;case"editCardName":zgssearch.gsaddcards.renderEditTitle("card");break;case"dbCnfrmActions":zgssearch.gsdbhome.dashboardConfirmActions(target_element);break;case"onTheFlyDB":zgssearch.openOnTheFlyDashboardFromProfile(target_element.attr("email"));break;case"autoGenerateDBInfoClose":gsdbhome.hideInformationBannerTip();break;case"autoGenerateDbCaution":zgssearch.gsdbhome.customDbCautionAction(target_element,zgssearch.dbViewType.autoGenerate);break;case"importDbCaution":zgssearch.gsdbhome.customDbCautionAction(target_element,zgssearch.dbViewType.importDashboard);break;case"cardMenu":zgssearch.gsaddcards.cardActionPopup(target_element);break;case"cardinfo":zgssearch.gscardinfo.cardInfoActions(target_element);break;case"addCardCnfrmActions":zgssearch.gsaddcards.cardConfirmActions(target_element);break;case"dbviewmenu":zgssearch.gsdbhome.openDBViewMenu(target);break;case"cardViewMenu":zgssearch.gscards.openCardsViewMenu();break;case"saveAndReplace":zgssearch.popupUtils.openEditNamepopup(zgssearch.getI18NMsg("gs.cards.save_replace"),zgssearch.getI18NMsg("gs.saved_searches.action_popup_description"),zgssearch.getI18NMsg("gs.cards.card_name"),"",!0,"","dbCnfrmActions","saveAsNewCard","closeCnfrmDialog"),zgssearch.gsdbhome.isDashboardPopupOpened=!0;break;case"leftPanelMenu":zgssearch.leftDivisionCallbackHandler(target);break;case"cardsMore":zgssearch.openCards("allCards",target);break;case"dashboardMore":zgssearch.openDashboard(zgssearch.dbViewType.dashboardHome);break;case"advSearch":zgssearch.gsadvancesearch.advancedSearchActions(target);break;case"advCautAction":zgssearch.gsadvancesearch.advanceCautionCnfrmActions(target_element);break;case"orgSettingsAction":zgssearch.gsOrgSettings.popupActions(target);break;case"projects_mod_choose":zgssearch.isIntegViewPage||zgssearch.gssettingsapptab.service_modules.chooseAccounts();break;case"showCardTitle":zgssearch.gsaddcards.showCardList();break;case"separateCardsList":zgssearch.gsaddcards.showSpecificCardList(target);break;case"hideSelectedCards":zgssearch.gsaddcards.hideSelectedCardElement();break;case"showaddtodb":zgssearch.gssavedsearches.showaddtodbElement(target);break;case"closeaddtodb":zgssearch.gssavedsearches.hideaddtodbElement();break;case"newfilterActions":var selElem=target;0<(tarElem=_jQueryGS(target_element).closest(".zgs19_gsFilterElementOuter")).length&&(selElem=tarElem),zgssearch.gsfilters.filterClickActions(selElem);break;case"crm_mod_choose":zgssearch.isIntegViewPage?zgssearch.gsCloud.showAccView():(zgssearch.gssettingsapptab.crm_modules.chooseAccounts(),_jQueryGS("#zgs20_connector_modules").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_connector_account_modules").css("display","none"));break;case"addToNewDbSelection":zgssearch.gssavedsearches.createNewDbInPopup(target);break;case"addToExistingDbSelection":zgssearch.gssavedsearches.addToExistingDB(target);break;case"cardsInDb":zgssearch.gscardinDb.actionHandler(target);break;case"copyWDLink":var value=_jQueryGS(".zgs19_gsPropertyLink").attr("href");zgssearch.Utils.copyLink(value);break;case"moreLabel":var labelList=resObj.fileInfo.labels;zgssearch.gsworkdrive.renderMoreLabelPopUp(target,labelList,".zgs19_gsCalloutMetaLeft");break;case"closeActionPopUp":_jQueryGS("#zgs20_gsOverlayDialog").empty(),_jQueryGS("#zgs20_gsOverlayDialog").css("display","none");break;case"copyWDLink":var linkVal=_jQueryGS(".zgs19_gsPropertyLink").attr("href");zgssearch.Utils.copyLink(linkVal);break;case"copyBookmarkUrl":url=_jQueryGS(target).prev().attr("href"),zgssearch.Utils.copyLink(url);break;case"copyHelpDeskMail":url=_jQueryGS(target).prev().attr("mail_id"),zgssearch.Utils.copyLink(url);break;case"previousPreview":case"nextpreview":zgssearch.navigatePreview(action,target);break;default:if(tarElem=zgssearch.getParentNode(target,"LeftBandToggle")){var iconEle=_jQueryGS("#zgs20_gsMaxMinLeftBand"),currAction=iconEle.attr("action");return void("expandLeftBand"==currAction?(iconEle.attr("action","collapseLeftBand"),zgssearch.isLeftDivisonPanelHidden=!1,zgssearch.leftBandViewToggleCallback(),iconEle.removeClass("zgs19_gsMaxLeftBand").addClass("zgs19_gsMinLeftBand"),_jQueryGS(".zgs18_gsExpandpanel_path4").addClass("zgs19_gsFlipIcon")):"collapseLeftBand"==currAction&&(iconEle.attr("action","expandLeftBand"),zgssearch.isLeftDivisonPanelHidden=!0,zgssearch.leftBandViewToggleCallback(),iconEle.removeClass("zgs19_gsMinLeftBand").addClass("zgs19_gsMaxLeftBand"),_jQueryGS(".zgs18_gsExpandpanel_path4").removeClass("zgs19_gsFlipIcon")))}if(tarElem=zgssearch.getParentNode(target,"createNewBtn"))return void zgssearch.showCreateNewPopup();if(tarElem=zgssearch.getParentNode(target,"accordionview"))return void zgssearch.gsaddcards.hideCardElement(tarElem);if(tarElem=zgssearch.getParentNode(target,"calloutlabelAction"))return void(0==_jQueryGS(".zgs19_gsLabelsPopUp").length&&zgssearch.serviceActions(tarElem,"label",resObj));if(tarElem=zgssearch.getParentNode(target,"addlabel"))return void zgssearch.labelActions(tarElem,"addlabel",resObj);if(tarElem=zgssearch.getParentNode(target,"removelabel"))return void zgssearch.labelActions(tarElem,"removelabel",resObj);if(tarElem=zgssearch.getParentNode(target,"selectDbInAddToDb"))return void zgssearch.gssavedsearches.selectDbForNewCards(target);if((tarElem=zgssearch.getParentNode(target,"websiteCalloutData")||zgssearch.getParentNode(target,"notebookCalloutData")||zgssearch.getParentNode(target,"connectCalloutData"))&&zgssearch.isFilterListDisplay&&zgssearch.hideFilterList(),(tarElem=zgssearch.getParentNode(target,"dashboardDD"))&&zgssearch.gssavedsearches.openDbDD(),tarElem=zgssearch.getParentNode(target,"calloutflagAction"))return void zgssearch.gsmails.renderFlagPopUp(target,resObj);if(tarElem=zgssearch.getParentNode(target,"flagChangeAction"))return void zgssearch.serviceActions(tarElem,"flag",resObj);if((tarElem=zgssearch.getParentNode(target,"closeaddtodb"))&&zgssearch.gssavedsearches.hideaddtodbElement(),tarElem=zgssearch.getParentNode(target,"closeBoxMob"))return void zgssearch.closeIconCallout();(tarElem=zgssearch.getParentNode(target,"resultTitle"))&&(zgssearch.stopEvent(event),zgssearch.loadCallout(target));var tarElem=zgssearch.getParentNode(target,"settingPopUp");zgssearch.isManageAppPopUpOpened&&zgssearch.hideManageAppPopUp(),(tarElem=zgssearch.getParentNode(target,"manageApps"))&&!zgssearch.isManageAppPopUpOpened&&zgssearch.showManageAppPopUp(),(tarElem=zgssearch.getParentNode(target,"reorderservices"))&&(zgssearch.hideManageAppPopUp(),zgssearch.gssettingsapptab.assignServiceListBeforeReorder(),zgssearch.gssettingsapptab.displayServicesReOrderingOverlay(target));var titleElem,titleInputElem,descElem,selectedPos,popupElem,popupParElem,classElem,tarElem=zgssearch.getParentNode(target,"servicetext"),text=_jQueryGS(tarElem).attr("gs"),ser=_jQueryGS(tarElem).attr("ser"),ele=zgssearch.gssettingsapptab.currSelectedService;if(tarElem&&"servicetext"==text&&ser!==ele&&(ser+"_enable"!==target_element.attr("id")?(service_name=void 0!==(service_name=target_element.attr("ser"))&&""!==service_name?service_name:ser,zgssearch.gssettingsapptab.getService(service_name)):event.stopPropagation()),(tarElem=zgssearch.getParentNode(target,"button"))&&zgssearch.gssettingsapptab.toggleAppsView(tarElem),(tarElem=zgssearch.getParentNode(target,"notebookCalloutData"))&&zgssearch.isFilterListDisplay&&zgssearch.hideFilterList(),(tarElem=zgssearch.getParentNode(target,"financeCalloutData"))&&zgssearch.isFilterListDisplay&&zgssearch.hideFilterList(),(tarElem=zgssearch.getParentNode(target,"moreProjOwners"))&&tarElem!==zgssearch.curCardSelected&&(!zgssearch.gscreatecards||!zgssearch.gscreatecards.isCreateCardPageOpened)){var projFactoryInstance=new zgssearch.ZSProjectMgmtFactory,service_info={};return service_info.service_name=zgssearch.GSConstant.PROJECTS,void projFactoryInstance.createProjectMgmtInstance(service_info).getMoreOwners(target)}if((tarElem=zgssearch.getParentNode(target,"forumsCategories"))&&tarElem!==zgssearch.curCardSelected){connectCateg=_jQueryGS(tarElem).attr("cId");return void zgssearch.filterThroughOptions(GSConstant.CONNECT,connectCateg,"categories",target)}if((tarElem=zgssearch.getParentNode(target,"hideMoreCategories"))&&tarElem!==zgssearch.curCardSelected)return void zgssearch.gsconnect.hideMoreCategories(tarElem);if((tarElem=zgssearch.getParentNode(target,"showMoreBlogCategory"))&&tarElem!==zgssearch.curCardSelected)return void zgssearch.gsconnect.showMoreCategories(tarElem);if((tarElem=zgssearch.getParentNode(target,"searchResultTable"))&&tarElem!==zgssearch.curSelectedEle)return void(zgssearch.isDashboardViewOpened()?zgssearch.gscardsresult.loadCalloutforCard(tarElem):(zgssearch.handleCalloutForMobileView(),zgssearch.highlightRes(tarElem.id,"")));if((tarElem=zgssearch.getParentNode(target,"cardResults"))&&tarElem!==zgssearch.curCardSelected)return void zgssearch.gscardsresult.loadCalloutforCard(tarElem);if((tarElem=zgssearch.getParentNode(target,"cardPageResults"))&&tarElem!==zgssearch.curCardSelected)return void zgssearch.gscards.loadCalloutforCard(tarElem);if(tarElem=zgssearch.getParentNode(target,"backtoresults"))return void zgssearch.gscardsresult.handleBackToCardResults(target);if(tarElem=zgssearch.getParentNode(target,"addCardActions"))return void zgssearch.gsaddcards.cardActions(target_element);if(tarElem=zgssearch.getParentNode(target,"serviceLeftPanelMenu")){service=_jQueryGS(tarElem).attr("service");return void zgssearch.clickActionForServiceList(service)}if(tarElem=zgssearch.getParentNode(target,"settingsPanelMenu")){if(zgssearch.hasOwnProperty("gscreatecards")){var classType=zgssearch.gscardUtils.getCreateCrdClassUsingType(zgssearch.gscreatecards.cardType);if(zgssearch.hasOwnProperty(classType)&&zgssearch[classType].checkAnyChangesInCreateCard())return void(zgssearch.gscreatecards.cardSuccAction="settings");if(zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.checkIfDefaultDashboardOpened())return void(zgssearch.gsdbhome.defaultDbSuccAction=tarElem)}return void zgssearch.clickActionForSettings("settings")}if((tarElem=zgssearch.getParentNode(target,"openIntegUserPageInZ1"))&&(!zgssearch.gsCloud||zgssearch.gsCloud&&"myCloudAppsTab"!=zgssearch.gsCloud.currentSelectedTab))return zgssearch.clearCloseIconInSearchBoxAction(),void zgssearch.clickActionForIntegrations();if(tarElem=zgssearch.getParentNode(target,"openIntegUserPageInNewTab"))return void zgssearch.clickActionForIntegrations(!0,"user");if(tarElem=zgssearch.getParentNode(target,"openIntegAdminPageInNewTab"))return tarElem.hasAttribute("cnfrmtype")&&"closeIntegMsgPopUp"==tarElem.getAttribute("cnfrmtype")||zgssearch.clickActionForIntegrations(!0),zgssearch.popupUtils.closeCnfrmDialogBox(),zgssearch.popupUtils.closeOverlayDialog(),void _jQueryGS("#zgs20_gsSearchBoxLeft").click();if(tarElem=zgssearch.getParentNode(target,"defsearchicon")){let classType=zgssearch.gscardUtils.getCreateCrdClassUsingType(zgssearch.gscreatecards?.cardType);return zgssearch.hasOwnProperty(classType)&&zgssearch[classType].hasOwnProperty("checkAnyChangesInCreateCard")&&zgssearch[classType].checkAnyChangesInCreateCard()?void(zgssearch.gscreatecards.cardSuccAction="defsearch"):zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.checkIfDefaultDashboardOpened()?void(zgssearch.gsdbhome.defaultDbSuccAction=tarElem):void zgssearch.handleDefaultSearch()}if(tarElem=zgssearch.getParentNode(target,"clearAndDisplayHomePage"))return zgssearch.clearCloseIconInSearchBoxAction(),zgssearch.updateSearchType(zgssearch.GSConstant.ALL),zgssearch.gsfilters.removeAppliedFilterIconColor(),zgssearch.openHomePage(),void zgssearch.hideIntegrationsPage();if("ZW"===zgssearch.gscomponent.pcode){var showSV=zgssearch.getParentNode(target,"showSVLHSServices"),hideSV=zgssearch.getParentNode(target,"hideSVLHSServices");if(showSV||hideSV)return void zgssearch.toggleSmartViewServicePane(!zgssearch.isSmartViewServicePaneOpened)}if((tarElem=zgssearch.getParentNode(target,"viewCard"))&&"cardActionHolder"!==action&&"dashboardActionHolder"!==action){cardId=_jQueryGS(tarElem).attr("id"),cardType=_jQueryGS(tarElem).attr("cardtype");zgssearch.gshistory.pushCardsState("/cards/"+cardId,"#"+zgssearch.cardHash.home),zgssearch.gscards.renderCardsPreview(cardId,cardType);var cardIdObj,eventArr=[{service:(cardIdObj=zgssearch.gscardUtils.cardMetaObj[cardId]).service,cardtype:cardType,identifier:cardIdObj.identifier}];return void zgssearch.gsdbUtils.sendDashboardAnanlytics(zgssearch.CARD_TYPE,"cardPreview",cardId,eventArr)}if(tarElem=zgssearch.getParentNode(target,"viewDashboard")){var dbId=tarElem.getAttribute("id");return zgssearch.gsdbhome.renderDashboardContent(dbId),void zgssearch.gsdbUtils.sendDashboardAnanlytics(zgssearch.DASHBOARD_TYPE,"dashboardPreview",dbId)}if(tarElem=zgssearch.getParentNode(target,"cardMenuTitle"))return void zgssearch.openCards("preview",tarElem);if(tarElem=zgssearch.getParentNode(target,"dashboard"))return void zgssearch.clickActionForDashboards();if(tarElem=zgssearch.getParentNode(target,"zeroDashBoardAction")){var dashboardType=tarElem.getAttribute("type");if(zgssearch.getCurrentDashboardType()!==dashboardType||!zgssearch.gsdbhome.isAutoGenerateDashboard(zgssearch.gsdbhome.currentlyOpenedDbId)){if(zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.checkIfDefaultDashboardOpened())return void(zgssearch.gsdbhome.defaultDbSuccAction=tarElem);{let dbView=zgssearch.gsdbUtils.setDashboardViewDetails(zgssearch.dbViewType.autoGenerate);return dbView.setAutoGenerateType(dashboardType),void zgssearch.openDashboard(zgssearch.dbViewType.autoGenerate,dbView)}}}if(tarElem=zgssearch.getParentNode(target,"importDbAction"))return zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.checkIfDefaultDashboardOpened()?void(zgssearch.gsdbhome.defaultDbSuccAction=tarElem):void zgssearch.gsdbUtils.importDashboard();if((tarElem=zgssearch.getParentNode(target,"dbTitle"))&&(dashboardId=tarElem.getAttribute("dblistId"),_jQueryGS("#zgs20_gsdashboardList").remove(),zgssearch.gsdbhome.isDashboardMenuOpened=!1,dashboardId!==zgssearch.gsdbhome.currentlyOpenedDbId&&zgssearch.gsdbhome.updateDashboardPage(dashboardId)),tarElem=zgssearch.getParentNode(target,"dbHomeTitle")){var dashboardId=tarElem.getAttribute("viewid");_jQueryGS("#zgs20_gsDashboardhome").css("display","block");let dbView=zgssearch.gsdbUtils.setDashboardViewDetails(zgssearch.dbViewType.specificDashboard);dbView.setDashboardId(dashboardId),zgssearch.openDashboard(zgssearch.dbViewType.specificDashboard,dbView)}if(tarElem=zgssearch.getParentNode(target,"addCard")){dashboardId=tarElem.getAttribute("dbid")||zgssearch.gsdbhome.currentlyOpenedDbId;return void zgssearch.gsdbhome.openAddcardAction(dashboardId)}if(tarElem=zgssearch.getParentNode(target,"updateCardType"))return void zgssearch.gsaddcards.updateCardOnChangingType(tarElem);if(tarElem=zgssearch.getParentNode(target,"openCardType"))return void zgssearch.gsaddcards.openCardTypePopup(tarElem);if((tarElem=zgssearch.getParentNode(target,"crdCnfrmActions"))&&zgssearch.gsaddcards.confirmActionsOnCard(tarElem),(tarElem=zgssearch.getParentNode(target,"checkEachCard"))&&(titleElem=zgssearch.getParentNode(target,"cardtitle"),titleInputElem=zgssearch.getParentNode(target,"cardmetaInput"),descElem=zgssearch.getParentNode(target,"carddescription"),titleElem||descElem||titleInputElem||zgssearch.gssavedsearches.handleMultiSerCrdCheckUncheck(tarElem)),tarElem=zgssearch.getParentNode(target,"createCardAction"))return zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.checkIfDefaultDashboardOpened()?void(zgssearch.gsdbhome.defaultDbSuccAction=tarElem):(zgssearch.handleOpeningOfCardsAndDashboard("cards"),void zgssearch.openCards("createCard",tarElem));if(tarElem=zgssearch.getParentNode(target,"createDbAction")){if(1==zgssearch.gscomponent.UIType)return void zgssearch.clickActionForDashboards(zgssearch.dbViewType.createDashboard);zgssearch.openInNewTab(zgssearch.httptxt+"://"+GSConstant.searchdomainURL+"/dashboards#"+zgssearch.dashboard.Hash.create)}if((tarElem=zgssearch.getParentNode(target,"autoGenerateDBInfoClose"))&&zgssearch.gsdbhome.hideInformationBannerTip(),tarElem=zgssearch.getParentNode(target,"dashboardActions")){zgssearch.gsdbhome.performActionsInDashboard(tarElem);break}if(tarElem=zgssearch.getParentNode(target,"thumbnailView"))return void zgssearch.gscardinDb.navigBtwnThumbViews(tarElem);if((tarElem=zgssearch.getParentNode(target,"tolink"))&&("none"===_jQueryGS("#zgs20_gsDropdownToList").css("display")?(zgssearch.setPosForToList(target,"tolink"),_jQueryGS("#zgs20_gsDropdownToList").show(),_jQueryGS(tarElem).addClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsDropdownToList").scrollTop(0),_jQueryGS("#zgs20_gsDropdownToList").scrollLeft(0)):(_jQueryGS("#zgs20_gsDropdownToList").hide(),_jQueryGS(tarElem).removeClass("zgs19_gsBorderCCC"))),(tarElem=zgssearch.getParentNode(target,"ownerLink"))&&("none"===_jQueryGS("#zgs20_gsDropdownOwnerList").css("display")?(zgssearch.setPosForToList(target,"ownerLink"),_jQueryGS("#zgs20_gsDropdownOwnerList").show(),_jQueryGS(tarElem).addClass("zgs19_gsBorderCCC"),_jQueryGS("#zgs20_gsDropdownOwnerList").scrollTop(0),_jQueryGS("#zgs20_gsDropdownOwnerList").scrollLeft(0)):(_jQueryGS("#zgs20_gsDropdownOwnerList").hide(),_jQueryGS(tarElem).removeClass("zgs19_gsBorderCCC"))),tarElem=zgssearch.getParentNode(target,"intranetSearch"))return void zgssearch.clickActionForServiceList(zgssearch.GSConstant.ORGRESOURCES);if(tarElem=zgssearch.getParentNode(target,"extensionSearch")){browserType=_jQueryGS(tarElem).attr("browserType"),downloadableLink=zgssearch.GSConstant[browserType+"_LINK"];return void zgssearch.openInNewTab(downloadableLink)}if(tarElem=zgssearch.getParentNode(target,"announcementSearch"))return void zgssearch.clickActionForDashboards();if(tarElem=zgssearch.getParentNode(target,"cloudAppsNew"))return zgssearch.gssettingsapptab.currSelectedService="others",void zgssearch.clickActionForSettings("settings");if(tarElem=zgssearch.getParentNode(target,"mFilterWidget"))return void zgssearch.renderModuleFilterWidgetList(tarElem);if(tarElem=(tarElem=zgssearch.getParentNode(target,"CalloutEditFields"))||zgssearch.getParentNode(target,"ticketAction"))return void zgssearch.gsaction.calloutEditFieldsAction(tarElem);if(tarElem=tarElem||zgssearch.getParentNode(target,"calendarActions"))return void zgssearch.gscalendaraction.actionOnCalendar(tarElem);if(tarElem=zgssearch.getParentNode(target,"openAppsList"))return void zgssearch.gsfilters.openAppsList(target);if((tarElem=zgssearch.getParentNode(target,"contextMenuAction"))&&zgssearch.contextMenuActionsList(tarElem,event,resObj),(tarElem=zgssearch.getParentNode(target,"doubleclickpop"))&&zgssearch.doubleClickSearchEvent(tarElem),tarElem=zgssearch.getParentNode(target,"linkViewUrl"))return void zgssearch.openInNewTab(_jQueryGS(tarElem).attr("url"));if(tarElem=zgssearch.getParentNode(target,"unfurlEle")){let url=_jQueryGS(tarElem).attr("href");url&&zgssearch.openInNewTab(url)}if(tarElem=target.nodeName,zgssearch.isCurrFilterClickelem)return zgssearch.isCurrFilterClickelem=!1,tarElem=_jQueryGS(target).closest(".zgs19_gsFilterQuerySelection"),void zgssearch.gsfilters.filterClickActions(tarElem);if(zgssearch.popupaction&&(selectedPos="",window.getSelection?selectedPos=window.getSelection():document.selection&&(selectedPos=document.selection.createRange()),zgssearch.checkRangeObjects(zgssearch.oldSelectedPos,selectedPos.getRangeAt(0))||!zgssearch.isOpenPopup?(popupParElem=(popupElem=zgssearch.checkClassExistForWidget(selectedPos))[0],classElem=popupElem[1],1!==_jQueryGS(event.target).closest("#zgs20_gsPopupSearch").length&&popupParElem&&zgssearch.getDoubleClickEvent(selectedPos,classElem),zgssearch.popupaction=!1,zgssearch.isOpenPopup=!0,zgssearch.oldSelectedPos=selectedPos.getRangeAt(0)):zgssearch.isOpenPopup=!1),tarElem=zgssearch.getParentNode(target,"leloadCalloutftPanelMenu"))return void zgssearch.leftDivisionCallbackHandler(target);if(tarElem=zgssearch.getParentNode(target,"leftPanelMenu"))return void zgssearch.leftDivisionCallbackHandler(target);if(tarElem=zgssearch.getParentNode(target,"deleteAccountConfirmation"))return"yesDelete"===_jQueryGS(tarElem).attr("cnfrmType")&&zgssearch.connectors.deleteAccount(),zgssearch.popupUtils.closeCnfrmDialogBox(),void zgssearch.popupUtils.closeOverlayDialog();zgssearch.clickEventTrig=!0,zgssearch.finalClickEventHandling(target,event)}}}catch(ex){zgssearch.throwClientError("Error in clickEvent.",ex)}},zgssearch.searchViewport.addEventListener("click",zgssearch.clickEvent,!0),zgssearch.leftDivisionCallbackHandler=function(classType){var parNode=zgssearch.getParentNode(classType,"leftPanelMenu"),action=parNode.getAttribute("action");if(zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.hasOwnProperty("isCreateCardPageOpened")&&zgssearch.gscreatecards.isCreateCardPageOpened){classType=zgssearch.gscardUtils.getCreateCrdClassUsingType(zgssearch.gscreatecards.cardType);if("openCards"!==action&&zgssearch[classType].hasOwnProperty("checkAnyChangesInCreateCard")&&zgssearch[classType].checkAnyChangesInCreateCard())return void(zgssearch.gscreatecards.cardSuccAction=action);if("openCards"===action)return}else if("dashboard"!==action&&zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.checkIfDefaultDashboardOpened())return void(zgssearch.gsdbhome.defaultDbSuccAction=parNode);zgssearch.leftDivisionNavigation(action)},zgssearch.leftDivisionNavigation=function(action){switch(action){case"search":zgssearch.clickActionForSearchTab(!0);break;case"openCards":zgssearch.clickActionForCards();break;case"dashboard":zgssearch.clickActionForDashboards()}},zgssearch.clickActionForSearchTab=function(isSearchCallNeeded){var service;"search"===zgssearch.selectedLeftPanelDivision&&!zgssearch.isShowQuickActionsPage||(zgssearch.setHighlightForLeftDivisonPanel("search"),zgssearch.hideDashboard(),zgssearch.hideCardsPage(),zgssearch.hideIntegrationsPage(),zgssearch.Utils.hideSettingsPage(),_jQueryGS("#zgs20_gsResultsHolder").css("display","block"),zgssearch.setStatusClsForLeftDivision(),zgssearch.isShowQuickActionsPage?zgssearch.renderLandingPage():(service=zgssearch.searchObj.service||zgssearch.gsusersettings.selectedServiceBeforeSettings,service=zgssearch.includes(service,zgssearch.getEnabledServiceList())?service:GSConstant.ALL,zgssearch.updateSearchType(service),isSearchCallNeeded&&zgssearch.newHandleUserSearchQuery(service),zgssearch.setSizeForRespectiveResultsArea()))},zgssearch.unHideTab=function(tabName){switch(tabName){case"search":zgssearch.clickActionForSearchTab(!1),_jQueryGS("#zgs20_gsSearchResultMiddle, #zgs20_gsSearchResultRight").css("display","block");break;case"cards":zgssearch.openCardsTabAction();break;case"dashboard":zgssearch.isDashboardViewOpened()?zgssearch.getCurrentDashboardType()===zgssearch.onTheFly&&zgssearch.gsdbhome.renderDashboardPage():zgssearch.openDashboardTabActions();break;case"settings":zgssearch.clickActionForSettings(tabName)}},zgssearch.setCssForToggleBandChanges=function(){zgssearch.isLeftDivisonPanelHidden?(_jQueryGS("#zgs20_gsMinLeftBand").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsMaxLeftBand").removeClass("zgs19_gsDisplayNone"),_jQueryGS(".zgs19_gsLeftPanelTabText").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsLogoHolder").css("width","200px")):(_jQueryGS("#zgs20_gsMinLeftBand").removeClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsMaxLeftBand").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsLogoHolder").css("width","230px"),setTimeout(function(){_jQueryGS(".zgs19_gsLeftPanelTabText").removeClass("zgs19_gsDisplayNone")},500))},zgssearch.leftBandViewToggleCallback=function(){zgssearch.setStatusClsForLeftDivision(),zgssearch.setCssForToggleBandChanges(),zgssearch.resizeForLeftPanelchanges()},zgssearch.setLogoWidth=function(){var searchResLfWid=_jQueryGS("#zgs20_gsSearchResultLeft").width();_jQueryGS("#zgs20_gsLogoHolder").css("width",searchResLfWid-2+"px")},zgssearch.addNoReferrerToLink=function(target){var ahref,atarget;target&&(ahref=_jQueryGS(target).attr("href")||"",atarget=_jQueryGS(target).attr("target")||"",0!=ahref.indexOf("mailto:")&&0!=ahref.indexOf("http")&&"_blank"!=atarget||_jQueryGS(target).attr("rel","noopener noreferrer"))},zgssearch.checkRangeObjects=function(oldSelPos,newSelPos){var count=0,objectProp={key1:"collapsed",key2:"commonAncestorContainer",key3:"endContainer",key4:"endOffset",key5:"startContainer",key6:"startOffset"};if(0<=zgssearch.userAgent.search("Safari")&&zgssearch.userAgent.search("Chrome")<0){if(_jQueryGS.isEmptyObject(zgssearch.oldSelectedPos))return!0;for(var value in objectProp){value=objectProp[value];oldSelPos[value]===newSelPos[value]&&count++}return count<6}if(oldSelPos!==newSelPos)return!0},zgssearch.checkClassExistForWidget=function(selectedPos){for(var classNames=document.getElementsByClassName("zgs19_gsCalloutPopUp"),i=(classNames[0],0);i<classNames.length;i++){for(var classElem=classNames[i],j=0;j<selectedPos.rangeCount;j++)var ancestorClass=selectedPos.getRangeAt(j).commonAncestorContainer,isClassExist=_jQueryGS(ancestorClass).closest(classElem);if(1===isClassExist.length)return[!0,classElem]}return!1},zgssearch.attachDoubleClickPopUpEvent=function(){_jQueryGS(".zgs19_gsCalloutPopUp").off("mouseup").on("mouseup",function(){zgssearch.popupaction=!0}),_jQueryGS(".zgs19_gsCalloutPopUp").off("mousedown").on("mousedown",function(parElem){parElem=_jQueryGS(parElem.target).closest("#zgs20_gsPopupSearch");zgssearch.isOpenDoubleClickPopup&&1!==parElem.length&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1)})},zgssearch.doubleClickSearchEvent=function(target){zgssearch.widgetPopUpSearch(target),zgssearch.isOpenDoubleClickPopup=!1,_jQueryGS(".zgs19_gsPopupSearch").remove()},zgssearch.handleCalloutForMobileView=function(){zgssearch.isMobViewport()&&(zgssearch.isScrollDownwards=!1,_jQueryGS("#zgs20_gsSearchResultMiddle").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").css("width","100%"),_jQueryGS("#zgs20_gsSearchResultRight").css("display","block"),_jQueryGS(".zgs19_gsCalloutActionMob").css("display","block"),_jQueryGS(".zgs19_gsMobDisableFields").css("display","none"),_jQueryGS("#zgs20_gsSearchResultLeft").css("transform","translateY(0%)"),_jQueryGS(".zgs19_gsSearchResultMiddle").css("transform","translateY(0px)"))},zgssearch.handleDefaultSearch=function(){zgssearch.focusForWeb("zgs20_gsQueryBox"),zgssearch.newHandleUserSearchQuery(zgssearch.getSearchType())},zgssearch.updateDepartmentInfoforDesk=function(service,target){var mlist,departmentsData,soid;"0"==zgssearch.getCurrentValue("accounts",service)&&(departmentsData=zgssearch.getFilterObj(service),soid=_jQueryGS(target).attr("acc_id"),mlist=zgssearch.getWidgetServiceList(service),soid=soid||zgssearch.getCurrentValue(mlist.key,service),(departmentsData=departmentsData.departments.data).hasOwnProperty(soid)&&(departmentsData[soid].hasOwnProperty(soid="0")||(soid=_jQueryGS(target).attr("depId"),zgssearch.setCurrentValue("departments",soid))))},zgssearch.filterThroughOptions=function(service,key,fkey,target){service!==zgssearch.getSearchType()&&zgssearch.updateSearchType(service),zgssearch.updateSearchObjForContextFilters(target,service,fkey,key),zgssearch.newHandleUserSearchQuery(service)},zgssearch.filterServiceModules=function(oldServiceType){var ftype=oldServiceType.attr("service"),fkey=oldServiceType.attr("acc_id"),module_name=oldServiceType.attr("mod")||oldServiceType.attr("mod_name")||oldServiceType.attr("workspace_id"),mod_disp_name=oldServiceType.attr("value")||module_name,oldServiceType=zgssearch.getSearchType();oldServiceType!=ftype&&(_jQueryGS("#"+("zgs20_gsServicePanelList"+oldServiceType)).removeClass("zgs19_gsSelectedServicepanel zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel"),_jQueryGS("#"+("zgs20_gsServicePanelList"+ftype)).removeClass("zgs19_gsUnServiceLeftPanel zgs19_gsBGC2f").addClass("zgs19_gsSelectedServicepanel"),zgssearch.setService(ftype)),""!==fkey&&zgssearch.setCurrentValue("accounts",fkey);fkey=ftype==zgssearch.GSConstant.ASANA?zgssearch.WS:"modules",ftype=ftype===zgssearch.GSConstant.CAMPAIGNS?"1":"3";zgssearch.setCurrentValue(fkey,module_name),_jQueryGS("#zgs20_globalsearch").append(_jQueryGS("<div>",{id:"zgs20_filterDummyElem",class:"zgs19_gsDisplayNone",ftype:ftype,fkey:fkey,key:module_name,index:"0",value:mod_disp_name})),zgssearch.currFilterClickelem=_jQueryGS("#zgs20_filterDummyElem"),zgssearch.clickActionForWidgetList(zgssearch.currFilterClickelem),_jQueryGS("#zgs20_filterDummyElem").remove()},zgssearch.isSupportedOpenFormat=function(fileType){return"image"===fileType||"docs"===fileType||"spreadsheet"===fileType||"presentation"===fileType},zgssearch.hideZiaForSameDomain=function(currResURL){var domainURL;currResURL==GSConstant.CONNECT&&(domainURL=window.location.href,currResURL=zgssearch.getResultAccountId(),currResURL=zgssearch.pulseNetworkURL[currResURL],0==domainURL.indexOf(currResURL)&&zgssearch.globalToggleHandling())},zgssearch.crmRecordOpen=function(domain_name,fullModData){var module=domain_name.mod,entityId=domain_name.id||domain_name[zgssearch.entity_id],moduleforURL=fullModData||zgssearch.getResultAccountId(),domain_name=zgssearch.crmOrgInfo.getDomain(moduleforURL),fullModData=zgssearch.getFilterInfo(GSConstant.CRM,"modules","crm_modules");if("Notes"===module){var mod,relatedRec=zgssearch.gscrm.crmImpFieldsData.related_record;for(mod in relatedRec)entityId=relatedRec[mod],module=mod}if(!moduleforURL)return null;moduleforURL=fullModData[moduleforURL][module+"_url"];return GSConstant.GS_CRM_URL+"/crm/"+domain_name+"/EntityInfo.do?module="+moduleforURL+"&id="+entityId},zgssearch.contextMenuActionsList=function(target,event,resObj){switch(_jQueryGS(target).attr("action")){case"searchUser":zgssearch.widgetPopUpSearch(target);break;case"sendMail":zgssearch.startComposeMail(target,"email");break;case"chatWithUser":zgssearch.chatAction(target,"chat",event,resObj)}},zgssearch.hideWidgetsPopup=function(event){zgssearch.isOpenDoubleClickPopup&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1),zgssearch.isMenuPopUpOpened&&(_jQueryGS(".zgs19_gsMenuPopUp").remove(),zgssearch.isMenuPopUpOpened=!1,zgssearch.openContextPopup=!1),zgssearch.gscardinfo.isCardInfoPopupOpened&&"zgs20_gsFilterInrDispNameList"!==event.target.id&&zgssearch.gscardinfo.closeDispNameList()},zgssearch.copyUrl=function(value,event,resObj){var service=_jQueryGS(value).attr("service"),value=zgssearch.fetchCalloutUrl(service,resObj,value);zgssearch.Utils.copyLink(value),zgssearch.stopEvent(event)},zgssearch.startAudioVideoCall=function(czuid,value){czuid+="",!zgssearch.isWMSChatPaused()&&zgssearch.hasWebMessanger&&czuid&&"-1"!=czuid?(zgssearch.globalToggleHandling(),!zgssearch.hasAudioSupport()||"audio"!=value&&"gswmsaudio"!=value&&"attendeegswmsaudio"!=value?zgssearch.hasVideoSupport()&&(zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.startVideoCall",[czuid]):WebMessanger.startVideoCall(czuid)):zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.startAudioCall",[czuid]):WebMessanger.startAudioCall(czuid)):zgssearch.showbannertip({ty:0,msg:zgssearch.getI18NMsg("gs.search.callout.chat.pause")})},zgssearch.chatAction=function(target,key,event,resObj){"continue"!=key&&"chat"!=key||(zgssearch.gsaction.currSearchType=(new zgssearch.dashboardSearchActions).createActionType(target),resObj=zgssearch.isPreviewOpenedInComponent?zgssearch.pcResObj:zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getCurrentResultObj():{},zgssearch.openChat(target,key,event,resObj))},zgssearch.openChat=function(target,key,event,muid){var compType="",service=_jQueryGS(target).attr("service"),isChatPaused=zgssearch.isWMSChatPaused(),url="";if("continue"==key)if(compType=muid.chat_id||muid.cid||"",zgssearch.hasWebMessanger){var isDashboardOpened,parNode,msgTime=muid.mT||"";if(zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp)return void zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.continueChat",[compType,msgTime]);isChatPaused||(_jQueryGS(".zgs19_gsChatPreview").empty(),isDashboardOpened=zgssearch.isDashboardViewOpened(),1==zgssearch.gscomponent.UIType&&(isDashboardOpened&&zgssearch.gscardinDb.isCardMaximised||!isDashboardOpened)?(zgssearch.gscliq.setPreviewList(compType),(parNode=target.closest(".zgs19_gsServiceCalloutHolder")).getElementsByClassName("zgs19_gsChatPreview")[0],_jQueryGS(parNode.getElementsByClassName("zgs19_gsChatPreview")[0]).show(),(isDashboardOpened?_jQueryGS(parNode.MobDisableFields):_jQueryGS(parNode).find(".zgs18_gsContinueChat")).addClass("zgs19_gsHideEleme")):zgssearch.globalToggleHandling()),WebMessanger.continueChat(compType,msgTime)}else muid=muid.hasOwnProperty("muid")?muid.muid.replace("%20","_"):"",url=GSConstant.GS_CLIQ_URL+"/chats/"+compType+(""!==muid?"/messages/"+muid:"");else if("chat"===key)if(compType=_jQueryGS(target).attr("chatid"),zgssearch.hasWebMessanger&&!zgssearch.isUBIDomain()){if(zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp)return void zgssearch.gscomponent.actionHandler(GSConstant.CLIQ,"WebMessanger.chat",[compType]);WebMessanger.chat(compType),isChatPaused||zgssearch.toggleGlobalsearch()}else url=GSConstant.GS_CLIQ_URL+"/users/"+compType;compType=zgssearch.getComponentType();compType&&zgssearch[compType].isPreviewHandlerEnabledInSuiteApp?zgssearch[compType].previewHandler(service,url):zgssearch.openInNewTab(url),zgssearch.stopEvent(event)},zgssearch.handleMultiPageScroll=function(search_type,url){var query=zgssearch.getQueryText();search_type=zgssearch.checkAndReturnServiceCriteria(search_type),zgssearch.isValidSearchQuery(query,search_type)?zgssearch.newHandleUserSearchQuery(search_type):(zgssearch.multiStartSet=parseInt(url),url=zgssearch.formFinalSearchURL(url),zgssearch.scrollSearch||(zgssearch.addScrollLoader("zgs20_MultiSearchPageHolder","zgs20_gsScrollLoader"),zgssearch.multiResCount=0,zgssearch.scrollSearch=!0,zgssearch.hideSearchPageLoader(),zgssearch.getNewSearchResults(url)))},zgssearch.isPreviewOpenedInComponent||zgssearch.isEmbed||(zgssearch.setSearchBoxPlaceHolder(),zgssearch.handleSearchCloseIcon(),zgssearch.setSearchBtnAndVal()),zgssearch.hasOwnProperty("gscomponent")&&gscomponent.isResizeEnabled()&&zgssearch.setWMSZIndex(),zgssearch.dashboardEventListeners=function(){zgssearch.isDashboardEnabled&&(window.removeEventListener("visibilitychange",zgssearch.handleVisibilityChange,!0),zgssearch.handleVisibilityChange=function(){var currMilliSecs,visibilityState=window.document.visibilityState;zgssearch.isDashboardViewOpened()&&("visible"===visibilityState?zgssearch.isGSOpened&&!zgssearch.gsdbhome.isAddCardPopupOpened&&(currMilliSecs=(new Date).getTime(),zgssearch.gsdbhome.currentlyOpenedDbId,currMilliSecs-zgssearch.lastVisibleStateOfWindow>zgssearch.cardAutoRefreshTime&&zgssearch.gscardinDb.triggerAutoRefreshForCards(),zgssearch.gscardinDb.setIntervalForCardsAutoRefresh()):"hidden"===visibilityState&&(zgssearch.gscardinDb.clearIntervalForAutoRefresh(),zgssearch.lastVisibleStateOfWindow=(new Date).getTime()))},window.addEventListener("visibilitychange",zgssearch.handleVisibilityChange,!0),1===zgssearch.gscomponent.UIType&&(window.removeEventListener("beforeunload",zgssearch.handleBeforeUnloading),zgssearch.handleBeforeUnloading=function(event){var isChangesMade;zgssearch.hasOwnProperty("gsdbhome")&&zgssearch.gsdbhome.isAddCardPopupOpened?(isChangesMade=_jQueryGS("#zgs20_gsdbDemInrCont").attr("isChanged"))&&"true"==isChangesMade&&(event.returnValue="Are you sure you want to leave?"):zgssearch.hasOwnProperty("gsdbhome")&&(zgssearch.gsdbhome.isAutoGenerateDashboard(zgssearch.gsdbhome.currentlyOpenedDbId)&&zgssearch.getCurrentDashboardType()!==zgssearch.onTheFly||zgssearch.gsdbhome.isImportedDashboard(zgssearch.gsdbhome.currentlyOpenedDbId))?event.returnValue="Are you sure you want to leave?":zgssearch.hasOwnProperty("gscreatecards")&&zgssearch.gscreatecards.hasOwnProperty("isCardInfoChangedOrNot")&&zgssearch.gscreatecards.isCardInfoChangedOrNot()&&(event.returnValue="")},window.addEventListener("beforeunload",zgssearch.handleBeforeUnloading)),0==zgssearch.gscomponent.UIType&&(window.removeEventListener("resize",zgssearch.gsdashboardresizepage,!1),zgssearch.gsdashboardresizepage=function(){zgssearch.isDashboardViewOpened()&&setTimeout(function(){zgssearch.gsdbhome.setSizeForDashboards()},70)},window.addEventListener("resize",zgssearch.gsdashboardresizepage,!1)))},zgssearch.extResize=function(){var gsHolder=_jQueryGS("#zgs20_gsHolder"),gsUserDetails=_jQueryGS("#zgs20_gsUserDetails");gsUserDetails.css("right",window.innerWidth/2-parseInt(gsHolder.css("width"))/2+"px"),_jQueryGS("#zgs20_gsOverlayButtons").css("margin-block-start",(window.innerHeight-parseInt(gsHolder.css("height")))/2+"px"),gsUserDetails.css("margin-block-start",(window.innerHeight-parseInt(gsHolder.css("height")))/2+20+"px")}}(zgssearch,window),function(zgssearch,window){window.document;var gsautocomplete,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gsautocomplete=(gsautocomplete=void 0,(gsautocomplete=zgssearch.gsautocomplete||{}).autoSuggClickPosUrl="/zgssearch/gsSuggestClickPosition",gsautocomplete.modifiers=gsautocomplete.modifiers||{},gsautocomplete.recentSearchesHolder=gsautocomplete.recentSearchesHolder||[],gsautocomplete.suggestindex=gsautocomplete.suggestindex||-1,gsautocomplete.querymodifiers=gsautocomplete.querymodifiers||["services","users","recentsearch"],gscomponent.isShowAppsData&&-1==zgssearch.Utils.indexOf(gsautocomplete.querymodifiers,"relatedproducts")&&gsautocomplete.querymodifiers.splice(gsautocomplete.querymodifiers.length-1,0,"relatedproducts"),gsautocomplete.modifiers.services={symbol:"#",icon:"zgs19_gsHeaderApps",msg:"gs.search.sugg.service",asMin:3,asMax:10},gsautocomplete.modifiers.users={symbol:"@",icon:"zgs19_gsHeaderContacts",msg:"gs.search.sugg.user",asMin:3,asMax:10},gsautocomplete.modifiers.recentsearch={symbol:" ",icon:"zgs19_gsHeaderRecSearch",msg:"gs.search.sugg.recent",asMin:3,asMax:10},gsautocomplete.modifiers.relatedproducts={symbol:" ",icon:"zgs19_gsHeaderPR",msg:"gs.search.sugg.apps",asMin:4,asMax:8},gsautocomplete.modifiers.dashboard={symbol:"",icon:"zgs18_gsDashboardIcon",msg:"Dashboards",asMin:3,asMax:8},gsautocomplete.modifiers.cards={symbol:"",icon:"zgs18_CardsIcon",msg:"Cards",asMin:3,asMax:8},gsautocomplete.dashboard=gsautocomplete.dashboard||{},gsautocomplete.cards=gsautocomplete.cards||{},gsautocomplete.encode_suggestion={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},gsautocomplete.decode_suggestion={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"},gsautocomplete.encode_sugg_regex=/[<>&"']/g,gsautocomplete.decode_sugg_regex=/&lt;|&gt;|&amp;|&quot;|&#39;/g,gsautocomplete.regex_replacer=/[!@#$%^&*()+=\-[\]\\';,./{}|":<>?~_]/gi,gsautocomplete.asLimit=gsautocomplete.asLimit||100,gsautocomplete.asMatchedObj=gsautocomplete.asMatchedObj||[],gsautocomplete.add=function(key,arr){gsautocomplete[key]=arr},gsautocomplete.remove=function(key){gsautocomplete.hasOwnProperty(key)&&delete gsautocomplete[key]},gsautocomplete.get=function(key){var data=gsautocomplete[key];return data||("recentsearch"===key||"relatedproducts"===key?[]:{})},gsautocomplete.removeExistingSuggData=function(key){for(var matches=gsautocomplete.asMatchedObj||[],mlen=matches.length,m=0;m<mlen;m++)if((matches[m]||{}).key==key){gsautocomplete.asMatchedObj.splice(m,1);break}},gsautocomplete.toggleAppsSuggestRelatedProducts=function(eleId){0===zgssearch.getRenderedAppsList(eleId).length&&(_jQueryGS("#"+eleId).remove(),_jQueryGS("#zgs20_gsQuerySuggHeader_relatedproducts").remove())},gsautocomplete.renderAppsSuggestList=function(outerListEleId){var j=outerListEleId.start,rindex=j+outerListEleId.max,key=outerListEleId.key,hold=outerListEleId.value,matches=outerListEleId.matches,pquery=outerListEleId.pquery,length=outerListEleId.length,showMore=zgssearch.getQueryText();void 0!==zgssearch.rpUIConfig.callEntries[showMore]&&(rindex-=zgssearch.rpUIConfig.callEntries[showMore],zgssearch.rpUIConfig.callEntries={});var appsData=gsautocomplete.get(key),outerListEleId="zgs20_gsQuerySuggOuter_"+key,appsListEleId="zgs20_gsQuerySuggApps_"+key;for(0===_jQueryGS("div#"+outerListEleId).length&&_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{id:outerListEleId}).append(_jQueryGS("<div>",{id:appsListEleId,class:"zgs19_gsSuggAppsList"})));j<length&&j<rindex;j++){var serName,sURL,sIcon,unhigh,sNameTxtEleId,chelem,sNameFragment,uid=matches[j][0],i=gsautocomplete.getSuggestIndex();appsData.hasOwnProperty(uid)&&(serName=appsData[uid],sURL=void 0!==zgssearch.rpUIConfig.appVsUrl[serName]?zgssearch.rpUIConfig.appVsUrl[serName][0]:"",chelem=void 0!==zgssearch.rpUIConfig.appVsUrl[serName]?zgssearch.rpUIConfig.appVsUrl[serName][1]:"",chelem=zgssearch.replaceHTMLEntity(chelem),sIcon="zgs18_w"+serName,unhigh=(sNameFragment=gsautocomplete.gethighlighttext(chelem,pquery,!1)).suffix||"",sNameTxtEleId="zgs20_gsAutoSuggChildName"+i,chelem=_jQueryGS("<a>",{rel:"noopener noreferrer",href:sURL,target:"_blank",gs:"rpStats",gsa:"as-"+uid+"_"+serName,productName:serName,class:"zgs19_gsQuerySuggApps zgs19_gsCurPointer zgs19_gsAutoSuggChild",key:key,hold:hold,unhigh:unhigh,value:uid}).append(_jQueryGS("<span>",{class:"zgs19_gsNaviArr zgs19_gsResultsUniIcons"})).append(_jQueryGS("<li>",{class:"zgs19_gsQuerySuggAppsIcon"}).append(_jQueryGS("<span>",{class:sIcon}))).append(_jQueryGS("<span>",{sName:serName,class:"zgs19_gsSuggUserTitle zgs19_appsTxt",gstitle:chelem,id:sNameTxtEleId})),_jQueryGS(chelem).attr("index",i),_jQueryGS("div#"+appsListEleId).append(chelem),zgssearch.LINE_ICON_MAP.hasOwnProperty(sIcon)&&zgssearch.obtainLineIconPaths(sIcon,_jQueryGS(".zgs19_gsQuerySuggAppsIcon > ."+sIcon)[0]),sNameFragment=zgssearch.gssecurity.getHighlightTextNode(sNameFragment.prefix,sNameFragment.match,sNameFragment.suffix,{class:"zgs19_gshighlight"}),zgssearch.getTargetElem(sNameTxtEleId).appendChild(sNameFragment))}rindex<length&&0===_jQueryGS("div#"+outerListEleId+" > .zgs19_gsQuerySuggch").length&&(showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore"),_jQueryGS("div#"+outerListEleId).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:j}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:showMore}).text(showMore)))),gsautocomplete.toggleAppsSuggestRelatedProducts(outerListEleId)},gsautocomplete.renderMoreAppsSugg=function(){var pquery=zgssearch.getAllQueryText(),fobj=zgssearch.getCursorPositionForSearchBox(),hmatches=pquery.substr(0,fobj),mi0="relatedproducts",mi1=gsautocomplete.modifiers[mi0].symbol,squery=hmatches.substr(0,-1),pquery=" "+hmatches.substr(0,fobj),hmatches=gsautocomplete.findMatchedData(mi0,pquery),fobj=hmatches.length;0<fobj&&(fobj={key:mi0,value:mi1,matches:hmatches,pquery:pquery,squery:squery,length:fobj,max:gsautocomplete.modifiers[mi0].asMax,start:0},gsautocomplete.removeExistingSuggData(mi0),gsautocomplete.asMatchedObj.push(fobj),gsautocomplete.renderAutoSuggList(fobj))},gsautocomplete.setAutoSuggestAppsData=function(searchedAppsSuggData){gscomponent.isShowAppsData&&(void 0!==searchedAppsSuggData?(zgssearch.rpUIConfig.isTriggeredSuggestCall=!0,gsautocomplete.add("relatedproducts",searchedAppsSuggData)):(zgssearch.rpUIConfig.isTriggeredSuggestCall=!1,gsautocomplete.add("relatedproducts",zgssearch.rpUIConfig.iconIncludedApps)))},gsautocomplete.initServiceList=function(){var userObj,photoUrl;zgssearch.hasOwnProperty("getServiceList")&&(gsautocomplete.addServices(),(GSConstant.cun||GSConstant.cue)&&(userObj={},photoUrl=zgssearch.getThumbPhotoURL(GSConstant.cuz),userObj[GSConstant.cue]={DNAME:GSConstant.cun||"",EMAILID:GSConstant.cue||"",ZUID:GSConstant.cuz||"",UC:0,PURL:photoUrl},gsautocomplete.add("users",userObj)),zgssearch.focusForWeb("zgs20_gsQueryBox"))},gsautocomplete.addServices=function(){var aobj={},slist=zgssearch.enabledSubServicesList(zgssearch.getServiceList("serviceList")||[]),mlist=zgssearch.getMappedServiceList()||{},oList=zgssearch.getOrderedServiceList()||{};aobj[GSConstant.ALL]=mlist[GSConstant.ALL].displayName;for(var i=0;i<oList.length;i++){var sname=oList[i];zgssearch.isArrayContain(sname,slist)&&mlist.hasOwnProperty(sname)&&(aobj[sname]=mlist[sname].displayName)}gsautocomplete.add("services",aobj)},gsautocomplete.findMatchedData=function(type,pquery){return"users"==type?gsautocomplete.contactssearch(type,pquery):"recentsearch"==type?gsautocomplete.recentSearchMatches(type):"relatedproducts"==type?gsautocomplete.relatedproductsSearchMatches(type):"cards"==type?gsautocomplete.cardsSearchMatches(type):"dashboard"==type?gsautocomplete.dashboardSearchMatches(type):gsautocomplete.defaultsearch(type,pquery)},gsautocomplete.recentSearchMatches=function(dn){var matches=[],tstart=0,tObj=gsautocomplete.get(dn),curPos=zgssearch.getCursorPositionForSearchBox(),dn=zgssearch.getAllQueryText();if(tObj instanceof Object&&!zgssearch.isQueryHasServiceCriteria()&&!zgssearch.isQueryHasUserCriteria()&&dn.length==curPos)for(var dn=dn.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i"),index=0;index<tObj.length;index++){var oriMat=tObj[index].search(myReg);if(-1<oriMat&&gsautocomplete.asLimit>tstart&&(tstart++,matches.push([index,oriMat])),gsautocomplete.asLimit==tstart)break}return matches},gsautocomplete.isAutoSuggQryChanged=function(){var query=(query=zgssearch.getQueryText())?query.trim():"",searchedQry=zgssearch.rpUIConfig.query;return(""===searchedQry||query!==searchedQry)&&1<query.length&&(zgssearch.rpUIConfig.query=query,!0)},gsautocomplete.getRelatedProductsMatches=function(dn){var matches=[],tstart=0,tObj=gsautocomplete.get(dn),curPos=zgssearch.getCursorPositionForSearchBox(),dn=zgssearch.getAllQueryText();if(tObj instanceof Object&&!zgssearch.isQueryHasServiceCriteria()&&!zgssearch.isQueryHasUserCriteria()&&dn.length==curPos)for(var dn=dn.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i"),appsLen=Object.keys(tObj).length,index=0;index<appsLen;index++){var oriMat=(tObj[index].product_name||tObj[index]).search(myReg);if(-1<(oriMat=zgssearch.rpUIConfig.isTriggeredSuggestCall?0:oriMat)&&gsautocomplete.asLimit>tstart&&(tstart++,matches.push([index,oriMat])),gsautocomplete.asLimit==tstart)break}return matches},gsautocomplete.relatedproductsSearchMatches=function(type){var matches=gsautocomplete.getRelatedProductsMatches(type),matchedLen=matches.length,isAutoSuggQryChanged=gsautocomplete.isAutoSuggQryChanged(matchedLen);return matchedLen<gsautocomplete.modifiers[type].asMin&&isAutoSuggQryChanged&&setTimeout(function(){var query=zgssearch.getQueryText();void 0===zgssearch.rpUIConfig.callEntries[query]&&zgssearch.rpUIConfig.onholdQuery!==query&&zgssearch.rpUIConfig.searchedQuery!==query&&(matches=gsautocomplete.getRelatedProductsMatches(type),zgssearch.rpUIConfig.callEntries[query]=matches.length,zgssearch.rpUIConfig.onholdQuery=query,zgssearch.getSearchResultsForRelatedProducts("autosuggest"))},800),matches},gsautocomplete.defaultsearch=function(type,dn){var matches={},tstart=0,tObj=gsautocomplete.get(type);if(dn==gsautocomplete.modifiers.services.symbol)return gsautocomplete.defaultservicelist(tObj);var sname,dn=dn.substr(1,dn.length).replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+dn+"|\\s"+dn+")","i");for(sname in tObj){var mat=tObj[sname].search(myReg);if(-1<mat&&gsautocomplete.asLimit>tstart&&(tstart++,matches[sname]=mat),gsautocomplete.asLimit==tstart)break}return gsautocomplete.getSortedMatches(matches)},gsautocomplete.dashboardSearchMatches=function(argparams){var matches={},tstart=0;if(!zgssearch.isMobViewport()){var tObj=gsautocomplete.get(argparams);if(0===zgssearch.getAvailableQueryFilters().length){var sname,params=zgssearch.getAllQueryText().trim().replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+params+"|\\s"+params+")","i");for(sname in tObj){var mat=tObj[sname].search(myReg);if(-1<mat&&gsautocomplete.asLimit>tstart&&(tstart++,matches[sname]=mat),gsautocomplete.asLimit==tstart)break}params=Object.keys(tObj).length;(!zgssearch.gsdbUtils.dashboardDataObtained||Object.keys(matches).length<gsautocomplete.modifiers[argparams].asMin&&!zgssearch.gsdbUtils.hasNoMoreDb&&params>zgssearch.gsdbUtils.oldDbObjLen)&&(argparams={callback:function(argparams,msg){msg||(zgssearch.removeQuerySugg(),zgssearch.updateQueryDiv())}},params="start="+Object.keys(tObj).length+"&count="+zgssearch.dashboardCount+"&sort=0",zgssearch.gsdbUtils.getDashboardMeta(params,argparams))}}return gsautocomplete.getSortedMatches(matches)},gsautocomplete.cardsSearchMatches=function(cardTypeArr){var matches={},tstart=0;if(!zgssearch.isMobViewport()){var cardIdArr=zgssearch.gscardUtils.allCardIds,cardObj=gsautocomplete.get(cardTypeArr);if(0===zgssearch.getAvailableQueryFilters().length){for(var cardObjLen=zgssearch.getAllQueryText().trim().replace(gsautocomplete.regex_replacer,"\\$&"),myReg=new RegExp("(^"+cardObjLen+"|\\s"+cardObjLen+")","i"),totCards=cardIdArr.length,i=0;i<totCards;i++){var curCardId=cardIdArr[i],mat=(cardObj[curCardId]||"").search(myReg);if(-1<mat&&gsautocomplete.asLimit>tstart&&(tstart++,matches[curCardId]=mat),gsautocomplete.asLimit==tstart)break}cardObjLen=Object.keys(cardObj).length;(Object.keys(matches).length<gsautocomplete.modifiers[cardTypeArr].asMin&&!zgssearch.gscardUtils.allCardsFetched&&cardObjLen>zgssearch.gscardUtils.oldCardObjLen||!zgssearch.gscardUtils.cardsFetchedForCurrCall)&&(cardTypeArr=Object.keys(zgssearch.cardTypeConstants),zgssearch.gscardUtils.oldCardObjLen=cardObjLen,zgssearch.gscardUtils.getMergedCardMetaData(cardTypeArr,cardObjLen,zgssearch.gscardUtils.cardsCount,0,function(cardsResp,args,msg){msg||(zgssearch.removeQuerySugg(),zgssearch.updateQueryDiv())}))}}return gsautocomplete.getSortedMatches(matches)},gsautocomplete.contactssearch=function(remainLength,proxContacts){var maxLength=gsautocomplete.asLimit,luserObj=gsautocomplete.get(remainLength),cachedSearchResponse=zgssearch.gsusercontacts.contactSearchQry.toLowerCase(),mquery=proxContacts.substr(1,proxContacts.length).toLowerCase(),flength=[],isSearchRequired=!1,clientSearchLim=zgssearch.gsusercontacts.clientSearchLimit,isBackSpaceSearchRequired=!0,hasSearchMoreObj=(finalArray=gsautocomplete.usersearch(mquery,luserObj,{},maxLength)).length;if(hasSearchMoreObj<maxLength){remainLength=maxLength-hasSearchMoreObj,proxContacts=zgssearch.gsusercontacts.getProximityContactsObject(),hasSearchMoreObj=zgssearch.gsusercontacts.getQueriedProxContactsObject();mquery&&cachedSearchResponse?mquery===cachedSearchResponse?(finalArray=[],flength=gsautocomplete.getSortedByUsgaeCount(hasSearchMoreObj)):0==mquery.indexOf(cachedSearchResponse)?(flength=gsautocomplete.usersearch(mquery,hasSearchMoreObj,luserObj,remainLength)).length<clientSearchLim&&((hasSearchMoreObj=zgssearch.gsusercontacts.searchResultshasMore).hasOwnProperty(mquery)&&!hasSearchMoreObj[mquery]||(isSearchRequired=!0)):0==cachedSearchResponse.indexOf(mquery)?(cachedSearchResponse=zgssearch.gsusercontacts.autoSuggSearchVsResponse,mquery=mquery.trim(),cachedSearchResponse.hasOwnProperty(mquery)?(cachedSearchResponse=cachedSearchResponse[mquery],flength=gsautocomplete.getSortedByUsgaeCount(cachedSearchResponse.contacts),zgssearch.gsusercontacts.CurrCacheQryContactObj=cachedSearchResponse.contacts,finalArray=[],flength.length==cachedSearchResponse.count&&(isBackSpaceSearchRequired=!1)):flength=gsautocomplete.usersearch(mquery,proxContacts,luserObj,remainLength)):((flength=gsautocomplete.usersearch(mquery,proxContacts,luserObj,remainLength)).length<clientSearchLim&&(isSearchRequired=!0),zgssearch.gsusercontacts.autoSuggSearchVsResponse={}):((flength=gsautocomplete.usersearch(mquery,proxContacts,luserObj,remainLength)).length<clientSearchLim&&(isSearchRequired=!0),zgssearch.gsusercontacts.autoSuggSearchVsResponse={});var finalArray,flength=maxLength<(flength=(finalArray=[].concat(finalArray,flength)).length)?maxLength:flength;return(finalArray=finalArray.slice(0,flength)).length<clientSearchLim&&0<mquery.length&&zgssearch.gsusercontacts.fetchFromServer(mquery,[],isSearchRequired,isBackSpaceSearchRequired),finalArray}},gsautocomplete.usersearch=function(mquery,userObj,personalObj,maxLength){var finalArray=[];if(!_jQueryGS.isEmptyObject(userObj)){var userList=gsautocomplete.getSortedByUsgaeCount(userObj);if(mquery){for(var startsArr=[],containSpaceArr=[],ui=0;ui<userList.length;ui++){var uid=userList[ui][0];if(!personalObj.hasOwnProperty(uid)){var mat=userObj[uid];if(mat.DNAME&&mat.EMAILID){var dname=(dname=zgssearch.replaceHTMLEntity(mat.DNAME)).toLowerCase(),email=zgssearch.replaceHTMLEntity(mat.EMAILID),mat=mquery.replace(gsautocomplete.regex_replacer,"\\$&");if(0==dname.indexOf(mat)||0==email.indexOf(mat)?startsArr.push([uid,0]):(mat=new RegExp("(^"+mat+"|\\s"+mat+")","i"),-1<(mat=dname.search(mat))&&containSpaceArr.push([uid,mat])),startsArr.length+containSpaceArr.length==maxLength)break}}}finalArray=[].concat(startsArr,containSpaceArr)}else{for(var contactsList=[],ui=0;ui<userList.length;ui++){uid=userList[ui][0];personalObj.hasOwnProperty(uid)||contactsList.push(userList[ui])}finalArray=contactsList}}return finalArray},gsautocomplete.getSortedMatches=function(matches){var sortmatches=[];if(!_jQueryGS.isEmptyObject(matches)){for(var rn in matches)sortmatches.push([rn,matches[rn]]);sortmatches.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return sortmatches},gsautocomplete.getSortedCardMatches=function(matchIds,matches){var sortmatches=[];if(!_jQueryGS.isEmptyObject(matches)&&0<matchIds.length){for(var matchId in matchIds){matchId=matchIds[matchId];sortmatches.push([matchId,matches[matchId]])}sortmatches.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return sortmatches},gsautocomplete.getSortedByUsgaeCount=function(object){var sortmatches=[];if(!_jQueryGS.isEmptyObject(object)){for(var rn in object){var uc=object[rn].UC||"0";sortmatches.push([rn,parseInt(uc)])}sortmatches.sort(function(a,b){return b[1]>a[1]?1:b[1]<a[1]?-1:0})}return sortmatches},gsautocomplete.defaultservicelist=function(tObj){var sname,sortmatches=[];for(sname in tObj)sortmatches.push([sname,0]);return sortmatches},gsautocomplete.gethighlighttext=function(miname,pquery,isEmail,myReg){var mind,hobj={prefix:miname,isMatched:!1},qlen=pquery.length,myReg=pquery.substr(null!=myReg?myReg:1,qlen);return 0<qlen&&(myReg=myReg.replace(gsautocomplete.regex_replacer,"\\$&"),myReg=isEmail?new RegExp(myReg,"i"):new RegExp("(^"+myReg+"|\\s"+myReg+")","i"),-1<(mind=miname.search(myReg))&&miname.replace(myReg,function(macth){hobj.isMatched=!0,hobj.prefix=miname.substr(0,mind),hobj.match=miname.substr(mind,macth.length),hobj.suffix=miname.substr(mind+macth.length,miname.length)})),hobj},gsautocomplete.renderDefaultHeader=function(){var query=zgssearch.getAllQueryText(),dhl=zgssearch.getI18NMsg("gs.search.service_search_for"),dhe=zgssearch.getI18NMsg("gs.search.service_search_enter");_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{class:"zgs19_gsDefaultHeader zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultLabel zgs19_gsfl zgs19_gsOverflow",gstitle:dhl}).text(dhl)).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsFontWeightBold"}).text('"')).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultQuery zgs19_gsfl zgs19_gsOverflow",gstitle:query}).text(query)).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsFontWeightBold"}).text('"')).append(_jQueryGS("<span>",{class:"zgs19_gsDefaultEnter zgs19_gsfr zgs19_gsOverflow",gstitle:dhe}).text(dhe)))},gsautocomplete.renderSectionHeader=function(key){var htitle,siconEle;0===_jQueryGS("div#zgs20_gsQuerySuggHeader_"+key).length&&(siconEle=gsautocomplete.modifiers[key].icon,htitle=gsautocomplete.modifiers[key].msg,htitle=zgssearch.getI18NMsg(htitle),siconEle=""!==siconEle?_jQueryGS("<span>",{class:"zgs19_gsSecHeaderKey zgs19_gsfl "+("cards"!=key&&"dashboard"!=key?"zgs19_gsResultsUniIcons ":"")+siconEle}):"",_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{class:"zgs19_gsSectionHeaderNew",id:"zgs20_gsQuerySuggHeader_"+key}).append(siconEle).append(_jQueryGS("<span>",{class:"zgs19_gsFtWeightBold zgs19_gsfl zgs19_gsSecHeaderVal zgs19_gsOverflow zgs19_gsCalMW20Pxof100",gstitle:htitle}).text(htitle))))},gsautocomplete.renderAutoSuggList=function(obj){"users"==obj.key?(gsautocomplete.renderSectionHeader(obj.key),gsautocomplete.renderUsersuggestList(obj)):"relatedproducts"==obj.key?(gsautocomplete.renderSectionHeader(obj.key),obj.max=gsautocomplete.modifiers[obj.key].asMin,gsautocomplete.renderAppsSuggestList(obj)):(gsautocomplete.renderSectionHeader(obj.key),gsautocomplete.rendersuggestList(obj)),gsautocomplete.locateAutoSuggList(obj.squery,obj.key)},gsautocomplete.constructsuggestList=function(suggObj){var outerListEleId="zgs20_gsQuerySuggOuter_"+suggObj.key;0===_jQueryGS("div#"+outerListEleId).length&&_jQueryGS("#zgs20_gsQuerySugg").append(_jQueryGS("<div>",{id:outerListEleId}));var chelem=_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChild"+suggObj.ii,gs:suggObj.gsAttr,viewid:suggObj.currMatch,gsa:"as-"+suggObj.currMatch,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySuggch zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsCurPointer",index:suggObj.ii,key:suggObj.key,hold:suggObj.hold,unhigh:suggObj.unhigh,value:suggObj.currMatch}).append(_jQueryGS("<span>",{class:suggObj.rnameCls})).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildName"+suggObj.ii,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow"+suggObj.highclass,gstitle:suggObj.rname}));if(_jQueryGS(chelem).attr("index",suggObj.index),suggObj.otherAttr)for(var atr in suggObj.otherAttr)_jQueryGS(chelem).attr(atr,suggObj.otherAttr[atr]);_jQueryGS("div#"+outerListEleId).append(chelem),"services"!=suggObj.key&&"cards"!=suggObj.key||zgssearch.obtainLineIconPaths(suggObj.serviceicon,_jQueryGS(chelem).find("."+suggObj.serviceicon))},gsautocomplete.rendersuggestList=function(matchObj){var i=matchObj.start,rindex=i+matchObj.max,key=matchObj.key,showMore=matchObj.value,matches=matchObj.matches,length=matchObj.length,pquery=matchObj.pquery;"recentsearch"==key&&(pquery=showMore+zgssearch.getAllQueryText());for(var suggObj={key:key,hold:showMore},tObj=gsautocomplete.get(key);i<length&&i<rindex;i++){var cardId,mapService,docFragment,cardData=matches[i],mi0=cardData[0];tObj.hasOwnProperty(mi0)&&(suggObj.rname=tObj[mi0],suggObj.ii=gsautocomplete.getSuggestIndex(),docFragment=gsautocomplete.gethighlighttext(suggObj.rname,pquery,!1),suggObj.unhigh=docFragment.suffix||"",suggObj.highclass=0==i&&"services"==key?"zgs19_gsFtWeightBold":"","services"==key&&(mapService=zgssearch.mappedServiceList[cardData[0]],suggObj.serviceicon=mapService.serviceicon,suggObj.rnameCls="zgs19_gsAutoSuggService "+suggObj.serviceicon),"dashboard"==key&&(suggObj.otherAttr={viewid:mi0}),"cards"==key&&((cardData=zgssearch.gscardUtils.cardMetaObj[cardId=mi0]||{}).subcardtype?suggObj.serviceicon=zgssearch.gscardUtils.getIconForSubType(cardData.subcardtype):(mapService=zgssearch.mappedServiceList[cardData.service],suggObj.serviceicon=mapService.serviceicon),suggObj.rnameCls="zgs19_gsAutoSuggService "+suggObj.serviceicon,suggObj.otherAttr={viewid:cardId,id:cardId,type:cardData.cardtype}),suggObj.currMatch=mi0,suggObj.index=i,gsautocomplete.constructsuggestList(suggObj),docFragment=zgssearch.gssecurity.getHighlightTextNode(docFragment.prefix,docFragment.match,docFragment.suffix,{class:"zgs19_gshighlight"}),zgssearch.getTargetElem("zgs20_gsAutoSuggChildName"+suggObj.ii).appendChild(docFragment))}rindex<length&&(showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore"),_jQueryGS("div #zgs20_gsQuerySuggOuter_"+key).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:i}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:showMore}).text(showMore))))},gsautocomplete.renderLoadingIcon=function(selectext){gsautocomplete.showLoadingIcon=!0;var loadericon=zgssearch.getFourDotLoader("zgs20_gsAutoSuggestLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsQuerySugg").empty().append(loadericon),gsautocomplete.locateAutoSuggList(selectext)},gsautocomplete.renderUsersuggestList=function(cachedContacts,id,showMore){var j=cachedContacts.start,rindex=j+cachedContacts.max,key=cachedContacts.key,hold=cachedContacts.value,matches=cachedContacts.matches,pquery=cachedContacts.pquery,length=cachedContacts.length,luserObj=gsautocomplete.get("users"),proxContacts=zgssearch.gsusercontacts.getProximityContactsObject(),queriedContacts=zgssearch.gsusercontacts.getQueriedProxContactsObject(),cachedContacts=zgssearch.gsusercontacts.getCurrCacheQryContact(),userObj=_jQueryGS.extend({},queriedContacts,cachedContacts,proxContacts,luserObj),outerListEleId=id||"zgs20_gsQuerySuggOuter_"+key;for(showMore=showMore||"zgs20_gsQuerySugg",0===_jQueryGS("div#"+outerListEleId).length&&_jQueryGS("#"+showMore).append(_jQueryGS("<div>",{id:outerListEleId}));j<length&&j<rindex;j++){var nobj,unhigh,nameFragment,eobj,emailFragment,photoURL,uid=matches[j][0],i=gsautocomplete.getSuggestIndex();userObj.hasOwnProperty(uid)&&(emailFragment=zgssearch.replaceHTMLEntity(userObj[uid].DNAME),eobj=zgssearch.replaceHTMLEntity(userObj[uid].EMAILID),unhigh=(nobj=gsautocomplete.gethighlighttext(emailFragment,pquery,!1)).suffix||"",photoURL=userObj[uid].ZUID,nameFragment=_jQueryGS(".zgs19_gsAutoSuggChild").length,nameFragment=0==j&&nameFragment<=0?"zgs19_gsFtWeightBold":"",nameFragment=_jQueryGS("<div>",{id:"zgs20_gsAutoSuggChild"+i,class:"zgs19_gsAutoSuggChild zgs19_gsQuerySugguser zgs19_gsCurPointer",index:j,key:key,hold:hold,unhigh:unhigh,value:eobj}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildName"+i,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow"+nameFragment,gstitle:emailFragment}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsAutoSuggChildEmail"+i,gstitle:eobj}))))),_jQueryGS(nameFragment).attr("index",i),_jQueryGS("div#"+outerListEleId).append(nameFragment),nameFragment=zgssearch.gssecurity.getHighlightTextNode(nobj.prefix,nobj.match,nobj.suffix,emailFragment={class:"zgs19_gshighlight"}),zgssearch.getTargetElem("zgs20_gsAutoSuggChildName"+i).appendChild(nameFragment),eobj=0==nobj.isMatched?gsautocomplete.gethighlighttext(eobj,pquery,!1):{prefix:eobj},emailFragment=zgssearch.gssecurity.getHighlightTextNode(eobj.prefix,eobj.match,eobj.suffix,emailFragment),zgssearch.getTargetElem("zgs20_gsAutoSuggChildEmail"+i).appendChild(emailFragment),(photoURL=userObj[uid].PURL||(photoURL&&"-1"!==photoURL?zgssearch.getThumbPhotoURL(photoURL):""))?zgssearch.updateUserPhoto("zgs20_gsAutoSuggChild"+i,photoURL):zgssearch.loadResNoPhotoImg("zgs20_gsAutoSuggChild"+i))}rindex<length&&(showMore=zgssearch.getI18NMsg("gs.search.sugg.showMore"),_jQueryGS("div#"+outerListEleId).append(_jQueryGS("<div>",{class:"zgs19_gsQuerySuggch zgs19_gsBorderBox",key:key,lindex:j}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggShowMore zgs19_gsCurPointer",gstitle:showMore}).text(showMore))))},gsautocomplete.getSuggestIndex=function(){return gsautocomplete.suggestindex++,500<gsautocomplete.suggestindex&&(gsautocomplete.suggestindex=0),gsautocomplete.suggestindex},gsautocomplete.locateAutoSuggList=function(selectext,key){gsautocomplete.isAutoSuggDisplay=!0,_jQueryGS("#zgs20_gsQuerySugg").css("display","block"),_jQueryGS("#zgs20_gsQuerySugg").scrollTop(0),_jQueryGS("#zgs20_gsQuerySugg").scrollLeft(0),_jQueryGS("#zgs20_gsQuerySugg").css("overflow-y","auto"),_jQueryGS("#zgs20_gsQuerySugg").css("overflow-x","hidden"),zgssearch.jqueryMouseEvent();var swid=_jQueryGS("#zgs20_gsQuerySugg").width(),qwid=_jQueryGS("#zgs20_gsQueryBox").outerWidth(),rwid=zgssearch.getTargetElem("zgs20_gsQueryBox"),rwid=zgssearch.getQueryScrollLeft(rwid)||0;rwid=qwid<(rwid=selectext?zgssearch.getWidthOfText(selectext,qwid)-rwid:rwid)+swid?qwid-swid:rwid,("recentsearch"==key||rwid<0)&&(rwid=0),_jQueryGS("#zgs20_gsQuerySugg").css("inset-inline-start",rwid),_jQueryGS("#zgs20_gsDummyQueryDiv").remove()},gsautocomplete.showMoreAutoSuggest=function(parent){parent=parent.parentNode;if(parent){var matches=gsautocomplete.asMatchedObj||[],key=_jQueryGS(parent).attr("key"),lindex=_jQueryGS(parent).attr("lindex"),lindex=parseInt(lindex),mlen=matches.length;if(0<mlen){_jQueryGS(parent).remove();for(var m=0;m<mlen;m++){var mobj=matches[m]||{};if(mobj.key==key){mobj.start=lindex,mobj.max=gsautocomplete.modifiers[key].asMax,"users"==mobj.key?gsautocomplete.renderUsersuggestList(mobj):"relatedproducts"==mobj.key?(gsautocomplete.removeExistingSuggData(mobj.key),gsautocomplete.asMatchedObj.push(mobj),gsautocomplete.renderAppsSuggestList(mobj)):gsautocomplete.rendersuggestList(mobj),zgssearch.jqueryMouseEvent();break}}}}},gsautocomplete.openApp=function(event,serviceURL){var clickType,key;"click"!==event.type&&(key=serviceURL||event.target,(key=zgssearch.getParentNode(key,"rpStats"))&&(clickType=event.which,serviceURL=_jQueryGS(key).attr("productName"),13===clickType&&(serviceURL=zgssearch.rpUIConfig.appVsUrl[serviceURL.toLowerCase()][0],window.open(serviceURL)),1!==clickType&&2!==clickType&&13!==clickType||zgssearch.hasOwnProperty("gsanalytics")&&(key=zgssearch.getStatsKey(_jQueryGS(key).attr("gsa")),zgssearch.gsanalytics.sendStatsData(event,key)),event.stopPropagation()))},gsautocomplete.handleRecentSearch=function(query){zgssearch.emptySearchBoxValues(),_jQueryGS("#zgs20_gsQueryBox").val(query),gsautocomplete.handleSuggestionSearch()},gsautocomplete.handleSuggestionSearch=function(){zgssearch.removeQuerySugg();zgssearch.getAllQueryText();var search_type=zgssearch.getSearchType(),nsearch_type=zgssearch.checkAndReturnServiceCriteria(search_type),isSettingsOpened=zgssearch.hasOwnProperty("gsusersettings")&&zgssearch.gsusersettings.isSettingsOpened,isCardPageOpened=zgssearch.isCardViewOpened(),isDashboardOpened=zgssearch.isDashboardViewOpened();(search_type!=nsearch_type||isDashboardOpened||isCardPageOpened||isSettingsOpened)&&(zgssearch.getWidgetServiceList(nsearch_type),zgssearch.updateSearchType(nsearch_type),zgssearch.updateCurrentPage(nsearch_type)),zgssearch.newHandleUserSearchQuery(nsearch_type)},gsautocomplete.storeRecentSearch=function(){var existingQryIndex,query=zgssearch.getQueryText();zgssearch.isQueryValid(query)&&(-1<gsautocomplete.recentSearchesHolder.indexOf(query)&&(existingQryIndex=gsautocomplete.recentSearchesHolder.indexOf(query),gsautocomplete.recentSearchesHolder.splice(existingQryIndex,1)),gsautocomplete.recentSearchesHolder.unshift(query),zgssearch.gsautocomplete.add("recentsearch",gsautocomplete.recentSearchesHolder))},gsautocomplete.sendAutoSuggClickPosition=function(clickpos,query){var params="zia";1===zgssearch.gscomponent.UIType?params+="Bigger":0===zgssearch.gscomponent.UIType&&(params+="Smaller");params="api_consumer="+zgssearch.autoSuggestApiConsumer+"&rpos="+clickpos+"&q="+query+"&search_sub_type="+params;zgssearch.uri(zgssearch.POST,zgssearch.gsautocomplete.autoSuggClickPosUrl,params,{},function(){})},gsautocomplete)}(zgssearch,window),function(zgssearch,window){var gsusercontacts,_jQueryGS=window._jQueryGS;zgssearch.getGSConstantObj();zgssearch.gsusercontacts=(gsusercontacts=void 0,(gsusercontacts=zgssearch.gsusercontacts||{}).fetContactsCount=gsusercontacts.fetContactsCount||50,gsusercontacts.clientSearchLimit=gsusercontacts.clientSearchLimit||10,gsusercontacts.isEmailOnlyResult=gsusercontacts.isEmailOnlyResult||!1,gsusercontacts.defContactsCount=500,gsusercontacts.serverCallCount=0,gsusercontacts.queueserver={},gsusercontacts.myContacts=gsusercontacts.myContacts||{},gsusercontacts.orgContacts=gsusercontacts.orgContacts||{},gsusercontacts.myContactsCache=gsusercontacts.myContactsCache||{result:[],noresult:[]},gsusercontacts.orgContactsCache=gsusercontacts.orgContactsCache||{result:[],noresult:[]},gsusercontacts.autoSuggCache=gsusercontacts.autoSuggCache||{result:[],noresult:[]},gsusercontacts.alreadyShownRes=gsusercontacts.alreadyShownRes||[],gsusercontacts.proximityContactsObject=gsusercontacts.proximityContactsObject||{},gsusercontacts.proximityContacts=[],gsusercontacts.proximityContactsMoreRes=gsusercontacts.proximityContactsMoreRes||!0,gsusercontacts.searchResultshasMore=gsusercontacts.searchResultshasMore||{},gsusercontacts.queriedProxContactsObj=gsusercontacts.queriedProxContactsObj||{},gsusercontacts.contactSearchQry=gsusercontacts.contactSearchQry||"",gsusercontacts.autoSuggSearchVsResponse=gsusercontacts.autoSuggSearchVsResponse||{},gsusercontacts.CurrCacheQryContactObj=gsusercontacts.CurrCacheQryContactObj||{},gsusercontacts.getMyContactsList=function(){return gsusercontacts.myContacts||{}},gsusercontacts.getServerCallCount=function(){return gsusercontacts.serverCallCount},gsusercontacts.getProximityContactsObject=function(){return gsusercontacts.proximityContactsObject||{}},gsusercontacts.setProximityContactsObject=function(zuid,userObj){gsusercontacts.proximityContactsObject.hasOwnProperty(zuid)||(gsusercontacts.proximityContactsObject[zuid]=userObj)},gsusercontacts.getQueriedProxContactsObject=function(){return gsusercontacts.queriedProxContactsObj||{}},gsusercontacts.setServerCallCount=function(){var ccount=(ccount=gsusercontacts.getServerCallCount())<500?ccount+1:1;gsusercontacts.serverCallCount=ccount},gsusercontacts.checkProxConTresholdLimit=function(){var proxContactsObj=gsusercontacts.getProximityContactsObject();_jQueryGS.isEmptyObject(proxContactsObj)||864e5<(new Date).getTime()-gsusercontacts.proxContacts_expiry_time&&(gsusercontacts.clearProxContactsData(),zgssearch.fetchTopContacts())},gsusercontacts.clearProxContactsData=function(){gsusercontacts.proximityContactsObject={},gsusercontacts.proximityContactsMoreRes=!1,zgssearch.isBulkProximityContactsFetched=!1},gsusercontacts.getCurrCacheQryContact=function(){return gsusercontacts.CurrCacheQryContactObj||{}},gsusercontacts.getUserContacts=function(){var wmsContacts=zgssearch.getWMSUserContacts();return wmsContacts=zgssearch.isWMSChatPaused()&&_jQueryGS.isEmptyObject(wmsContacts)?gsusercontacts.getMyContactsList():wmsContacts},gsusercontacts.isSearchReqCached=function(query){query=query.toLowerCase();var autoSuggCacheResults=gsusercontacts.autoSuggCache.result||[],autoSuggCacheNoResults=gsusercontacts.autoSuggCache.noresult||[],limitParams="start=0&limit="+gsusercontacts.fetContactsCount;return!!gsusercontacts.isReqCached(query,autoSuggCacheResults,autoSuggCacheNoResults,limitParams)},gsusercontacts.isReqCached=function(query,cacheResults,cacheNoResults,extraParams,limitParams){for(var params=limitParams+(extraParams=extraParams||"")+"&query="+encodeURIComponent(query),i=0;i<cacheResults.length;i++)if(-1!==cacheResults[i].indexOf(params))return!0;return gsusercontacts.isEmptyReqCached(query,cacheNoResults,extraParams,limitParams)},gsusercontacts.isEmptyReqCached=function(query,cacheNoResults,extraParams,limitParams){for(var params=limitParams+(extraParams=extraParams||"")+"&query="+encodeURIComponent(query),j=0;j<cacheNoResults.length;j++){var str2=cacheNoResults[j];if(-1!==params.indexOf(str2))return!0}return!1},gsusercontacts.fetchFromServer=function(query,finalArray,isSearchRequired,isBackSpaceSearchRequired){var iscallStopped=gsusercontacts.queueserver,autoSuggCacheResults=iscallStopped.flag||!1,limitParams=iscallStopped.expiry_time||0,autoSuggCacheNoResults=(new Date).getTime(),iscallStopped=!0;(!autoSuggCacheResults||15e3<autoSuggCacheNoResults-limitParams)&&zgssearch.gsusercontacts.proximityContactsMoreRes&&(autoSuggCacheResults=gsusercontacts.autoSuggCache.result||[],autoSuggCacheNoResults=gsusercontacts.autoSuggCache.noresult||[],limitParams="start=0&limit="+gsusercontacts.fetContactsCount,gsusercontacts.isReqCached(query,autoSuggCacheResults,autoSuggCacheNoResults,"",limitParams)&&!isSearchRequired||!isBackSpaceSearchRequired||(iscallStopped=!1,zgssearch.gsusercontacts.alreadyShownRes=[],gsusercontacts.fetchQueriedContacts(query,gsusercontacts.fetContactsCount))),iscallStopped&&zgssearch.gsautocomplete.showLoadingIcon&&zgssearch.removeQuerySugg()},gsusercontacts.fetchQueriedContacts=function(query,limit){var queryparams=query?encodeURIComponent(query):"",argparams="start=0&limit="+limit+"&query="+queryparams,queryparams={start:0,limit:limit,query:queryparams,addEmailOnlyContacts:zgssearch.gsusercontacts.isEmailOnlyResult};gsusercontacts.setServerCallCount();argparams={service:"zia",type:"getContacts",query:query,curCount:gsusercontacts.getServerCallCount(),queryUrl:argparams};gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},gsusercontacts.autoSuggCache={result:[],noresult:[]},zgssearch.ProximityContacts.getQueriedContacts(zgssearch.autoSuggestApiConsumer,queryparams,argparams)},gsusercontacts.storeExtraValuesForContacts=function(response,query,queryparams,argObj){var cacheObj,lowQuery=argObj.type;"topcontacts"===lowQuery?(gsusercontacts.proxContacts_expiry_time=(new Date).getTime(),gsusercontacts.proximityContactsMoreRes=response.has_more,gsusercontacts.proximityContactsObject=query):"getContacts"===lowQuery&&(zgssearch.gsusercontacts.queueserver={flag:!1,expiry_time:0},cacheObj=argObj.query,gsusercontacts.queriedProxContactsObj={},gsusercontacts.queriedProxContactsObj=query,(gsusercontacts.contactSearchQry=cacheObj)&&(lowQuery=cacheObj.toLowerCase().trim(),zgssearch.gsusercontacts.searchResultshasMore={},zgssearch.gsusercontacts.searchResultshasMore[lowQuery]=response.has_more,(cacheObj={}).contacts=query,cacheObj.hasmore=response.has_more,cacheObj.count=response.count,zgssearch.gsusercontacts.autoSuggSearchVsResponse[lowQuery]=cacheObj,(1==response.has_more?gsusercontacts.autoSuggCache.result:gsusercontacts.autoSuggCache.noresult).push(queryparams),argObj.curCount==gsusercontacts.getServerCallCount()&&"calendarAttendees"!==zgssearch.ContactsSearchType&&"filterUI"!==zgssearch.ContactsSearchType&&(_jQueryGS.isEmptyObject(query)||(zgssearch.removeQuerySugg(),query=zgssearch.getAllQueryText(),zgssearch.updateSearchBox(query,"serverResponse"),zgssearch.updatesuggtext()))))},gsusercontacts),zgssearch.fetchTopContacts=function(){var queryParams;zgssearch.isBulkProximityContactsFetched||(zgssearch.isBulkProximityContactsFetched=!0,queryParams={addEmailOnlyContacts:zgssearch.gsusercontacts.isEmailOnlyResult},zgssearch.ProximityContacts.getTopContacts(zgssearch.autoSuggestApiConsumer,queryParams,{service:"zia",type:"topcontacts"}))}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.getDoubleClickEvent=function(popupPos,srrPos){_jQueryGS("#zgs20_gsPopupSearch").remove();var diffRightPos,scrollleft,scrolltop,diffLeftPos,leftPos,afterPos,checkLeftPos,pos=popupPos.toString();null!==(pos=pos.trim())&&""!==pos&&" "!==pos?(100<pos.length&&(pos=pos.substring(0,100)),zgssearch.isOpenDoubleClickPopup=!0,_jQueryGS(srrPos).append(_jQueryGS("<div>",{id:"zgs20_gsPopupSearch",class:"zgs19_gsPopupSearch"}).append(_jQueryGS("<div>",{class:"zgs20_gsPopArrow zgs19_gsBorderBox"})).append(_jQueryGS("<div>",{class:"zgs19_gsInnerPopUp",gs:"doubleclickpop",query:pos}).append(_jQueryGS("<span>",{class:"zgs19_gsSearchWord"}).text(zgssearch.getI18NMsg("gs.search.service_search_for")+" ")).append(_jQueryGS("<span>",{class:"zgs19_gsPopupText"}).text('"'+pos+'"')))),scrollleft=srrPos.scrollLeft,scrolltop=srrPos.scrollTop,pos=popupPos.getRangeAt(diffRightPos=afterPos=leftPos=diffLeftPos=0).getBoundingClientRect(),popupPos=_jQueryGS(srrPos).get(0).getBoundingClientRect(),_jQueryGS(".zgs19_gsPopupSearch").css({top:checkLeftPos}),srrPos=1===gscomponent.UIType?_jQueryGS("#zgs20_gsSearchResultRight").width()-40:_jQueryGS("#zgs20_gsSearchResultRight").width()-55,_jQueryGS(".zgs19_gsPopupSearch").css({"max-width":srrPos}),_jQueryGS(".zgs19_gsInnerPopUp").css({"max-width":srrPos}),srrPos=_jQueryGS("#zgs20_gsSearchResultRight").get(0).getBoundingClientRect(),diffLeftPos=pos.left-srrPos.left,srrPos.bottom-pos.bottom<50?(checkLeftPos=scrolltop+pos.top-popupPos.top-43,scrolltop<=0&&checkLeftPos<0?checkLeftPos=0:pos.top-popupPos.top<50&&(checkLeftPos=scrolltop),_jQueryGS(".zgs19_gsPopupSearch").css({top:checkLeftPos}),_jQueryGS(".zgs20_gsPopArrow").addClass("zgs19_gsPopDownArrow")):(checkLeftPos=scrolltop+pos.top-popupPos.top+pos.height+10,_jQueryGS(".zgs19_gsPopupSearch").css({top:checkLeftPos}),_jQueryGS(".zgs20_gsPopArrow").addClass("zgs19_gsPopUpArrow")),popupPos=_jQueryGS(".zgs19_gsPopupSearch").get(0).getBoundingClientRect(),_jQueryGS(".zgs20_gsPopArrow").css({left:afterPos}),afterPos=scrollleft+diffLeftPos-(leftPos=diffLeftPos+pos.width/2>srrPos.width?srrPos.width/2+diffLeftPos:scrollleft+diffLeftPos+pos.width/2-popupPos.width/2)+pos.width/2-8,(checkLeftPos=leftPos-scrollleft)<0&&(leftPos=leftPos+Math.abs(checkLeftPos)+5,_jQueryGS(".zgs19_gsPopupSearch").css({left:leftPos}),popupPos=_jQueryGS(".zgs19_gsPopupSearch").get(0).getBoundingClientRect(),afterPos=pos.left-srrPos.left+pos.width/2-12),(diffRightPos=scrollleft+srrPos.width-(leftPos+popupPos.width))<0&&(afterPos=scrollleft+diffLeftPos-(leftPos=leftPos+diffRightPos-5)+pos.width/2-8),(popupPos=_jQueryGS(".zgs19_gsPopupSearch").get(0).getBoundingClientRect()).right-popupPos.left-15<=(afterPos=(afterPos=afterPos<0?Math.abs(afterPos):afterPos)<4?4:afterPos)&&(afterPos=popupPos.width/2),_jQueryGS(".zgs19_gsPopupSearch").css({left:leftPos}),_jQueryGS(".zgs20_gsPopArrow").css({left:afterPos})):zgssearch.isOpenDoubleClickPopup=!1},zgssearch.widgetPopUpSearch=function(value){zgssearch.clearCloseIconInSearchBoxAction(),zgssearch.updateSearchType(GSConstant.ALL),zgssearch.updateCurrentPage(GSConstant.ALL);var zuid={name:zgssearch.gsautocomplete.get("services")[GSConstant.ALL],services:GSConstant.ALL};zgssearch.renderQuerySpanElement({services:zuid});var query=_jQueryGS(value).attr("query"),zuid=_jQueryGS(value).attr("value")||"",value=_jQueryGS(value).attr("eId");zuid&&-1!=zuid?zgssearch.renderQuerySpanElement({users:{name:query,zuid:zuid,emailId:value}}):(value=_jQueryGS("#zgs20_gsQueryBox").val(),value+=" "+query,_jQueryGS("#zgs20_gsQueryBox").val(value),zgssearch.focusForWeb("zgs20_gsQueryBox")),zgssearch.handleDefaultSearch(),zgssearch.handleSearchCloseIcon()}}(zgssearch,window),zgssearch.CrmUtils=zgssearch.CrmUtils||{},zgssearch.CrmUtils.field1_data=["Name","Full_Name","Full Name","Subject","Title"],zgssearch.CrmUtils.field2_data=["Company","Account.Name"],zgssearch.CrmUtils.field3_data=["Email","Stage","Status","Owner.Alias"],zgssearch.CrmUtils.field4_data=["Mobile","Phone","MobilePhone"],zgssearch.CrmUtils.names_fields=["Full Name","Full_Name","First Name","First_Name","Last Name","Last_Name"],zgssearch.CrmUtils.MAX_FIELD_COUNT=4,zgssearch.CrmUtils.ROW_1="row1_fields_data",zgssearch.CrmUtils.ROW_2="row2_fields_data",zgssearch.CrmUtils.ICON_EXISTS_MODULES=["leads","contacts","accounts","campaigns","invoices","salesorders","events","tasks","notes"],zgssearch.CrmUtils.imp_fields=zgssearch.CrmUtils.imp_fields||{},zgssearch.CrmUtils.getModuleImpFields=function(service_name,module_name){return zgssearch.CrmUtils.imp_fields[service_name][module_name]||{}},zgssearch.CrmUtils.setModuleImpFields=function(service_name,module_name,fields_info){void 0===zgssearch.CrmUtils.imp_fields[service_name]&&(zgssearch.CrmUtils.imp_fields[service_name]={}),zgssearch.CrmUtils.imp_fields[service_name][module_name]=fields_info},zgssearch.CrmUtils.parseDisplayFields=function(records_meta_info){var module,display_fields_data,service_name=records_meta_info.service_name,service_addtional_info=records_meta_info.service_addtional_info;for(module in service_addtional_info)service_addtional_info.hasOwnProperty(module)&&"cursor"!==module&&(display_fields_data=service_addtional_info[module],zgssearch.CrmUtils.setAPINameVsLabel(service_name,module,display_fields_data),zgssearch.CrmUtils.setDisplayFields(service_name,module))},zgssearch.CrmUtils.setAPINameVsLabel=function(service_name,module,display_fields_data){for(var nameVsDispName={},dispNameVsName={},search_display_fields_list=[],fields_length=display_fields_data.length,field=0;field<fields_length;field++){var disp_label=display_fields_data[field],api_name=disp_label.api_name,disp_label=disp_label.disp_label;dispNameVsName[nameVsDispName[api_name]=disp_label]=api_name,search_display_fields_list.push(disp_label)}var module_imp_fields_info={};module_imp_fields_info.nameVsDispName=nameVsDispName,module_imp_fields_info.dispNameVsName=dispNameVsName,module_imp_fields_info.search_display_fields=display_fields_data,module_imp_fields_info.search_display_fields_list=search_display_fields_list,zgssearch.CrmUtils.setModuleImpFields(service_name,module,module_imp_fields_info)},zgssearch.CrmUtils.setDisplayFields=function(nameVsDispName,module){var display_fields_order=[],display_fields_data=[],module_fields=zgssearch.CrmUtils.getModuleImpFields(nameVsDispName,module),nameVsDispName=module_fields.nameVsDispName||{};zgssearch.CrmUtils.headerField1(module,nameVsDispName,display_fields_order,display_fields_data),zgssearch.CrmUtils.headerField2(module,nameVsDispName,display_fields_order,display_fields_data),zgssearch.CrmUtils.footerField1(module,nameVsDispName,display_fields_order,display_fields_data),zgssearch.CrmUtils.footerField2(module,nameVsDispName,display_fields_order,display_fields_data),module_fields.display_fields_order=display_fields_order,module_fields.display_fields_data=display_fields_data},zgssearch.CrmUtils.processAndPushFields=function(nameVsDispName,display_fields_order,display_fields_data,temp_field_array,row_key){for(var field_label="",field_title="",api_name="",temp_field_array_length=temp_field_array.length,index=0;index<temp_field_array_length;index++){var field_key=temp_field_array[index];if(nameVsDispName[field_key]){field_title=field_label=nameVsDispName[api_name=field_key];break}}""!==api_name&&zgssearch.CrmUtils.putFieldValues(display_fields_order,display_fields_data,field_label,field_title,api_name,null,row_key)},zgssearch.CrmUtils.putFieldValues=function(display_fields_order,display_fields_data,field_label,field_title,api_name,field_value,row_key){var field_info={};field_info.field_label=field_label,field_info.field_title=field_title,field_info.api_name=api_name,field_info.row_key=row_key,null!=field_value&&(field_info.field_value=field_value),display_fields_order.push(field_label),display_fields_data.push(field_info)},zgssearch.CrmUtils.nameORTitleORSubjectField=function(module,temp_field_array){temp_field_array.push(module+"_Name"),temp_field_array.push(module+" Name"),temp_field_array.push(module+"_Title"),temp_field_array.push(module+" Title"),temp_field_array.push(module+".Title"),temp_field_array.push(module+".Name")},zgssearch.CrmUtils.headerField1=function(module,nameVsDispName,display_fields_order,display_fields_data){for(var field_data=zgssearch.CrmUtils.field1_data,field_data_length=field_data.length,temp_field_array=[],index=0;index<field_data_length;index++)temp_field_array.push(field_data[index]);zgssearch.CrmUtils.nameORTitleORSubjectField(module,temp_field_array),zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,temp_field_array,zgssearch.CrmUtils.ROW_1)},zgssearch.CrmUtils.headerField2=function(module,nameVsDispName,display_fields_order,display_fields_data){for(var field_data=zgssearch.CrmUtils.field2_data,field_data_length=field_data.length,temp_field_array=[],index=0;index<field_data_length;index++)temp_field_array.push(field_data[index]);temp_field_array.push(module+".Name"),zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,temp_field_array,zgssearch.CrmUtils.ROW_1)},zgssearch.CrmUtils.footerField1=function(module,nameVsDispName,display_fields_order,display_fields_data){var field_data=zgssearch.CrmUtils.field3_data;zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,field_data,zgssearch.CrmUtils.ROW_2)},zgssearch.CrmUtils.footerField2=function(module,nameVsDispName,display_fields_order,display_fields_data){var field_data=zgssearch.CrmUtils.field4_data;zgssearch.CrmUtils.processAndPushFields(nameVsDispName,display_fields_order,display_fields_data,field_data,zgssearch.CrmUtils.ROW_2)},zgssearch.CrmUtils.parseResultViewFields=function(module_imp_fields,nsfi,record,temp_record_info){for(var module_imp_fields=zgssearch.CrmUtils.getModuleImpFields(module_imp_fields,nsfi),display_fields_data=module_imp_fields.display_fields_data,dispNameVsName=(module_imp_fields.display_fields_order,module_imp_fields.dispNameVsName||{}),display_fields_set=[],added_fields_length=0,row1_fields_data=[],row2_fields_data=[],fields_order_data_length=display_fields_data.length,index=0;index<fields_order_data_length;index++){var field_value=record[field_label=(field_info=Object.assign({},display_fields_data[index])).field_label];if(added_fields_length>=zgssearch.CrmUtils.MAX_FIELD_COUNT)break;null!=field_value&&""!==field_value&&(field_info.field_value=field_value,((field_info.row_key||zgssearch.CrmUtils.ROW_2)===zgssearch.CrmUtils.ROW_1?row1_fields_data:row2_fields_data).push(field_info),display_fields_set.push(field_label),added_fields_length++)}var row1_fields_data_length=row1_fields_data.length,row2_fields_data_length=row2_fields_data.length,time_and_date_fields_data=[],time_and_date_fields_data_length=0;if(added_fields_length<zgssearch.CrmUtils.MAX_FIELD_COUNT)for(var field_label in dispNameVsName){var is_date_time_field=!1;if(dispNameVsName.hasOwnProperty(field_label)){if(added_fields_length>=zgssearch.CrmUtils.MAX_FIELD_COUNT)break;field_value=record[field_label];if(display_fields_set.indexOf(field_label)<=-1&&null!=field_value&&""!==field_value){var api_name=dispNameVsName[field_label];if(0===row1_fields_data_length&&field_label.indexOf("Date")<=-1&&field_label.indexOf("Time")<=-1)row1_fields_data_length++,zgssearch.CrmUtils.putFieldValues(display_fields_set,row1_fields_data,field_label,field_label,api_name,field_value);else{if(!(row2_fields_data_length<2))break;-1<field_label.indexOf("Date")||-1<field_label.indexOf("Time")?(is_date_time_field=!0,time_and_date_fields_data_length++,zgssearch.CrmUtils.putFieldValues([],time_and_date_fields_data,field_label,field_label,api_name,field_value)):(row2_fields_data_length++,zgssearch.CrmUtils.putFieldValues(display_fields_set,row2_fields_data,field_label,field_label,api_name,field_value))}is_date_time_field||added_fields_length++}}}if(row2_fields_data_length<2)for(index=0;index<time_and_date_fields_data_length&&!(2<=row2_fields_data_length);index++){var field_info=time_and_date_fields_data[index];row2_fields_data.push(field_info),display_fields_set.push(field_info.field_label),row2_fields_data_length++}nsfi={is_name_field:!1},row1_fields_data=zgssearch.CrmUtils.skipDuplicateNameFields(row1_fields_data,nsfi),row2_fields_data=zgssearch.CrmUtils.skipDuplicateNameFields(row2_fields_data,nsfi);module_imp_fields.display_fields_order=display_fields_set,temp_record_info[zgssearch.CrmUtils.ROW_1]=row1_fields_data,temp_record_info[zgssearch.CrmUtils.ROW_2]=row2_fields_data},zgssearch.CrmUtils.skipDuplicateNameFields=function(fields_data,nsfi){for(var temp_fields_data=[],field=0;field<fields_data.length;field++){var field_obj=fields_data[field],nfi=field_obj.api_name||"",nfi=zgssearch.CrmUtils.names_fields.indexOf(nfi);(nfi<=-1||-1<nfi&&!nsfi.is_name_field)&&(-1<nfi&&(nsfi.is_name_field=!0),temp_fields_data.push(field_obj))}return temp_fields_data},zgssearch.CrmUtils.parseTitleField=function(module_name,record_fields,final_record_info){for(var field_data=zgssearch.CrmUtils.field1_data,field_data_length=field_data.length,temp_field_array=[],index=0;index<field_data_length;index++)temp_field_array.push(field_data[index]);var key_val_pair=zgssearch.CrmUtils.convertToKeyValuePair(record_fields);zgssearch.CrmUtils.nameORTitleORSubjectField(module_name,temp_field_array);for(var temp_field_array_length=temp_field_array.length,index=0;index<temp_field_array_length;index++){var field_key=temp_field_array[index],title_info=void 0!==key_val_pair[field_key]?key_val_pair[field_key]:"";if(""!==title_info&&null!==title_info){title_info={};title_info.title=field_key,title_info.value=key_val_pair[field_key],final_record_info.title_info=title_info;break}}},zgssearch.CrmUtils.checkTitleFieldEmpty=function(final_record_info){if(void 0===final_record_info.title_info){for(var header_fields_data=final_record_info.callout_header_fields,header_fields_data_length=header_fields_data.length,field_label="",field_value="",index=0;index<header_fields_data_length;index++){var field_obj=header_fields_data[index],field_value=field_obj.field_value,field_label=field_obj.field_label;if(""!==field_value&&"-"!==field_value&&field_label.indexOf("Date")<=-1&&field_label.indexOf("Time")<=-1)break}var title_info={};title_info.title=field_obj.field_label,title_info.value=field_value,final_record_info.title_info=title_info}},zgssearch.CrmUtils.convertToKeyValuePair=function(record_fields){for(var rfl=record_fields.length,key_val_pair={},field=0;field<rfl;field++){var field_val=record_fields[field],api_name=field_val.api_name,field_val=(field_val.disp_label,field_val.field_val);key_val_pair[api_name]=field_val}return key_val_pair},zgssearch.CrmUtils.parseFieldsForCalloutHeader=function(service_name,module_imp_fields,record_fields,final_record_info){var current_response=zgssearch.getCurrentResObj(),module_imp_fields=zgssearch.CrmUtils.getModuleImpFields(service_name,module_imp_fields);if(module_imp_fields.search_display_fields)for(var header_fields_data=[],key_val_pair=zgssearch.CrmUtils.convertToKeyValuePair(record_fields),search_display_fields=module_imp_fields.search_display_fields,search_display_fields_length=search_display_fields.length,field=0;field<search_display_fields_length;field++){var field_val=search_display_fields[field],temp_field_info=field_val.api_name,disp_label=field_val.disp_label,field_val=key_val_pair[temp_field_info];field_val=null!==(field_val=""===(field_val="undefined"!==field_val&&null!==field_val?field_val:"-")||"-"===field_val?void 0!==current_response[disp_label]?current_response[disp_label]:"-":field_val)&&""!==field_val&&void 0!==field_val?field_val:"-";temp_field_info={};temp_field_info.field_label=disp_label,temp_field_info.field_value=field_val,header_fields_data.push(temp_field_info)}final_record_info.callout_header_fields=header_fields_data},zgssearch.CrmUtils.parseFieldsForCalloutFooter=function(service_name,module_name,record_fields,final_record_info){for(var nameVsDispName=zgssearch.CrmUtils.getModuleImpFields(service_name,module_name).nameVsDispName,footer_fields_data=[],date_fields_data=[],user_fields_data=[],rfl=record_fields.length,field=0;field<rfl;field++){var field_info=record_fields[field],api_name=field_info.api_name||"",disp_label=field_info.disp_label,field_val=field_info.field_val;nameVsDispName&&void 0===nameVsDispName[api_name]&&""!==(field_val=void 0!==field_val?field_val:"")&&((field_info={}).field_label=disp_label,field_info.field_value=field_val,(-1<api_name.indexOf("Date")||-1<api_name.indexOf("Time")?date_fields_data:-1<api_name.indexOf("By")?user_fields_data:footer_fields_data).push(field_info))}if(0<user_fields_data.length)for(field=0;field<user_fields_data.length;field++)footer_fields_data.push(user_fields_data[field]);if(0<date_fields_data.length)for(field=0;field<date_fields_data.length;field++)footer_fields_data.push(date_fields_data[field]);final_record_info.callout_footer_fields=footer_fields_data},zgssearch.CrmUtils.getActionsList=function(){var actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),actions_list},zgssearch.CrmUtils.addActionsList=function(final_record_info){var actions_list=zgssearch.CrmUtils.getActionsList();0<actions_list.length&&(final_record_info.actions_list=actions_list,final_record_info.is_actions_allowed=!0)},zgssearch.CrmUtils.getRecordId=function(record){return record.id||""},zgssearch.CrmUtils.getRecordLink=function(record){return record["Open Url"]||""},zgssearch.CrmUtils.getModuleName=function(record){return record["Module Type"]||record.mod||""},zgssearch.CrmUtils.getCrmModuleQueryName=function(module){var modvsQueryObj=zgssearch.getFilterInfo(zgssearch.GSConstant.CRM,"modules","current");return modvsQueryObj.hasOwnProperty(module)?modvsQueryObj[module]:module},zgssearch.CrmUtils.constructModHeader=function(mod_info,cardObj){var linkClass="",moduleGS="";cardObj||(linkClass="zgs19_gsLinkElem",moduleGS="service_multi_mod");mod_info.mod_key;return _jQueryGS("<div>",{id:mod_info.id,class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid30Per",service:mod_info.service_name,mod_name:mod_info.mod_name}).text("Module : ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget "+linkClass+" zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid60Per",service:mod_info.service_name,mod_name:mod_info.mod_name,acc_id:mod_info.acc_id,gs:moduleGS,value:mod_info.mod_name,gstitle:mod_info.mod_disp_name}).text(mod_info.mod_disp_name))},zgssearch.crm_parser=zgssearch.crm_parser||{},zgssearch.crm_parser.parseModuleImpFields=function(results_obj){var module,all_search=results_obj.modules_metadata,module_fields_info={};for(module in all_search){var api_name,search_display_columns=all_search[module].search_display_columns,fields_data=[];for(api_name in search_display_columns){var obj={};obj.api_name=api_name,obj.disp_label=search_display_columns[api_name],fields_data.push(obj)}module_fields_info[module]=fields_data}zgssearch.setServiceResultsAdditionalInfo(zgssearch.GSConstant.CRM,module_fields_info)},zgssearch.crm_parser.parseResultsView=function(results_obj){var final_response={};return final_response.no_of_results=results_obj.no_of_results,final_response.service_name=zgssearch.GSConstant.CRM,final_response.CONNECTOR_ID=results_obj.account_id,final_response.total_no_of_results=results_obj.total_no_of_results,final_response.fields=zgssearch.getServiceResultsAdditionalInfo(zgssearch.GSConstant.CRM),final_response},zgssearch.popupUtils=zgssearch.popupUtils||{},zgssearch.popupUtils.isSelectionPopupOpened=!1,zgssearch.popupUtils.isPopupOpened=zgssearch.popupUtils.isPopupOpened||!1,zgssearch.popupUtils.popupSaveAction=zgssearch.popupUtils.popupSaveAction||"",zgssearch.popupUtils.popupCancelAction=zgssearch.popupUtils.popupCancelAction||"",zgssearch.popupUtils.openEditNamepopup=function(popupTitle,popupDesc,placeholder,inputText,addToDbBtn,footer,gsattr,overlayDialog,cancelAction,addToDbNeeded,popupDescElem){zgssearch.popupUtils.closeCnfrmDialogBox();var descriptionElem,saveElem=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr "+(popupDescElem?"":"zgs19_gsHideEleme"),gs:gsattr,cnfrmType:overlayDialog}).text(zgssearch.getI18NMsg("gs.settings.application.save")),cancelElem=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsfr",gs:gsattr,cnfrmType:cancelAction}).text(zgssearch.getI18NMsg("common.cancel")),popupDescElem="";""!==popupDesc&&(popupDescElem=_jQueryGS("<div>",{class:"zgs19_gsSC_popUpDiscTxt"}).text(popupDesc)),addToDbBtn&&(descriptionElem=_jQueryGS("<div>",{class:"zgs19_gsDescElem"}).append(_jQueryGS("<textarea>",{id:"zgs20_gsCrdDescInput",class:"zgs19_gsCrdDescInput",maxlength:255,placeholder:zgssearch.getI18NMsg("common.description")}).text(footer||"")));addToDbBtn="",footer=_jQueryGS("<div>",{class:"zgs19_gsDialogActions"}).append(saveElem).append(cancelElem);addToDbNeeded&&(addToDbBtn=_jQueryGS("<div>",{class:"zgs19_gsaddtodbText zgs19_gsaddtodbDisable",gs:"showaddtodb"}).text(zgssearch.getI18NMsg("gs.saved_searches.action_add_dashboard")),footer=_jQueryGS("<div>",{class:"zgs19_gsMultiSaveFooter"}).append(addToDbBtn).append(_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr zgs19_gsHideEleme",gs:gsattr,cnfrmType:overlayDialog}).text(zgssearch.getI18NMsg("gs.settings.application.save"))).append(_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsfr ",gs:gsattr,cnfrmType:cancelAction}).text(zgssearch.getI18NMsg("common.cancel"))));overlayDialog=_jQueryGS("#zgs20_gsOverlayDialog");overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopup",class:"zgs19_gsSavedSearchPopup zgs19_gsSaveSearch"}).append(_jQueryGS("<div>",{class:"zgs19_gsSavedSearchHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUtt zgs19_gsOverflow"}).text(popupTitle)).append(popupDescElem).append(_jQueryGS("<div>",{id:"zgs20_gsNamingSS",class:"zgs19_gsNamingSS"}).append(_jQueryGS("<input>",{id:"zgs20_gsSTS",class:"zgs19_gsSSNameInput",type:"text",value:inputText,placeholder:placeholder}))).append(descriptionElem)).append(footer).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:gsattr,cnfrmType:cancelAction}))))),overlayDialog.css({display:"block"}),zgssearch.gssavedsearches.addEventForCardAndDashboardDetails("#zgs20_gsSTS","",!0),zgssearch.gssavedsearches.addEventForCardAndDashboardDetails("#zgs20_gsCrdDescInput"),_jQueryGS("#zgs20_gsSTS").attr("autocomplete","off"),_jQueryGS("#zgs20_gsSTS").select(),_jQueryGS("#zgs20_gsSTS").focus(),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=saveElem,zgssearch.popupUtils.popupCancelAction=cancelElem},zgssearch.popupUtils.afterSaveCardActionPopup=function(statusClass,iconElem,popupElem,actionArr){zgssearch.popupUtils.closeCnfrmDialogBox();var overlayDialog=_jQueryGS("<div>",{id:"zgs20_gsSaveCardActionFooter",class:"zgs19_gsSaveCardFooter"}),statusClass=statusClass?"zgs18_gsTickMark":"zgs18_gsRoadBlock",iconElem=_jQueryGS("<div>",{class:statusClass+" "+iconElem});zgssearch.LINE_ICON_MAP.hasOwnProperty(statusClass)&&zgssearch.obtainLineIconPaths(statusClass,_jQueryGS(iconElem)[0]);iconElem=_jQueryGS("<div>",{class:"zgs19_gsSaveCardIconElem"}).append(iconElem),popupElem=_jQueryGS("<div>",{class:"zgs19_gsSaveCardTextElem zgs19_gsOverflow",gstitle:popupElem}).text(popupElem);overlayDialog.append(iconElem).append(popupElem);for(var actionFooter=_jQueryGS("<div>",{class:"zgs19_gsSaveCardFooterActions"}),actionLen=actionArr.length,i=0;i<actionLen;i++){var text=actionArr[i],classes=text.classes,gsattr=text.gsAttr,actionName=text.actionName,actionType=text.actionType,text=text.text;let attributes={class:classes,gs:gsattr};attributes[actionName]=actionType,actionFooter.append(_jQueryGS("<div>",attributes).text(text))}overlayDialog.append(actionFooter);popupElem=_jQueryGS("<div>",{id:"zgs20_gsSavedCardActionPopup",class:"zgs19_gsSavedSearchPopup zgs19_gsSaveSearch",cardType:"0"});popupElem.append(overlayDialog),popupElem.append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:"saveCardActions",cnfrmType:"closeSaveDialog"})));overlayDialog=_jQueryGS("#zgs20_gsOverlayDialog");overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(popupElem)),overlayDialog.css({display:"block"}),_jQueryGS(popupElem).focus(),zgssearch.popupUtils.isPopupOpened=!0},zgssearch.popupUtils.openDeletepopup=function(popupTitle,gsattr,overlayDialog,closeAction){var yesElem=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelCancel",gs:gsattr,cnfrmType:overlayDialog}).text(zgssearch.getI18NMsg("gs.common.yes")),noElem=_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsDelsave",gs:gsattr,cnfrmType:closeAction}).text(zgssearch.getI18NMsg("common.no")),overlayDialog=_jQueryGS("#zgs20_gsOverlayDialog");overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsSavedSearchPopUp",class:"zgs19_gsDeleteConfirmPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsDeleteAccConfirm"}).text(popupTitle)).append(_jQueryGS("<div>",{class:"zgs19_gsDelActions"}).append(yesElem).append(noElem)).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:gsattr,cnfrmType:closeAction}))))),overlayDialog.css({display:"block"}),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=yesElem,zgssearch.popupUtils.popupCancelAction=noElem},zgssearch.popupUtils.openConfirmationPopup=function(header,popupTitle,gsattr,yesElem,leftBtnAction,leftBtnClass,popUpClass,overlayDialog,noElem,closeAction,htmlContentDiv,isMediumSize){leftBtnClass=leftBtnClass||"zgs19_gsConfirmSubtleAction",noElem=noElem||"zgs19_gsConfirmMainAction";yesElem=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew "+leftBtnClass,gs:gsattr,cnfrmType:leftBtnAction}).text(zgssearch.getI18NMsg(yesElem)),noElem=_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew "+noElem,gs:gsattr,cnfrmType:overlayDialog}).text(zgssearch.getI18NMsg(popUpClass)),overlayDialog=_jQueryGS("#zgs20_gsOverlayDialog");htmlContentDiv=htmlContentDiv||"";popUpClass="zgs19_gsConfirmationPopup";isMediumSize&&(popUpClass+=" zgs19_gsConfirmationPopupMedium"),overlayDialog.append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsConfirmationPopUp",class:popUpClass+" zgs19_cloudIntegration"}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{class:"zgs19_gsConfirmMsgHeader"}).text(header))).append(_jQueryGS("<div>",{class:"zgs19_gsConfirmMsg"}).text(popupTitle)).append(htmlContentDiv).append(_jQueryGS("<div>",{class:"zgs19_gsConfirmActions"}).append(yesElem).append(noElem)).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose",gs:gsattr,cnfrmType:closeAction}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer"}))))),overlayDialog.css({display:"block"}),zgssearch.popupUtils.isPopupOpened=!0,zgssearch.popupUtils.popupSaveAction=yesElem,zgssearch.popupUtils.popupCancelAction=noElem,_jQueryGS("#zgs20_gsConfirmationPopUp").focus(),zgssearch.informOverlayStatusToParent&&zgssearch.informOverlayStatusToParent()},zgssearch.popupUtils.closeCnfrmDialogBox=function(){_jQueryGS(".zgs19_gsCnfrmDialogBox").remove(),zgssearch.popupUtils.popupSaveAction="",zgssearch.popupUtils.popupCancelAction="",zgssearch.popupUtils.isPopupOpened=!1},zgssearch.popupUtils.closeOverlayDialog=function(){_jQueryGS("#zgs20_gsOverlayDialog").css("display","none"),zgssearch.informOverlayStatusToParent&&zgssearch.informOverlayStatusToParent()},zgssearch.popupUtils.renderSelectionPopup=function(parentElem,listValues,selectedValue,attributes,openCardType){var i,selectionPopup=_jQueryGS(zgssearch.Utils.createElement("div","zgs20_gsSelectionPopup","zgs19_gsSelectionPopup")),popupValues="";for(i in openCardType||selectionPopup.append(_jQueryGS("<div>",{class:"zgs19_gsCardServiceFilterTitle"}).text(zgssearch.getI18NMsg("gs.search.filter.sortby"))),listValues){var popUpTxt,selectedPart="",selectedClass="zgs19_gsCardOption";selectedValue==(attributes.type=i)&&(selectedPart=_jQueryGS(zgssearch.Utils.createElement("span","","zgs18_TickIcon zgs19_gsCardTypeSelected")),selectedClass+=" zgs19_gsModuleSeleFilterElem"),popupValues=openCardType?zgssearch.gsaddcards.createCardTypePopupElement(i,selectedClass,attributes,selectedPart):(popUpTxt=_jQueryGS(zgssearch.Utils.createElement("span","","zgs19_gsCardOptionTxt zgs19_gsOverflow",attributes)).text(listValues[i]),_jQueryGS(zgssearch.Utils.createElement("div","",selectedClass,attributes)).append(popUpTxt).append(selectedPart)),selectionPopup.append(popupValues)}_jQueryGS(parentElem).append(selectionPopup),zgssearch.popupUtils.isSelectionPopupOpened=!0},zgssearch.popupUtils.closeSelectionPopup=function(){zgssearch.popupUtils.isSelectionPopupOpened=!1,_jQueryGS("#zgs20_gsSelectionPopup").remove();var cardElem=_jQueryGS(".zgs19_gsCardDemo");cardElem.length&&cardElem.find(".zgs19_gsDisplayBlockImp").removeClass("zgs19_gsDisplayBlockImp")},zgssearch.popupUtils.openCautionPopup=function(modifiedMsg,cautionMsg,gsattr,yesMsg,noMsg){var cnfrmBoxElem;0==_jQueryGS("#zgs20_gsCautionPopUp").length&&(cnfrmBoxElem=_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}),_jQueryGS("#zgs20_gsOverlayDialog").append(cnfrmBoxElem).append(cnfrmBoxElem.append(_jQueryGS("<div>",{id:"zgs20_gsCautionPopUp",class:"zgs19_gsCautionPopUp"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautionPopMsgs"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautModMsg"}).text(modifiedMsg)).append(_jQueryGS("<div>",{class:"zgs19_gsCautMsg"}).text(cautionMsg))).append(_jQueryGS("<div>",{class:"zgs19_gsCautCnfrmActElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCautButtons zgs19_gsOverflow zgs19_gssave",gs:gsattr,cnfrmType:"yes"}).text(yesMsg)).append(_jQueryGS("<div>",{class:"zgs19_gsCautButtons zgs19_gsOverflow",gs:gsattr,cnfrmType:"no"}).text(noMsg))).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:gsattr,cnfrmType:"cancel"})))))),zgssearch.popupUtils.isPopupOpened=!0},zgssearch.popupUtils.renderAppMenu=function(featurename,selectedServiceArr,serviceList){var popUpElem=_jQueryGS("#zgs20_"+featurename+"AppFilterPopup");popUpElem.empty();var appsDiv=_jQueryGS("<div>",{class:"zgs19_gsAppsMenu zgs19_gsSSServiceIcon"}),serviceLen=serviceList.length;popUpElem.append(_jQueryGS("<div>",{class:"zgs19_gsCardServiceFilterTitle"}).text(zgssearch.getI18NMsg("common.sugg.filter"))),6<serviceLen&&zgssearch.gsfilters.addSearchQueryBox(popUpElem,"zgs20_gs"+featurename+"SerListQrybox");for(var allFiltersDiv,i=0;i<serviceLen;i++){var eachSerDiv=serviceList[i];(zgssearch.GSConstant.ASANA!==eachSerDiv&&zgssearch.GSConstant.widgetObject.hasOwnProperty("servicesinfo")&&zgssearch.GSConstant.widgetObject.servicesinfo.hasOwnProperty(eachSerDiv)||eachSerDiv===zgssearch.GSConstant.ALL)&&(eachSerDiv=_jQueryGS("<div>",{class:"zgs19_gs"+featurename+"ServiceInfoHolder zgs19_gsServiceInfoHolder",key:eachSerDiv}).append(zgssearch.gsfilters.renderEachAppMenu(eachSerDiv,selectedServiceArr,!0)),appsDiv.append(eachSerDiv))}let otherFiltersDiv,isChecked;featurename==zgssearch.CARD_TYPE&&(isChecked=!1,-1<selectedServiceArr.indexOf(GSConstant.ALL)&&(isChecked=!0),allFiltersDiv=_jQueryGS("<div>",{class:"zgs19_gs"+featurename+"ServiceInfoHolder zgs19_gsServiceInfoHolder",key:"all"}).append(_jQueryGS("<div>",{class:"zgs19_gsEachServiceRow"}).append(zgssearch.renderCheckBox("edit",isChecked,"type","all")).append(_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl zgs19_gsMgTop10Px zgs18_gsAllFiltersIcon"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSerivceTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsWid70Per",gstitle:zgssearch.getI18NMsg("common.all_filters")}).text(zgssearch.getI18NMsg("common.all_filters")))),isChecked=-1<selectedServiceArr.indexOf(zgssearch.otherCardFilters)||-1<selectedServiceArr.indexOf(GSConstant.ALL),otherFiltersDiv=_jQueryGS("<div>",{class:"zgs19_gs"+featurename+"ServiceInfoHolder zgs19_gsServiceInfoHolder",key:zgssearch.otherCardFilters}).append(_jQueryGS("<div>",{class:"zgs19_gsEachServiceRow"}).append(zgssearch.renderCheckBox("edit",isChecked,"type",zgssearch.otherCardFilters)).append(_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl zgs19_gsMgTop10Px zgs18_gsOtherFiltersIcon"})).append(_jQueryGS("<span>",{class:"zgs19_gsNewSerivceTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsWid70Per",gstitle:zgssearch.getI18NMsg("gs.cards.bookmarked_urls")}).text(zgssearch.getI18NMsg("gs.cards.bookmarked_urls")))),appsDiv.prepend(allFiltersDiv),appsDiv.append(otherFiltersDiv)),popUpElem.append(appsDiv),popUpElem.append(zgssearch.popupUtils.getMultiSelectActions(selectedServiceArr)),popUpElem.css("display","block"),zgssearch.gscards.checkAndAppendNoResultsFound()},zgssearch.popupUtils.getMultiSelectActions=function(hideResetClass){hideResetClass=hideResetClass[0]===GSConstant.ALL?"zgs19_gsHideEleme":"";return _jQueryGS("<div>",{id:"zgs20_gsEditFiltersFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(_jQueryGS("<div>",{class:"zgs19_resetServiceFilters zgs19_gsMultiServiceFilterActions zgs19_gsLogoText "+hideResetClass,actionType:"resetFilters"}).text(zgssearch.getI18NMsg("common.reset"))).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1  zgs19_gsMultiServiceFilterActions zgs19_gsOverflow zgs19_gsHideEleme zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",value:zgssearch.getI18NMsg("gs.search.filter.apply"),actionType:"applyFilterFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsMultiServiceFilterActions zgs19_gsOverflow zgs19_gsContentBox zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:zgssearch.getI18NMsg("common.cancel"),value:zgssearch.getI18NMsg("common.cancel"),actionType:"closeFilterFields"}))},function(zgssearch,window){var gscontactresults,_jQueryGS=window._jQueryGS;zgssearch.gscontactresults=(gscontactresults=void 0,(gscontactresults=zgssearch.gscontactresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,results_width,filterDisplay){if(service_name===zgssearch.GSConstant.PEOPLE)return resObj.href=href,gscontactresults.renderPeopleTemplate(resObj,results_width,filterDisplay);img_element=(img_element=(img_element=resObj.empFname||"")+" "+resObj.empLname||"").trim();var val=resObj.cpt||"",opPh=resObj.phone||"",sname=resObj.zuid||"",opEmail=resObj.email||resObj.emid||resObj.mailid||"",opMob=resObj.mobile||resObj.cntn||"",img_element=resObj.full_name||resObj.cnt||img_element||"",serviceNameObj=resObj.deptname||"",searchInsType=resObj.deptid||"",opExtn=resObj.extn||resObj.cnextn||"";"8"===val&&(opExtn=resObj.avayaextn||"-",opEmail=resObj.deptmail||"-");var len,opPh=opPh&&""!=opPh&&"NULL"!=opPh?opPh:"",opMob=opMob&&""!=opMob&&"NULL"!=opMob?opMob:"",results_width=results_width||_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-100,conObj=zgssearch.getPeopleUserDetails(results_width,opEmail,opMob,opPh,opExtn,serviceNameObj,searchInsType,resObj),serviceNameObj="",width=0,searchInsType=filterDisplay.hasOwnProperty("type")?filterDisplay.type:"Search",filterDisplay=!filterDisplay.hasOwnProperty("filters")||filterDisplay.filters;if("5"===val?(serviceNameObj=zgssearch.getConnectorFilterMod(resObj,acc_id,conObj,filterDisplay),len=_jQueryGS(serviceNameObj).filter(".zgs19_gsContactNumber").find(".zgs19_gsResIntxt2").text().length+1,width+=len+=_jQueryGS(serviceNameObj).filter(".zgs19_gsContactNumber").find("#zgs20_moduleName").text().length):"8"===val?img_element=resObj.dept||"":serviceNameObj=conObj.cell3,service_name===zgssearch.GSConstant.ORGRESOURCES){for(var cell in conObj)conObj.hasOwnProperty(cell)&&conObj[cell]&&(width+=gscontactresults.getWidthOfElement(conObj[cell]));for(var cell in conObj)conObj.hasOwnProperty(cell)&&conObj[cell]&&gscontactresults.setMaxWidthOfElement(conObj[cell],width);serviceNameObj&&(resultTit=Math.ceil(len/width*95),_jQueryGS(serviceNameObj).filter(".zgs19_gsContactNumber").css("maxWidth",resultTit+"%"))}var resultTit=zgssearch.getUserStatus(sname),sname=resultTit.name||"",resultTit="",resultTit=(href?_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:img_element,istip:!0}):_jQueryGS("<span>",{gs:"resultTitle",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:img_element,istip:!0})).text(img_element),img_element="",img_element="8"===val?_jQueryGS("<span>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto"}):_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"});return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(img_element))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid95Per zgs19_gsOverflow"}).append(resultTit)).append(conObj.cell4).append(conObj.cell1).append(conObj.cell2).append(serviceNameObj))},gscontactresults.getPeopleTemplate=function(templateId,searchInsType){var name_elem,email_elem,phone_elem,people_info,photo_elem,people_template=document.querySelector("#"+templateId);return null==people_template&&(name_elem=_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid95Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{id:"people_name_div",href:"",target:"_blank",rel:"noopener noreferrer",gs:"resultTitle",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:""})),email_elem=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow zgs19_gsWid97Per"}).append(_jQueryGS("<span>",{id:"people_email_div",istip:"true",gslabel:"Email",gstitle:""})),phone_elem=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsfl zgs19_gsContactMobileImg"})).append(_jQueryGS("<span>",{id:"zgs20_peoplePhoneDiv",istip:"true",gslabel:zgssearch.getI18NMsg("common.mobile"),gstitle:""})),people_info=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_peopleExtnDiv",istip:"true",gslabel:zgssearch.getI18NMsg("gs.search.service_people.extn"),gstitle:""})),photo_elem=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl",gs:"gsFilterIcon"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_peopleDeptDiv",class:"",istip:"true",gslabel:"",gstitle:"",gs:"",fid:"",gsfilter:"",fname:""})),people_info=_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(name_elem).append(email_elem).append(phone_elem).append(people_info).append(photo_elem),photo_elem=_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",id:"people_status_field"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})),people_template=_jQueryGS("<template>",{id:templateId}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(photo_elem)).append(people_info)),_jQueryGS("#zgs20_globalsearch").append(people_template),people_template=document.querySelector("#"+templateId)),people_template},gscontactresults.renderPeopleTemplate=function(result_info,totalResWidth,filterDisplay){var templateId=filterDisplay.hasOwnProperty("templateId")?filterDisplay.templateId:"people_info_template",template_content=filterDisplay.hasOwnProperty("type")?filterDisplay.type:"Search",filterDisplay=!filterDisplay.hasOwnProperty("filters")||filterDisplay.filters,template_content=gscontactresults.getPeopleTemplate(templateId,template_content).querySelector(".zgs19_gs"+template_content+"ResultRow"),template_content=_jQueryGS(document.importNode(template_content,!0));return gscontactresults.getPeopleTemplate.constructNameElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructEmailElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructPhoneElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructEXTNElem(template_content,result_info),gscontactresults.getPeopleTemplate.constructDeptElem(template_content,result_info,filterDisplay),gscontactresults.getPeopleTemplate.getUserStatus(template_content,result_info),gscontactresults.getPeopleTemplate.setElementsWidth(template_content,result_info,totalResWidth),template_content},gscontactresults.getPeopleTemplate.setValue=function(template_content,elem,field_value){elem=_jQueryGS(template_content).find("#"+elem);elem.attr("gstitle",field_value),elem.text(field_value)},gscontactresults.getPeopleTemplate.constructNameElem=function(template_content,result_info){var field_name=result_info.empFname||"",elem=result_info.empLname||"";""!==elem&&(field_name=field_name+" "+elem);field_name=(field_name=result_info.full_name||result_info.cnt||field_name||"").trim(),elem=_jQueryGS(template_content).find("#people_name_div");elem.attr("gstitle",field_name),elem.attr("href",result_info.href),elem.text(field_name),gscontactresults.getPeopleTemplate.setValue(template_content,"people_name_div",field_name)},gscontactresults.getPeopleTemplate.constructEmailElem=function(template_content,field_email){field_email=field_email.email||field_email.emid||field_email.mailid||"";gscontactresults.getPeopleTemplate.setValue(template_content,"people_email_div",field_email)},gscontactresults.getPeopleTemplate.getPhoneNumber=function(result_info){return result_info.mobile||result_info.cntn||""},gscontactresults.getPeopleTemplate.constructPhoneElem=function(template_content,field_mobile){field_mobile=gscontactresults.getPeopleTemplate.getPhoneNumber(field_mobile);gscontactresults.getPeopleTemplate.setValue(template_content,"zgs20_peoplePhoneDiv",field_mobile)},gscontactresults.getPeopleTemplate.getEXTNNumber=function(field_phone){var field_extn=field_phone.extn||field_phone.cnextn||"";return field_extn=""===(field_extn=field_extn&&""!==field_extn&&"NULL"!==field_extn?field_extn:"")?(field_phone=field_phone.phone||"")&&""!==field_phone&&"NULL"!==field_phone?field_phone:"":field_extn},gscontactresults.getPeopleTemplate.constructEXTNElem=function(template_content,field_extn){field_extn=gscontactresults.getPeopleTemplate.getEXTNNumber(field_extn);gscontactresults.getPeopleTemplate.setValue(template_content,"zgs20_peopleExtnDiv",field_extn)},gscontactresults.getPeopleTemplate.constructDeptElem=function(isMultiDept,searchType,filterDisplay){var dept_name=searchType.deptname||"",dept_name_temp=""===dept_name?zgssearch.getI18NMsg("common.not_available"):dept_name,dept_id=searchType.deptid||"",dept_span_elem=_jQueryGS(isMultiDept).find("#zgs20_peopleDeptDiv"),searchType=zgssearch.getSearchType(),isMultiDept=zgssearch.isMultiSelectResults(zgssearch.GSConstant.PEOPLE,"departments","0");filterDisplay&&(searchType===zgssearch.GSConstant.ALL||isMultiDept&&searchType===zgssearch.GSConstant.PEOPLE)?(""!==dept_name&&dept_span_elem.attr("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_department")),dept_span_elem.attr("gstitle",dept_name_temp),dept_span_elem.attr("gs","peopleResDepartment"),dept_span_elem.attr("fId",dept_id),dept_span_elem.attr("gsfilter","deptName"),dept_span_elem.attr("fName",dept_name_temp),dept_span_elem.attr("class","zgs19_gsDeptFilter zgs19_hvr_underline")):(""!==dept_name&&dept_span_elem.attr("gslabel",zgssearch.getI18NMsg("gs.search.result.support.department")),dept_span_elem.attr("class","zgs19_gsDeptFilter"),dept_span_elem.attr("gstitle",dept_name_temp)),dept_span_elem.text(dept_name_temp)},gscontactresults.getPeopleTemplate.getUserStatus=function(template_content,status_class_name){status_class_name=status_class_name.zuid||"";""!==status_class_name&&(status_class_name=zgssearch.getUserStatus(status_class_name).name||"",_jQueryGS(template_content).find("#people_status_field").attr("class","zgs19_gsUniIconHolder "+status_class_name))},gscontactresults.getPeopleTemplate.setElementsWidth=function(extn_number_length,dept_name_temp_length,totalResWidth){var phone_div_elem_parent=_jQueryGS(extn_number_length).find("#zgs20_peoplePhoneDiv").parent(),extn_div_elem_parent=_jQueryGS(extn_number_length).find("#zgs20_peopleExtnDiv").parent(),dept_span_elem_parent=_jQueryGS(extn_number_length).find("#zgs20_peopleDeptDiv").parent(),phone_number_length=gscontactresults.getPeopleTemplate.getPhoneNumber(dept_name_temp_length),extn_number_length=gscontactresults.getPeopleTemplate.getEXTNNumber(dept_name_temp_length),dept_name_temp_length=dept_name_temp_length.deptname||"",phone_number_length=phone_number_length.length,extn_number_length=extn_number_length.length,dept_name_temp_length=dept_name_temp_length.length;phone_number_length<=0?phone_div_elem_parent.css("display","none"):phone_div_elem_parent.css("max-width","120px"),extn_number_length<=0?extn_div_elem_parent.css("display","none"):(extn_div_elem_parent.css("max-width","65px"),0<phone_number_length&&extn_div_elem_parent.css("margin-inline-start","12px")),dept_name_temp_length<=0?dept_span_elem_parent.css("display","none"):(dept_span_elem_parent.css("max-width",(0<phone_number_length?185<totalResWidth?totalResWidth-185:totalResWidth:65<totalResWidth?totalResWidth-65:totalResWidth)+"px"),(0<extn_number_length||0<phone_number_length)&&dept_span_elem_parent.css("margin-inline-start","12px"))},gscontactresults.getPeopleTemplate.constructPeopleURL=function(result_info){return zgssearch.GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(result_info.pkid||"")},gscontactresults.getWidthOfElement=function(conObj){return _jQueryGS(conObj).filter(".zgs19_gsContactNumber").find(".contactDetail").text().length},gscontactresults.setMaxWidthOfElement=function(cell,wid){var cellLength=gscontactresults.getWidthOfElement(cell),wid=Math.ceil(cellLength/wid*95);_jQueryGS(cell).filter(".zgs19_gsContactNumber").css("maxWidth",wid+"%")},gscontactresults)}(zgssearch,window),function(zgssearch,gsconnectorresults){var _jQueryGS=gsconnectorresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnectorresults=(gsconnectorresults=void 0,(gsconnectorresults=zgssearch.gsconnectorresults||{}).getHtmlTemplate=function(resObj,acc_id,href,moduleName,wTitle,icon_text,isMultiModule,moduleElem){if("5"==resObj.cpt||"8"==resObj.cpt)return zgssearch.gscontactresults.getHtmlTemplate(resObj,acc_id,href,moduleName,wTitle,icon_text,isMultiModule,moduleElem);var Summary="",searchInsType=(moduleElem=moduleElem||{}).hasOwnProperty("type")?moduleElem.type:"Search",filterDisplay=!moduleElem.hasOwnProperty("filters")||moduleElem.filters,Summary="3"==resObj.cpt?resObj.hasOwnProperty("desc")&&resObj.desc&&""!==resObj.desc?resObj.desc:resObj.url||"":resObj.summ||resObj.desc||"",cls=resObj.title||zgssearch.getURLWithoutProtocol(href)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),moduleId=resObj.cid||"",moduleName=resObj.cn||"",wTitle=zgssearch.replaceHTMLEntity(cls),icon_text="",isMultiModule=zgssearch.isMultiSelectResults(GSConstant.ORGRESOURCES,"modules","0"),moduleElem=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),cls="",cls=filterDisplay&&isMultiModule?_jQueryGS("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<div>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid95Per",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:moduleName,istip:!0,gs:"gsconnService",key:moduleId,acc_id:acc_id,fkey:"serviceType"}).text(moduleName)))):_jQueryGS("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault zgs19_gsMxWid95Per",gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:moduleName,istip:!0}).text(moduleName))),moduleElem=_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsResultFacet zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl",gstitle:moduleElem}).text(moduleElem)).append(cls),cls="";return"3"==resObj.cpt?cls="zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon":"0"==resObj.cpt?(moduleElem="",cls="zgs19_gsResultsUniIcons zgs19_gsConnectorWelIcon"):(cls="zgs19_creatorCircleText zgs19_gsfl",icon_text=zgssearch.getCapitalizedLtr(moduleName)),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:cls,text:icon_text,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:wTitle,istip:!0}).text(wTitle))).append(_jQueryGS("<div>",{class:"zgs19_gsResultSummary"}).html(Summary)).append(moduleElem))},gsconnectorresults)}(zgssearch,window),function(zgssearch,gschatresults){var _jQueryGS=gschatresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gschatresults=(gschatresults=void 0,(gschatresults=zgssearch.gschatresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i){var sname,callOutPhotoURL="",staObj="",isChatGroupIcon=!1,cZuid=GSConstant.cuz||"",oZuid=resObj.ownerid||"",cDate=resObj.display_time||"",cName=resObj.display_name||"",cTitle=zgssearch.replaceHTMLEntity(resObj.title)||"",cName=cZuid==oZuid?zgssearch.getI18NMsg("common.me"):cName,chatGroupId="",rParticipants={},totalParticipants=0,recentParticipantsCount=0,group_icon="zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl";if(resObj.hasOwnProperty("participants_count")&&(totalParticipants=parseInt(resObj.participants_count)),resObj.hasOwnProperty("recent_participants")&&(rParticipants=zgssearch.jsonParse(resObj.recent_participants),recentParticipantsCount=Object.keys(rParticipants).length),(chatGroupId=resObj.hasOwnProperty("group_id")?resObj.group_id:chatGroupId)&&"-1"!==chatGroupId&&"null"!==chatGroupId)isChatGroupIcon=!0,GSConstant.GS_CONTACTS_URL,zgssearch.nps,callOutPhotoURL=GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&t=group&ID="+chatGroupId+"&width=38&height=38"+zgssearch.nps;else if(2<totalParticipants||2===recentParticipantsCount&&!rParticipants.hasOwnProperty(cZuid))isChatGroupIcon=!0,group_icon="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon";else if(0<recentParticipantsCount)for(var partZuid in recentParticipantsCount<=2&&rParticipants.hasOwnProperty(cZuid)&&delete rParticipants[cZuid],rParticipants)staObj=zgssearch.getUserStatus(partZuid),zgssearch.getStampPhotoURL(partZuid),callOutPhotoURL=zgssearch.getThumbPhotoURL(partZuid);else"-1"!==oZuid&&(staObj=zgssearch.getUserStatus(oZuid),zgssearch.getStampPhotoURL(oZuid),callOutPhotoURL=zgssearch.getThumbPhotoURL(oZuid));return sname=staObj.name||"",_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:group_icon,gs:"gsUserPhoto",group:isChatGroupIcon,src:zgssearch.gsspacer,calloutphoto:callOutPhotoURL})))).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:cDate}).text(cDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"resultTitle",istip:!0,gstitle:cTitle}).text(cTitle))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:cName}).text(cName))))},gschatresults)}(zgssearch,window),function(zgssearch,window){var gscliqresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscliqresults=(gscliqresults=void 0,(gscliqresults=zgssearch.gscliqresults||{}).getHtmlTemplate=function(footerData,acc_id,href,id,service_name,i,totalResWidth,iconTitle){var fMsgInfo="",isChatGroupIcon=!1,group_icon="",searchType=zgssearch.getSearchType(),group_id=footerData.cid||"",isMutliModule=footerData.ctt||"",column2_perc=footerData.sid||"",message=footerData.msg||"",fname=footerData.fn||"",disp_sender_name=footerData.fc||"",sender_name=footerData.sn||"",channeltype=footerData.clt||"",display_time=footerData.dT||"",pcount=zgssearch.chidVsMeta||{},filterDisplay=pcount.hasOwnProperty(group_id)?pcount[group_id]:{},searchInsType=filterDisplay.title||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),titleName=footerData.title=zgssearch.replaceHTMLEntity(searchInsType)||"",pcount=filterDisplay.pcount||"",group_id=filterDisplay.groupid||"",footerData=filterDisplay.owner||"",searchInsType=(iconTitle=iconTitle||{}).hasOwnProperty("type")?iconTitle.type:"Search",filterDisplay=!iconTitle.hasOwnProperty("filters")||iconTitle.filters,iconTitle="";2<pcount||group_id||channeltype||"8"==isMutliModule||"9"==isMutliModule?(isChatGroupIcon=!0,iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.groupchat"),group_icon="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon","8"==isMutliModule?"1"==channeltype?(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.orgchannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqOCI"):"2"==channeltype?(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.teamchannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqTCI"):"3"==channeltype?(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.perschannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqPCI"):"4"==channeltype&&(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.extchannel"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqECI"):"9"==isMutliModule&&(iconTitle=zgssearch.getI18NMsg("gs.search.filter.cliq.bot"),group_icon="zgs19_gsResultsUniIcons zgs19_gsCliqBCI")):footerData&&"-1"!==footerData&&(fMsgInfo=zgssearch.getUserStatus(footerData));var sender_name_length,sname=fMsgInfo.name||"",footerData=_jQueryGS("<div>",{class:"zgs19_gsCliqResultAuthor zgs19_gsOverflow zgs19_gsWid100Per"});message||fname||disp_sender_name?(fMsgInfo="",message?fMsgInfo=zgssearch.replaceHTMLEntity(message):(fname&&(fMsgInfo=zgssearch.replaceHTMLEntity(fname)),disp_sender_name&&(disp_sender_name=zgssearch.replaceHTMLEntity(disp_sender_name),fMsgInfo=fMsgInfo?fMsgInfo+", "+disp_sender_name:disp_sender_name)),sender_name?(GSConstant.cuz==column2_perc?sender_name=zgssearch.getI18NMsg("gs.search.filter.cliq.you"):(sender_name_length=zgssearch.gsusercontacts.getUserContacts()).hasOwnProperty(column2_perc)&&(sender_name=sender_name_length[column2_perc].DNAME),sender_name_length=(disp_sender_name=sender_name+":").length,column2_perc=(40<fMsgInfo.length?fMsgInfo.substr(0,39):fMsgInfo).length,column2_perc=Math.ceil(column2_perc/(sender_name_length+column2_perc)*75),footerData.append(_jQueryGS("<span>",{class:"zgs19_gsCqFo1 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:zgssearch.getI18NMsg("gs.search.result.mail.resultfooter.sender"),gstitle:sender_name}).text(disp_sender_name)).append(_jQueryGS("<span>",{class:"zgs19_gsCqFo2 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:sender_name,gstitle:fMsgInfo,style:"max-width:"+column2_perc+"%"}).text(fMsgInfo))):fMsgInfo&&footerData.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsWid100Per",istip:!0,gslabel:zgssearch.getI18NMsg("common.message"),gstitle:fMsgInfo}).text(fMsgInfo))):2<pcount||"8"==isMutliModule?(modulesDiv=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),footerData.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",istip:!0,gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"),gstitle:pcount}).text(modulesDiv))):(cliqModInfo=zgssearch.getI18NMsg("9"==isMutliModule?"gs.search.filter.cliq.viabot":"gs.search.filter.cliq.withme"),footerData.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl",istip:!0,gstitle:cliqModInfo}).text(cliqModInfo)));var modulesDiv="",cliqModInfo=gscliqresults.getCliqResModInfo(isMutliModule),isMutliModule=zgssearch.isMultiSelectResults(GSConstant.CLIQ,"modules","0"),modulesDiv=filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||isMutliModule)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:cliqModInfo.name,gs:"cliqModules",fId:cliqModInfo.id}).text(cliqModInfo.name)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:cliqModInfo.name}).text(cliqModInfo.name));return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:group_icon,gs:"gsUserPhoto",group:isChatGroupIcon,src:zgssearch.gsspacer,gstitle:iconTitle,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:display_time}).text(display_time))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:titleName,istip:!0}).text(titleName))).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv)).append(footerData))},gscliqresults.getCliqResModInfo=function(ctype){var modules={name:"",id:""},data=zgssearch.getFilterInfo(GSConstant.CLIQ,"modules","data");switch(ctype){case"1":case"8":case"9":data&&data.hasOwnProperty(ctype)&&(modules={name:data[ctype],id:ctype})}return modules},gscliqresults)}(zgssearch,window),function(zgssearch,window){var gsconnectresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnects={},zgssearch.gsconnects.accounts="accounts",zgssearch.gsconnects.modules="modules",zgssearch.gsconnectresults=(gsconnectresults=void 0,(gsconnectresults=zgssearch.gsconnectresults||{}).RESULTS_WIDTH={},gsconnectresults.filterCallStack=[],gsconnectresults.removeFilterStack=function(index){index=gsconnectresults.filterCallStack.indexOf(index);-1<index&&gsconnectresults.filterCallStack.splice(index,1)},gsconnectresults.getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curResultObj){try{var searchInsType=curResultObj.hasOwnProperty("type")?curResultObj.type:"Search",filterDisplay=!curResultObj.hasOwnProperty("filters")||curResultObj.filters,searchType=zgssearch.getSearchType(),pZuid=resObj.zuid||"",ptype=resObj.type||"",pTime=resObj.time||"",pAuthor=resObj.author||"",cTitle=resObj.hasOwnProperty("title")?resObj.title.trim():"",pTitle=zgssearch.replaceHTMLEntity(cTitle)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),cAttachIcon="";"true"==resObj.hasAttach&&(cAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));var categ,categArr,plusEntry,categArrLen,categObj,bgColor,categName,categId,currCategDispname,categCls,cursorCls,parSpan="",parInDiv="",taskSpan="",taskInDiv="",apostrophe="",wallTxt="",tooltip="",cmData=(cmData=zgssearch.getFilterInfo(service_name,"modules","data")).hasOwnProperty(acc_id)?cmData[acc_id]:{},modName=resObj.m||"",modDispName=cmData[modName]||"",categDiv="",showTaskLayerCls="zgs19_gsDisplayNone",ptypeAttr=zgssearch.getPosttypeCls(ptype),ptypeCls=ptypeAttr.class,parDiv=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gs:"gsFilterIcon"}),postTypeEle=ptypeCls?_jQueryGS("<span>",{class:"zgs19_gsBlogCategory zgs19_gsOverflow "+ptypeCls,gslabel:zgssearch.getI18NMsg("common.posttype"),gstitle:ptypeAttr.title,istip:!0}):"",currModule=zgssearch.getFilterInfo(service_name,"modules","current");switch(modName){case"townhall":var tparspan=zgssearch.getConnectPartitionElem(resObj,"zgs19_gsConnResApost"),authorName=_jQueryGS(tparspan[0])[0],apostrophe=_jQueryGS(tparspan[1])[0],wallTxt=_jQueryGS(tparspan[2])[0];tooltip=tparspan[3],parInDiv=_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0)),parSpan=_jQueryGS("<div>",{class:"zgs19_gsConnectContextFil zgs19_gsfl zgs19_gsOverflow",gstitle:tooltip}).append(authorName);break;case"feeds":var groupNameFilEle,tooltip=(tparspan=zgssearch.getConnectPartitionElem(resObj,"zgs19_gsConnResApost"))[3],cGroupId=zgssearch.getFilterInfo(service_name,"group","current"),parInDiv=_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0));parSpan=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gstitle:tooltip}).text(tooltip),parSpan=!filterDisplay||!tooltip||""!=cGroupId&&"0"!=cGroupId||"0"!==currModule&&currModule!==modName||!resObj.hasOwnProperty("pnameId")?_jQueryGS("<div>",{class:"zgs19_gsConnectContextFil zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:tooltip,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per"}).text(tooltip)):(groupNameFilEle=_jQueryGS("<span>",{gstitle:tooltip,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per"}).text(tooltip),_jQueryGS("<div>",{class:"zgs19_gsConnectContextFil zgs19_gsfl zgs19_gsOverflow"}).append(groupNameFilEle));break;case"forums":resObj.hasOwnProperty("categ")&&(categArr=(categ=resObj.categ)?zgssearch.jsonParse(categ):"",plusEntry="",categArrLen=categArr.length,bgColor=(categObj=categArr[0]).bgColor||"",categName=categObj.name||"",categName=zgssearch.replaceHTMLEntity(categName),categId=categObj.id||"",zgssearch.getFilterInfo(service_name,"categories","current"),currCategDispname=zgssearch.replaceHTMLEntity(zgssearch.getFilterInfo(service_name,"categories","dispname")),categCls="",cursorCls=" zgs19_gsCurDefault",1<categArrLen&&(categCls="zgs19_gsMxWid68Per zgs19_gsForumCategoryWid",categArr=categArr.slice(1,categArrLen),plusEntry=_jQueryGS("<a>",{class:"zgs19_gsMoreCategory zgs19_gsOverflow zgs19_gsfl zgs19_gsCurPointer",gstitle:zgssearch.getI18NMsg("gs.search.service_connect.viewmorecateg"),gs:"showMoreBlogCategory",canAppendGsAttr:!1,cId:categId,acc_id:acc_id,categArr:categ,childId:"zgs20_gsBlogCategoryResList"}).text(" +"+(categArrLen-1))),categName!==currCategDispname&&(cursorCls=" zgs19_gsCurPointer"),categDiv=(filterDisplay?_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsCCategoryOuter zgs19_gsOverflow ",gs:"categories"}).append(_jQueryGS("<div>",{class:"zgs19_gsForumCategory zgs19_gsOverflow zgs19_gsfl "+categCls+cursorCls,style:"color:#"+bgColor,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_category"),gstitle:categName,istip:!0,gsmodule:modName,gs:"",cId:categId,acc_id:acc_id}).text(categName)):_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsCCategoryOuter zgs19_gsOverflow ",gs:"categories"}).append(_jQueryGS("<div>",{class:"zgs19_gsForumCategory zgs19_gsOverflow zgs19_gsfl "+categCls+cursorCls,style:"color:#"+bgColor,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_category"),gstitle:categName,istip:!0,gsmodule:modName,cId:categId,acc_id:acc_id}).text(categName))).append(plusEntry));break;case"tasks":var statusTxt,status,showTaskLayerCls="",section=resObj.hasOwnProperty("sName")?resObj.sName:"",arrow=""!=section?_jQueryGS("<span>",{class:"zgs19_gsPdngLR4Px zgs19_gsOverflow zgs19_gsfl"}).text(" > "):"",ptName=resObj.hasOwnProperty("ptName")?resObj.ptName+" ":"";resObj.hasOwnProperty("st")&&(statusTxt=zgssearch.getI18NMsg("common.status")+": ",status=resObj.st,categDiv=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsCCategoryOuter zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCStatusLabel zgs19_gsOverflow zgs19_gsfr"}).text(statusTxt)).append(_jQueryGS("<span>",{class:"zgs19_gscStatus zgs19_gsOverflow zgs19_gsfl",gstitle:status}).text(status))),taskInDiv=section||ptName?_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0)):"",taskSpan=_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsMxWid200Px zgs19_gsOverflow zgs19_gsfl",gslabel:zgssearch.getI18NMsg("common.board"),gstitle:ptName}).text(ptName)).append(arrow).append(_jQueryGS("<span>",{class:"zgs19_gsMxWid110Px zgs19_gsOverflow zgs19_gsfl",gslabel:zgssearch.getI18NMsg("common.section"),gstitle:section}).text(section))}switch(modName){case"forums":case"townhall":var curl=resObj.url||"",curlindex=curl.indexOf("?isNative=true");-1<curlindex&&(resObj.url=curl.substr(0,curlindex))}var modulesDiv="",isMultiModule=zgssearch.isMultiSelectResults(service_name,"modules","0");filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||isMultiModule)?modulesDiv=_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter1",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:modDispName,gs:"connectModules",gsmodule:modName,key:modName,acc_id:acc_id}).text(modDispName)):"Search"!==searchInsType&&(modulesDiv=_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter1 zgs19_gsCurDefault",gstitle:modDispName}).text(modDispName)));var staObj=zgssearch.getUserStatus(pZuid),sname=staObj.name||"";parDiv.append(parInDiv).append(parSpan);var resTitleCls=""!==postTypeEle?"zgs19_gsMxWid70Per":"zgs19_gsMxWid75Per",resDiv=_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder "+sname}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsUserPhoto",gs:"gsUserPhoto",src:zgssearch.gsspacer,gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter.sorttime"),gstitle:pTime}).text(pTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsfl zgs19_gsOverflow "+resTitleCls}).append(cAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:pTitle}).text(pTitle))).append(postTypeEle)).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:pAuthor,istip:!0}).text(pAuthor))).append(parDiv).append(apostrophe).append(wallTxt).append(categDiv).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectTaskFooterTxt "+showTaskLayerCls}).append(taskInDiv).append(taskSpan).append(_jQueryGS("<div>",{class:"zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}))))}catch(ex){zgssearch.throwClientError("Error while rendering connect search results. in getHtmlTemplate, servicename :"+service_name+" Ex:",ex)}return resDiv},gsconnectresults.setConnectResDivElemsWidth=function(resDiv,dummyResDiv,finalFooterElemsWidth){dummyResDiv=_jQueryGS("<div>",{id:"zgs20_dummy"+dummyResDiv+"Res",class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(resDiv);_jQueryGS("#"+finalFooterElemsWidth).append(dummyResDiv);var finalFooterElemsWidth=_jQueryGS(dummyResDiv).find(".zgs19_gsWid100Per")[1],footerElems=_jQueryGS(finalFooterElemsWidth).children(),footerElemsWidth=_jQueryGS(finalFooterElemsWidth).width(),finalFooterElemsWidth=footerElemsWidth;_jQueryGS(footerElems).each(function(footerEle){footerEle=footerElems[footerEle];footerElemsWidth=_jQueryGS(footerEle).hasClass("zgs19_gsContactEmail")?footerElemsWidth:footerElemsWidth-_jQueryGS(footerEle).outerWidth(!0)});var emailFields=_jQueryGS(dummyResDiv).find(".zgs19_gsContactEmail"),balanceWidth=(balanceWidth=footerElemsWidth/emailFields.length)/finalFooterElemsWidth*100;balanceWidth|=0;for(var i=0;i<emailFields.length;i++)_jQueryGS(emailFields[i]).css("max-width",balanceWidth+"%");return resDiv},gsconnectresults.resetResultsWidth=function(offset,account_id){var service_results_width_info;offset<=1&&(void 0!==account_id&&void 0!==(service_results_width_info=gsconnectresults.RESULTS_WIDTH[zgssearch.GSConstant.CONNECT])?delete service_results_width_info[account_id]:gsconnectresults.setResultsWidthInfo(zgssearch.GSConstant.CONNECT,null,{}))},gsconnectresults.setResultsWidthInfo=function(service_name,account_id,service_info){null!=account_id?gsconnectresults.RESULTS_WIDTH[service_name][account_id]=service_info:gsconnectresults.RESULTS_WIDTH[service_name]=service_info},gsconnectresults.getResultsWidthInfo=function(service_name,account_id){return void 0!==account_id?gsconnectresults.RESULTS_WIDTH[service_name]&&gsconnectresults.RESULTS_WIDTH[service_name][account_id]||{}:gsconnectresults.RESULTS_WIDTH[service_name]||{}},gsconnectresults)}(zgssearch,window),function(zgssearch,window){var gscreatorresults,_jQueryGS=window._jQueryGS;zgssearch.gscreatorresults=(gscreatorresults=void 0,(gscreatorresults=zgssearch.gscreatorresults||{}).getHtmlTemplate=function(cutomIcon,acc_id,href,id,service_name,i,totalResWidth,icon_text){var searchInsType=icon_text.hasOwnProperty("type")?icon_text.type:"Search",author=cutomIcon.auth||"",viewName=cutomIcon.aN||"",dTime=cutomIcon.time||"",outerCls=cutomIcon.cg||"",serviceImgAttr=gscreatorresults.getCreatorResTT(outerCls),icon_text=zgssearch.getAcronym(viewName),cutomIcon=""!==serviceImgAttr.customtitle?_jQueryGS("<div>",{class:serviceImgAttr.customimage,gstitle:serviceImgAttr.customtitle}):"",outerCls=""!==cutomIcon?"zgs19_gsMxWid65Per":"zgs19_gsWid75Per";return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_creatorCircleText zgs19_gsfl",text:icon_text,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.creator.createdDate"),gstitle:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle  zgs19_gsOverflow zgs19_gsfl "+outerCls}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,gslabel:zgssearch.getI18NMsg("gs.search.result.creator.applicationName"),gstitle:viewName,target:"_blank",rel:"noopener noreferrer"}).text(viewName))).append(cutomIcon).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid70Per",gslabel:zgssearch.getI18NMsg("gs.search.result.creator.ownerName"),gstitle:author}).text(author)).append(_jQueryGS("<span>",{class:"zgs19_gsfl "+serviceImgAttr.image,gstitle:serviceImgAttr.title}))))},gscreatorresults.getCreatorResTT=function(type){var creatorImgObj={image:"",title:"",customimage:"",customtitle:""};switch(type){case"2":creatorImgObj.image="zgs18_sharedApp",creatorImgObj.title=zgssearch.getI18NMsg("common.shared_with_me");break;case"3":creatorImgObj.image="zgs18_sharedToGrp",creatorImgObj.title=zgssearch.getI18NMsg("gs.search.result.creator.shared_to_group_apps");break;case"4":creatorImgObj.customimage="zgs18_sharedToOrgGrp",creatorImgObj.customtitle=zgssearch.getI18NMsg("gs.search.result.creator.custom_apps")}return creatorImgObj},gscreatorresults)}(zgssearch,window),function(zgssearch,window){var gscrmresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscrmresults=(gscrmresults=void 0,(gscrmresults=zgssearch.gscrmresults||{}).accountDetails=gscrmresults.accountDetails||{},gscrmresults.getCRMOrganizationId=function(){return gscrmresults.accountDetails.account_id},gscrmresults.getCRMOrganizationDomainName=function(){return gscrmresults.accountDetails.domain_name},gscrmresults.getHtmlTemplate=function(resObj,resultCellObj,href,id,isCustMod,i,totalResWidth,filterDisplay){var module=resObj.mod,searchInsType=zgssearch.getFilterInfo(isCustMod,"modules","data"),crmImgObj=(searchInsType="object"==typeof searchInsType&&searchInsType[resultCellObj]?searchInsType[resultCellObj]:searchInsType)[module]||"",searchInsType=filterDisplay.hasOwnProperty("type")?filterDisplay.type:"Search",filterDisplay=!filterDisplay.hasOwnProperty("filters")||filterDisplay.filters,isCustMod=gscrmresults.generateCRMSearchResults(resObj,id,href,searchInsType,filterDisplay,isCustMod,resultCellObj);_jQueryGS("#zgs20_dummyCRMRes").remove();resultCellObj=isCustMod.resultCell,isCustMod=isCustMod.customModule,crmImgObj=gscrmresults.getCRMModuleTT(module,isCustMod,crmImgObj);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(crmImgObj))).append(resultCellObj)},gscrmresults.getHeaderFooterElemsWidth=function(resultCell,headerSecondField,footerFirstField,headerFirstFieldTxtWidth,footerFirstFieldTxtWidth){var footerSecondField=gscrmresults.getCRMModuleTT(headerSecondField,footerFirstField,""),headerSecondFieldTxtWidth=_jQueryGS("<div>",{id:footerFirstFieldTxtWidth,class:"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(footerSecondField))).append(resultCell));_jQueryGS("#"+headerFirstFieldTxtWidth).append(headerSecondFieldTxtWidth);var footerSecondFieldTxtWidth=_jQueryGS("#"+footerFirstFieldTxtWidth+" div.zgs19_gsSearchResultCell2").children(),finalHeaderFirstFieldTxtWidth=_jQueryGS("#"+footerFirstFieldTxtWidth+" div.zgs19_gsSearchResultCell2").width(),finalFooterFirstFieldTxtWidth=footerSecondFieldTxtWidth[0],footer=footerSecondFieldTxtWidth[1],allHeaderElemsWidth=finalHeaderFirstFieldTxtWidth,finalHeaderSecondFieldTxtWidth=finalHeaderFirstFieldTxtWidth;allHeaderElemsWidth-=void 0!==_jQueryGS(finalFooterFirstFieldTxtWidth).find(".zgs19_gs_ResultFooterSeperator")[0]?_jQueryGS(_jQueryGS(finalFooterFirstFieldTxtWidth).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0;var footerThirdField=_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0];gscrmresults.removeStartsWithClass(footerThirdField,"zgs19_gs_CRMw");var footerModuleWidth=void 0!==_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0]?_jQueryGS(_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0]).outerWidth(!0):0,moduleWidth=_jQueryGS(_jQueryGS(_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0]).find(".zgs19_hvr_underline_filter")).width()+20;finalHeaderSecondFieldTxtWidth-=footerModuleWidth+(void 0!==_jQueryGS(footer).find(".zgs19_gs_ResultFooterSeperator")[0]?_jQueryGS(_jQueryGS(footer).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0)+20;var varyWidth,maxFooterFieldWidth=Math.floor(.4*finalHeaderSecondFieldTxtWidth),maxFirstHeaderFieldWidth=Math.floor(.6*allHeaderElemsWidth),maxSecondHeaderFieldWidth=Math.floor(.3*allHeaderElemsWidth),finalFooterSecondFieldTxtWidth=_jQueryGS(finalFooterFirstFieldTxtWidth).find(".zgs19_gsCRMResultTitleNew"),excessFooterSpace=_jQueryGS(footer).find(".zgs19_gsCRMResultField"),headerFirstField=gscrmresults.removeStartsWithClass(_jQueryGS(finalFooterSecondFieldTxtWidth)[0],"zgs19_gs_CRMw"),headerSecondField=gscrmresults.removeStartsWithClass(_jQueryGS(finalFooterSecondFieldTxtWidth)[1],"zgs19_gs_CRMw"),footerFirstField=gscrmresults.removeStartsWithClass(_jQueryGS(excessFooterSpace)[0],"zgs19_gs_CRMw"),footerSecondField=gscrmresults.removeStartsWithClass(_jQueryGS(excessFooterSpace)[1],"zgs19_gs_CRMw"),headerFirstFieldTxtWidth=void 0!==headerFirstField?_jQueryGS(headerFirstField).width():0,headerSecondFieldTxtWidth=void 0!==headerSecondField?_jQueryGS(headerSecondField).width():0,footerFirstFieldTxtWidth=void 0!==footerFirstField?_jQueryGS(footerFirstField).width():0,footerSecondFieldTxtWidth=void 0!==footerSecondField?_jQueryGS(footerSecondField).width():0,footerFirstFieldTxtWidth=1<_jQueryGS(footerFirstField).children().length?footerFirstFieldTxtWidth-_jQueryGS(_jQueryGS(footerFirstField).children()[0]).width():footerFirstFieldTxtWidth,footerSecondFieldTxtWidth=1<_jQueryGS(footerSecondField).children().length?footerSecondFieldTxtWidth-_jQueryGS(_jQueryGS(footerSecondField).children()[0]).width():footerSecondFieldTxtWidth,finalHeaderFirstFieldTxtWidth=0,finalHeaderSecondFieldTxtWidth=0,finalFooterFirstFieldTxtWidth=0,finalFooterSecondFieldTxtWidth=0,excessFooterSpace=0;headerFirstFieldTxtWidth<=maxFirstHeaderFieldWidth&&headerSecondFieldTxtWidth<=maxSecondHeaderFieldWidth||maxFirstHeaderFieldWidth<=headerFirstFieldTxtWidth&&maxSecondHeaderFieldWidth<=headerSecondFieldTxtWidth?(excessFooterSpace=maxFirstHeaderFieldWidth-headerFirstFieldTxtWidth+(maxSecondHeaderFieldWidth-headerSecondFieldTxtWidth),finalHeaderFirstFieldTxtWidth=maxFirstHeaderFieldWidth,finalHeaderSecondFieldTxtWidth=maxSecondHeaderFieldWidth):headerFirstFieldTxtWidth<=maxFirstHeaderFieldWidth&&maxSecondHeaderFieldWidth<=headerSecondFieldTxtWidth?(finalHeaderSecondFieldTxtWidth=allHeaderElemsWidth<(finalHeaderFirstFieldTxtWidth=headerFirstFieldTxtWidth)+(varyWidth=maxSecondHeaderFieldWidth+(excessFooterSpace+=maxFirstHeaderFieldWidth-headerFirstFieldTxtWidth))?allHeaderElemsWidth-finalHeaderFirstFieldTxtWidth:varyWidth,excessFooterSpace=0):maxFirstHeaderFieldWidth<=headerFirstFieldTxtWidth&&headerSecondFieldTxtWidth<=maxSecondHeaderFieldWidth&&(finalHeaderFirstFieldTxtWidth=allHeaderElemsWidth<(finalHeaderSecondFieldTxtWidth=headerSecondFieldTxtWidth)+(varyWidth=maxFirstHeaderFieldWidth+(excessFooterSpace+=maxSecondHeaderFieldWidth-headerSecondFieldTxtWidth))?allHeaderElemsWidth-finalHeaderSecondFieldTxtWidth:varyWidth,excessFooterSpace=0);excessFooterSpace=0;return footerFirstFieldTxtWidth<=maxFooterFieldWidth&&footerSecondFieldTxtWidth<=maxFooterFieldWidth||maxFooterFieldWidth<=footerFirstFieldTxtWidth&&maxFooterFieldWidth<=footerSecondFieldTxtWidth?(excessFooterSpace=maxFooterFieldWidth-footerFirstFieldTxtWidth+(maxFooterFieldWidth-footerSecondFieldTxtWidth),finalFooterSecondFieldTxtWidth=finalFooterFirstFieldTxtWidth=maxFooterFieldWidth):footerFirstFieldTxtWidth<=maxFooterFieldWidth&&maxFooterFieldWidth<=footerSecondFieldTxtWidth?finalFooterSecondFieldTxtWidth=maxFooterFieldWidth+(excessFooterSpace+=maxFooterFieldWidth-(finalFooterFirstFieldTxtWidth=footerFirstFieldTxtWidth)):maxFooterFieldWidth<=footerFirstFieldTxtWidth&&footerSecondFieldTxtWidth<=maxFooterFieldWidth&&(finalFooterFirstFieldTxtWidth=maxFooterFieldWidth+(excessFooterSpace+=maxFooterFieldWidth-(finalFooterSecondFieldTxtWidth=footerSecondFieldTxtWidth))),0<excessFooterSpace&&footerModuleWidth<moduleWidth&&(moduleWidth=moduleWidth,footerThirdField=_jQueryGS(footer).find(".zgs19_gsResRightFilter")[0],_jQueryGS(footerThirdField).width(moduleWidth)),_jQueryGS(headerFirstField).css("max-width",finalHeaderFirstFieldTxtWidth),_jQueryGS(headerSecondField).css("max-width",finalHeaderSecondFieldTxtWidth),_jQueryGS(footerFirstField).css("max-width",finalFooterFirstFieldTxtWidth),_jQueryGS(footerSecondField).css("max-width",finalFooterSecondFieldTxtWidth),resultCell},gscrmresults.generateCRMSearchResults=function(mandatoryColName,resultAppendId,hrefAttr,isMutliModule,filterDisplay,extraFieldObj1,extraFieldObj2){var isAccountType,fullName,contactOwner,emailClass,leadstatusClass,isContactOwner,phoneType,phoneTypeTitle,mobileimgicon,stage,potentialNameObj,locationImg,locationStr,eventObj,startDate,endDate,endDateClass,startDateClass,iStatusFieldNeedtoShow,startDateObj,toObj,campaignObj,productName,solObj,owner,ownerObj,vendorNameObj,prodNameObj,phone,email,phoneClass,active,activeClass,priceBookOwnerObj,priceBookObj,stageClass,saleOwner,accName,statusClass,venObj,company,subject,status,ownerClass,extraFieldLen,subObj,sepeatorhypen,noteContent,footerClass,titleObj,extraFeildsArr,fullNameObj,resultCellObj={},customModule=!1,module=mandatoryColName.mod,actualModName=zgssearch[extraFieldObj1+"DispObj"],dispObj=actualModName.hasOwnProperty(extraFieldObj2)?actualModName[extraFieldObj2][extraFieldObj1+"_"+module]:{},mandColValue="",rTW20="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20 zgs19_crmAccColor",rTW70="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",rTW90="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",accObj="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw25",rFW30="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw30",rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",footerObj="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",crmStatus="zgs19_gs_CRM_status",fW100="zgs19_gsWid100Per zgs19_gsfl",resultCellClass="zgs19_gs"+isMutliModule+"ResultCell2",gsMobileIcon="zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",resultCell="",extraSpaceEmail="",quoteOwnerObj="",activeObj="",noteOwner="",vendorName="",extraSeperator="",tempHeader=rTW90,moduleNameObj=zgssearch.getFilterInfo(extraFieldObj1,"modules","data"),emailFieldObj=(moduleNameObj="object"==typeof moduleNameObj&&moduleNameObj[extraFieldObj2]?moduleNameObj[extraFieldObj2]:moduleNameObj)[module]||"",actualModName=zgssearch.getFilterInfo(extraFieldObj1,"modules","current"),isMutliModule=zgssearch.isMultiSelectResults(extraFieldObj1,"modules",GSConstant.ALL),moduleNameObj="";return filterDisplay&&isMutliModule&&"undefined"!==emailFieldObj?(moduleNameObj=_jQueryGS("<div>",{class:"zgs19_gs_CRMw20 zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:emailFieldObj,gs:extraFieldObj1+"mod",mod:module,acc_id:extraFieldObj2}).text(emailFieldObj))),rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",footerObj="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",rFW30="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw22"):moduleNameObj=_jQueryGS("<div>",{class:"zgs19_gs_CRMw20 zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gstitle:emailFieldObj}).text(emailFieldObj))),resultCell="Leads"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,fullName=zgssearch.checkUndefined(mandatoryColName.Full_Name),company=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Company"),email=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Email"),isAccountType=(phoneType="")!==(phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone")),titleObj=""!==(sepeatorhypen=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Lead_Status")),""!==company&&(tempHeader=rTW70),extraFieldLen=extraFeildsArr.length,!(fullNameObj=""!==email)&&!isAccountType&&!titleObj&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),emailClass=leadstatusClass=phoneClass=footerObj,fullNameObj&&titleObj&&(emailClass=leadstatusClass=rFW45),noteOwner=(fullNameObj||isAccountType)&&titleObj?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",fullNameObj&&titleObj||!isAccountType||(emailClass=leadstatusClass=phoneClass=rFW45,phoneClass=fullNameObj||titleObj?rFW45:footerObj,activeObj=fullNameObj?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",phoneType=isAccountType?_jQueryGS("<span>",{class:"zgs19_gsCRMResultField  zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45"}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj.Phone,gstitle:phone,gs:"contactPhone"}).text(phone)):""),emailFieldObj=fullNameObj?_jQueryGS("<span>",{class:emailClass,gslabel:dispObj.Email,gstitle:email}).text(email):"",isAccountType=titleObj?_jQueryGS("<span>",{class:leadstatusClass+" "+crmStatus,gslabel:dispObj.Lead_Status,gstitle:sepeatorhypen}).text(sepeatorhypen):"",fullNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Full_Name,gstitle:fullName}).text(fullName),titleObj=""!==company?_jQueryGS("<span>",{class:rTW20,gslabel:dispObj.Company,gstitle:company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj).append(sepeatorhypen).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(emailFieldObj).append(activeObj).append(phoneType).append(noteOwner).append(isAccountType).append(mandColValue).append(moduleNameObj))):"Accounts"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,accName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"),ownerObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone"),phoneClass=contactOwner=ownerClass="",ownerClass=phoneClass=contactOwner=footerObj,isContactOwner=""!==ownerObj,isAccountType=""!==(mobileimgicon=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Type")),!(phoneTypeTitle=""!==phone)&&!isContactOwner&&!isAccountType&&0<extraFeildsArr.length&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),(phoneTypeTitle&&isContactOwner||isAccountType&&isContactOwner||phoneTypeTitle&&isAccountType)&&(ownerClass=phoneClass=contactOwner=rFW45),noteOwner=""===(activeObj=phoneTypeTitle&&isContactOwner?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"")&&(phoneTypeTitle||isContactOwner)&&isAccountType?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",ownerObj=isContactOwner?_jQueryGS("<div>",{class:ownerClass}).append(_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:ownerObj}).text(ownerObj)):"",phoneType=phoneTypeTitle?_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj.Phone,gstitle:phone,gs:"contactPhone"}).text(phone)):"",isContactOwner=!isAccountType||isContactOwner&&phoneTypeTitle?"":_jQueryGS("<span>",{class:contactOwner,gslabel:dispObj.Account_Type,gstitle:mobileimgicon}).text(mobileimgicon),phoneTypeTitle=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Account_Name,gstitle:accName}).text(accName),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(phoneTypeTitle)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(activeObj).append(phoneType).append(noteOwner).append(isContactOwner).append(mandColValue).append(moduleNameObj))):"Contacts"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,fullName=zgssearch.checkUndefined(mandatoryColName.Full_Name),contactOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),(phoneClass=leadstatusClass=emailClass=potentialNameObj="")!==(company=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"))&&(tempHeader="zgs19_gsCRMResultTitleNew zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw75"),mobileimgicon=""!==(phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone")),phoneType=""!==(phoneTypeTitle=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Mobile")),extraFieldLen=extraFeildsArr.length,(isContactOwner=""!==contactOwner)||""!==company||mobileimgicon||phoneType||!(0<extraFieldLen)||(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),emailClass=leadstatusClass=phoneClass=footerObj,isContactOwner&&(mobileimgicon||phoneType)&&(emailClass=leadstatusClass=phoneClass=rFW45,activeObj=_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"})),(mobileimgicon||phoneType)&&(phoneType=mobileimgicon?phone:phoneTypeTitle,phoneTypeTitle=mobileimgicon?dispObj.Phone:dispObj.Mobile,mobileimgicon=mobileimgicon?"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg":gsMobileIcon,potentialNameObj=_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:mobileimgicon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:phoneTypeTitle,gstitle:phoneType,gs:"contactPhone"}).text(phoneType))),ownerObj=isContactOwner?_jQueryGS("<div>",{class:emailClass}).append(_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:contactOwner}).text(contactOwner)):"",fullNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Full_Name,gstitle:fullName}).text(fullName),titleObj=""!==company?_jQueryGS("<span>",{class:rTW20,gslabel:dispObj.Account_Name,gstitle:company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj).append(sepeatorhypen).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(activeObj).append(potentialNameObj).append(mandColValue).append(moduleNameObj))):"Deals"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,potentialNameObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Deal_Name"),eventObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),locationStr=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Closing_Date"),stage=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Stage"),stageClass=locationImg=ownerClass="",ownerClass=locationImg=stageClass=footerObj,""!==eventObj&&""!==stage&&(ownerClass=locationImg=stageClass=rFW45),extraFieldLen=extraFeildsArr.length,""===eventObj&&""===stage&&""===locationStr&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),vendorName=""===stage||""===locationStr&&""===eventObj?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),locationImg=""!==locationStr&&""===eventObj?_jQueryGS("<span>",{class:locationImg,gslabel:dispObj.Closing_Date,gstitle:locationStr}).text(locationStr):"",locationStr=""!==stage?_jQueryGS("<span>",{class:stageClass+" "+crmStatus,gslabel:dispObj.Stage,gstitle:stage}).text(stage):"",eventObj=""!==eventObj?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:eventObj}).text(eventObj):"",potentialNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Deal_Name,gstitle:potentialNameObj}).text(potentialNameObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(potentialNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(eventObj).append(noteOwner).append(locationImg).append(vendorName).append(locationStr).append(mandColValue).append(moduleNameObj))):"Tasks"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),ownerClass=statusClass="",statusClass=ownerClass=footerObj,""!==status&&""!==owner&&(statusClass=ownerClass=rFW45),extraFieldLen=extraFeildsArr.length,""===status&&""===owner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),extraSpaceEmail=""!==status&&""!==owner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",footerClass=""!==status?_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status,class:statusClass+" "+crmStatus}).text(status):"",ownerObj=""!==owner?_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:owner,class:ownerClass}).text(owner):"",subObj=_jQueryGS("<a>",{gslabel:dispObj.Subject,gstitle:subject,href:hrefAttr,target:"_blank",rel:"noopener noreferrer",class:tempHeader,gs:"resultTitle"}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(extraSpaceEmail).append(footerClass).append(mandColValue).append(moduleNameObj))):"Events"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,eventObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Event_Title"),startDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Start_DateTime"),endDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"End_DateTime"),(locationStr=locationImg="")!==(solObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Venue"))&&(locationImg=_jQueryGS("<span>",{class:"zgs18_crm_location",src:zgssearch.spacerURL}),locationStr=_jQueryGS("<span>",{class:rFW30,gslabel:dispObj.Venue,gstitle:solObj}).text(solObj)),extraSpaceEmail=""===solObj||""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),extraFieldLen=extraFeildsArr.length,""===startDate&&""===endDate&&""===solObj&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),toObj="all_crm_mod"===actualModName&&""!==solObj?"zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20":""!==solObj?"zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw28":rFW45,startDateObj=""!==startDate?_jQueryGS("<div>",{class:toObj}).append(_jQueryGS("<span>",{gslabel:dispObj.Start_DateTime,gstitle:startDate}).text(startDate)):"",solObj=""!==endDate?_jQueryGS("<div>",{class:toObj}).append(_jQueryGS("<span>",{gslabel:dispObj.End_DateTime,gstitle:endDate}).text(endDate)):"",toObj=""!==startDate?_jQueryGS("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",eventObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Event_Title,gstitle:eventObj}).text(eventObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(eventObj)).append(_jQueryGS("<div>",{class:fW100}).append(locationImg).append(locationStr).append(extraSpaceEmail).append(startDateObj).append(toObj).append(solObj).append(mandColValue).append(moduleNameObj))):"Calls"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),startDateClass=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Call_Start_Time"),activeObj=""!==(owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"))&&""!==startDateClass?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",ownerClass=campaignObj="",campaignObj=ownerClass=footerObj,""!==owner&&""!==startDateClass&&(campaignObj=ownerClass=rFW45),extraFieldLen=extraFeildsArr.length,""===startDateClass&&""===owner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",iStatusFieldNeedtoShow=""!==startDateClass?_jQueryGS("<span>",{class:campaignObj,gslabel:dispObj.Call_Start_Time,gstitle:startDateClass}).text(startDateClass):"",endDateClass=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(endDateClass)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(activeObj).append(iStatusFieldNeedtoShow).append(mandColValue).append(moduleNameObj))):"Campaigns"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,campaignObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Campaign_Name"),owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),startDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Start_Date"),endDate=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"End_Date"),noteOwner=""===owner||""===status&&""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),ownerClass=statusClass=endDateClass=startDateClass="",startDateClass=endDateClass=statusClass=ownerClass=footerObj,startDateClass=endDateClass=ownerClass=""!==startDate&&""!==endDate&&""!==owner?rFW30:rFW45,iStatusFieldNeedtoShow=!1,""===owner?(iStatusFieldNeedtoShow=!0,statusClass=""===(vendorName=""===status||""===startDate&&""===endDate?"":_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"))?rFW45:rFW30):iStatusFieldNeedtoShow=""===startDate&&""===endDate,(footerClass="")!==status&&iStatusFieldNeedtoShow&&(footerClass=_jQueryGS("<span>",{class:statusClass+" "+crmStatus,gslabel:dispObj.Status,gstitle:status}).text(status)),extraFieldLen=extraFeildsArr.length,""===owner&&""===status&&""===endDate&&""===startDate&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",startDateObj=""!==startDate?_jQueryGS("<div>",{class:startDateClass}).append(_jQueryGS("<span>",{gslabel:dispObj.Start_Date,gstitle:startDate}).text(startDate)):"",toObj=""!==endDate&&""!==startDate?_jQueryGS("<div>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",solObj=""!==endDate?_jQueryGS("<div>",{class:endDateClass}).append(_jQueryGS("<span>",{gslabel:dispObj.End_Date,gstitle:endDate}).text(endDate)):"",campaignObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Campaign_Name,gstitle:campaignObj}).text(campaignObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(campaignObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(noteOwner).append(startDateObj).append(toObj).append(solObj).append(vendorName).append(footerClass).append(mandColValue).append(moduleNameObj))):"Cases"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),productName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Product_Name"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),ownerClass=statusClass="",statusClass=ownerClass=footerObj,""!==(owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"))&&""!==status&&(statusClass=ownerClass=rFW45),extraFieldLen=extraFeildsArr.length,""===owner&&""===status&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",noteOwner=""!==ownerObj&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Solutions"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,solObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Solution_Title"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),vendorNameObj=statusClass="",statusClass=vendorNameObj=footerObj,""!==(productName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Product_Name"))&&""!==status&&(statusClass=vendorNameObj=rFW45),extraFieldLen=extraFeildsArr.length,""===productName&&""===status&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),prodNameObj=""!==productName?_jQueryGS("<span>",{class:vendorNameObj,gslabel:dispObj.Product_Name,gstitle:productName}).text(productName):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",noteOwner=""!==productName&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",solObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Solution_Title,gstitle:solObj}).text(solObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(solObj)).append(_jQueryGS("<div>",{class:fW100}).append(prodNameObj).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Products"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,prodNameObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Product_Name"),priceBookObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Vendor_Name"),owner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),extraFieldLen=extraFeildsArr.length,vendorNameObj=ownerClass="",ownerClass=vendorNameObj=footerObj,""!==owner&&""!==priceBookObj&&(ownerClass=vendorNameObj=rFW45),""===priceBookObj&&""===owner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),ownerObj=""!==owner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:owner}).text(owner):"",vendorNameObj=""!==priceBookObj?_jQueryGS("<span>",{class:vendorNameObj,gslabel:dispObj.Vendor_Name,gstitle:priceBookObj}).text(priceBookObj):"",noteOwner=""!==owner&&""!==priceBookObj?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",prodNameObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Product_Name,gstitle:prodNameObj}).text(prodNameObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(prodNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(ownerObj).append(noteOwner).append(vendorNameObj).append(mandColValue).append(moduleNameObj))):"Vendors"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,priceBookObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Vendor_Name"),phone=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Phone"),email=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Email"),phoneClass=emailClass=footerObj,""!==phone&&""!==email&&(phoneClass=emailClass=rFW45),activeObj=""!==email&&""!==phone?_jQueryGS("<span>",{class:"zgs19_spaceW3 zgs19_gsfl"}):"",extraFieldLen=extraFeildsArr.length,""===phone&&""===email&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),activeClass=""!==email?_jQueryGS("<span>",{class:emailClass,gslabel:dispObj.Email,gstitle:email}).text(email):"",active=""!==phone?_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:gsMobileIcon,src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj.Phone,gstitle:phone,gs:"contactPhone"}).text(phone)):"",priceBookOwnerObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Vendor_Name,gstitle:priceBookObj}).text(priceBookObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(priceBookOwnerObj)).append(_jQueryGS("<div>",{class:fW100}).append(activeClass).append(activeObj).append(active).append(mandColValue).append(moduleNameObj))):"PriceBooks"===module||"Price_Books"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,priceBookObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Price_Book_Name"),priceBookOwnerObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),activeClass=ownerClass=footerObj,(activeObj="")!==(active=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Active"))&&""!==priceBookOwnerObj&&(ownerClass=rFW45,activeClass=accObj),""!==active&&(quoteOwnerObj=_jQueryGS("<span>",{class:activeClass,gslabel:dispObj.Active,gstitle:activeObj="true"===active?"Active":"InActive"}).text(activeObj)),extraFieldLen=extraFeildsArr.length,""===active&&""===priceBookOwnerObj&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),noteOwner=""!==priceBookOwnerObj&&""!==active?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",priceBookOwnerObj=""!==priceBookOwnerObj?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:priceBookOwnerObj}).text(priceBookOwnerObj):"",priceBookObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Price_Book_Name,gstitle:priceBookObj}).text(priceBookObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(priceBookObj)).append(_jQueryGS("<div>",{class:fW100}).append(priceBookOwnerObj).append(noteOwner).append(quoteOwnerObj).append(mandColValue).append(moduleNameObj))):"Quotes"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,quoteOwnerObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),saleOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Quote_Stage"),subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),extraFieldLen=extraFeildsArr.length,stageClass=ownerClass=footerObj,""!==saleOwner&&""!==quoteOwnerObj&&(ownerClass=stageClass=rFW45),""===quoteOwnerObj&&""===saleOwner&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),noteOwner=""!==quoteOwnerObj&&""!==saleOwner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",quoteOwnerObj=""!==quoteOwnerObj?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:quoteOwnerObj}).text(quoteOwnerObj):"",saleOwner=""!==saleOwner?_jQueryGS("<span>",{class:stageClass+" "+crmStatus,gslabel:dispObj.Quote_Stage,gstitle:saleOwner}).text(saleOwner):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(quoteOwnerObj).append(noteOwner).append(saleOwner).append(mandColValue).append(moduleNameObj))):"SalesOrders"===module||"Sales_Orders"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),saleOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),accName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),statusClass=ownerClass="",ownerClass=statusClass=footerObj,""!==saleOwner&&""!==status&&(ownerClass=statusClass=rFW45),""!==accName&&(tempHeader=rTW70),extraFieldLen=extraFeildsArr.length,""===subject&&""===accName&&""===saleOwner&&""===stage&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj1,extraFieldObj2)),venObj=""!==saleOwner?_jQueryGS("<span>",{class:ownerClass,gslabel:dispObj.Owner,gstitle:saleOwner}).text(saleOwner):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",vendorName=""!==status&&""!==saleOwner?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),accObj=""!==accName?_jQueryGS("<span>",{class:accObj,gslabel:dispObj.Account_Name,gstitle:accName}).text(accName):"",sepeatorhypen=""!==accName?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj).append(sepeatorhypen).append(accObj)).append(_jQueryGS("<div>",{class:fW100}).append(venObj).append(vendorName).append(footerClass).append(mandColValue).append(moduleNameObj))):"PurchaseOrders"===module||"Purchase_Orders"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),ownerClass=venObj=statusClass=(statusClass=venObj=ownerClass="")!==(vendorName=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Vendor_Name"))&&""!==status?rFW30:rFW45,extraFieldLen=extraFeildsArr.length,""===subject&&""===status&&""===vendorName&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),venObj=""!==vendorName?_jQueryGS("<span>",{class:venObj,gslabel:dispObj.Vendor_Name,gstitle:vendorName}).text(vendorName):"",footerClass=""!==status?_jQueryGS("<div>",{class:statusClass+" "+crmStatus}).append(_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status}).text(status)):"",noteOwner=""!==vendorName&&""!==status?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",subObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Subject,gstitle:subject}).text(subject),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj)).append(_jQueryGS("<div>",{class:fW100}).append(venObj).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Invoices"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,company=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Account_Name"),noteContent=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),subject=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Subject"),status=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Status"),""!==company&&(tempHeader=rTW70),ownerClass=statusClass=footerObj,""!==noteContent&&""!==status&&(ownerClass=statusClass=rFW45,noteOwner=_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;")),extraFieldLen=extraFeildsArr.length,""===noteContent&&""===status&&0<extraFieldLen&&(mandColValue=gscrmresults.renderGenericValuesForCRMModule(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)),footerClass=""!==status?_jQueryGS("<span>",{gslabel:dispObj.Status,gstitle:status,class:statusClass+" "+crmStatus}).text(status):"",noteContent=""!==noteContent?_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:noteContent,class:ownerClass}).text(noteContent):"",subObj=_jQueryGS("<a>",{gslabel:dispObj.Subject,gstitle:subject,href:hrefAttr,target:"_blank",rel:"noopener noreferrer",class:tempHeader,gs:"resultTitle"}).text(subject),titleObj=""!==company?_jQueryGS("<span>",{class:rTW20,gslabel:dispObj.Company,gstitle:company}).text(company):"",sepeatorhypen=""!==company?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"",_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(subObj).append(sepeatorhypen).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(noteContent).append(noteOwner).append(footerClass).append(mandColValue).append(moduleNameObj))):"Notes"===module?(extraFeildsArr=gscrmresults.getCRMFieldsArr(module,mandatoryColName).extraFieldsArr,titleObj=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Note_Title"),noteContent=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Note_Content"),noteOwner=gscrmresults.getProperValueFromDataTypeForCRM(mandatoryColName,"Owner"),footerClass=footerObj,(footerObj="")!==noteContent?footerObj=_jQueryGS("<span>",{gslabel:dispObj.Note_Content,gstitle:noteContent,class:footerClass+" "+crmStatus}).text(noteContent):""!==noteOwner&&(footerObj=_jQueryGS("<span>",{gslabel:dispObj.Owner,gstitle:noteOwner,class:footerClass}).text(noteOwner)),mandatoryColName.Note_Title=titleObj=""===titleObj?" --- No Title --- ":titleObj,titleObj=_jQueryGS("<a>",{class:tempHeader,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj.Note_Title,gstitle:titleObj}).text(titleObj),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(titleObj)).append(_jQueryGS("<div>",{class:fW100}).append(footerObj).append(moduleNameObj))):(customModule=!0,extraFeildsArr=Object.keys(mandatoryColName),zgssearch.crmCustomMod[GSConstant.CRM+"_"+module]=customModule,extraFieldObj1=(mandColValue=gscrmresults.renderGenericValuesForCRM(module,extraFeildsArr,mandatoryColName,actualModName,extraFieldObj1,extraFieldObj2)).field1,extraFieldObj2=mandColValue.field2,extraSeperator=mandColValue.seperator,mandColValue=mandatoryColName[mandatoryColName=mandColValue.mandColName],fullNameObj=_jQueryGS("<a>",{class:rTW90,gs:"resultTitle",href:hrefAttr,target:"_blank",rel:"noopener noreferrer",gslabel:dispObj[mandatoryColName],gstitle:mandColValue}).text(mandColValue),_jQueryGS("<div>",{class:resultCellClass}).append(_jQueryGS("<div>",{class:fW100}).append(fullNameObj)).append(_jQueryGS("<div>",{class:fW100}).append(extraFieldObj1).append(extraSeperator).append(extraFieldObj2).append(moduleNameObj))),resultCell=gscrmresults.getHeaderFooterElemsWidth(resultCell,module,customModule,resultAppendId,"zgs20_dummyCRMRes"),resultCellObj.resultCell=resultCell,resultCellObj.customModule=customModule,resultCellObj},gscrmresults.getCRMModuleTT=function(modLower,contName,moduleDispName){var imgObj="";return contName?(contName=modLower.charAt(0).toUpperCase(),imgObj=_jQueryGS("<span>",{class:"zgs19_circleText zgs19_gsfl",gstitle:moduleDispName,gs:"resultMenuItem"}).text(contName)):""!==modLower&&(modLower=modLower.toLowerCase(),imgObj=_jQueryGS("<span>",{class:"zgs19_crmModule zgs18_crm_"+modLower,gstitle:moduleDispName,gs:"resultMenuItem"})),imgObj},gscrmresults.renderGenericValuesForCRMModule=function(module,extraFieldsArr,resObj,extraSeperator,extraFieldObj1,extraFieldObj2){extraSeperator=gscrmresults.renderGenericValuesForCRM(module,extraFieldsArr,resObj,extraSeperator,extraFieldObj1,extraFieldObj2),extraFieldObj1=extraSeperator.field1,extraFieldObj2=extraSeperator.field2,extraSeperator=extraSeperator.seperator;return _jQueryGS("<div>",{class:""}).append(extraFieldObj1).append(extraSeperator).append(extraFieldObj2)},gscrmresults.renderGenericValuesForCRM=function(currencyFieldVal,extraFields,resObj,lookupfieldVal,textfieldVal,ownerlookupfieldVal){var extraFieldObj={},rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",autoNumberFieldVal="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90";"all_crm_mod"===lookupfieldVal&&(rFW45="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",autoNumberFieldVal="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70");var extraSeperator,key,extraField1="",extraField2="",finalObj={},phoneFieldObj=new Array,emailFieldObj=new Array,lookupFieldObj=new Array,ownerlookupFieldObj=new Array,picklistFieldObj=new Array,textFieldObj=new Array,currencyObj=new Array,autoNumberObj=new Array,dataObj=zgssearch[textfieldVal+"DataObj"][ownerlookupfieldVal][textfieldVal+"_"+currencyFieldVal],dispObj=zgssearch[textfieldVal+"DispObj"][ownerlookupfieldVal][textfieldVal+"_"+currencyFieldVal],mandatoryColName=zgssearch[textfieldVal+"MandName"][ownerlookupfieldVal][textfieldVal+"_"+currencyFieldVal];for(key in extraFields){var dataType,fieldName=extraFields[key];"null"!==resObj[fieldName]&&(dataType=dataObj[fieldName],mandatoryColName!==fieldName&&void 0!==dataType&&("phone"===dataType&&phoneFieldObj.push(fieldName),"email"===dataType&&emailFieldObj.push(fieldName),"picklist"===dataType&&picklistFieldObj.push(fieldName),"lookup"===dataType&&lookupFieldObj.push(fieldName),"ownerlookup"===dataType&&ownerlookupFieldObj.push(fieldName),"text"===dataType&&textFieldObj.push(fieldName),"currency"===dataType&&currencyObj.push(fieldName),"autonumber"===dataType&&autoNumberObj.push(fieldName)))}var phoneClass=emailClass=pickListFieldClass=lookupClass=ownerlookupClass=textFieldClass=currencyClass=auoNumberClass=autoNumberFieldVal,emailfieldVal=0<emailFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,emailFieldObj[0]):"",phonefieldVal=0<phoneFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,phoneFieldObj[0]):"",picklistfieldVal=0<picklistFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,picklistFieldObj[0]):"",lookupfieldVal=0<lookupFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,lookupFieldObj[0]):"",ownerlookupfieldVal=0<ownerlookupFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,ownerlookupFieldObj[0]):"",textfieldVal=0<textFieldObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,textFieldObj[0]):"",currencyFieldVal=0<currencyObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,currencyObj[0]):"",autoNumberFieldVal=0<autoNumberObj.length?gscrmresults.getProperValueFromDataTypeForCRM(resObj,autoNumberObj[0]):"";return""!==textfieldVal&&(finalObj.text=_jQueryGS("<div>",{class:textFieldClass}).append(_jQueryGS("<span>",{gslabel:dispObj[textFieldObj[0]],gstitle:textfieldVal}).text(textfieldVal))),""!==currencyFieldVal&&(finalObj.currency=_jQueryGS("<div>",{class:currencyClass}).append(_jQueryGS("<span>",{gslabel:dispObj[currencyObj[0]],gstitle:currencyFieldVal}).text(currencyFieldVal))),""!==autoNumberFieldVal&&(finalObj.autonumber=_jQueryGS("<div>",{class:auoNumberClass}).append(_jQueryGS("<span>",{gslabel:dispObj[autoNumberObj[0]],gstitle:autoNumberFieldVal}).text(autoNumberFieldVal))),""!==picklistfieldVal&&(finalObj.picklist=_jQueryGS("<div>",{class:pickListFieldClass}).append(_jQueryGS("<span>",{gslabel:dispObj[picklistFieldObj[0]],gstitle:picklistfieldVal}).text(picklistfieldVal))),""!==ownerlookupfieldVal&&(finalObj.owner=_jQueryGS("<div>",{class:ownerlookupClass}).append(_jQueryGS("<span>",{gslabel:dispObj[ownerlookupFieldObj[0]],gstitle:ownerlookupfieldVal}).text(ownerlookupfieldVal))),""!==lookupfieldVal&&(finalObj.lookup=_jQueryGS("<div>",{class:lookupClass}).append(_jQueryGS("<span>",{gslabel:dispObj[lookupFieldObj[0]],gstitle:lookupfieldVal}).text(lookupfieldVal))),""!==phonefieldVal&&(finalObj.phone=_jQueryGS("<div>",{class:phoneClass}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",src:zgssearch.spacerURL})).append(_jQueryGS("<span>",{gslabel:dispObj[phoneFieldObj[0]],gstitle:phonefieldVal,gs:"contactPhone"}).text(phonefieldVal))),""!==emailfieldVal&&(finalObj.email=_jQueryGS("<div>",{class:emailClass}).append(_jQueryGS("<span>",{gslabel:dispObj[emailFieldObj[0]],gstitle:emailfieldVal}).text(emailfieldVal))),finalObj.hasOwnProperty("email")&&(extraField1=finalObj.email),finalObj.hasOwnProperty("phone")&&(""===extraField1?extraField1=finalObj.phone:""===extraField2&&(extraField2=finalObj.phone)),finalObj.hasOwnProperty("lookup")&&(""===extraField1?extraField1=finalObj.lookup:""===extraField2&&(extraField2=finalObj.lookup)),finalObj.hasOwnProperty("owner")&&(""===extraField1?extraField1=finalObj.owner:""===extraField2&&(extraField2=finalObj.owner)),finalObj.hasOwnProperty("picklist")&&(""===extraField1?extraField1=finalObj.picklist:""===extraField2&&(extraField2=finalObj.picklist)),finalObj.hasOwnProperty("text")&&(""===extraField1?extraField1=finalObj.text:""===extraField2&&(extraField2=finalObj.text)),finalObj.hasOwnProperty("currency")&&(""===extraField1?extraField1=finalObj.currency:""===extraField2&&(extraField2=finalObj.currency)),finalObj.hasOwnProperty("autonumber")&&(""===extraField1?extraField1=finalObj.autonumber:""===extraField2&&(extraField2=finalObj.autonumber)),extraSeperator=""!==extraField1&&""!==extraField2?_jQueryGS("<span>",{class:"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",""!==extraField1&&""!==extraField2&&(_jQueryGS(extraField1).removeClass().addClass(rFW45),_jQueryGS(extraField2).removeClass().addClass(rFW45)),extraFieldObj.field1=extraField1,extraFieldObj.field2=extraField2,extraFieldObj.seperator=extraSeperator,extraFieldObj.mandColName=mandatoryColName,extraFieldObj},gscrmresults.getCRMFieldsArr=function(module,resObj){var fieldName,extraFieldsArr=new Array,fieldsArr=new Array,crmResObj={},modFieldsArr=gscrmresults.getCRMModuleFields(module);for(fieldName in resObj)zgssearch.isArrayContain(fieldName,modFieldsArr)?fieldsArr.push(fieldName):"id"!==fieldName&&"mod"!==fieldName&&extraFieldsArr.push(fieldName);return crmResObj.obtainedFieldArr=fieldsArr,crmResObj.extraFieldsArr=extraFieldsArr,crmResObj},gscrmresults.getCRMModuleFields=function(module){switch(module){case"Leads":return["Full_Name","Company","Email","Phone","Lead_Status"];case"Contacts":return["Full_Name","Account_Name","Email","Phone","Mobile"];case"Accounts":return["Account_Name","Account_Type","Website","Phone"];case"Potentials":return["Potential_Name","Potential_Owner","Account_Name","Stage"];case"Deals":return["Deal_Name","Deal_Owner","Account_Name","Stage","Amount"];case"Events":return["Event_Title","Start_DateTime","End_DateTime","Venue"];case"Calls":return["Subject","Call_Start_Time","Call_Type","Call_Purpose"];case"Tasks":return["Subject","Task_Owner","Status"];case"Cases":return["Subject","Type","Product_Name","Status"];case"Quotes":return["Subject","Quote_Owner","Quote_Stage"];case"PurchaseOrders":case"Purchase_Orders":return["Subject","Purchase_Order_Owner","Vendor_Name","Status"];case"SalesOrders":case"Sales_Orders":return["Subject","Sales_Order_Owner","Account_Name","Status"];case"PriceBooks":case"Price_Books":return["Price_Book_Name","Price_Book_Owner","Active"];case"Products":return["Product_Name","Product_Owner","Vendor_Name","Product_Active"];case"Vendors":return["Vendor_Name","Email","Website","Phone"];case"Campaigns":return["Campaign_Name","Status","Type","Start_Date","End_Date"];case"Solutions":return["Solution_Title","Solution_Owner","Status","Product_Name"];case"Invoices":return["Subject","Invoice_Owner","Status"];case"Notes":return["Note_Title","Note_Content"]}},gscrmresults.getProperValueFromDataTypeForCRM=function(resObj,finalVal){finalVal=resObj[finalVal];return""!==zgssearch.checkUndefined(finalVal)?finalVal:""},gscrmresults.removeStartsWithClass=function(ele,startsWithCls){if(void 0!==ele){for(var cl=_jQueryGS(ele).attr("class").split(" "),newcl=[],i=0;i<cl.length;i++)r=cl[i].search(startsWithCls),r&&(newcl[newcl.length]=cl[i]);_jQueryGS(ele).removeClass().addClass(newcl.join(" "))}return ele},gscrmresults)}(zgssearch,window),function(zgssearch,gsmailresults){var _jQueryGS=gsmailresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsmailresults=(gsmailresults=void 0,(gsmailresults=zgssearch.gsmailresults||{}).getHtmlTemplate=function(folderDiv,acc_id,href,id,service_name,i,totalResWidth,mAttachIcon){var searchInsType=mAttachIcon.hasOwnProperty("type")?mAttachIcon.type:"Search",filterDisplay=!mAttachIcon.hasOwnProperty("filters")||mAttachIcon.filters,searchType=zgssearch.getSearchType(),mSender=folderDiv.sender||"",mDate=folderDiv.display_time||"",folderId=folderDiv.folder_id||"",mFolder=folderDiv.folder_name||"",isMultiFolder=folderDiv.has_attachment||"",mailImg=zgssearch.getMailImageStatus(folderDiv.servImg),mSubject=zgssearch.replaceHTMLEntity(folderDiv.subject)||"",unreadMailClass="true"===folderDiv.isBold?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",mAttachIcon="";"1"!==isMultiFolder&&"8"!==isMultiFolder||(mAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));mSubject=mSubject||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",folderDiv="",isMultiFolder=zgssearch.isMultiSelectResults(GSConstant.MAILS,"folders","0"),folderDiv=filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||isMultiFolder)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gsmodule:GSConstant.MAILS,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_folder"),gstitle:mFolder,istip:!0,gs:"mailfolder",fId:folderId,acc_id:acc_id}).text(mFolder)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.result.document.folder"),gstitle:mFolder,istip:!0}).text(mFolder));return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:mailImg.image,gstitle:mailImg.title,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter.sorttime"),gstitle:mDate}).text(mDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(mAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,class:unreadMailClass,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("common.subject"),gstitle:mSubject,istip:!0}).text(mSubject))).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(folderDiv)).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.mail.resultfooter.sender"),gstitle:mSender,istip:!0}).text(zgssearch.replaceHTMLEntity(mSender)))))},gsmailresults)}(zgssearch,window),function(zgssearch,gsstreamsresults){var _jQueryGS=gsstreamsresults._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsstreamsresults=(gsstreamsresults=void 0,(gsstreamsresults=zgssearch.gsstreamsresults||{}).getHtmlTemplate=function(folderDiv,acc_id,href,id,service_name,i,totalResWidth,mtitle){var searchInsType=mtitle.hasOwnProperty("type")?mtitle.type:"Search",filterDisplay=!mtitle.hasOwnProperty("filters")||mtitle.filters,searchType=zgssearch.getSearchType(),ownerZuidOrName=(GSConstant.cuz||"")==(folderDiv.hasOwnProperty("owner")?folderDiv.owner:"")?zgssearch.getI18NMsg("common.me"):folderDiv.name,groupName=folderDiv.gN||"",canshowgrp=groupName?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",time=folderDiv.time||"",entityType=folderDiv.entityType||"",currentEntityType=zgssearch.entityTypeTitleMap[entityType],entityTypeTitle=currentEntityType.title,unreadMailClass=folderDiv.title||"",mtitle=zgssearch.replaceHTMLEntity(unreadMailClass)||"",unreadMailClass="true"===folderDiv.isB?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",mtitle=mtitle||currentEntityType.notitle,folderDiv="",currentEntityType=zgssearch.getCurrentValue("entity_type",searchType),folderDiv=filterDisplay&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||"-1"===currentEntityType)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gsmodule:GSConstant.STREAMS,gslabel:zgssearch.getI18NMsg("gs.search.filter_through_entity"),gstitle:entityTypeTitle,istip:!0,gs:"streamEntityType",eId:entityType,acc_id:acc_id}).text(entityTypeTitle)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter.entity_type"),gstitle:entityTypeTitle,istip:!0}).text(entityTypeTitle));return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",gs:"resultMenuItem"}).append(_jQueryGS("<img>",{class:"",gs:"gsUserPhoto",group:"",src:zgssearch.gsspacer,gstitle:"",gs_err_class:"zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter.sorttime"),gstitle:time}).text(time))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,class:unreadMailClass,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("common.subject"),gstitle:mtitle,istip:!0}).text(mtitle)))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(folderDiv)).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow zgs19_gsWid70Per"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid48Per"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:ownerZuidOrName,istip:!0}).text(ownerZuidOrName))).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid48Per zgs19_gsPdLt3Px "+canshowgrp}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0))).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs18_gsSharedIcon zgs19_streamsGroupSharedIcon",gstitle:zgssearch.getI18NMsg("gs.search.filter.sharedthisentity")})).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),gstitle:groupName,istip:!0}).text(groupName))))))},gsstreamsresults)}(zgssearch,window),function(zgssearch,window){var gsreportresults,_jQueryGS=window._jQueryGS;zgssearch.gsreportresults=(gsreportresults=void 0,(gsreportresults=zgssearch.gsreportresults||{}).getHtmlTemplate=function(resPanLHSServiceIconEle,acc_id,href,id,service_name,i,totalResWidth,serviceImgCls){var searchInsType=serviceImgCls.hasOwnProperty("type")?serviceImgCls.type:"Search",lastModAuthor=resPanLHSServiceIconEle.auth||resPanLHSServiceIconEle.mBy,viewName=resPanLHSServiceIconEle.vN||"",dTime=resPanLHSServiceIconEle.time||"",serviceImgCls=resPanLHSServiceIconEle.ty||"",resPanLHSServiceIconEle=gsreportresults.getReportsResTT(serviceImgCls),serviceImgCls=resPanLHSServiceIconEle.image,resPanLHSServiceIconEle=_jQueryGS("<span>",{class:serviceImgCls,gstitle:resPanLHSServiceIconEle.title,gs:"resultMenuItem"}),resPanLHSServiceIconEle=zgssearch.obtainLineIconPaths(serviceImgCls,resPanLHSServiceIconEle,!0);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(resPanLHSServiceIconEle))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.last_created"),gstitle:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.result.reports.viewName"),gstitle:viewName,istip:!0}).text(viewName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.reports.lastModifiedAuthor"),gstitle:lastModAuthor,istip:!0}).text(lastModAuthor))))},gsreportresults.getReportsResTT=function(type){var reportsImgObj={};switch(reportsImgObj.image="zgs18_analytics_"+type.toLowerCase(),type){case"Dashboard":reportsImgObj.title=zgssearch.getI18NMsg("common.d.dashboard");break;case"Table":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.table");break;case"AnalysisView":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.analysisview");break;case"QueryTable":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.querytable");break;case"Report":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.tableview");break;case"SummaryView":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.summaryview");break;case"Pivot":reportsImgObj.title=zgssearch.getI18NMsg("gs.search.result.reports.pivot")}return reportsImgObj},gsreportresults)}(zgssearch,window),function(zgssearch,window){var gssupportresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssupportresults=(gssupportresults=void 0,(gssupportresults=zgssearch.gssupportresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curPortalId){var totalResWidth=totalResWidth||_jQueryGS("#zgs20_gsModuleSearchResultPage").width()-100,serviceImgCls=gssupportresults.getSupportResObj(resObj),sTime=serviceImgCls.sTime||"",sTitle=serviceImgCls.sTitle||"",resPanLHSServiceIconEle=serviceImgCls.module||"",sAuthor=serviceImgCls.sAuthor||"",searchInsType=curPortalId.hasOwnProperty("type")?curPortalId.type:"Search",filterDisplay=!curPortalId.hasOwnProperty("filters")||curPortalId.filters;resObj.webUrl=zgssearch.fetchCalloutUrlByAccId(GSConstant.SUPPORT,resObj,acc_id);var sAttachIcon="",dept_name=resObj.DEP_NAME||"",sEmail=resObj.module_id||"",deptId=resObj.DEP_ID||"",isMultiDeptment=resObj.ATTACHMENT_NAMES||"",tipTxt="";switch(sEmail){case"1":tipTxt=zgssearch.getI18NMsg("common.author");break;case"2":tipTxt=zgssearch.getI18NMsg("common.category")}isMultiDeptment&&(sAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"}));var sFooterDiv1,column1_perc,sWeb,footerDiv="",titlewid="zgs19_gsWid75Per",sPhone="",sconObj={cell1:"",cell2:""},moduleDiv="",dept_name_length=zgssearch.gssupport.getModuleName(sEmail,acc_id),column2_perc=zgssearch.isMultiSelectResults(GSConstant.SUPPORT,"modules","0");dept_name_length&&(totalResWidth-=25*totalResWidth/100,moduleDiv=filterDisplay&&column2_perc?_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid30Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:dept_name_length,gs:"deskModules",fId:sEmail,depId:deptId,acc_id:acc_id}).text(dept_name_length))):_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:dept_name_length,istip:!0}).text(dept_name_length)))),"1"==sEmail||"2"==sEmail?(column1_perc=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),curPortalId=zgssearch.getFilterInfo(GSConstant.SUPPORT,"accounts","current"),isMultiDeptment=zgssearch.isMultiSelectResults(GSConstant.SUPPORT,"departments","0"),sWeb=_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gstitle:column1_perc}).text(column1_perc),column2_perc=sAuthor.length,dept_name_length=dept_name.length,column1_perc=Math.ceil(column2_perc/(dept_name_length+column2_perc)*75),column2_perc=Math.ceil(dept_name_length/(dept_name_length+column2_perc)*75),sPhone=filterDisplay&&dept_name&&(isMultiDeptment||"0"==curPortalId)?_jQueryGS("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter_through_department"),gstitle:dept_name,istip:!0,class:"zgs19_hvr_underline",gs:"deskDept",gsfilter:"deptName",fId:deptId,acc_id:acc_id}).text(dept_name)):_jQueryGS("<div>",{class:"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:dept_name,istip:!0,class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault"}).text(dept_name)),_jQueryGS(sPhone).css("max-width",column2_perc+"%"),sFooterDiv1=_jQueryGS("<div>",{class:"zgs19_gsResultSupportAuthor zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:tipTxt,gstitle:sAuthor,istip:!0}).text(sAuthor)),_jQueryGS(sFooterDiv1).css("max-width",column1_perc-10+"%"),footerDiv=_jQueryGS("<div>",{class:"zgs19_gsSupportFooter"}).append(_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsWid75Per"}).append(sFooterDiv1).append(sWeb).append(sPhone)).append(moduleDiv)):"3"!=sEmail&&"4"!=sEmail||(sWeb=resObj.WEBSITE||"",sPhone=resObj.PHONE||"",sEmail=resObj.EMAIL||"",titlewid="zgs19_gsWid97Per",sconObj=gssupportresults.getContactUserDetails(service_name,totalResWidth,sEmail,sPhone,sWeb),footerDiv=_jQueryGS("<div>").append(sconObj.cell1).append(sconObj.cell2).append(moduleDiv));serviceImgCls=serviceImgCls.image,resPanLHSServiceIconEle=_jQueryGS("<span>",{class:serviceImgCls,gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:resPanLHSServiceIconEle,gs:"resultMenuItem"}),resPanLHSServiceIconEle=zgssearch.obtainLineIconPaths(serviceImgCls,resPanLHSServiceIconEle,!0);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(resPanLHSServiceIconEle))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:sTime}).text(sTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsOverflow "+titlewid}).append(sAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:resObj.webUrl,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:sTitle}).text(sTitle))).append(footerDiv))},gssupportresults.getSupportResObj=function(resObj){var sresObj={};switch(resObj.module_id){case"1":sresObj.module="Request",sresObj.image="zgs18_gsSuppRequestIcon",sresObj.sTime=resObj.display_time||"",sresObj.sAuthor=resObj.CONTACTNAME||"",sresObj.sTitle=resObj.support_title||"";break;case"2":sresObj.module="FAQ",sresObj.image="zgs18_gsSuppSolutionIcon",sresObj.sTime=resObj.display_time||"",sresObj.sAuthor=resObj.TOPIC_NAME||"",sresObj.sTitle=resObj.support_title||"";break;case"3":sresObj.module="Contacts",sresObj.image="zgs18_gsSuppContactIcon",sresObj.sAuthor=resObj.EMAIL||"",sresObj.sTitle=resObj.support_title||"";break;case"4":sresObj.module="Accounts",sresObj.image="zgs18_gsSuppAccountIcon",sresObj.sAuthor=resObj.EMAIL||"",sresObj.sTitle=resObj.support_title||""}return sresObj},gssupportresults.getContactUserDetails=function(service_name,totalResWidth,cell2_span,field1_width,col3,field2_width){var phIcon,cell1="",cell2="";return col3&&(phIcon="",service_name!=GSConstant.SUPPORT&&(phIcon=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})),cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(phIcon).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.result.support.callout.weburl"),gstitle:col3}).text(col3))),field1_width&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg zgs19_gsfl"})).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.mobile"),gstitle:field1_width}).text(field1_width))),field2_width&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{gstitle:field2_width}).text(field2_width))),cell2_span&&(cell2=cell1,cell1=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.email"),gstitle:cell2_span}).text(cell2_span))),_jQueryGS(cell1).css("maxWidth",totalResWidth),cell2&&(field2_width=field1_width=0,(-1<(cell2_span=_jQueryGS(cell1).find("span")).hasClass("zgs19_gsContactPhoneImg")||-1<cell2_span.hasClass("zgs19_gsContactMobileImg"))&&(field2_width=totalResWidth-(field1_width=120)),(-1<(cell2_span=_jQueryGS(cell2).find("span")).hasClass("zgs19_gsContactPhoneImg")||-1<cell2_span.hasClass("zgs19_gsContactMobileImg"))&&(field1_width=totalResWidth-(field2_width=120)),_jQueryGS(cell1).css("maxWidth",field1_width+"px"),_jQueryGS(cell2).css("maxWidth",field2_width+"px"),_jQueryGS(cell2).css("margin-inline-start","8px")),{cell1:cell1,cell2:cell2}},gssupportresults)}(zgssearch,window),function(zgssearch,window){var gswebsiteresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gswebsiteresults=(gswebsiteresults=void 0,(gswebsiteresults=zgssearch.gswebsiteresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,videoIcon){var searchInsType=videoIcon.hasOwnProperty("type")?videoIcon.type:"Search",filterDisplay=!videoIcon.hasOwnProperty("filters")||videoIcon.filters,summaryEle=resObj.sm||"",resPanLHSServiceIconEle=resObj.s||"",wTitle=zgssearch.replaceHTMLEntity(resObj.t)||"",serviceImg=gswebsiteresults.getPageResTT(resPanLHSServiceIconEle).image,isMultiService=zgssearch.isMultiSelectResults(GSConstant.WEBSITE,"serviceType","all_applications"),intxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),categoryId=resPanLHSServiceIconEle,serviceNameObj=void 0!==(resPanLHSServiceIconEle=zgssearch.getFilterInfo(GSConstant.WEBSITE,"serviceType","data")[resPanLHSServiceIconEle])&&""!==resPanLHSServiceIconEle,categCls=serviceNameObj?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",videoIcon="",summaryEle=""!==summaryEle?_jQueryGS("<div>",{class:"zgs19_gsResultSummary"}).html(summaryEle):"",serviceNameObj=(videoIcon=filterDisplay&&isMultiService?serviceNameObj?_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline zgs19_gsfl zgs19_gsPdLt3Px",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:resPanLHSServiceIconEle,gs:"gsWebService",key:categoryId,fkey:"serviceType"}).text(resPanLHSServiceIconEle):"":serviceNameObj?_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter_through.service"),gstitle:resPanLHSServiceIconEle}).text(resPanLHSServiceIconEle):"",_jQueryGS("<div>",{class:"zgs19_gsResLeftFilter",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(videoIcon))),videoIcon=_jQueryGS("<span>",{class:"zgs19_gsVideotimeOuter zgs18_gsHPVideotime"}),videoIcon=zgssearch.obtainLineIconPaths("zgs18_gsHPVideotime",videoIcon,!0),videoIcon=resObj.tURL?videoIcon:"",resPanLHSServiceIconEle=_jQueryGS("<span>",{class:"zgs19_gsUniIconWebsiteRes "+serviceImg,gstitle:resPanLHSServiceIconEle,gs:"resultMenuItem"}),resPanLHSServiceIconEle=zgssearch.obtainLineIconPaths(serviceImg,resPanLHSServiceIconEle,!0,"",!0);return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(resPanLHSServiceIconEle))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsMxWid75Per zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.filter.cliq.title"),gstitle:wTitle}).text(wTitle))).append(videoIcon).append(summaryEle).append(_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsResultFacet zgs19_gsOverflow "+categCls}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt2 zgs19_gsOverflow zgs19_gsfl",gstitle:intxt}).text(intxt)).append(serviceNameObj)))},gswebsiteresults.getPageResTT=function(wService){var websiteImgObj={image:"zgs18_wdefaultpage"};switch(wService){case"lens":case"marketinghub":case"bookings":case"sheet":case"orchestly":case"catalyst":case"bigin":case"analytics":case"accounts":case"assist":case"books":case"bugtracker":case"backstage":case"campaigns":case"cliq":case"connect":case"contactmanager":case"creator":case"crm":case"calendar":case"docs":case"desk":case"developer":case"expense":case"flow":case"forms":case"inventory":case"invoice":case"notebook":case"mail":case"motivator":case"meeting":case"pagesense":case"people":case"projects":case"recruit":case"salesinbox":case"salesiq":case"show":case"showtime":case"sign":case"social":case"subscriptions":case"survey":case"sites":case"sprints":case"vault":case"writer":case"workerly":case"workdrive":websiteImgObj.image="zgs18_w"+wService}return websiteImgObj},gswebsiteresults)}(zgssearch,window),function(zgssearch,gswikiresults){var _jQueryGS=gswikiresults._jQueryGS;zgssearch.gswikiresults=(gswikiresults=void 0,(gswikiresults=zgssearch.gswikiresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,wAttachIcon){var searchInsType=wAttachIcon.hasOwnProperty("type")?wAttachIcon.type:"Search",wAuth=resObj.dN||"",wDate=resObj.dT||"",wName=zgssearch.replaceHTMLEntity(resObj.title)||"";null!=wAuth&&""!=wAuth&&"null"!=wAuth||(wAuth=resObj.dN=resObj.auth);var servWikiImg=resObj.sImg,wikiTT=zgssearch.getDocResTT(servWikiImg),wAttachIcon="";return 1==resObj.ty&&(wAttachIcon=_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsfl"})),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+servWikiImg,gstitle:wikiTT,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:wDate}).text(wDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(wAttachIcon).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.result.wiki.resultfooter.wikiName"),gstitle:wName,istip:!0}).text(wName))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:wAuth,istip:!0}).text(wAuth))))},gswikiresults)}(zgssearch,window),function(zgssearch,window){var gsbooksresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsbooksresults=(gsbooksresults=void 0,(gsbooksresults=zgssearch.gsbooksresults||{}).getHtmlTemplate=function(booksTemplate,acc_id,itextTrim,id,service_name,i,totalResWidth,module){var searchInsType=module.hasOwnProperty("type")?module.type:"Search",booksIconClass=!module.hasOwnProperty("filters")||module.filters,module=booksTemplate.modules||"",booksTemplate=gsbooksresults.getBooksResTemplate(service_name,module,booksTemplate,acc_id,itextTrim,booksIconClass,searchInsType);if(0<Object.keys(booksTemplate).length){itextTrim="",booksIconClass="";return"contacts"===module?booksIconClass="zgs19_gsfl zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto":(booksIconClass="zgs19_gsResultIconText zgs19_gsfl "+gsbooksresults.getBooksRandColor(i),itextTrim=zgssearch.getFilterData(service_name,"modules","data",module,acc_id).substring(0,2).toUpperCase()),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:booksIconClass,gs:"resultMenuItem"}).text(itextTrim)))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(booksTemplate.row1||"").append(booksTemplate.row2||""))}},gsbooksresults.getBooksRandColor=function(i){var colorCodeClass=["zgs19_gs69C310Col","zgs19_gsF54746Col","zgs19_gsB148F3Col","zgs19_gs5b63f1Col","zgs19_gsdc970fCol","zgs19_gs2EA6B5Col",,"zgs19_gs707070Col"];return colorCodeClass[i%colorCodeClass.length]},gsbooksresults.getBooksResTemplate=function(service_name,module,resObj,acc_id,href,filterDisplay,searchInsType){var booksTemplates={},modulesDiv="",isMultiModule=zgssearch.isMultiSelectResults(service_name,"modules","all"),moduleName=zgssearch.getFilterData(service_name,"modules","data",module,acc_id);switch(filterDisplay&&(service_name===GSConstant.ALL||zgssearch.multiPageEnabled||isMultiModule)?modulesDiv=_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter1",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_module"),gstitle:moduleName,service:service_name,acc_id:acc_id,gs:service_name+"Modules",fId:module}).text(moduleName)):"Search"!==searchInsType&&(modulesDiv=_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsMxWid80Per zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.multi.module"),gstitle:moduleName}).text(moduleName))),module){case"contacts":booksTemplates=gsbooksresults.getBooksContactRes(resObj,modulesDiv,href);break;case"estimates":case"invoices":case"creditnotes":booksTemplates=gsbooksresults.getBooksResTemp(resObj,modulesDiv,module,href);break;case"customerpayments":booksTemplates=gsbooksresults.getBooksCustomerpaymentsRes(resObj,modulesDiv,href);break;case"recurring_invoices":booksTemplates=gsbooksresults.getBooksRecurringInvoicesRes(resObj,modulesDiv,href);break;case"items":booksTemplates=gsbooksresults.getBooksItemRes(resObj,modulesDiv,href)}return booksTemplates},gsbooksresults.getBooksContactRes=function(contactCls,contactnoTip,bepmTip){var booksTemplates={},row2FieldsWid=contactCls.outstanding_receivable||"",contactEle=contactCls.name||"";(row2FieldsWid||contactEle)&&(booksTemplates.icon_text=contactEle||"",contactno=zgssearch.getI18NMsg("gs.search.service_books.outstanding"),booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:contactno,gstitle:row2FieldsWid}).text(row2FieldsWid))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:bepmTip,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:contactEle,istip:!0}).text(contactEle))));var bepm=contactCls.email||"",contactno=contactCls.phone||contactCls.mobile||"",row2FieldsWid=""!==contactnoTip?" zgs19_gsWid72Per ":" zgs19_gsWid100Per ";return booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid30Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(contactnoTip)),(bepm||contactno)&&(bepmTip=zgssearch.getI18NMsg("common.email"),contactEle="",contactno&&(contactnoTip=contactCls.hasOwnProperty("phone")?zgssearch.getI18NMsg("common.phone"):zgssearch.getI18NMsg("common.mobile"),contactCls=contactCls.hasOwnProperty("phone")?"zgs18_phone":"zgs18_mobile",contactEle=_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow "+contactCls,gslabel:contactnoTip,gstitle:contactno}).append(_jQueryGS("<span>").text(contactno))),booksTemplates.row2.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+row2FieldsWid}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow",gslabel:bepmTip,gstitle:bepm}).text(bepm)).append(contactEle))),booksTemplates},gsbooksresults.getBooksResTemp=function(t1_dateElem,t1_statusElem,widCal,brefname){var booksTemplates={},bstatus=t1_dateElem.amt||"",row2FieldsWid=t1_dateElem.name||"";(row2FieldsWid||bstatus)&&(booksTemplates.icon_text=row2FieldsWid||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.amount"),gstitle:bstatus}).text(bstatus))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:brefname,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_books.billto"),gstitle:row2FieldsWid,istip:!0}).text(row2FieldsWid))));var bdate=t1_dateElem.date||"",bstatus=t1_dateElem.status||"",brefname=t1_dateElem.refname||"",row2FieldsWid=""!==t1_statusElem?" zgs19_gsWid72Per ":" zgs19_gsWid100Per ";if(booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid28Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(t1_statusElem)),brefname||bdate||bstatus){var t1_dateElem="",t1_statusElem="",invNoTip="";switch(widCal){case"invoices":invNoTip=zgssearch.getI18NMsg("gs.search.service_books.invoiceno");break;case"estimates":invNoTip=zgssearch.getI18NMsg("gs.search.service_books.estimateno");break;case"creditnotes":invNoTip=zgssearch.getI18NMsg("gs.search.service_books.creditnoteno")}widCal=brefname&&bstatus?"zgs19_gsMxWid30Per":"zgs19_gsWid72Per";brefname&&(t1_dateElem=_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+widCal,gslabel:zgssearch.getI18NMsg("gs.search.filter.dueDate"),gstitle:bdate}).text(bdate)),bstatus&&(t1_statusElem=_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+widCal,gslabel:zgssearch.getI18NMsg("common.status"),gstitle:bstatus}).text(bstatus)),booksTemplates.row2.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+row2FieldsWid}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C1",gslabel:invNoTip,gstitle:brefname,istip:!0}).text(brefname)).append(t1_dateElem).append(t1_statusElem))}return booksTemplates},gsbooksresults.getBooksCustomerpaymentsRes=function(eachFieldWid,modulesDiv,pnumber){var booksTemplates={},bamt=eachFieldWid.amt||"",row2FieldsWid=eachFieldWid.name||"";(row2FieldsWid||bamt)&&(booksTemplates.icon_text=row2FieldsWid||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.amount"),gstitle:bamt}).text(bamt))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:pnumber,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_books.billto"),gstitle:row2FieldsWid,istip:!0}).text(row2FieldsWid))));var bdate=eachFieldWid.date||"",bpmode=eachFieldWid.pmode||"",pnumber=eachFieldWid.pnumber||"",row2FieldsWid=""!==modulesDiv?" zgs19_gsWid70Per ":" zgs19_gsWid100Per ",eachFieldWid=""!==modulesDiv?"zgs19_gsMxWid43Per":"zgs19_gsMxWid45Per";return booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid30Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv)),(bamt||bpmode)&&booksTemplates.row2.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+row2FieldsWid}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow zgs19_gsMxWid30Per",gslabel:zgssearch.getI18NMsg("gs.search.service_books.paymentnumber"),gstitle:pnumber}).text(pnumber)).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+eachFieldWid,gslabel:zgssearch.getI18NMsg("gs.search.service_books.paymentdate"),gstitle:bdate}).text(bdate)).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+eachFieldWid,gslabel:zgssearch.getI18NMsg("gs.search.service_books.paymentmode"),gstitle:bpmode,istip:!0}).text(bpmode))),booksTemplates},gsbooksresults.getBooksRecurringInvoicesRes=function(bstatus,bfrequency,row2FieldsWid){var booksTemplates={},bamt=bstatus.amt||"",eachFieldWid=bstatus.name||"",date=bstatus.cname||"";(eachFieldWid||bamt)&&(booksTemplates.icon_text=eachFieldWid||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.amount"),gstitle:bamt}).text(bamt))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:row2FieldsWid,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_books.recurrencename"),gstitle:eachFieldWid,istip:!0}).text(eachFieldWid)).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.custname"),gstitle:date,istip:!0}).text(" - "+date))));row2FieldsWid=""!==bfrequency?" zgs19_gsMxWid74Per ":" zgs19_gsWid100Per ",eachFieldWid=""!==bfrequency?"zgs19_gsMxWid22Per":"zgs19_gsMxWid26Per";booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid35Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(bfrequency));date=bstatus.date||"",bfrequency=bstatus.frequency||"",bstatus=bstatus.status||"";return(date||bfrequency||bstatus)&&booksTemplates.row2.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+row2FieldsWid}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsOverflow "+eachFieldWid,gslabel:zgssearch.getI18NMsg("gs.search.service_books.nextinvoiceon"),gstitle:date}).text(date)).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+eachFieldWid,gslabel:zgssearch.getI18NMsg("gs.search.service_books.recurringperiod"),gstitle:bfrequency,istip:!0}).text(bfrequency)).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C22 zgs19_gsOverflow "+eachFieldWid,gslabel:zgssearch.getI18NMsg("common.status"),gstitle:bstatus}).text(bstatus))),booksTemplates},gsbooksresults.getBooksItemRes=function(isFieldRendered,modulesDiv,unit){var booksTemplates={},itemtype=isFieldRendered.name||"";itemtype&&(booksTemplates.icon_text=itemtype||"",soh=isFieldRendered.rate_or_source||"",booksTemplates.row1=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C2 zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.service_books.items_selling_price"),gstitle:soh}).text(soh))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R1C1 zgs19_gsWid72Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",href:unit,target:"_blank",rel:"noopener noreferrer",gslabel:zgssearch.getI18NMsg("gs.search.service_books.items_name"),gstitle:itemtype,istip:!0}).text(itemtype))));var fieldCls,sku=isFieldRendered.sku||"",soh=isFieldRendered.soh||"",unit=isFieldRendered.u||"",itemtype=isFieldRendered.itemtype||"",isFieldRendered=!1;return(sku||soh||unit||itemtype)&&(booksTemplates.row2Fields=_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1 zgs19_gsOverflow "+(""!==modulesDiv?" zgs19_gsWid72Per ":" zgs19_gsWid100Per ")})),sku&&(isFieldRendered=!0,booksTemplates.row2Fields.append(_jQueryGS("<div>",{class:"zgs19_gsBooksResT1R2C1C1 zgs19_gsfl zgs19_gsOverflow",gslabel:zgssearch.getI18NMsg("gs.search.service_books.items_sku"),gstitle:sku}).text(sku))),(soh||unit)&&(fieldCls=isFieldRendered?"zgs19_gsBooksResT1R2C1C22":"zgs19_gsBooksResT1R2C1C1",isFieldRendered=!0,booksTemplates.row2Fields.append(_jQueryGS("<span>",{class:fieldCls+" zgs19_gsMxWid26Per zgs19_gsfl zgs19_gsOverflow",gslabel:zgssearch.getI18NMsg("gs.search.service_books.stock_on_hand"),gstitle:soh+" "+unit}).text(soh+" "+unit))),itemtype&&(fieldCls=isFieldRendered?"zgs19_gsBooksResT1R2C1C22":"zgs19_gsBooksResT1R2C1C1",isFieldRendered=!0,booksTemplates.row2Fields.append(_jQueryGS("<span>",{class:fieldCls+" zgs19_gsfl zgs19_gsOverflow",gslabel:zgssearch.getI18NMsg("gs.search.service_books.items_item_type"),gstitle:itemtype}).text(itemtype))),booksTemplates.row2=_jQueryGS("<div>",{class:"zgs19_gsSearchResultTempl1"}).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid30Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(modulesDiv)),booksTemplates.row2.append(booksTemplates.row2Fields),booksTemplates},gsbooksresults)}(zgssearch,window),function(zgssearch,gscampaignresults){var _jQueryGS=gscampaignresults._jQueryGS;zgssearch.gscampaignresults=(gscampaignresults=void 0,(gscampaignresults=zgssearch.gscampaignresults||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,cfname){var oemail,clanem,searchInsType=cfname.hasOwnProperty("type")?cfname.type:"Search",camIcon="",camTitle="",camTitleLabel="",camModule="",camAuth="",camAuthLabel="",camDate="";return"1"==acc_id?(camDate=resObj.cct||"",camAuth=resObj.cst||"",camTitle=resObj.title=zgssearch.replaceHTMLEntity(resObj.email)||"",camIcon="zgs18_gsCampIcon",camModule=zgssearch.getI18NMsg("gs.search.service_campaigns"),camTitleLabel=zgssearch.getI18NMsg("common.subject"),camAuthLabel=zgssearch.getI18NMsg("common.status")):"2"==acc_id?(oemail=resObj.c_mail||"",clanem="null"!=(clanem=resObj.ln.trim()||"")?clanem:"",(cfname="null"!=(cfname=resObj.fNam.trim()||"")?cfname:"")||clanem?camTitle=resObj.title=(camTitle=cfname+" "+clanem).trim():oemail&&(camTitle=resObj.title=oemail.replace(/@.*$/,"")),camIcon="zgs18_gsCampContIcon",camAuth=oemail||resObj.ph||"",camTitleLabel=zgssearch.getI18NMsg("gs.search.service_people.name"),camModule=zgssearch.getI18NMsg("common.contact"),camAuthLabel=oemail?zgssearch.getI18NMsg("common.email"):zgssearch.getI18NMsg("common.mobile")):"3"==acc_id&&(camDate=resObj.ct||"",camAuth=resObj.oNam||"",camTitle=resObj.title=zgssearch.replaceHTMLEntity(resObj.lNam)||"",camIcon="zgs18_gsCampListIcon",camModule=zgssearch.getI18NMsg("gs.search.campaign.callout.lists"),camTitleLabel=zgssearch.getI18NMsg("gs.search.service_people.name"),camAuthLabel=zgssearch.getI18NMsg("common.description")),_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:camIcon,gstitle:camModule,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.filter.sorttime"),gstitle:camDate}).text(camDate))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append("").append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:camTitleLabel,gstitle:camTitle}).text(camTitle))).append(_jQueryGS("<div>",{class:"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:camAuthLabel,gstitle:camAuth,istip:!0}).text(camAuth))))},gscampaignresults)}(zgssearch,window),function(zgssearch,window){var gsworkdriveresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsworkdriveresults=(gsworkdriveresults=void 0,(gsworkdriveresults=zgssearch.gsworkdriveresults||{}).RESULTS_WIDTH={},gsworkdriveresults.getHtmlTemplate=function(labelName,acc_id,href,id,inTxt,i,totalResWidth,isMultiFolder){var teamId,searchInsType=isMultiFolder.hasOwnProperty("type")?isMultiFolder.type:"Search",filterDisplay=!isMultiFolder.hasOwnProperty("filters")||isMultiFolder.filters,dAuthor=labelName.auth||"",dName=labelName.dN||"",dTime=labelName.time||"",imageIconClass=(labelName.zuid,labelName.imgIcon),serviceImgTitle=zgssearch.getDocResTT(imageIconClass),fId=labelName.fId||"",edition=zgssearch.editionTypeForWD,searchType="";"ENTERPRISE"===edition?(searchType="teams",teamId=labelName.tId):"TEAM"===edition&&(searchType="accounts",teamId=labelName.zsoid);var teamName=zgssearch.getFilterData(inTxt,searchType,"data",teamId),rightFilter=zgssearch.getFilterData(inTxt,"folders","data",fId,teamId),leftFilter=zgssearch.getFilterData(inTxt,"folders","data",fId,"3"),isFolder="";""==rightFilter&&""!==leftFilter?(isFolder=leftFilter,teamId="3",teamName=zgssearch.getI18NMsg("gs.search.filter.orgfolders")):""!==rightFilter&&""==leftFilter&&(isFolder=rightFilter);var leftElem,isMultiTeams=zgssearch.isMultiSelectResults(GSConstant.WORKDRIVE,"teams","0"),isMultiFolder=zgssearch.isMultiSelectResults(GSConstant.WORKDRIVE,"folders","allfolders"),searchType=zgssearch.getSearchType(),inTxt="",leftFilter="",rightFilter="";"ENTERPRISE"===edition&&teamId?"-1"!=teamId&&""!==teamName&&(""!==isFolder&&(leftFilter=_jQueryGS("<span>",filterDisplay&&isMultiFolder?{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_gsMxWid80Per",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_folder"),gstitle:isFolder,istip:!0,gsfilter:"leftFilter",gs:"workDriveFolders",fId:fId,acc_id:teamId}:{class:"zgs19_gsOverflow  zgs19_gsCurDefault zgs19_gsWid90Per",gslabel:zgssearch.getI18NMsg("gs.search.result.document.folder"),gstitle:isFolder}).text(isFolder),inTxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),leftElem=_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow",gs:"folderTitle"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl"}).text(inTxt)).append(leftFilter)),rightFilter=filterDisplay&&(searchType===GSConstant.ALL||isMultiTeams)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter2",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_team"),gstitle:teamName,gs:"workDriveTeams",gsfilter:"rightFilter",teamId:teamId,istip:!0}).text(teamName)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsfr zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.filter_label_team"),gstitle:teamName,istip:!0}).text(teamName))):"TEAM"===edition&&""!==isFolder&&(rightFilter=filterDisplay&&(searchType===GSConstant.ALL||isMultiFolder)?_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter2",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_folder"),gstitle:isFolder,gs:"workDriveFolders",gsfilter:"rightFilter",fId:fId,acc_id:teamId}).text(isFolder)):_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",gslabel:zgssearch.getI18NMsg("gs.search.result.document.folder"),gstitle:isFolder}).text(isFolder)));isFolder=labelName.isF||"",labelName="",labelName=isFolder&&"true"===isFolder?zgssearch.getI18NMsg("gs.search.result.document.folderName"):zgssearch.getI18NMsg("gs.search.result.document.documentName");return _jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+imageIconClass,gstitle:serviceImgTitle,gs:"resultMenuItem"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),gstitle:dTime}).text(dTime))).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:href,target:"_blank",rel:"noopener noreferrer",gslabel:labelName,gstitle:dName}).text(dName)))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{gs:"gsFilterIcon",class:"zgs19_gsMxWid78Per zgs19_gsWid78Per zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsOverflow zgs19_gsMxWid100Per",gslabel:zgssearch.getI18NMsg("common.author"),gstitle:dAuthor,istip:!0}).text(dAuthor))).append(leftElem)).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsOverflow zgs19_gsWid20Per",gs:"gsOverflowFooter"}).append(rightFilter))))},gsworkdriveresults.setResultsWidthInfo=function(service_name,account_id,service_info){gsworkdriveresults.RESULTS_WIDTH[service_name]=gsworkdriveresults.RESULTS_WIDTH[service_name]||{},null!=account_id&&"0"!==account_id?gsworkdriveresults.RESULTS_WIDTH[service_name][account_id]=service_info:gsworkdriveresults.RESULTS_WIDTH[service_name]=service_info},gsworkdriveresults.getResultsWidthInfo=function(results_width,account_id){results_width=gsworkdriveresults.RESULTS_WIDTH[results_width]||{};return results_width=void 0!==account_id&&"0"!==account_id?results_width[account_id]||{}:results_width},gsworkdriveresults.setFooterElementsWidth=function(prev_last_element_id){var service_results_view_id,div_id,service_name=prev_last_element_id.service_name,results_area_width=prev_last_element_id.total_results_area_width,account_id=prev_last_element_id.account_id,service_info=gsworkdriveresults.getResultsWidthInfo(service_name,account_id),prev_last_element_id=service_info.current_last_elem_id||"",current_last_elem_id="",second_row_remaining_width=Math.floor((results_area_width-50-15)/100*80),elem_widths_obj={};for(div_id in(""===prev_last_element_id?(service_results_view_id="zgs20_gs"+service_name+"Results",void 0!==account_id&&zgssearch.multiPageEnabled?_jQueryGS("#"+(service_results_view_id="zgs20_gs"+account_id+"Results")+" >div"):_jQueryGS("#"+service_results_view_id+" >div")):(service_results_view_id="zgs20_gs"+service_name+"Results",void 0!==account_id&&zgssearch.multiPageEnabled&&(service_results_view_id="zgs20_gs"+account_id+"Results"),_jQueryGS("#"+service_results_view_id).find("#"+prev_last_element_id).first().nextAll())).each(function(index){var div_id=_jQueryGS(this).attr("id"),footer2_elem_width=_jQueryGS(this).find(".zgs19_gsContactNumber"),footer_elements_length=footer2_elem_width.length,footer1_elem_width=0<footer_elements_length?_jQueryGS(_jQueryGS(footer2_elem_width)[0]).outerWidth()+15:0,footer2_elem_width=1<footer_elements_length?_jQueryGS(_jQueryGS(footer2_elem_width)[1]).outerWidth()+15:0;footer2_elem_width=second_row_remaining_width<=footer1_elem_width?(elements_width=footer2_elem_width/(footer1_elem_width+footer2_elem_width)*100,footer1_elem_width=Math.floor(second_row_remaining_width/100*(footer1_elem_width/(footer1_elem_width+footer2_elem_width)*100)),Math.floor(second_row_remaining_width/100*elements_width)):second_row_remaining_width-footer1_elem_width;var elements_width=[];elements_width.push(footer1_elem_width),elements_width.push(footer2_elem_width),elem_widths_obj[div_id]=elements_width,current_last_elem_id=div_id}),elem_widths_obj){var footer_elements_length=_jQueryGS("#"+div_id),elements_width=elem_widths_obj[div_id],footer_elements=footer_elements_length.find(".zgs19_gsContactNumber"),footer_elements_length=footer_elements.length;0<footer_elements_length&&(_jQueryGS(_jQueryGS(footer_elements)[0]).css("max-width",elements_width[0]+"px"),1<footer_elements_length&&_jQueryGS(_jQueryGS(footer_elements)[1]).css("max-width",elements_width[1]+"px"))}(service_info={}).results_area_width=results_area_width,service_info.results_icon_width=50,service_info.prev_last_element_id=prev_last_element_id,service_info.current_last_elem_id=current_last_elem_id,gsworkdriveresults.setResultsWidthInfo(service_name,account_id,service_info)},gsworkdriveresults)}(zgssearch,window),function(zgssearch,window){var gsslackres,_jQueryGS=window._jQueryGS,document=(zgssearch.getGSConstantObj(),window.document);zgssearch.gsslackres=(gsslackres=void 0,(gsslackres=zgssearch.gsslackres||{}).getIconInfo=function(serviceImg){var icon_info={},module_id=serviceImg.module_id||"",result_type=serviceImg.result_type||"",attach_icon="",icon_title="",group_icon="",tagName="span";return 2==module_id||3==module_id||4==module_id?(attach_icon="resultMenuItem",group_icon=(serviceImg.hasOwnProperty("is_priv")&&serviceImg.is_priv?serviceImg.is_priv:"")?"zgs18_gsSlackPrivateChannel":"zgs18_gsSlackPublicChannel",3==module_id?icon_title=zgssearch.getI18NMsg("gs.search.filter.cliq.channel"):2!=module_id&&4!=module_id||(icon_title=zgssearch.getI18NMsg("gs.search.result.slack.callout.group"))):1!=module_id&&5!=module_id||(attach_icon="gsUserPhoto",tagName="img"),2==result_type&&(serviceImg=serviceImg.servImg||"",icon_title=zgssearch.getDocResTT(serviceImg),group_icon="zgs19_gsResultsUniIcons "+serviceImg,attach_icon=""),icon_info.icon_title=icon_title,icon_info.group_icon=group_icon,icon_info.attach_icon=attach_icon,icon_info.tag=tagName,icon_info},gsslackres.getHtmlTemplate=function(temp2_elem){var date=temp2_elem.date||"",module_id=temp2_elem.module_id||"",spanTag1=temp2_elem.module_name||"",replaceNode=temp2_elem.link||"",footer_dom_element=zgssearch.Utils.createElement("div","","zgs19_gsSlkResultAuthor zgs19_gsOverflow"),aEle=temp2_elem.result_type||"",pcount=gsslackres.getIconInfo(temp2_elem),iconTitle=pcount.icon_title,group_icon=pcount.group_icon,AttachIcon=pcount.attach_icon,infoDiv=pcount.tag,disp_sender_name="",disp_sender_gstitle="",disp_sender_gslabel=zgssearch.I18N.getValue("gs.search.result.mail.resultfooter.sender"),infoDiv1=temp2_elem.cname||""||temp2_elem.p_uname||temp2_elem.name||temp2_elem.cby||"";zgssearch.isListViewSearch()?(sender_name_length=temp2_elem.cby||"",(pcount=temp2_elem.mcount||0)&&2<pcount?(disp_sender_name=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),disp_sender_gslabel=zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"),disp_sender_gstitle=pcount):""!==sender_name_length&&1!=module_id?(disp_sender_name=disp_sender_gstitle=sender_name_length,disp_sender_gslabel=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy")):disp_sender_gstitle=disp_sender_name=zgssearch.getI18NMsg("gs.search.filter.cliq.withme")):(infoDiv1=temp2_elem.p_uname||temp2_elem.name||"",disp_sender_name=(disp_sender_gstitle=temp2_elem.h_uname||"")+":");var chat_title=temp2_elem.title=zgssearch.replaceHTMLEntity(infoDiv1)||"",sender_name_length=!(!temp2_elem.hasOwnProperty("is_cu")||!temp2_elem.is_cu)&&temp2_elem.is_cu,infoDiv1=temp2_elem.pre||temp2_elem.txt||"",infoDiv1=zgssearch.replaceHTMLEntity(infoDiv1);disp_sender_gstitle&&(sender_name_length&&(disp_sender_name=(disp_sender_gstitle=zgssearch.getI18NMsg("gs.search.filter.cliq.you"))+":"),(zgssearch.isListViewSearch()||""!=infoDiv1&&!zgssearch.isListViewSearch())&&(sender_name_length=disp_sender_name.length,sender_name_length+=15,iconDiv=infoDiv1.length,Math.floor(sender_name_length/(sender_name_length+iconDiv)*75),iconDiv=Math.floor(iconDiv/(sender_name_length+iconDiv)*75),_jQueryGS(footer_dom_element).append(_jQueryGS("<span>",{class:"zgs19_gsCqFo1 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:disp_sender_gslabel,gstitle:disp_sender_gstitle}).append(document.createTextNode(disp_sender_name))).append(_jQueryGS("<span>",{class:"zgs19_gsCqFo2 zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",gslabel:disp_sender_gstitle,style:"max-width:"+iconDiv+"%"}).append(document.createTextNode(infoDiv1)))));var iconDiv=zgssearch.resultUtil.querySlt(document,"#iconTemplate"),infoDiv1=zgssearch.resultUtil.querySlt(iconDiv,"div"),iconDiv=document.importNode(infoDiv1,!0);"img"==infoDiv?iconDiv.querySelector("span").outerHTML="":iconDiv.querySelector("img").outerHTML="",zgssearch.resultUtil.setAttVal(iconDiv,"class",group_icon,infoDiv),zgssearch.resultUtil.setAttVal(iconDiv,"gs",AttachIcon,infoDiv),zgssearch.resultUtil.setAttVal(iconDiv,"gstitle",iconTitle,infoDiv);infoDiv=zgssearch.resultUtil.querySlt(document,"#infoTemplate"),infoDiv1=zgssearch.resultUtil.querySlt(infoDiv,"div"),infoDiv=document.importNode(infoDiv1,!0);zgssearch.resultUtil.setAttVal(infoDiv,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow","#temp1"),infoDiv.querySelector("#temp1").innerHTML=date,zgssearch.resultUtil.setAttVal(infoDiv,"class","zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow","#temp2");replaceNode=_jQueryGS(zgssearch.Utils.createElement("div","temp2","zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow")).append(zgssearch.Utils.createElement("a","","",{gs:"resultTitle",href:replaceNode,target:"_blank",rel:"noopener noreferrer"})).append(_jQueryGS(zgssearch.Utils.createElement("div","temp2Span")).append(_jQueryGS(zgssearch.Utils.createElement("span","","zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"))).append(_jQueryGS(zgssearch.Utils.createElement("span","","",{istip:!0}))));infoDiv.querySelector("#temp2").outerHTML=replaceNode[0].outerHTML,2==aEle||3==aEle?(spanTag=infoDiv.querySelector("#temp2").querySelectorAll("span"),zgssearch.resultUtil.setAttVal(spanTag[0],"class","zgs18_gsAttachIcon zgs19_gsfl"),aEle=infoDiv.querySelector("#temp2").querySelector("a"),_jQueryGS(aEle).text(chat_title),_jQueryGS(spanTag[1]).append(aEle),temp2_elem.hasOwnProperty("shared")&&temp2_elem.shared&&infoDiv.querySelector("#temp2Span").appendChild(zgssearch.Utils.createElement("span","","zgs18_gsSharedIcon",{gstitle:zgssearch.I18N.getValue("gs.search.result.document.callout.sharedbyName",[temp2_elem.h_uname||""])}))):(temp2_elem=infoDiv.querySelector("#temp2"),_jQueryGS(temp2_elem.querySelector("a")).text(chat_title),infoDiv.querySelector("#temp2Span").outerHTML=""),infoDiv.querySelector("#temp3").outerHTML="";infoDiv1=document.importNode(infoDiv1,!0);zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsResRightFilter zgs19_gsfr zgs19_gsOverflow","#temp1");var spanTag=infoDiv1.querySelector("#temp1").querySelectorAll("span");zgssearch.resultUtil.setAttVal(spanTag[0],"class","zgs19_hvr_underlineHeader"),spanTag[1].innerHTML=spanTag1.toString(),zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsOverflow","#temp2");spanTag1=infoDiv1.querySelector("#temp2").querySelector("span");zgssearch.resultUtil.setAttVal(spanTag1,"class","zgs19_gsOverflow zgs19_gsfl zgs19_gs_crmResultHeader"),spanTag1.innerHTML=footer_dom_element.outerHTML,infoDiv1.querySelector("#temp3").outerHTML="";return{iconDiv:iconDiv,infoDiv:infoDiv,infoDiv1:infoDiv1,infoDiv2:""}},gsslackres)}(zgssearch,window),function(zgssearch,gso365results){gso365results._jQueryGS,zgssearch.getGSConstantObj();zgssearch.gso365results=(gso365results=void 0,(gso365results=zgssearch.gso365results||{}).getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curResultObj){return zgssearch.Template.getMailTemplate(resObj,href,acc_id,{sender:"sender_name",display_time:"date",folder_id:"folderId",folder_name:"folderName",has_attachment:"hasAttachments",subject:"subject",isBold:"isRead"},curResultObj)},gso365results)}(zgssearch,window),zgssearch.resultUtil={setAttVal:function(node,attr,val,tag){node&&attr&&(tag?zgssearch.resultUtil.querySlt(node,tag):node).setAttribute(attr,val)},querySlt:function(parent,child,all){if(parent&&child)return all?parent.querySelectorAll(child):parent.querySelector(child)}},function(zgssearch,window){var gscalendarresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscalendarresults=(gscalendarresults=void 0,(gscalendarresults=zgssearch.gscalendarresults||{}).generateCalendarResNodeTemplate=function(searchInsType,templateId){var calendarTemplate=document.querySelector("#"+templateId);null==calendarTemplate&&(calendarTemplate=_jQueryGS("<template>",{id:templateId}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalcIconHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalcDateHolder",gs:"eventDateInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalcMonthHolder",gs:"eventMonthInfo"})))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid100Per zgs19_gsOverflow "}).append(_jQueryGS("<a>",{id:"zgs20_gsEventTitleTxt",gs:"resultTitle",istip:!0,href:"",target:"_blank",rel:"noopener noreferrer",gstitle:""}))).append(_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsWid97Per"}).append(_jQueryGS("<span>",{class:"zgs18_gsDateIcon zgs19_gsfl"})).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsfl ",gslabel:zgssearch.getI18NMsg("gs.search.service_books.startdate"),gs:"eventstartDateInfo"})).append(_jQueryGS("<div>",{class:"zgs18_gsRecurrenceIcon zgs19_gsFontWeightBold zgs19_gsfl zgs19_gsDisplayNone",gs:"recurrenceEvent",gstitle:zgssearch.getI18NMsg("gs.search.calendar.results.recurringevent")}))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(_jQueryGS("<div>",{id:"zgs20_gsEventHostTxt",class:" zgs19_CalcAuthorTxt zgs19_gsfl zgs19_gsOverflow ",gs:"eventHostInfo"})).append(_jQueryGS("<div>",{class:"zgs19_CalcLocation zgs19_gsfl zgs19_gsOverflow",gs:"eventLocationInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsWid20Per",gs:"gsOverflowFooter"}).append(_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader",gs:"calServiceInfo"})))))),_jQueryGS("#zgs20_globalsearch").append(calendarTemplate),_jQueryGS("#"+templateId).css("display","none"))},gscalendarresults.getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curResultObj){try{var searchInsType=curResultObj.hasOwnProperty("type")?curResultObj.type:"Search",templateId=curResultObj.hasOwnProperty("templateId")?curResultObj.templateId:"zgs20_gscalendarResTemplate",filterDisplay=!curResultObj.hasOwnProperty("filters")||curResultObj.filters;gscalendarresults.generateCalendarResNodeTemplate(searchInsType,templateId);var calendarResNodeTemplate=document.querySelector("#"+templateId),resultsRow=".zgs19_gs"+searchInsType+"ResultRow",row_template=calendarResNodeTemplate.querySelector(resultsRow),template_content=_jQueryGS(document.importNode(row_template,!0));return zgssearch.setGSTagElems(template_content),gscalendarresults.getHtmlTemplate.eventIconElem(template_content,resObj),gscalendarresults.getHtmlTemplate.eventNameElem(template_content,resObj,href),gscalendarresults.getHtmlTemplate.eventDateElem(template_content,resObj),gscalendarresults.getHtmlTemplate.eventDetailsElem(template_content,resObj),gscalendarresults.getHtmlTemplate.serviceElem(template_content,acc_id,resObj,filterDisplay),template_content}catch(ex){zgssearch.throwClientError("Error while template creation for the servicename :"+service_name+" Ex:",ex)}},gscalendarresults.getHtmlTemplate.eventIconElem=function(template_content,date){var month=(date.sT||"").split(","),date=(month=month[0].split(" "))[1],month=(month=month[0]).charAt(0).toUpperCase()+month.slice(1);_jQueryGS(template_content.eventDateInfo).text(date),_jQueryGS(template_content.eventMonthInfo).text(month)},gscalendarresults.getHtmlTemplate.eventNameElem=function(titleElem,title,href){title=title.t||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),titleElem=_jQueryGS(titleElem.resultTitle);titleElem.attr("href",href),zgssearch.getTargetElem("zgs20_gsEventTitleTxt").setAttribute("gslabel",zgssearch.getI18NMsg("common.eventtitle")),titleElem.attr("gstitle",title),_jQueryGS(titleElem).text(title)},gscalendarresults.getHtmlTemplate.eventDateElem=function(hrsAndMins,resObj){var startDateTxt="",dateElem=_jQueryGS(hrsAndMins.eventstartDateInfo),color=resObj.clr||"";startDateTxt="1"===color?resObj.hasOwnProperty("STM")?(hrsAndMins=zgssearch.convertDurationText(resObj.STM-resObj.CTM),gscalendarresults.formStartDateText(hrsAndMins)):zgssearch.getI18NMsg("gs.search.calendar.callout.started"):(startDateTxt=resObj.sT||"").replace(/-/g,String.fromCharCode(160)),dateElem.attr("gstitle",resObj.sT||""),dateElem.addClass(["zgs19_gsCompletedEventColor","zgs19_gsTodayEventColor","zgs19_gsTomorrowEventColor","zgs19_gsUpcomingEventColor"][color]),dateElem.text(startDateTxt)},gscalendarresults.getHtmlTemplate.eventDetailsElem=function(template_content,recId){var hostName=recId.host||"",location=recId.loc||"",hostElem=_jQueryGS(template_content.eventHostInfo),locElem=_jQueryGS(template_content.eventLocationInfo),recId=recId.recId||"";""!==hostName&&(zgssearch.getTargetElem("zgs20_gsEventHostTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.results.host")),hostElem.attr("gstitle",hostName),hostElem.text(hostName)),""!==location?(locElem.append(_jQueryGS("<span>",{class:"zgs18_crm_location"})),locElem.append(_jQueryGS("<span>",{class:"zgs19_gsContactEmail"}).text(location)),""==hostName&&locElem.addClass("zgs19_gsMxWid80Per")):hostElem.addClass("zgs19_gsCalMW10Pxof80"),recId&&_jQueryGS(template_content.recurrenceEvent).removeClass("zgs19_gsDisplayNone")},gscalendarresults.getHtmlTemplate.serviceElem=function(isMultiService,acc_id,serFilterElem,filterDisplay){var serviceId=serFilterElem.sId||"",serFilterElem=_jQueryGS(isMultiService.calServiceInfo),isMultiService=zgssearch.isMultiSelectResults(GSConstant.CALENDAR,"services","0");filterDisplay&&isMultiService?serFilterElem.append(_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gs:"calendarServices",gslabel:zgssearch.getI18NMsg("gs.search.filter_through_calendar"),gstitle:zgssearch.getCalendarServiceName(serviceId),fId:serviceId,acc_id:acc_id}).text(zgssearch.getCalendarServiceName(serviceId))):serFilterElem.append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",fId:serviceId,acc_id:acc_id}).text(zgssearch.getCalendarServiceName(serviceId)))},gscalendarresults.formStartDateText=function(mins){var msg=zgssearch.getI18NMsg("gs.search.calendar.results.startsIn"),hours=mins[0],mins=mins[1];return 0<hours&&(msg+=" "+hours,msg+=1<hours?" "+zgssearch.getI18NMsg("gs.search.calendar.results.hours"):" "+zgssearch.getI18NMsg("gs.search.calendar.results.hour")),0<mins&&(msg+=" "+mins,msg+=1<mins?" "+zgssearch.getI18NMsg("gs.search.calendar.results.minutes"):" "+zgssearch.getI18NMsg("gs.search.calendar.results.minute")),msg},gscalendarresults)}(zgssearch,window),function(zgssearch,window){var gsnotebookresults,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsnotebookresults=(gsnotebookresults=void 0,(gsnotebookresults=zgssearch.gsnotebookresults||{}).generateNotebookResNodeTemplate=function(searchInsType,templateID){var date_elem,title_elem,authorName_elem,summary_elem,nbName_elem,nbType,notebookTemplate=document.querySelector("#"+templateID);null===notebookTemplate&&(date_elem=_jQueryGS("<span>",{gstitle:"",gs:"date",gslabel:""}),title_elem=_jQueryGS("<a>",{gs:"resultTitle",istip:!0,href:"",target:"_blank",rel:"noopener noreferrer",gstitle:""}),authorName_elem=_jQueryGS("<div>",{class:"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",gs:"authorOuter"}).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("common.author"),gstitle:"",istip:!0,gs:"author"})),summary_elem=_jQueryGS("<div>",{class:"zgs19_gsResultSummary",gs:"summ"}),nbType=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),nbName_elem=_jQueryGS("<div>",{class:"zgs19_gsResultNBName zgs19_gsfl zgs19_gsOverflow",gs:"nbN"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gstitle:nbType}).text(nbType)).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.r.nb.notebook"),gs:"nbNameTxt"})),nbType=_jQueryGS("<span>",{class:"zgs19_hvr_underlineHeader",gs:"nbType"}),notebookTemplate=_jQueryGS("<template>",{id:templateID}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gs"+searchInsType+"ResultCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(date_elem)).append(_jQueryGS("<div>",{class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow zgs19_gsNotebookResultTitle"}).append(title_elem))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(summary_elem)).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsfl"}).append(authorName_elem).append(nbName_elem).append(_jQueryGS("<div>",{class:"zgs19_gsResRightFilter zgs19_gsMxWid20Per zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(nbType))))),_jQueryGS("#zgs20_globalsearch").append(notebookTemplate),_jQueryGS("#"+templateID).css("display","none"))},gsnotebookresults.getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,curResultObj){try{var searchInsType=curResultObj.hasOwnProperty("type")?curResultObj.type:"Search",templateID=curResultObj.hasOwnProperty("templateId")?curResultObj.templateId:"zgs20_gsNotebookResTemplate",filterDisplay=!curResultObj.hasOwnProperty("filters")||curResultObj.filters;gsnotebookresults.nbClient.process(resObj),gsnotebookresults.generateNotebookResNodeTemplate(searchInsType,templateID);var notebookResNodeTemplate=document.querySelector("#"+templateID),resultsRow=".zgs19_gs"+searchInsType+"ResultRow",row_template=notebookResNodeTemplate.querySelector(resultsRow),template_content=_jQueryGS(document.importNode(row_template,!0));return zgssearch.setGSTagElems(template_content),gsnotebookresults.getHtmlTemplate.constructAuthorElem(template_content),gsnotebookresults.getHtmlTemplate.constructPhotoElem(template_content,resObj),gsnotebookresults.getHtmlTemplate.constructNameElem(template_content,href,resObj),gsnotebookresults.getHtmlTemplate.constructDateElem(template_content,resObj),gsnotebookresults.getHtmlTemplate.constructSummaryElem(template_content),gsnotebookresults.getHtmlTemplate.constructNotebookTypeElem(template_content,resObj,filterDisplay),gsnotebookresults.getHtmlTemplate.constructNotebookNameElem(template_content,resObj),template_content}catch(ex){zgssearch.throwClientError("Error while template creation for the servicename :"+service_name+" Ex:",ex)}},gsnotebookresults.getHtmlTemplate.setValue=function(template_content,elem,field_title,field_value,field_label){elem=_jQueryGS(template_content[elem]);field_label&&elem.attr("gslabel",field_label),elem.attr("gstitle",field_title),elem.text(field_value)},gsnotebookresults.getHtmlTemplate.constructAuthorElem=function(template_content){gsnotebookresults.getHtmlTemplate.setValue(template_content,"author",zgssearch.GSConstant.cun,zgssearch.GSConstant.cun)},gsnotebookresults.getHtmlTemplate.constructPhotoElem=function(template_content,ncType){var serviceImg=gsnotebookresults.nbClient.getThumbnailImage(),ncType=gsnotebookresults.getNoteBookResTT(ncType.type).ncType;_jQueryGS(serviceImg).attr("gstitle",ncType),_jQueryGS(serviceImg).addClass("zgs19_gsNBthumbnail"),_jQueryGS(template_content.resultMenuItem).append(serviceImg)},gsnotebookresults.getHtmlTemplate.constructNameElem=function(elem,href,gslabel){var title=gsnotebookresults.nbClient.getTitle()||gslabel.name||zgssearch.getI18NMsg("gs.r.nb.untitled"),gslabel=""!==gslabel.notecard_id&&void 0!==gslabel.notecard_id?zgssearch.getI18NMsg("gs.r.nb.notes"):zgssearch.getI18NMsg("gs.r.nb.notebook"),elem=_jQueryGS(elem.resultTitle);elem.attr("href",href),elem.attr("gstitle",title),elem.attr("gslabel",gslabel),_jQueryGS(elem).html("").text(title)},gsnotebookresults.getHtmlTemplate.constructDateElem=function(template_content,label){var date=label.time||"",label=zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime");gsnotebookresults.getHtmlTemplate.setValue(template_content,"date",date,date,label)},gsnotebookresults.getHtmlTemplate.constructSummaryElem=function(template_content){var summary=gsnotebookresults.nbClient.getDescription();""!==summary&&null!=summary?(_jQueryGS(template_content.summ).css("display","block"),_jQueryGS(template_content.summ).html("").text(summary)):_jQueryGS(template_content.summ).css("display","none")},gsnotebookresults.getHtmlTemplate.constructNotebookTypeElem=function(template_content,ncAPIKeyType,filterDisplay){var isMultiNoteCard,nbType,ncType=zgssearch.getCurrentValue("modules",GSConstant.NOTEBOOK);"notebooks"!==ncType&&(isMultiNoteCard=zgssearch.isMultiSelectResults(GSConstant.NOTEBOOK,"notecardtype",ncType)&&zgssearch.checkIfKeyPresentInAdvanceSearch(GSConstant.NOTEBOOK,"notecardtype"),ncType=(nbType=gsnotebookresults.getNoteBookResTT(ncAPIKeyType.type)).ncType,ncAPIKeyType=nbType.apiKey,nbType=_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsfl zgs19_gsCurDefault",gstitle:zgssearch.getI18NMsg("gs.r.f.notecardtype")+": "+ncType}).text(ncType),filterDisplay&&isMultiNoteCard&&(nbType=_jQueryGS("<span>",{class:"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",gstitle:zgssearch.getI18NMsg("gs.search.filter_through")+": "+ncType,gs:"gsNotebookService",key:ncAPIKeyType,fkey:"notecardtype"}).text(ncType)),_jQueryGS(template_content.nbType).append(nbType))},gsnotebookresults.getHtmlTemplate.constructNotebookNameElem=function(template_content,noteBookName){var notecardId=noteBookName.notecard_id||"",noteBookName=noteBookName.nbN||"";""!==notecardId&&""!==noteBookName?(_jQueryGS(template_content.nbN).css("display","block"),_jQueryGS(template_content.authorOuter).css("max-width","38%"),gsnotebookresults.getHtmlTemplate.setValue(template_content,"nbNameTxt",noteBookName,noteBookName)):(_jQueryGS(template_content.authorOuter).css("width","80%"),_jQueryGS(template_content.nbN).css("display","none"))},gsnotebookresults.getNoteBookResTT=function(type){var ncType="",apiKey=""!==type&&void 0!==type?type.replace("note/",""):"";switch(type){case"note/notes":ncType=zgssearch.getI18NMsg("common.notes");break;case"note/notebooks":ncType=zgssearch.getI18NMsg("gs.f.nb.notebooks");break;case"note/favorite":ncType=zgssearch.getI18NMsg("gs.f.nb.favorite");break;case"note/text":case"note/mixed":apiKey="text",ncType=zgssearch.getI18NMsg("gs.f.nb.text");break;case"note/checklist":ncType=zgssearch.getI18NMsg("gs.f.nb.checklist");break;case"note/image":ncType=zgssearch.getI18NMsg("gs.f.nb.photo");break;case"note/document":ncType=zgssearch.getI18NMsg("gs.f.nb.file");break;case"note/contact":ncType=zgssearch.getI18NMsg("gs.f.nb.contact");break;case"note/audio":ncType=zgssearch.getI18NMsg("gs.f.nb.audio");break;case"note/sketch":ncType=zgssearch.getI18NMsg("gs.f.nb.sketch");break;case"note/bookmark":ncType=zgssearch.getI18NMsg("gs.f.nb.link")}return{ncType:ncType,apiKey:apiKey}},gsnotebookresults)}(zgssearch,window),function(zgssearch,window){var gsgmailresults,_jQueryGS=window._jQueryGS;zgssearch.getGSConstantObj();zgssearch.gsgmailresults=(gsgmailresults=void 0,(gsgmailresults=zgssearch.gsgmailresults||{}).labelDetails,gsgmailresults.getHtmlTemplate=function(resObj,acc_id,href,id,service_name,i,totalResWidth,response){let curSelectedLabelForFilter="";zgssearch.searchObj.hasOwnProperty("advConfig")&&0<zgssearch.searchObj.advConfig.length&&"label"===zgssearch.searchObj.advConfig[0].name&&0!==zgssearch.searchObj.advConfig[0].value.length&&(curSelectedLabelForFilter=zgssearch.searchObj.advConfig[0].value[0]);response=zgssearch.Template.getGmailTemplate(resObj,href,acc_id,{sender:"From",display_time:"Date",labelDetails:"labelIds",subject:"Subject",isBold:"isRead",snippet:"snippet"},response,curSelectedLabelForFilter);return gsgmailresults.labelDetails=response.labelDetails,response.htmlTemplate},gsgmailresults.pushLabelsToSpace=function(targetElement,acc_id,actionNeeded,isDashBoardOrCardView){let labelsToShow=1;0<zgssearch.gscomponent.UIType&&!isDashBoardOrCardView&&(labelsToShow=2),targetElement=targetElement.find(".zgs19_gsGmailFromAndLabelDetails");let availableWidth=_jQueryGS(targetElement.get(0)).outerWidth(!0)-_jQueryGS(targetElement.get(0)).find("#temp1").outerWidth(!0);isDashBoardOrCardView||_jQueryGS(targetElement.get(0)).find("#temp2").css("width",availableWidth);for(let i=0;i<gsgmailresults.labelDetails.length;i++){var dropdownLabelDiv=gsgmailresults.labelDetails[i];labelDiv=zgssearch.Template.getGmailPeekLabelDiv(dropdownLabelDiv,acc_id,isDashBoardOrCardView),_jQueryGS(targetElement.get(0)).find("#temp2Span").append(labelDiv),availableWidth-=_jQueryGS(_jQueryGS(targetElement.get(0)).find("#temp2").children().find(".zgs19_gmailLabelPeekName").get(-1)).outerWidth(!0);var moreLabelCount=5*Math.floor(availableWidth/5)<=55,dropdownLabelDiv=i==gsgmailresults.labelDetails.length-1&&5*Math.floor(availableWidth/5)<=45;if(isDashBoardOrCardView&&i>=labelsToShow||!isDashBoardOrCardView&&(i>=labelsToShow||moreLabelCount||dropdownLabelDiv)){0==i?_jQueryGS(_jQueryGS(targetElement.get(0)).find("#temp2Span").children().get(-1)).addClass("zgs19_gsGmailLastLabelInPreview"):_jQueryGS(targetElement.get(0)).find("#temp2Span").children().get(-1).remove();moreLabelCount=gsgmailresults.labelDetails.slice(i),dropdownLabelDiv=zgssearch.Template.getGmailHiddenLabelsDiv(moreLabelCount,acc_id,actionNeeded),moreLabelCount=_jQueryGS("<span>",{class:"zgs19_gsShowHiddenLabelCount",gstitle:zgssearch.I18N.getValue("gs.search.result.mail.allLabels"),gs:"gmailLabelDropdown"}).text("+"+moreLabelCount.length);_jQueryGS(targetElement.get(0)).find("#temp2Span").append(moreLabelCount).append(dropdownLabelDiv);break}}},gsgmailresults)}(zgssearch,window),function(zgssearch,gscomponent){var document=gscomponent.document,_jQueryGS=gscomponent._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.maxPrevPane=gscomponent.isResizeEnabled()&&null!=typeof zgssearch.maxPrevPane?zgssearch.maxPrevPane:zgssearch.isDashboardEnabled?900:950,zgssearch.minPrevPane=gscomponent.isResizeEnabled()&&null!=typeof zgssearch.minPrevPane?zgssearch.minPrevPane:zgssearch.isDashboardEnabled?500:525,zgssearch.isMaxCalloutOpen=!1,zgssearch.getClosestLayoutElementsWidth=function(resultElem,isTargetObjNeeded){let returnObj={},widthObj={},previewBodyElem=_jQueryGS(resultElem).closest('[domselector="previewbody"]');var calloutElem=previewBodyElem.find('[domselector="calloutpreview"]')[0],resultElem=previewBodyElem.find('[domselector="resultpreview"]')[0];return widthObj.calloutWidth=calloutElem?_jQueryGS(calloutElem).outerWidth():0,widthObj.resulWidth=resultElem?_jQueryGS(resultElem).outerWidth():0,widthObj.bodyWidth=previewBodyElem.outerWidth()||0,returnObj.widthObj=widthObj,isTargetObjNeeded&&(returnObj.targetElems={previewBody:previewBodyElem[0],resultBody:resultElem,calloutBody:calloutElem}),returnObj},zgssearch.maxCalloutPreview=function(resObj,target){zgssearch.isMaxCalloutOpen=!0;let layoutElemObj=zgssearch.getClosestLayoutElementsWidth(target,!0);var widthObj=layoutElemObj.hasOwnProperty("widthObj")?layoutElemObj.widthObj:{};let calloutTarget=layoutElemObj.hasOwnProperty("targetElems")&&layoutElemObj.targetElems.hasOwnProperty("calloutBody")?layoutElemObj.targetElems.calloutBody:"";calloutTarget&&_jQueryGS(calloutTarget).css("z-index","6").animate({"inset-inline-start":"0px",width:widthObj.bodyWidth},"200",function(){_jQueryGS(target).siblings(".zgs18_gsIframeMinimize").css("display","block"),calloutTarget.setAttribute("maximised","true"),zgssearch.postPreviewActions(target,"maximise",layoutElemObj)})},zgssearch.minCalloutPreviewChange=function(target){zgssearch.isMaxCalloutOpen=!1;let layoutElemObj=zgssearch.getClosestLayoutElementsWidth(target,!0);var widthObj=layoutElemObj.hasOwnProperty("widthObj")?layoutElemObj.widthObj:{};let calloutTarget=layoutElemObj.hasOwnProperty("targetElems")&&layoutElemObj.targetElems.hasOwnProperty("calloutBody")?layoutElemObj.targetElems.calloutBody:"";calloutTarget&&_jQueryGS(calloutTarget).attr("maximised","false").css("z-index","unset").animate({"inset-inline-start":widthObj.resulWidth,width:widthObj.bodyWidth-widthObj.resulWidth},"200",function(){_jQueryGS(target).siblings(".zgs18_gsIframeMaximize").css("display","block"),calloutTarget.setAttribute("maximised","false"),zgssearch.postPreviewActions(target,"minimise",layoutElemObj)})},zgssearch.showCalloutPrevNavigationOptions=function(parent,isCTAPipeSeperationNeeded,defaultNoDisplay){let navigationEle=_jQueryGS(parent).find(".zgs19_gsPrevNav"),pipeSymbolEle="";isCTAPipeSeperationNeeded&&(pipeSymbolEle=_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr"})),navigationEle&&0==navigationEle.length?(_jQueryGS(parent).append(_jQueryGS("<div>",{class:"zgs19_gsPrevNav zgs19_gsfr zgs19_gsFontSize16Px"}).append(_jQueryGS("<span>",{class:"zgs18_gsPrevNav zgs19_gsPrePrev zgs19_gsCardActionIcon zgs19_gsCardActionIcon zgs19_gsCurPointer",gs:"previousPreview",gstitle:zgssearch.getI18NMsg("gs.cards.previous_result")})).append(_jQueryGS("<span>",{class:"zgs18_gsNextNav zgs19_gsNextPrev zgs19_gsCardActionIcon zgs19_gsCurPointer",gs:"nextpreview",gstitle:zgssearch.getI18NMsg("gs.cards.next_result")})).append(pipeSymbolEle)),defaultNoDisplay&&_jQueryGS(parent).find(".zgs19_gsPrevNav").css("display","none")):navigationEle.css("display","block")},zgssearch.hideCalloutPrevNavigationOptions=function(parent){_jQueryGS(parent).find(".zgs19_gsPrevNav").css("display","none")},zgssearch.postPreviewActions=function(targetElemObj,action,calloutWidthPercentage){_jQueryGS(targetElemObj).css("display","none"),zgssearch.openCalloutPreview(targetElemObj);var parent=_jQueryGS(targetElemObj).parent(),widthObj=zgssearch.isDashboardScopeActive()||zgssearch.isCardScopeActive(),targetElemObj=calloutWidthPercentage.hasOwnProperty("targetElems")?calloutWidthPercentage.targetElems:{};action&&"maximise"==action&&widthObj?(widthObj&&targetElemObj.calloutBody&&_jQueryGS(targetElemObj.calloutBody).css("width","100%"),zgssearch.showCalloutPrevNavigationOptions(parent,!0),zgssearch.manageNavOptionsVisibilityForCallout(parent)):action&&"minimise"==action&&widthObj&&(calloutWidthPercentage=((calloutWidthPercentage=(widthObj=calloutWidthPercentage.hasOwnProperty("widthObj")?calloutWidthPercentage.widthObj:{}).bodyWidth)-widthObj.resulWidth)/calloutWidthPercentage*100,targetElemObj.calloutBody&&_jQueryGS(targetElemObj.calloutBody).css("width",calloutWidthPercentage+"%").css("inset-inline-start",""),zgssearch.hideCalloutPrevNavigationOptions(parent))},zgssearch.setValueForResultPreviewNavigation=function(originalCrdId){let obj={};originalCrdId=(new zgssearch.dashboardSearchActions).createActionType(originalCrdId);return zgssearch.isDashboardScopeActive()?(obj.curSelectedResult=zgssearch.gscardsresult.curSelectedEle,obj.cardId=originalCrdId.getCurrentCardId(),zgssearch.gscardinDb.isCardMaximised?obj.curSelectedResult=zgssearch.gscardsresult.curSelectedEle:obj.curSelectedResult=document.getElementById(zgssearch.gscardsresult.selectedResInCard[obj.cardId]),originalCrdId=zgssearch.gscardinDb.getOriginalCardId(obj.cardId),obj.cardObj=zgssearch.gsdbUtils.cardIdsVsObject[originalCrdId],obj.cardtype=obj.cardObj.cardtype):zgssearch.isCardScopeActive()&&(obj.curSelectedResult=zgssearch.gscards.curSelectedEle,obj.cardId=_jQueryGS(zgssearch.gscards.curSelectedEle).closest('[domselector="previewbody"]').attr("cardid"),obj.cardObj=zgssearch.gscardUtils.cardIdsVsObject[obj.cardId],obj.cardtype=obj.cardObj.cardtype),obj},zgssearch.navigatePreview=function(cardType,target){let curSelectedResultDomObj=zgssearch.setValueForResultPreviewNavigation(target);var cardId=curSelectedResultDomObj.cardId,service_cursor=curSelectedResultDomObj.curSelectedResult.getAttribute("service");let parentElem=_jQueryGS(target).parent();parentElem.find(".zgs19_gsPrePrev").removeClass("zgs19_gsHideEleme"),parentElem.find(".zgs19_gsNextPrev").removeClass("zgs19_gsHideEleme"),cardType&&"previousPreview"==cardType?(cursor=_jQueryGS(curSelectedResultDomObj.curSelectedResult).prev(),(cursor=service_cursor==zgssearch.GSConstant.CALENDAR&&cursor.hasClass("zgs19_gsEventSplitter")?cursor.prev():cursor).click()):cardType&&"nextpreview"==cardType&&(cardObj=_jQueryGS(curSelectedResultDomObj.curSelectedResult).next(),(cardObj=service_cursor==zgssearch.GSConstant.CALENDAR&&cardObj.hasClass("zgs19_gsEventSplitter")?cardObj.next():cardObj).click());var cursor=curSelectedResultDomObj.curSelectedResult.getAttribute("index");let extraParams={};var cardType=curSelectedResultDomObj.cardtype,cardObj=curSelectedResultDomObj.cardObj;if(service_cursor==zgssearch.GSConstant.CALENDAR){let startVal=0,scrollType=0,noMoreResults="",isSearchCallNeeded=!1;if(cursor<0?(noMoreResults=zgssearch.gscardsresult.completedNoMoreResults[cardId],zgssearch.gscardsresult.cardResultsCount[cardId].calendar_completed- -1*cursor<3&&(isSearchCallNeeded=!0),startVal=zgssearch.cardNextScrollValue[cardId].completed,scrollType=-1):0<=cursor&&(noMoreResults=zgssearch.gscardsresult.futureNoMoreResults[cardId],zgssearch.gscardsresult.cardResultsCount[cardId].calendar_future-cursor<3&&(isSearchCallNeeded=!0),startVal=zgssearch.cardNextScrollValue[cardId].future,scrollType=1),noMoreResults||!isSearchCallNeeded)return;extraParams.start=startVal,extraParams.scroll_type=scrollType}else{if(zgssearch.gscardsresult.noMoreResultsInCard[cardId]||!(zgssearch.gscardsresult.cardResultsCount[cardId][service_cursor]-parseInt(cursor)<3))return;{let service=cardObj.service,nextStartValue=parseInt(zgssearch.cardNextScrollValue[cardId]);var accId,service_cursor=zgssearch.service_cursor_info[cardId];!service_cursor||(cursor=zgssearch.service_cursor_info[cardId].cursor)&&(extraParams.cursor=cursor),service==GSConstant.ONEDRIVE&&!service_cursor||(accId="",zgssearch.isListViewSearch()&&service===zgssearch.GSConstant.SALESFORCE&&(zgssearch.gscardinDb.getFilterVal(cardObj.cardconfig,"module")||((accId=service_cursor.cursor)&&"0"!==accId?nextStartValue=0:zgssearch.cardScrollSearch[cardId]=!0)),extraParams.start=nextStartValue,extraParams.limit=zgssearch.fetchResCount)}}if(!zgssearch.cardScrollSearch[cardId]){let argParams={};zgssearch.cardScrollSearch[cardId]=!0,zgssearch.isDashboardScopeActive()?argParams={cardid:cardId,cardType:cardType,dbCardType:cardObj.cardtype,cardId:cardObj.cardid}:zgssearch.isCardScopeActive()&&(accId=zgssearch.gscardinDb.getFilterVal(cardObj.cardconfig,"accounts_list"),accId=cardType==zgssearch.SYSTEM_CARD&&null!=accId?accId[0]:"",argParams={cardid:cardId,cardType:cardType,callback:zgssearch.gsCardResUtils.handleCardIdBasedSearchResponse,accId:accId}),zgssearch.gscardinDb.formEachCardSearchCall(cardObj,extraParams,argParams)}},zgssearch.manageNavOptionsVisibilityForCallout=function(parent){var isNextPrevEmpty=zgssearch.setValueForResultPreviewNavigation(parent),isPrePrevEmpty=0==_jQueryGS(isNextPrevEmpty.curSelectedResult).prev().length,isNextPrevEmpty=0==_jQueryGS(isNextPrevEmpty.curSelectedResult).next().length;let cardPageHdr=_jQueryGS(parent),prePrev=cardPageHdr.find(".zgs19_gsPrePrev"),nextPrev=cardPageHdr.find(".zgs19_gsNextPrev");isPrePrevEmpty&&isNextPrevEmpty?cardPageHdr.find(".zgs19_gsPrevNav").css("display","none"):(isPrePrevEmpty?prePrev.addClass("zgs19_gsHideEleme"):prePrev.removeClass("zgs19_gsHideEleme"),isNextPrevEmpty?nextPrev.addClass("zgs19_gsHideEleme"):nextPrev.removeClass("zgs19_gsHideEleme"))}}(zgssearch,window),function(zgssearch,window){var gschat,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gschat=(gschat=void 0,(gschat=zgssearch.gschat||{}).actionList=[{continue:"gs.search.result.chat.viewtranscript_dialog.continue"}],gschat.getCalloutHolder=function(){return"zgs20_gsChatCallout"},gschat.calloutParams=function(resObj){return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&chatId="+resObj.chat_id},gschat.createCalloutTemplate=function(count,continueChat){var prevmaxtxt,prevmintxt,startedBy,dcallout,calloutId=continueChat.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getI18NMsg("gs.search.result.chat.callout.with"),startedBy=zgssearch.getI18NMsg("gs.search.result.chat.callout.started_by"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CHAT}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CHAT})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr",gs:"continuechat",gstitle:continueChat})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CHAT})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.CHAT}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"personal"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"}))).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"group"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy",gstitle:startedBy}).text(startedBy))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"withtext",gstitle:dcallout}).text(dcallout))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{gs:"partCount"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsWMSCalloutFooter zgs19_gsBorderBox",gs:"calloutFooter"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsChatCalloutFooter",gs:"chatContentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100 zgs19_gsVerticalScroll",gs:"chatcontent"}))),_jQueryGS("#zgs20_gsSearchResultRight").append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gschat.setChatCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS("#zgs20_gsChatCallout").height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),(zgssearch.hasWMSTranscript?_jQueryGS(menuEl.calloutFooter):_jQueryGS(menuEl.chatContentHolder)).css("height",contentHeight+"px")},gschat.calloutResponse=function(response,resObj,photoURL,imgId){var curCalloutObj=imgId.searchObj;zgssearch.getTargetElem(curCalloutObj.calloutId);if((response=!zgssearch.hasWMSTranscript?response&&response.resp||"":response)&&"null"!==response){var menuEl=zgssearch.getTargetElem("zgs20_gsChatCallout");zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(photoURL);var calloutCount=_jQueryGS(menuEl).attr("ccount"),sname=resObj.title||"";_jQueryGS(menuEl.ctitle).empty().text(sname).attr("gstitle",sname);var currZUID=GSConstant.cuz,pCount=resObj.ownerid||"",recentParticipantsCount=zgssearch.getI18NMsg("common.me"),imgId=resObj.display_name||"-",imgId=pCount==currZUID?recentParticipantsCount:imgId;_jQueryGS(menuEl.owner).empty().text(imgId).attr("gstitle",imgId);pCount=resObj.display_time||"-",recentParticipantsCount=zgssearch.getI18NMsg("gs.search.result.lastReplied")+" : "+pCount;_jQueryGS(menuEl.date).empty().text(pCount).attr("gstitle",recentParticipantsCount),_jQueryGS(menuEl.personal).show(),_jQueryGS(menuEl.group).hide(),_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");imgId="zgs20_gsChatCalloutUserImg"+calloutCount;_jQueryGS(menuEl.authorPhoto).attr("id",imgId);var rParticipants={},pCount=0,recentParticipantsCount=0;if(resObj.hasOwnProperty("participants_count")&&(pCount=parseInt(resObj.participants_count)),resObj.hasOwnProperty("recent_participants")&&(rParticipants=zgssearch.jsonParse(resObj.recent_participants),recentParticipantsCount=Object.keys(rParticipants).length),2<pCount&&0<recentParticipantsCount||2===recentParticipantsCount&&!rParticipants.hasOwnProperty(currZUID)){pCount=pCount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants");_jQueryGS(menuEl.partCount).empty().text(pCount).attr("gstitle",pCount),gschat.loadChatParticipantsImages(menuEl,rParticipants,photoURL,calloutCount)}else{var rName=sname,uzuid="";if("object"==typeof rParticipants)for(var rZUid in rParticipants)rName=rParticipants[uzuid=rZUid];_jQueryGS(menuEl.partCount).empty().text(rName).attr("gstitle",rName);sname=_jQueryGS(photoURL.gsUserPhoto).attr("group"),photoURL=_jQueryGS(photoURL.gsUserPhoto).attr("calloutphoto");zgssearch.renderCalloutUserPhoto(imgId,photoURL,sname),_jQueryGS(menuEl.personal).attr("class","zgs19_gsChatIconHolder"),"true"!=sname&&"-1"!==uzuid&&void 0!==uzuid&&(sname=zgssearch.getUserStatus(uzuid).name||"",_jQueryGS(menuEl.personal).attr("class","zgs19_gsChatIconHolder "+sname))}_jQueryGS(menuEl.chatcontent).empty(),_jQueryGS(menuEl.chatContentHolder).hide(),_jQueryGS(menuEl.calloutFooter).empty().show(),zgssearch.hasWMSTranscript?WebMessanger.renderTranscript(menuEl.calloutFooter,resObj.chat_id):(_jQueryGS(menuEl.calloutFooter).hide(),_jQueryGS(menuEl.chatContentHolder).show(),gschat.formatChatContentData(menuEl.chatcontent,response),gschat.formatChatURLAndHREF(menuEl.chatcontent)),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),gschat.addCalloutActionList(menuEl),gschat.setChatCalloutEleSize(menuEl),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),_jQueryGS(menuEl.calloutFooter).scrollTop(_jQueryGS(menuEl.calloutFooter)[0].scrollHeight),_jQueryGS(menuEl.chatContentHolder).scrollLeft(0),_jQueryGS(menuEl.chatContentHolder).scrollTop(_jQueryGS(menuEl.chatContentHolder)[0].scrollHeight),zgssearch.calloutVisitRequest()}else gschat.calloutErrorMsg("",curCalloutObj)},gschat.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gschat.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CHAT,gstitle:dectext}).text(dectext))}}},gschat.formatChatContentData=function(target,response){var index=0,elemId="";_jQueryGS(response).each(function(){var chatImgTag,zuidElem,date,spanArr,dateField,time,senderName,msgResponse=_jQueryGS(this).attr("class");"upfilediv"===msgResponse?(elemId="",_jQueryGS(target).append(this)):"upfilediv-img"===msgResponse?(elemId="",dateField=_jQueryGS(this).find("div"),zuidElem=_jQueryGS(this).find("a"),chatImgTag=_jQueryGS(this).find("img"),senderName=_jQueryGS(this).find("label")[1],time=_jQueryGS(dateField).text(),spanArr=_jQueryGS(senderName).text(),date=_jQueryGS(zuidElem).attr("href"),dateField=_jQueryGS(chatImgTag).attr("src"),senderName="zgs19_"+zgssearch.getFileImageClass(time),zuidElem=zgssearch.getDocResTT(senderName),_jQueryGS(chatImgTag).attr("src",GSConstant.GS_CHAT_URL+dateField),_jQueryGS(target).append(_jQueryGS("<div>",{class:"upfilediv-img zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"upfilediv-imgDiv zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+senderName,gstitle:zuidElem,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"upfilediv-imgName zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.CHAT,url:GSConstant.GS_CHAT_URL+date,gs:"contactsurl",gstitle:time,istip:!0}).text(time))).append(_jQueryGS("<div>",{class:"upfilediv-imgName upfilediv-imgSize zgs19_gsfl zgs19_gsOverflow"}).text(spanArr)))):"msghead"===msgResponse?(elemId="",dateField=_jQueryGS(this).find("span").text()||"",senderName=_jQueryGS(this).find("div.sender").text()||"",zuidElem=_jQueryGS(this).find("div.wmsempty").text()||"",(time=date="")!==dateField&&(1===(spanArr=(date=dateField).split(",")).length&&(time=(time=spanArr[0])?time.trim():""),3===spanArr.length&&(dateField=(dateField=spanArr[1])?dateField.trim():"",time=(time=spanArr[2])?time.trim():"",_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsChatDateField"}).append(_jQueryGS("<span>",{class:"zgs19_gsChatDateContent"}).text(dateField))))),senderName=(senderName=senderName.trim()).substring(0,senderName.length-1).trim(),GSConstant.cuz==zuidElem&&(senderName=zgssearch.getI18NMsg("common.me")),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsChatSenderField"}).text(senderName).append(_jQueryGS("<span>",{class:"zgs19_gsChatCalloutTime zgs19_gsfr",gstitle:date}).text(time)))):"msgtxt"===msgResponse&&(msgResponse=_jQueryGS(this).html()||"",msgResponse=gschat.getMsgType(msgResponse),_jQueryGS(this).empty().append(msgResponse),""==elemId&&(elemId="zgs20_gsChatMsgContent"+ ++index,_jQueryGS(target).append(_jQueryGS("<div>",{id:elemId,class:"zgs19_gsChatMsgContent"}))),_jQueryGS("#"+elemId).append(this))})},gschat.getMsgType=function(msg){try{msg=" "+msg;var linkRegExp=new RegExp("([^(href|src)=\"'])((("+zgssearch.httptxt+"(s){0,1}://))([^ <\n]*))","gi");msg=(msg=(msg=(msg=(msg=msg.replace(/([a-z0-9]([a-z0-9_\-\.]*)@([a-z0-9_\-\.]*)(\.[a-z]{2,3}(\.[a-z]{2}){0,2}))/gi,"<a href='mailto:$1' rel='noopener noreferrer'>$1</a>")).replace(linkRegExp,"$1<a href='$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/([^(href|src|\/\/)"'=])((www\.)([^ <\n]*))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+((?!js|cp)[a-z]){2})(?=( |$))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>")).replace(/(^|\ )(([\w\d-]+\.)+(com|org|net|int|edu|gov|mil|info|biz))(?=( |$))/gi,"$1<a href='"+zgssearch.httptxt+"://$2' rel='noopener noreferrer' target='_blank'>$2</a>"),msg=Smiley.replace(msg)}catch(ex){zgssearch.throwClientError("Error while replacing msg in getMsgType function.",ex)}return msg},gschat.formatChatURLAndHREF=function(target){_jQueryGS(target).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src",GSConstant.GS_CHAT_URL+oldImgSrc)})},gschat.loadChatParticipantsImages=function(menuEl,participants,curRe,calloutCount){try{var cpId,pSize=0,imageCount=0,pLength=Object.keys(participants).length;for(cpId in participants){var photoURL=GSConstant.GS_CONTACTS_URL+"/file?ID="+cpId+"&exp=600&t=user&width=80&height=80"+zgssearch.nps,serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gstitle:participants[cpId],src:photoURL,id:"zgs20_chatParticipantsImg"+pSize+calloutCount})[0];pSize++,_jQueryGS(menuEl).append(serviceImgDummy),_jQueryGS(serviceImgDummy).off().on({load:function(){imageCount+=1,gschat.loadRecentParticipantsIcons(menuEl,curRe,pLength,calloutCount,imageCount)},error:function(){var noUserPhoto=zgssearch.network.getFingerPrintFilePath("images/no-user-image.png");_jQueryGS(this).attr("src",noUserPhoto)}},!0)}}catch(ex){zgssearch.throwClientError("Error while loading photo in loadChatParticipantsImages function.",ex)}},gschat.loadRecentParticipantsIcons=function(menuEl,curRe,cpImg4,calloutCount,imageCount){var cpImg1,cpImg2,cpImg3;cpImg4===imageCount&&(_jQueryGS(menuEl.group).empty(),2===cpImg4?(cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount),_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants2a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg1.attr("gstitle"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants2b zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg2.attr("gstitle"),src:cpImg2.attr("src")}))):3===cpImg4?(cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount),cpImg3=_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount),_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg1.attr("gstitle"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3b zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg2.attr("gstitle"),src:cpImg2.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants3c zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg3.attr("gstitle"),src:cpImg3.attr("src")}))):4<=cpImg4&&(cpImg1=_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount),cpImg2=_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount),cpImg3=_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount),cpImg4=_jQueryGS("#zgs20_chatParticipantsImg3"+calloutCount),_jQueryGS(menuEl.group).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg1.attr("gstitle"),src:cpImg1.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4b zgs19_chatGroup4 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg2.attr("gstitle"),src:cpImg2.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4c zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg3.attr("gstitle"),src:cpImg3.attr("src")})).append(_jQueryGS("<img>",{class:"zgs19_gsParticipants4d zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",gstitle:cpImg4.attr("gstitle"),src:cpImg4.attr("src")}))),zgssearch.getCurrentSelectedElem()==curRe&&(_jQueryGS(menuEl.personal).hide(),_jQueryGS(menuEl.group).show()),_jQueryGS("#zgs20_chatParticipantsImg0"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg1"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg2"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg3"+calloutCount).remove(),_jQueryGS("#zgs20_chatParticipantsImg4"+calloutCount).remove())},gschat.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.chat.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gschat.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsChatCallout");zgssearch.setGSTagElems(menuEl),gschat.setChatCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gschat)}(zgssearch,window),function(zgssearch,window){var gsreports,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsreports=(gsreports=void 0,(gsreports=zgssearch.gsreports||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gsreports.getCalloutHolder=function(){return"zgs20_gsReportsCallout"},gsreports.calloutParams=function(resObj){return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&docId="+resObj.docid},gsreports.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.REPORTS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.REPORTS),service:GSConstant.REPORTS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.REPORTS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.REPORTS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.REPORTS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsReportsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(dcallout).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gsreports.setReportsCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height()||0,contentHeight=_jQueryGS(menuEl.metaInfo).height()||0,contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsreports.calloutResponse=function(resObj,isPreviewCard,staObj){var curCalloutObj=staObj.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(isPreviewCard);var zuid=resObj.vN||"";_jQueryGS(menuEl.ctitle).empty().text(zuid).attr("gstitle",zuid),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.REPORTS,resObj));staObj=_jQueryGS(isPreviewCard.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",staObj);zuid=resObj.mZUID,isPreviewCard="zgs20_gsDocsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount"),staObj=_jQueryGS(menuEl.authorPhoto);staObj.attr("src",zgssearch.gsspacer),staObj.attr("class","zgs19_gsFetchLoader"),staObj.attr("id",isPreviewCard);staObj=zgssearch.getUserStatus(zuid);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid?(curresObj=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+curresObj),curresObj=zgssearch.getThumbPhotoURL(zuid),zgssearch.renderCalloutUserPhoto(isPreviewCard,curresObj)):zgssearch.renderCalloutNoUserPhoto(isPreviewCard);var curresObj=resObj.auth||resObj.mBy||"",isPreviewCard=zgssearch.getI18NMsg("common.modified_by");_jQueryGS(menuEl.startedBy).empty().text(isPreviewCard).attr("gstitle",isPreviewCard),_jQueryGS(menuEl.owner).empty().text(curresObj).attr("gstitle",curresObj),_jQueryGS(menuEl.date).empty().text(resObj.time).attr("gstitle",resObj.time),gsreports.renderReportsPreview(menuEl,resObj),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","hide"),_jQueryGS(menuEl.actionPipe).css("display","block"));isPreviewCard=curCalloutObj.hasOwnProperty("type")?curCalloutObj.type:"search",curresObj=zgssearch.Utils.getResultObjectofType(isPreviewCard,curCalloutObj.cardId),isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);curresObj.docid!==resObj.docid&&!isPreviewCard||(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsreports.addCalloutActionList(menuEl,curresObj.ty),gsreports.setReportsCalloutEleSize(menuEl)},gsreports.addCalloutActionList=function(menuEl,documentType){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsreports.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)"savePreview"!=key?(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.REPORTS,gstitle:dectext}).text(dectext))):documentType&&zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.REPORTS)}},gsreports.openReportsResult=function(resourceId){resourceId=resourceId.vId||resourceId[zgssearch.entity_id];return GSConstant.GS_REPORTS_URL+"/ZDBDataSheetView.cc?OBJID="+resourceId+"&STANDALONE=true&"+zgssearch.originParam},gsreports.renderReportsPreview=function(menuEl,prevfoldererr){var currService,docType=prevfoldererr.ty;_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden"),zgssearch.isExtension&&zgssearch.thirdPartyCookieDisabled?(_jQueryGS(menuEl.reportspreviewHolder).empty().show(),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS(menuEl).show(),currService={gs:"reportsApp",service:GSConstant.REPORTS,previewHolder:"reportspreviewHolder",content:zgssearch.getI18NMsg("gs.search.result.reports.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):"null"!==docType?gsreports.constructReportsIframe(menuEl,prevfoldererr):(prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),_jQueryGS(menuEl.reportspreviewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","visible"))},gsreports.constructReportsIframe=function(menuEl,reportsprev){_jQueryGS(menuEl.loadericon).css("display","block"),_jQueryGS(menuEl.reportspreviewHolder).empty(),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","hidden");var url=gsreports.openReportsResult(reportsprev),reportsprev=document.createElement("iframe");reportsprev.src=url,reportsprev.className="zgs19_Border0px zgs19_gsDocsIframeTag",zgssearch.Utils.addSandboxToEle(reportsprev),reportsprev.setAttribute("frameborder","0"),reportsprev.setAttribute("allowfullscreen","true"),reportsprev.onload=function(){zgssearch.calloutVisitRequest(),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS(menuEl.reportspreviewHolder).css("visibility","visible")},500)},_jQueryGS(menuEl.reportspreviewHolder).append(reportsprev)},gsreports.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsReportsCallout"),zgssearch.setGSTagElems(menuEl),gsreports.setReportsCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsreports.getPreviewCard=function(respObj){gsreports.constructPreviewForCrd(respObj);var menuEl=zgssearch.getTargetElem(respObj.calloutId);zgssearch.setGSTagElems(menuEl),gsreports.constructReportsIframe(menuEl,respObj),gsreports.setReportsCalloutEleSize(menuEl)},gsreports.constructPreviewForCrd=function(respObj){var calloutDiv;_jQueryGS("#"+respObj.calloutId).length<=0&&(calloutDiv=zgssearch.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),calloutDiv=_jQueryGS("<div>",{id:respObj.calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsReportsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(calloutDiv).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"}))),_jQueryGS(respObj.parentElem).append(calloutDiv))},gsreports.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{account_id:resObj.accId||zgssearch.getResultAccountId(),entity_id:resObj.vId}},gsreports)}(zgssearch,window),function(zgssearch,window){var gsconnector,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnector=(gsconnector=void 0,(gsconnector=zgssearch.gsconnector||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"}],gsconnector.getCalloutHolder=function(){return"zgs20_gsConnectorCallout"},gsconnector.calloutParams=function(categId){var docId=categId.did,wikiId=categId.wid,categId=categId.wcid;return"searchType="+zgssearch.getCurSelectedEleAttr("service")+"&docId="+docId+"&wikiId="+wikiId+"&wikiCatId="+categId},gsconnector.createCalloutTemplate=function(count,curCalloutObj){"search"===curCalloutObj.type&&_jQueryGS("#zgs20_gsConnectorCallout").remove();var prevmaxtxt,prevmintxt,concallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),concallout=zgssearch.getFourDotLoader("zgs20_gsconnectorprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone"),concallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsConnectorWelPage",class:"zgs19_gsDocsPreviewHolder zgs19_gsCRC",gs:"connectorWelPage"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader zgs19_gsCRC",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.ORGRESOURCES,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.ORGRESOURCES),service:GSConstant.ORGRESOURCES})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.ORGRESOURCES})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.ORGRESOURCES})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.ORGRESOURCES}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder zgs19_gsCRC",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_creatorCircleText zgs19_gsfl",gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"sender",istip:!0})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"header2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{gs:"clabel"})))))))).append(_jQueryGS("<div>",{class:"zgs19_gsConnCalloutFooter zgs19_gsCalloutPopUp zgs19_gsCalloutFooter zgs19_gsCRC",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsConnectorPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"connectorpreviewHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"}))).append(concallout),_jQueryGS(curCalloutObj.parentElem).append(concallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsconnector.setConnectorCalloutEleSize=function(menuEl){var headerHeight,contentHeight;null!=menuEl&&(headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight),contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"),gsconnector.setPreviewBtnPosition(menuEl))},gsconnector.calloutResponse=function(response,resObj,curRe,icon_text){var cache=icon_text.searchObj,ty=cache.calloutId;cache.type!=zgssearch.dbCrdCalloutType&&cache.type!=zgssearch.crdPagecalloutType||(zgssearch.cardObjForCurrentSelectedElem[cache.cardId].calloutRespObj=cache);var menuEl=zgssearch.getTargetElem(ty);if(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe),"0"===resObj.cpt)return _jQueryGS(menuEl).find(".zgs19_gsCRC").css("display","none"),_jQueryGS(menuEl.connectorWelPage).css("display","block"),void gsconnector.renderWelcomePage(menuEl,resObj,cache);_jQueryGS(menuEl).find(".zgs19_gsCRC").css("display","block"),"3"===resObj.cpt&&_jQueryGS(menuEl.metaInfo).css("display","table"),_jQueryGS(menuEl.connectorWelPage).css("display","none");var enabClabel=zgssearch.fetchCalloutUrl(GSConstant.ORGRESOURCES,resObj),intxt=resObj.title||zgssearch.getURLWithoutProtocol(enabClabel)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle");_jQueryGS(menuEl.ctitle).empty().text(intxt).attr("gstitle",intxt),_jQueryGS(menuEl.ctitle).attr("href",enabClabel);icon_text=_jQueryGS(curRe.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",icon_text),resObj.url||""||(_jQueryGS(menuEl.clink).css("display","none"),_jQueryGS(menuEl.ctitle).removeClass(),_jQueryGS(menuEl.ctitle).css("cursor","auto")),cache.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),zgssearch.getCurrentResObj().did!==resObj.did&&!zgssearch.isPreviewCard(cache)||(zgssearch.hideCalloutLoader(cache),_jQueryGS(menuEl.connPageTxt).remove(),_jQueryGS(menuEl).css("display","block"));ty=zgssearch.getI18NMsg("gs.search.result.connector.callout.type"),intxt=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),enabClabel=resObj.cn,icon_text=zgssearch.getCapitalizedLtr(enabClabel);"3"==resObj.cpt?(_jQueryGS(menuEl.authorPhoto).empty().removeClass("zgs19_creatorCircleText").addClass("zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon"),_jQueryGS(menuEl.authorPhoto).attr("src","zgssearch.gsspacer"),_jQueryGS(menuEl.header2).empty().append(_jQueryGS("<div>",{class:"zgs19_gsConnectorToolsCoutsumm"}).text(resObj.desc||"")).append(_jQueryGS("<div>",{class:"zgs19_gsOpenBtnMeta zgs19_gsCurPointer",gs:"connPage",service:GSConstant.ORGRESOURCES}).text(zgssearch.getI18NMsg("common.open"))),_jQueryGS(menuEl.header2).attr("class","zgs19_gsConnectorToolsHeader")):(_jQueryGS(menuEl.authorPhoto).empty().removeClass("zgs19_gsResultsUniIcons zgs19_gsConnectorToolsIcon").addClass("zgs19_creatorCircleText"),_jQueryGS(menuEl.authorPhoto).text(icon_text));var ignoreIframe,dType=resObj.cdt,dtypeMsg="";switch(dType){case"webpage":case"files":case"tools":case"tablerecords":case"chat":case"contacts":dtypeMsg=zgssearch.getI18NMsg("gs.search.result.connector.callout."+dType);break;default:dtypeMsg=zgssearch.getI18NMsg("gs.search.result.document.unknown")}_jQueryGS(menuEl.slabel).empty().text(ty).attr("gstitle",ty),_jQueryGS(menuEl.sender).empty().text(dtypeMsg).attr("gstitle",dtypeMsg),_jQueryGS(menuEl.rlabel).empty().text(intxt).attr("gstitle",intxt),_jQueryGS(menuEl.receiver).empty().text(enabClabel).attr("gstitle",enabClabel),setTimeout(function(){menuEl.getElementsByClassName("zgs19_gsCalloutFooter")[0].scrollTo(0,0)},0),gsconnector.actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"}],gsconnector.setConnectorCalloutEleSize(menuEl),"ERROR"!=response&&null!=response&&(ignoreIframe=enabClabel=!1,response.hasOwnProperty("actualContent")?(ignoreIframe=!0,_jQueryGS(menuEl.connectorpreviewHolder).css("display","none"),_jQueryGS(menuEl.content).empty(),_jQueryGS(menuEl.content).css("display","block"),_jQueryGS(".zgs19_gsConnCalloutFooter").css("overflow-x","auto"),_jQueryGS("#zgs20_gsConnectorCallout").find(".zgs19_gsCalloutContentInfo").css("padding","15px"),_jQueryGS("#zgs20_gsConnectorCallout").find(".zgs19_gsCalloutContentInfo").addClass("zgs19_gsBorderBox"),response.actualContent&&"null"!=response.actualContent&&(_jQueryGS(menuEl.content).append(response.actualContent),gsconnector.checkConnectorDataAndAddDomain(menuEl.content))):"1"==resObj.cpt||"7"==resObj.cpt||"9"==resObj.cpt?(_jQueryGS(".zgs19_gsConnCalloutFooter").css("padding","0px"),_jQueryGS(".zgs19_gsConnCalloutFooter").removeClass("zgs19_gsBorderBox"),_jQueryGS(menuEl.content).css("display","none"),zgssearch.gsconnector.renderConnectorPreview(menuEl,resObj,cache)):"6"==resObj.cpt?zgssearch.gsconnector.renderConnectorPreview(menuEl,resObj,cache):"5"===resObj.cpt?zgssearch.renderRes(resObj,curRe,cache,{name:"cnt",email:"emid",mobile:"cntn",phone:"phone",photo:"photo",extn:"cnextn",deptname:"dept"}):"8"===resObj.cpt?zgssearch.renderRes(resObj,curRe,cache,{name:"dept",email:"email",support_email:"support_mail",mobile:"mobile",phone:"phone",photo:"photo",extn:"extn",deptname:"",summ:"summ"}):"3"==resObj.cpt?gsconnector.renderLinkDetails(menuEl,resObj):(_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj)),"1"!=resObj.cpt&&"7"!=resObj.cpt||(enabClabel=!0),cache=resObj.ct||"",enabClabel&&cache?(cache=zgssearch.getI18NMsg("gs.search.result.connector.callout.lastCached")+" "+cache,_jQueryGS(menuEl.clabel).empty().text(cache).attr("gstitle",cache)):_jQueryGS(menuEl.clabel).empty()),"5"!==resObj.cpt&&"8"!==resObj.cpt&&(gsconnector.addCalloutActionList(menuEl,ignoreIframe,resObj),zgssearch.calloutVisitRequest())},gsconnector.getPrevUrl=function(orgId){var connId=orgId.cid,objId=orgId.oid||orgId.pk_id,orgId=orgId.accId||zgssearch.getResultAccountId()||orgId[zgssearch.account_id];return"/zgssearch/esearch/preview?"+(zgssearch.originParam?zgssearch.originParam+"&":"")+"action=getFile&app_id="+orgId+"&object_id="+encodeURIComponent(objId)+"&field_name=pdfsource&data_source="+connId+"#toolbar=0"},gsconnector.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-_jQueryGS(menuEl.connPageTxt).height())/2;_jQueryGS(menuEl.connPageTxt).css("margin",actualCenterPosition+"px auto"),_jQueryGS(menuEl.connectorpreviewHolder).css("display","block"),_jQueryGS(menuEl.content).css("display","block")},gsconnector.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),_jQueryGS("#zgs20_gsCalloutErrorPage").text(msg),_jQueryGS("#zgs20_gsCalloutErrorPage").show())},gsconnector.checkConnectorDataAndAddDomain=function(id){var url=zgssearch.getCurrentResObj(),url=gsconnector.openConnectorResult(url),wikiName=zgssearch.getURLHostName(url);_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src",zgssearch.httpstxt+"://"+wikiName+oldImgSrc)}),_jQueryGS(id).find("a").each(function(){var extra,oldImgSrc=_jQueryGS(this).attr("href");oldImgSrc&&(0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")&&0!=oldImgSrc.indexOf("#")&&(extra=0==oldImgSrc.indexOf("/")?"":"/",_jQueryGS(this).attr("href",zgssearch.httpstxt+"://"+wikiName+extra+oldImgSrc)),_jQueryGS(this).removeAttr("onclick"),_jQueryGS(this).attr("target","_blank"),_jQueryGS(this).attr("rel","noopener noreferrer"))})},gsconnector.addCalloutActionList=function(menuEl,ignoreIframe,resObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsconnector.actionList,aListLen=alist.length,url=resObj.hasOwnProperty("url")?resObj.url:"",skipVal=(resObj.hasOwnProperty("cpt")&&resObj.cpt,0),i=0;i<aListLen;i++){var key,dectext,obj=alist[i];for(key in obj)zgssearch.savePreviewNeeded(key)&&(ignoreIframe&&"open"!==key&&"copyLink"!==key||!(url||"copyLink"!=key&&"open"!=key)?skipVal+=1:(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.ORGRESOURCES,gstitle:dectext}).text(dectext))))}skipVal==aListLen&&(_jQueryGS(menuEl.actionlist).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","none"))},gsconnector.openConnectorResult=function(resObj){return resObj.url||""},gsconnector.renderWelcomePage=function(menuEl,resObj,curCalloutObj){_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),_jQueryGS(menuEl.connectorWelPage).css("display","none");var previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.IFRAME);previewObject.setLoaderIconId("zgs20_gsconnectorprevLoader"),previewObject.setParentId("zgs20_gsConnectorWelPage"),previewObject.setPreviewHolder("connectorpreviewHolder"),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),previewObject.setIframeId("zgs20_gsConnectorIframe"),previewObject.setIframeUrl(resObj.url),previewObject.setSandbox("allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"),previewObject.renderPreview(),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)},0),zgssearch.getCurrentResObj().did!==resObj.did&&!zgssearch.isPreviewCard(curCalloutObj)||(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl.connPageTxt).remove(),_jQueryGS(menuEl).css("display","block")),gsconnector.setConnectorCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gsconnector.renderfeedbackForm=function(){var previewObject;0<_jQueryGS("#zgs20_gsIntranetfeedbackform").length?_jQueryGS("#zgs20_gsIntranetfeedbackform").css("display","block"):(previewObject=zgssearch.getFourDotLoader("zgs20_gsconnectorprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsConnectorCallout").css("display","none"),_jQueryGS("#zgs20_gsSearchResultRight").append(previewObject),_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),_jQueryGS("#zgs20_gsSearchResultRight").find("iframe").remove(),(previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.IFRAME)).setLoaderIconId("zgs20_gsconnectorprevLoader"),previewObject.setParentId("zgs20_gsSearchResultRight"),previewObject.setPreviewHolder("connectorpreviewHolder"),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),previewObject.setIframeUrl("https://forms.zohopublic.com/zohopeople239/form/ContactForm/formperma/vmt2__xqtOJ1Fn3tjIsn-7yc0yX3UO7K8r665ykiREE"),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),previewObject.setIframeId("zgs20_gsConnectorFeedbackIframe"),previewObject.renderPreview())},gsconnector.getURLForPreview=function(resObj){var coutPreType=resObj.cpt,url="";return"7"==coutPreType?url=resObj.url:"9"==coutPreType?(url=resObj.eurl||"").indexOf("zgs=1")<=-1&&(url+="?zgs=1"):url=gsconnector.getPrevUrl(resObj),url},gsconnector.renderConnectorPreview=function(menuEl,url,curCalloutObj){if(zgssearch.isExtension)if(zgssearch.isArrayContain(url.cpt,["1","4","6","9"])){_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","none");return(previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.FOLDER)).setCardObj(""),previewObject.setPreviewHolder(menuEl.calloutFooter),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),previewObject.setParentId("zgs20_gsConnectorPreviewHolder"),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.renderPreview(),zgssearch.calloutVisitRequest(),void gsconnector.setPreviewBtnPosition(menuEl)}var parCalloutEle,parentCalloutId,previewObject,connectorprev=url.ty,coutPreType=url.cpt;!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?parentCalloutId="zgs20_gsConnectorPreviewHolder":(parCalloutEle=_jQueryGS("#"+curCalloutObj.calloutId).find("#zgs20_gsConnectorPreviewHolder"),parentCalloutId="zgs20_gs_"+curCalloutObj.calloutId+"ConnectorPreviewHolder",parCalloutEle.attr("id",parentCalloutId)),(previewObject=(new zgssearch.ZSPreview).createPreviewObj(zgssearch.IFRAME)).setLoaderIconId("zgs20_gsconnectorprevLoader"),previewObject.setParentId(parentCalloutId),previewObject.setPreviewHolder("connectorpreviewHolder"),previewObject.setCalloutHolder("zgs20_gsConnectorCallout"),curCalloutObj&&curCalloutObj.hasOwnProperty("cardId")&&previewObject.setCardObj(curCalloutObj),"null"!==connectorprev?(_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","block"),_jQueryGS(menuEl.connectorpreviewHolder).empty(),connectorprev="",url=gsconnector.getURLForPreview(url),"6"==coutPreType?((connectorprev=document.createElement("img")).className="zgs19_Border0px zgs19_gsDocsIframeTag",connectorprev.setAttribute("frameborder","0"),connectorprev.setAttribute("src",url),connectorprev.setAttribute("width","100%"),connectorprev.setAttribute("height","100%"),connectorprev.onload=function(){setTimeout(function(){_jQueryGS("#zgs20_gsconnectorprevLoader").css("display","none"),_jQueryGS(menuEl.connectorpreviewHolder).css("display","block")},500)},_jQueryGS(menuEl.connectorpreviewHolder).append(connectorprev)):(previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag"),previewObject.setIframeUrl(url),previewObject.setIframeId("zgs20_gsConnectorIframe"),previewObject.renderPreview())):previewObject.previewErrorInfo()},gsconnector.renderLinkDetails=function(menuEl,connectorprev){_jQueryGS(menuEl.connPageTxt).remove();var linkURL=connectorprev.url||"",connectorprev=connectorprev.title||"",connectorprev=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkDiv zgs19_gsMxWid800Px",gs:"LinkHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkImgDiv zgs19_gsCurPointer zgs19_gsfl",gs:"zgs20_gsConnectorLinkImageDiv",id:"zgs20_gsConnectorLinkImageDiv"})).append(_jQueryGS("<div>",{class:" zgs19_gsConnectLinkRightPanel zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkTitleDiv"}).append(_jQueryGS("<div>",{id:"zgs20_gsConnectorLinkTitle",class:"zgs19_gsConnectorLinkTitle zgs19_gsOverflow zgs19_gsfl zgs19_gsLinkElem",gs:"contactsurl",gstitle:connectorprev,url:linkURL}).text(connectorprev))).append(_jQueryGS("<div>",{class:"zgs19_gsConnectorLinkDescDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflow zgs19_gsfl zgs19_gsMxHt20Px",gs:"zgs20_gsConnectorLinkDesc"}).text(linkURL)))));_jQueryGS(menuEl.connectorpreviewHolder).append(connectorprev),zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.zgs20_gsConnectorLinkImageDiv).empty().append(_jQueryGS("<img>",{id:"zgs20_gsConnectorLinkImage",class:"zgs19_gsResultsUniIcons zgs19_gsConnectorToolsCoutIcon zgs19_gsCurPointer zgs19_gsfl",src:zgssearch.gsspacer,url:linkURL,gs:"contactsurl"})),_jQueryGS(menuEl.connPageTxt).show(),gsconnector.setPreviewBtnPosition(menuEl)},gsconnector.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsConnectorCallout");zgssearch.setGSTagElems(menuEl),"5"==(zgssearch.getCurrentResObj().cpt||"")?zgssearch.gscontacts.setContactsCalloutEleSize(menuEl):gsconnector.setConnectorCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsconnector.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),prevCrdObj={};return"2"===resObj.cpt?prevCrdObj={entity_id:resObj.did,wikiId:resObj.wid,wikiCatId:resObj.wcid}:(prevCrdObj.entity_id=resObj.oid,prevCrdObj.cid=resObj.cid,prevCrdObj.account_id=zgssearch.getResultAccountId()),prevCrdObj},gsconnector)}(zgssearch,window),zgssearch.Template={},zgssearch.Template.init_department=!1,zgssearch.Template.iconTemplate=function(cls){cls="card"==cls?"zgs19_gsCardResultCell1":"zgs19_gsSearchResultCell1";return _jQueryGS("<template>",{id:"iconTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:cls+" zgs19_iconTemp",id:"iconHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder zgs19_iconTemp"}).append(_jQueryGS("<img>",{class:"group_icon",gs:"AttachIcon",src:zgssearch.gsspacer,gstitle:"iconTitle"})).append(_jQueryGS("<span>",{class:"group_icon",gs:"resultMenuItem",gstitle:"iconTitle"}))))},zgssearch.Template.infoTemplate=function(){return _jQueryGS("<template>",{id:"infoTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{id:"temp1",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp1Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp1Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp1Span",istip:!0})))).append(_jQueryGS("<div>",{id:"temp2",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp2Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp2Span",istip:!0})))).append(_jQueryGS("<div>",{id:"temp3",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp3Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp3Span",istip:!0})))))},zgssearch.Template.resultTitleTemplate=function(){return _jQueryGS("<template>",{id:"resultTitleTemplate",class:"zgs19_gsDisplayNone"}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{id:"temp1",class:"zgs19_gsResultTitle zgs19_gsWid75Per zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"temp1Span",class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp1Span"})).append(_jQueryGS("<span>",{class:"zgs19_gstemp1Span",gs:"resultTitle",istip:!0}))).append(_jQueryGS("<div>",{id:"temp2",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl zgs19_gstemp2Span"})).append(_jQueryGS("<a>",{class:"zgs19_gstemp2",istip:!0})))).append(_jQueryGS("<div>",{id:"temp3",class:"zgs19_gsContactNumber zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"temp2Span"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(_jQueryGS("<span>",{istip:!0})))))},zgssearch.Template.getMailTemplate=function(infoDiv,searchType,acc_id,iconDiv,filCls){var GSConstant=zgssearch.getGSConstantObj()||{},data="",temp3Info1Div="",currentFolder="",unreadMailClass=!0===infoDiv[iconDiv.isBold]?"zgs19_gsFtWeightNormal":"zgs19_gsFtWeightBold",currentFolder=infoDiv[iconDiv.isBold]?zgssearch.getMailImageStatus(1):zgssearch.getMailImageStatus(0),infoDiv1=(infoDiv1=infoDiv[iconDiv.subject]=zgssearch.replaceHTMLEntity(infoDiv[iconDiv.subject])||"")||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",mHasAttach=infoDiv[iconDiv.has_attachment]||"",spanTagEle=infoDiv[iconDiv.display_time]||"",mSender=infoDiv[iconDiv.sender]||"",folderId=infoDiv[iconDiv.folder_id]||"",spanTag1=infoDiv[iconDiv.folder_name]||"",infoDiv=zgssearch.resultUtil.querySlt(document,"#iconTemplate"),data=zgssearch.resultUtil.querySlt(infoDiv,"div"),iconDiv=document.importNode(data,!0);iconDiv.querySelector("img.group_icon").outerHTML="";infoDiv=iconDiv.querySelector("span.group_icon");infoDiv.setAttribute("class",currentFolder.image),infoDiv.setAttribute("gstitle",currentFolder.title),zgssearch.resultUtil.setAttVal(infoDiv,"gs","resultMenuItem");currentFolder=zgssearch.resultUtil.querySlt(document,"#resultTitleTemplate");data=zgssearch.resultUtil.querySlt(currentFolder,"div");infoDiv=document.importNode(data,!0);infoDiv.setAttribute("class","zgs19_gsHgt20Px");temp3Info1Div=infoDiv.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),currentFolder=infoDiv.querySelector("#temp1");zgssearch.resultUtil.setAttVal(currentFolder,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow");/^(0?[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test(spanTagEle)?zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gslabel",zgssearch.getI18NMsg("common.time")):zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gslabel",zgssearch.getI18NMsg("common.date")),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gstitle",spanTagEle),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"class",""),_jQueryGS(temp3Info1Div[0]).text(spanTagEle),_jQueryGS(temp3Info1Div[1]).remove();currentFolder=infoDiv.querySelector("#temp2");zgssearch.resultUtil.setAttVal(currentFolder,"class","zgs19_gsWid75Per");spanTagEle=infoDiv.querySelector("#temp2Span");zgssearch.resultUtil.setAttVal(spanTagEle,"class","zgs19_gsResultTitle zgs19_gsOverflow");spanTagEle=spanTagEle.querySelector("span.zgs19_gstemp2Span");mHasAttach?spanTagEle.setAttribute("class","zgs18_gsAttachIcon zgs19_gsfl"):_jQueryGS(spanTagEle).remove();currentFolder=currentFolder.querySelector("a.zgs19_gstemp2");currentFolder.setAttribute("class",unreadMailClass),currentFolder.setAttribute("href",searchType),currentFolder.setAttribute("target","_blank"),currentFolder.setAttribute("rel","noopener noreferrer"),currentFolder.setAttribute("gslabel",zgssearch.getI18NMsg("common.subject")),currentFolder.setAttribute("gstitle",infoDiv1),currentFolder.setAttribute("gs","resultTitle"),_jQueryGS(currentFolder).text(infoDiv1);searchType=infoDiv.querySelector("#temp3");_jQueryGS(searchType).remove();currentFolder=zgssearch.resultUtil.querySlt(document,"#infoTemplate");data=zgssearch.resultUtil.querySlt(currentFolder,"div");infoDiv1=document.importNode(data,!0);zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsResRightFilter zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow","#temp1");searchType=zgssearch.getSearchType(),currentFolder=zgssearch.getCurrentValue("folders",searchType),data=zgssearch.getFilterInfo(GSConstant.O365MAIL,"folders","data");data[acc_id].hasOwnProperty(folderId)||(data[acc_id][folderId]=spanTag1,zgssearch.updateFilterInfo(GSConstant.O365MAIL,"folders","data",data)),temp3Info1Div=infoDiv1.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"class","zgs19_hvr_underlineHeader"),"Card"==filCls.type?zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"style","pointer-events: none;"):zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"style","pointer-events: auto;");filCls="";searchType===GSConstant.ALL||zgssearch.multiPageEnabled||"0"===currentFolder?(filCls="zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",temp3Info1Div[1].setAttribute("gs","outlookfolder"),temp3Info1Div[1].setAttribute("fId",folderId),temp3Info1Div[1].setAttribute("acc_id",acc_id)):filCls="zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",temp3Info1Div[1].setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_folder")),temp3Info1Div[1].setAttribute("gstitle",spanTag1),temp3Info1Div[1].setAttribute("istip",!0),temp3Info1Div[1].setAttribute("class",filCls),_jQueryGS(temp3Info1Div[1]).text(spanTag1);spanTag1=temp3Info1Div[1];_jQueryGS(temp3Info1Div[0]).append(spanTag1),zgssearch.resultUtil.setAttVal(infoDiv1,"class","zgs19_gsResultAuthor zgs19_gsOverflow","#temp2"),zgssearch.resultUtil.setAttVal(infoDiv1.querySelector("#temp2Span"),"class","zgs19_gsResultAuthor zgs19_gsoverflow"),temp3Info1Div=infoDiv1.querySelector("#temp2").querySelectorAll("span.zgs19_gstemp2Span"),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gslabel",zgssearch.getI18NMsg("gs.search.result.mail.resultfooter.sender")),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"gstitle",mSender),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"istip",!0),zgssearch.resultUtil.setAttVal(temp3Info1Div[0],"class",""),_jQueryGS(temp3Info1Div[0]).text(mSender),_jQueryGS(temp3Info1Div[1]).remove();temp3Info1Div=infoDiv1.querySelector("#temp3");return _jQueryGS(temp3Info1Div).remove(),{iconDiv:iconDiv,infoDiv:infoDiv,infoDiv1:infoDiv1}},zgssearch.Template.getGmailTemplate=function(iconDiv,href,acc_id,infoDiv,curResultObj,curSelectedLabelForFilter){zgssearch.getGSConstantObj();var infoDiv2="",aTagDiv="",infoTemp="",unreadMailClass=!0===iconDiv[infoDiv.isBold]?"zgs19_gsFtWeightNormal":"zgs19_gsFtWeightBold",infoTemp=iconDiv[infoDiv.isBold]?zgssearch.getMailImageStatus(1):zgssearch.getMailImageStatus(0),temp3InfoDiv=(temp3InfoDiv=iconDiv[infoDiv.subject]=zgssearch.replaceHTMLEntity(iconDiv[infoDiv.subject])||"")||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",temp3Info1Div=(temp3Info1Div=iconDiv[infoDiv.display_time]||"").replace(/\bam\b/gi,"AM").replace(/\bpm\b/gi,"PM"),mSender=iconDiv[infoDiv.sender]||"",labelDetails=iconDiv[infoDiv.labelDetails];let labelsInPickList;iconDiv=zgssearch.fieldDetailsMapping[zgssearch.GSConstant.GMAIL];iconDiv&&iconDiv.label&&(labelsInPickList=iconDiv.label.picklistValues);for(let i=0;i<labelDetails.length;i++){let label=labelDetails[i];label.name===label.id?label.name=label.name.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()}):label.id=label.name,curSelectedLabelForFilter&&label.id===curSelectedLabelForFilter&&(curSelectedLabelForFilter=label.id,labelDetails.unshift(labelDetails.splice(i,1)[0])),labelsInPickList&&!labelsInPickList.data.hasOwnProperty(label.id)&&(labelsInPickList.data[label.id]=label.id)}infoDiv=zgssearch.resultUtil.querySlt(document,"#iconTemplate"),infoDiv2=zgssearch.resultUtil.querySlt(infoDiv,"div"),iconDiv=document.importNode(infoDiv2,!0);iconDiv.querySelector("img.group_icon").outerHTML="";infoDiv=iconDiv.querySelector("span.group_icon");infoDiv.setAttribute("class",infoTemp.image),infoDiv.setAttribute("gstitle",infoTemp.title),zgssearch.resultUtil.setAttVal(infoDiv,"gs","resultMenuItem");infoTemp=zgssearch.resultUtil.querySlt(document,"#resultTitleTemplate");infoDiv2=zgssearch.resultUtil.querySlt(infoTemp,"div");infoDiv=document.importNode(infoDiv2,!0);infoDiv.setAttribute("class","zgs19_gsHgt20Px");aTagDiv=infoDiv.querySelector("#temp1").querySelectorAll("span.zgs19_gstemp1Span"),infoTemp=infoDiv.querySelector("#temp1");zgssearch.resultUtil.setAttVal(infoTemp,"class","zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow");/^(0?[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test(temp3Info1Div)?zgssearch.resultUtil.setAttVal(aTagDiv[0],"gslabel",zgssearch.getI18NMsg("common.time")):zgssearch.resultUtil.setAttVal(aTagDiv[0],"gslabel",zgssearch.getI18NMsg("common.date")),zgssearch.resultUtil.setAttVal(aTagDiv[0],"gstitle",temp3Info1Div),zgssearch.resultUtil.setAttVal(aTagDiv[0],"class",""),_jQueryGS(aTagDiv[0]).text(temp3Info1Div),_jQueryGS(aTagDiv[1]).remove();infoTemp=infoDiv.querySelector("#temp2");zgssearch.resultUtil.setAttVal(infoTemp,"class","zgs19_gsWid75Per");temp3Info1Div=infoDiv.querySelector("#temp2Span");zgssearch.resultUtil.setAttVal(temp3Info1Div,"class","zgs19_gsResultTitle zgs19_gsOverflow");aTagDiv=infoTemp.querySelector("a.zgs19_gstemp2");aTagDiv.setAttribute("class",unreadMailClass),aTagDiv.setAttribute("href",href),aTagDiv.setAttribute("target","_blank"),aTagDiv.setAttribute("rel","noopener noreferrer"),aTagDiv.setAttribute("gslabel",zgssearch.getI18NMsg("common.subject")),aTagDiv.setAttribute("gstitle",temp3InfoDiv),aTagDiv.setAttribute("gs","resultTitle"),_jQueryGS(aTagDiv).text(temp3InfoDiv);temp3InfoDiv=infoDiv.querySelector("#temp3");_jQueryGS(temp3InfoDiv).remove(),infoTemp.querySelector("span").remove();infoTemp=zgssearch.resultUtil.querySlt(document,"#infoTemplate");infoDiv2=zgssearch.resultUtil.querySlt(infoTemp,"div"),_jQueryGS(infoDiv2).attr("class","zgs19_gsGmailFromAndLabelDetails");infoDiv2=document.importNode(infoDiv2,!0);zgssearch.resultUtil.setAttVal(infoDiv2,"class","","#temp1"),temp1Tag=infoDiv2.querySelector("#temp1"),zgssearch.resultUtil.setAttVal(temp1Tag,"gslabel",zgssearch.getI18NMsg("common.from")),zgssearch.resultUtil.setAttVal(temp1Tag,"gstitle",mSender),zgssearch.resultUtil.setAttVal(temp1Tag,"istip",!0),zgssearch.resultUtil.setAttVal(temp1Tag,"class","zgs19_gsGmailFromName"),_jQueryGS(temp1Tag).append(mSender.replace(/<[^>]+>/g,"").trim()),_jQueryGS(temp1Tag).find("#temp1Span").remove(),zgssearch.resultUtil.setAttVal(infoDiv2,"class","zgs19_gsLabelFilterActionable zgs18_gmailLabelIcon","#temp2"),temp3Info1Div=infoDiv2.querySelector("#temp2").querySelector("#temp2Span"),_jQueryGS(temp3Info1Div.querySelectorAll(".zgs19_gstemp2Span")).remove();temp3Info1Div=infoDiv2.querySelector("#temp3");return _jQueryGS(temp3Info1Div).remove(),{labelDetails:labelDetails,htmlTemplate:{iconDiv:iconDiv,infoDiv:infoDiv,infoDiv2:infoDiv2}}},zgssearch.Template.getGmailPeekLabelDiv=function(labelDetails,acc_id,isDashBoardOrCardView){let pivotLabel=_jQueryGS("<span>",{class:"zgs19_gmailLabelPeekName"});pivotLabel.text(labelDetails.name);let filCls="zgs19_gmailLabelPeekName";return isDashBoardOrCardView||(pivotLabel.attr("gs","gmailLabel"),pivotLabel.attr("labelId",labelDetails.id),pivotLabel.attr("acc_id",acc_id),pivotLabel.attr("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_label")),pivotLabel.attr("gstitle",labelDetails.name),pivotLabel.attr("istip",!0),filCls+=" zgs19_gsOverflow"),pivotLabel.attr("class",filCls),pivotLabel},zgssearch.Template.getGmailHiddenLabelsDiv=function(labelDetails,acc_id,actionNeeded){let dropDownContainer=_jQueryGS("<div>",{id:"zgs20_gsGmailLabelsDropDownContainer",class:"zgs19_gsGmailLabelsDropDown"}).append(_jQueryGS("<span>",{class:"zgs19_gmailLabelPseudoTail"}));for(let i=0;i<labelDetails.length;i++){var labelId=labelDetails[i].id||"",mLabel=labelDetails[i].name||"";dropDownContainer.append(function(labelId,filCls,acc_id,isLabelAction){let dropDownItem=_jQueryGS("<span>").text(filCls);return filCls=isLabelAction?"zgs19_hvr_underline zgs19_hvr_underline_filter zgs19_gsOverflow zgs19_gsGmailLabelsDropDownItem":"",dropDownItem.attr("class",filCls),isLabelAction&&(dropDownItem.attr("gslabel",zgssearch.getI18NMsg("gs.search.filter_through_label")),dropDownItem.attr("istip",!0),dropDownItem.attr("gs","gmailLabelDropdownFilter"),dropDownItem.attr("acc_id",acc_id),dropDownItem.attr("class",filCls),dropDownItem.attr("actiontype","contextFilters"),dropDownItem.attr("fkey","labels"),dropDownItem.attr("key",labelId),dropDownItem.attr("service",GSConstant.GMAIL)),_jQueryGS("<div>").append(dropDownItem)}(labelId,mLabel,acc_id,actionNeeded))}return dropDownContainer},zgssearch.connectors={getConnectorDOMId:function(connector_name){return"connector_"+connector_name.toLowerCase()},getCallBackURL:function(){return window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/authenticate"},getNewFlowCallBackURL:function(service){return window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/redirect/"+service},getBoxAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector=box&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/box?zservice=ZohoSearch&serURL="+encodeURIComponent(callback_url)},getGDriveAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.GOOGLEDRIVE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/google?zservice=ZohoSearch&authScopes=GDRIVE.READ&&multipleAccounts=true&serURL="+encodeURIComponent(callback_url)},getDropBoxAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.DROPBOX+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/dropbox/auth/v2?zservice=ZohoSearch&serURL="+encodeURIComponent(callback_url)},getSlackAuthURL:function(connector_name,target){encodeURIComponent(window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/authenticate?connector="+zgssearch.GSConstant.SLACK);var empty_window_reference=window.open("about:blank","connector_auth","");empty_window_reference.document.write('<html><head><style> .loader {margin: auto;margin-top : 350px;border: 16px solid #f3f3f3;border-radius: 50%;border-top: 16px solid #3498db;width:60px;height: 60px; animation: spin 1s linear infinite;} @keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); } } </style></head><body><div class="loader"></div><div style="margin-top : 50px; text-align:center; font-weight:400; font-size: 25px;">Loading workspaces... Please wait.</div></body></html>'),zgssearch.uri(zgssearch.GET,window.location.protocol+"//"+window.location.host+"/zgssearch/exconnector/getStateParam?service_name="+zgssearch.GSConstant.SLACK+"&app_id="+zgssearch.cloud_app_id,"","",function(redirect_url,auth_general_scope){var auth_user_scope,gadget_auth_url;"error"!=auth_general_scope?(gadget_auth_url=redirect_url.response.state,auth_user_scope=zgssearch.GSConstant.slack_auth_user_scope,auth_general_scope=zgssearch.GSConstant.slack_auth_scope,redirect_url=zgssearch.connectors.getNewFlowCallBackURL("slack")+"?connector=slack",gadget_auth_url=zgssearch.integGadgetsURL+"/tpa/slack?zservice=ZohoSearch&serUrl="+encodeURIComponent(redirect_url)+"&user_scope="+encodeURIComponent(auth_user_scope)+"&scopes="+auth_general_scope+"&authState="+gadget_auth_url,zgssearch.openWindowForAuthWithTimer(gadget_auth_url,zgssearch.GSConstant.SLACK,target,empty_window_reference)):(empty_window_reference.close(),zgssearch.Utils.showErrorMsg(zgssearch.I18N.getValue("gs.search.error.tryagain_generic_error_messege")))})},getSalesForceAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.SALESFORCE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/"+zgssearch.GSConstant.SALESFORCE+"?zservice=ZohoSearch&authScopes=api&accountType=production&serURL="+encodeURIComponent(callback_url)},getOneDriveAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.ONEDRIVE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/tpa/office365?zservice=ZohoSearch&delegatedScopes=Files.Read.All&serurl="+encodeURIComponent(callback_url)},getEvernoteAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.EVERNOTE+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/"+zgssearch.GSConstant.EVERNOTE+"?zservice=ZohoSearch&mode=auth&serURL="+encodeURIComponent(callback_url)},getIsSSOUser:function(){var isSSOUser="";return zgssearch.uri(zgssearch.GET,"zgssearch/exconnector/isO365SSOUser","","",function(response,status){"error"!=status&&(response=response.response||{},isSSOUser=response.isSSOUser)}),isSSOUser},getO365MailAuthURL:function(connector_name,target){var auth_url=zgssearch.connectors.getCallBackURL()+"?connector=o365mail&app_id="+zgssearch.cloud_app_id,auth_url=zgssearch.integGadgetsURL+"/tpa/office365?zservice=ZohoSearch&delegatedScopes=Mail.ReadWrite&serurl="+encodeURIComponent(auth_url);zgssearch.openWindowForAuthWithTimer(auth_url,connector_name,target)},getAsanaAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector=asana",auth_gateway_url=zgssearch.GSConstant.baseURL+"/zgssearch/cloudconnector/TPAuthentication?";return auth_gateway_url+="action=reachTPFromConfiguredURL&service=asana&app_id="+zgssearch.cloud_app_id,auth_gateway_url+="&returnBackTo="+encodeURIComponent(callback_url)},getGmailAuthURL:function(){var callback_url=zgssearch.connectors.getCallBackURL()+"?connector="+zgssearch.GSConstant.GMAIL+"&app_id="+zgssearch.cloud_app_id;return zgssearch.integGadgetsURL+"/auth/google?zservice=ZohoSearch&authScopes=GMAIL.MODIFY&multipleAccounts=true&serURL="+encodeURIComponent(callback_url)},getAuthURL:function(connector_name){var auth_url=null;switch(connector_name){case zgssearch.GSConstant.DROPBOX:auth_url=zgssearch.connectors.getDropBoxAuthURL();break;case zgssearch.GSConstant.BOX:auth_url=zgssearch.connectors.getBoxAuthURL();break;case zgssearch.GSConstant.SLACK:auth_url=zgssearch.connectors.getSlackAuthURL();break;case zgssearch.GSConstant.GOOGLEDRIVE:auth_url=zgssearch.connectors.getGDriveAuthURL();break;case zgssearch.GSConstant.SALESFORCE:auth_url=zgssearch.connectors.getSalesForceAuthURL();break;case zgssearch.GSConstant.O365MAIL:auth_url=zgssearch.connectors.getO365MailAuthURL(connector_name);break;case zgssearch.GSConstant.ONEDRIVE:auth_url=zgssearch.connectors.getOneDriveAuthURL();break;case zgssearch.GSConstant.EVERNOTE:auth_url=zgssearch.connectors.getEvernoteAuthURL();break;case zgssearch.GSConstant.ASANA:auth_url=zgssearch.connectors.getAsanaAuthURL(connector_name);break;case zgssearch.GSConstant.GMAIL:auth_url=zgssearch.connectors.getGmailAuthURL()}return auth_url},configure:function(target,action){0<_jQueryGS("#zgs20_addNewAcc").length&&_jQueryGS("#zgs20_addNewAcc").attr("disabled","true");var auth_url=zgssearch.getParentNode(target),connector_name=_jQueryGS(target).attr("ser")||_jQueryGS(auth_url).attr("ser"),auth_url=zgssearch.connectors.getAuthURL(connector_name);auth_url&&zgssearch.openWindowForAuthWithTimer(auth_url,connector_name,target)},checkAndUpdateEnabledAccountsList:function(service_name){var enabled_account_list,service_data=zgssearch.gssettingsapptab.getStoredApplicationData(service_name);service_data.hasOwnProperty("all")&&(enabled_account_list=zgssearch.getEnabledAccListFromWidget(service_name,service_data),service_data.eO=enabled_account_list,zgssearch.gssettingsapptab.storeApplicationData(service_name,service_data))},checkIsDeleteAllowed:function(service_name,connector_id){var all_accounts_list,enabled_accounts_list,is_delete_allowed=!0,service_data=zgssearch.gssettingsapptab.getStoredApplicationData(service_name);return service_data.hasOwnProperty("all")&&(all_accounts_list=service_data.all||[],(enabled_accounts_list=service_data.eO||[]).length<=0&&(zgssearch.connectors.checkAndUpdateEnabledAccountsList(service_name),enabled_accounts_list=(service_data=zgssearch.gssettingsapptab.getStoredApplicationData(service_name)).eO||[]),is_delete_allowed=!(1<all_accounts_list.length&&1===enabled_accounts_list.length&&enabled_accounts_list[0]===connector_id)),is_delete_allowed},delAccConfirmation:function(connector_id){var header=zgssearch.getParentNode(_jQueryGS(connector_id).parentsUntil("zgs19_gsAccEnabCls")[0]),service_name=_jQueryGS(header).attr("ser"),connector_id=_jQueryGS(header).attr("accId");zgssearch.connectors.checkIsDeleteAllowed(service_name,connector_id)?((header={}).service_name=service_name,header.connector_id=connector_id,this.delAccConfirmation.accountObject=header,header=enabledMsg=rightText=rightAction=leftText=htmlContentDiv="",header=zgssearch.I18N.getValue("integ.deleteAccount"),enabledMsg=zgssearch.I18N.getValue("gs.con.delete.confirm.title"),rightTxt=zgssearch.I18N.getValue("gs.common.yes"),leftText=zgssearch.I18N.getValue("integ.cancel"),rightAction="yesDelete",leftAction=closeAction="",zgssearch.popupUtils.openConfirmationPopup(header,enabledMsg,"deleteAccountConfirmation",leftText,leftAction,void 0,rightTxt,rightAction,"",closeAction,htmlContentDiv)):zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.con.not.allowed.dec"),bannerShowTime:5e3})},deleteAccount:function(){var service,connId,params,url_obj=this.delAccConfirmation.hasOwnProperty("accountObject");url_obj?(service=(url_obj=this.delAccConfirmation.accountObject).service_name,connId=url_obj.connector_id,params="service_name="+service+"&connector_id="+connId+"&app_id="+zgssearch.cloud_app_id,(url_obj={url:"/zgssearch/exconnector/revoke",type:"POST",dataType:"text"}).data=params,url_obj.success=function(data){afterDeleteSuccess()},url_obj.error=function(data){try{(1101==zgssearch.jsonParse(data.responseText).response.error_code?afterDeleteSuccess:error_banner)()}catch(ex){error_banner()}},error_banner=function(){zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("integ.accNotDeleted"),bannerShowTime:5e3})},afterDeleteSuccess=function(){_jQueryGS("#zgs20_gsSettingprevLoader").show();var loadericon=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");_jQueryGS("#zgs20_gs_"+service+"AccView").empty().append(loadericon),zgssearch.showbannertip({ty:1,msg:zgssearch.I18N.getValue("gs.con.delete.success"),bannerShowTime:5e3}),zgssearch.gsCloud.deleteAppAccInfo(service,connId),zgssearch.connectors.addCloudServiceInList(service)},zgssearch.network.uri(url_obj)):zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("integ.accNotDeleted"),bannerShowTime:5e3})},updateWidgetData:function(service,account_index){var wholeList,accDetails,widget_info,services_info,current_service_info,enable_account_list,data=zgssearch.gssettingsapptab.getStoredApplicationData(service);data.hasOwnProperty("all")&&(wholeList=data.hasOwnProperty("all")?data.all:"",accDetails=data.hasOwnProperty("aD")?data.aD:"",-1<wholeList.indexOf(account_index)&&wholeList.splice(wholeList.indexOf(account_index),1),delete accDetails[account_index],(current_service_info=(services_info=(widget_info=zgssearch.GSConstant.widgetObject||{}).servicesinfo||{})[service])&&current_service_info.eO?(enable_account_list=current_service_info.eO,!account_index||-1<(account_index=enable_account_list.indexOf(account_index))&&enable_account_list.splice(account_index,1),current_service_info.eO=data.eO=enable_account_list):(widget_info.allserviceslist&&widget_info.allserviceslist.hasOwnProperty(service)&&widget_info.allserviceslist.push(service),(current_service_info={}).eO=data.eO),current_service_info.all=wholeList,current_service_info.aD=accDetails,services_info[service]=current_service_info,widget_info.servicesinfo=services_info,zgssearch.GSConstant.widgetObject=widget_info,zgssearch.setWidgetResponseData(service,services_info[service]),zgssearch.formatWidgetData(service,services_info[service]),zgssearch.gssettingsapptab.storeApplicationData(service,data))},appendReconnectDiv:function(connector_id){connector_id=_jQueryGS(connector_id),connector_id.attr("ser"),connector_id=connector_id.attr("id");_jQueryGS("#"+("zgs20_hoverBlock_"+connector_id)).removeClass("zgs19_gsDisplayNone")},removeReconnectDiv:function(connector_id){connector_id=_jQueryGS(connector_id),connector_id.attr("ser"),connector_id=connector_id.attr("id");_jQueryGS("#"+("zgs20_hoverBlock_"+connector_id)).addClass("zgs19_gsDisplayNone")},configureConnector:function(empty_window_reference){var connector_auth_rul=zgssearch.connectors.getAuthURL(empty_window_reference),empty_window_reference=window.open("about:blank","connector_auth","");zgssearch.openWindowForAuth(connector_auth_rul,empty_window_reference)},reconnectConnector:function(connector_name){zgssearch.connectors.configureConnector(connector_name,!0)},getCloudConnectors:function(){},getConnectorAccounts:function(connector_name,target,callback){var url_obj=zgssearch.getFourDotLoader("zgs20_gsSettingprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader zgs19_gsDisplayNone");_jQueryGS("#zgs20_gsServiceAccountsBlock").append(url_obj),_jQueryGS("#zgs20_gsSettingprevLoader").css("display","block");url_obj={url:"/zgssearch/exconnector/connections",type:"GET",dataType:"text"};url_obj.data="service_name="+connector_name,url_obj.success=function(response){if("success"===(response=(response=zgssearch.jsonParse(response)).response).status.toLowerCase()){var conn=response.connections||"";_jQueryGS("#zgs20_gsSettingprevLoader").css("display","none");var settingsApplData=zgssearch.gssettingsapptab.getStoredApplicationData(connector_name),accDetails=settingsApplData.hasOwnProperty("aD")?settingsApplData.aD:{};if(0<conn.length){for(var i=0;i<conn.length;i++){var connector_info=conn[i],connId=connector_info.CONNECTOR_ID||"",addedTime=connector_info.ADDED_TIME||"",is_token_expired=connector_info.AUTH_ERROR||!1,psId=connector_info.PARENT_SERVICE_ID||"",appName=connector_info.ZS_APP_NAME||"";accDetails.hasOwnProperty(connId)||(accDetails[connId]={},accDetails[connId].e=!0,accDetails[connId].n=connector_info.CONNECTOR_NAME,settingsApplData.all.push(connId)),accDetails.hasOwnProperty(connId)&&(accDetails[connId].added_time=addedTime,accDetails[connId].is_token_expired=is_token_expired,accDetails[connId].psId=psId,accDetails[connId].appName=appName)}zgssearch.setWidgetResponseData(connector_name,settingsApplData),zgssearch.gssettingsapptab.storeApplicationData(connector_name,settingsApplData)}if(callback)return void callback()}zgssearch.gssettingsapptab.showApplicationData(connector_name,target)},zgssearch.network.uri(url_obj)},getConnectorInfo:function(connector_id){var url_obj={};url_obj.url="/zgssearch/exconnector/connections/"+connector_id,url_obj.type="GET",url_obj.dataType="text",url_obj.success=function(data){JSON.parse(data)},zgssearch.network.uri(url_obj)},deleteConnector:function(connector_name,connector_id){var url_obj={url:"/zgssearch/exconnector/revoke",type:"POST",dataType:"text"};url_obj.data="service_name="+connector_name+"&connector_id="+connector_id,url_obj.success=function(data){JSON.parse(data)},zgssearch.network.uri(url_obj)},addCloudServiceInList:function(service_name){zgssearch.hasOwnProperty("isCloudConnectorsEmbeddedAsComponent")&&zgssearch.isCloudConnectorsEmbeddedAsComponent&&zgssearch.fetchWidgetData(service_name,function(data){var serviceInfo;zgssearch.serviceList=[],(data="string"==typeof data?zgssearch.jsonParse(data):data)&&data.widget&&data.widget.servicesinfo&&(serviceInfo=data.widget.servicesinfo.hasOwnProperty(service_name)?data.widget.servicesinfo[service_name]:{},0===Object.keys(serviceInfo).length?(zgssearch.GSConstant.accessibleServices=zgssearch.GSConstant.accessibleServices.filter(service=>service!==service_name),zgssearch.GSConstant.enabledserviceslist=zgssearch.GSConstant.enabledserviceslist.filter(service=>service!==service_name)):(-1==zgssearch.GSConstant.accessibleServices.indexOf(service_name)&&zgssearch.GSConstant.accessibleServices.push(service_name),-1==zgssearch.GSConstant.enabledserviceslist.indexOf(service_name)&&zgssearch.GSConstant.enabledserviceslist.push(service_name)),zgssearch.GSConstant.widgetObject.servicesinfo[service_name]=serviceInfo,zgssearch.formatWidgetData(service_name,serviceInfo),zgssearch.setCloudAppObj(data.widget,service_name),zgssearch.setWidgetResponseData(service_name,serviceInfo),zgssearch.storeSuitServiceList(),zgssearch.checkAndRenderServiceList())})},handleConnectorAuthResponse:function(connector_name,service_name,auth_status,target,hideSuccessMsg,accObj){if("1"==auth_status||"2"==auth_status)"1"==auth_status?(msg=zgssearch.I18N.getValue("gs.con.auth.success",[connector_name]),zgssearch.uiServiceProperties.hasOwnProperty("isTryNowOptionEnabled")&&zgssearch.uiServiceProperties.isTryNowOptionEnabled&&zgssearch.isActionPerformableInHandler("tryNowInParentFrame")?(_jQueryGS("#zgs20_cloudIntegration").append(_jQueryGS("<div>",{id:"zgs20_tryNowToast",class:"zgs19_successToastContainer zgs19_gsbannertiptext zgs19_gsbannertip zgs19_gsBoxShadowPopup"}).append(_jQueryGS("<div>",{id:"zgs20_gsbannertipicon",class:"zgs19_gsbannertipicon zgs19_gsfl zgs18_gsSuccessIcon"})).append(_jQueryGS("<div>",{class:"zgs19_tryNowToastMsg"}).append(zgssearch.I18N.getValue("gs.con.auth.success",[connector_name])).append(_jQueryGS("<span>",{class:"zgs19_tryNowButton",gs:"tryNowInParentFrame",serviceName:service_name}).text(zgssearch.I18N.getValue("integ.tryNow"))))),zgssearch.lastAddedService=service_name,setTimeout(()=>{_jQueryGS("#zgs20_cloudIntegration #zgs20_tryNowToast").remove()},1e4)):zgssearch.showbannertip({ty:1,msg:msg}),zgssearch.connectors.addCloudServiceInList(service_name)):(msg=zgssearch.I18N.getValue("integ.requestSentToAdmin",[connector_name]),zgssearch.showbannertip({ty:1,msg:msg})),accObj&&(zgssearch.gsCloud.addAppAccInfo(service_name,accObj),zgssearch.gsCloud.manageAcc(),_jQueryGS("#zgs19_gs"+service_name+"AppTitleView").click());else{var msg,bannerType=3;switch(zgssearch.getLocalStorageValue("zs_error_code")){case"2209":bannerType=1,msg=zgssearch.I18N.getValue("gs.con.auth.addedSuccessfully"),zgssearch.gsCloud.manageAcc(),_jQueryGS("#zgs19_gs"+service_name+"AppTitleView").click();break;case"3":msg=zgssearch.I18N.getValue("gs.con.auth.account.operation_cancelled");break;case"4":msg=zgssearch.I18N.getValue("gs.con.auth.account.limit_exceeded");break;case"5":msg=zgssearch.I18N.getValue("gs.con.auth.account.exists");break;case"7":msg=zgssearch.I18N.getValue("gs.con.auth.operation_failure");break;default:msg=zgssearch.I18N.getValue("gs.con.auth.failure")}zgssearch.showbannertip({ty:bannerType,msg:msg})}zgssearch.deleteLocalStorageValue("zs_error_code")},getConnectors:function(){var url_obj={url:"/zgssearch/exconnector/allconnectors",type:"GET",dataType:"text",success:function(response){response=zgssearch.jsonParse(response);zgssearch.gssettingsapptab.connectorDetails=response,zgssearch.gssettingsapptab.renderCloudConnectors(response)}};zgssearch.network.uri(url_obj)},constructZSYNCDownloadURL:function(unique_id,download_obj){download_obj=zgssearch.connectors.getServiceParams(unique_id,download_obj),unique_id=unique_id?unique_id.service:_jQueryGS(zgssearch.curSelectedEle).attr("service");download_obj.action=unique_id===zgssearch.GSConstant.ASANA?"getAsanaAttachmentDownloadUrl":"getDownloadUrl";unique_id="search_download_"+(new Date).getTime();return zgssearch.GSConstant.ud_download_server_url+"?event-id="+unique_id+"&x-cli-msg="+encodeURIComponent(JSON.stringify(download_obj))+"&x-service="+zgssearch.GSConstant.ud_service_name},addFileToWD:function(urlObj,resObj){var param,serviceParams=zgssearch.connectors.getServiceParams(urlObj,resObj),urlParams="action=addToWD_"+(urlObj?urlObj.service:zgssearch.getCurSelectedEleAttr("service"));for(param in serviceParams)urlParams+="&"+param+"="+serviceParams[param];urlParams+="&folder_id="+urlObj.folderId;urlObj={url:"/zgssearch/exconnector/serviceaction",type:"POST"};urlObj.data=urlParams,urlObj.success=function(responseData){_jQueryGS("#zgs20_wdMount").removeClass("zgs19_gsWDoverLay"),_jQueryGS("#zgs20_gsWDoverlayLoader").remove(),1==zgssearch.GSConstant.UIType&&"block"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&zgssearch.popupUtils.closeOverlayDialog();var fileName,resp=responseData.response;if(resp&&resp.status)switch(resp.status){case"success":resp.workdrive_filename&&(fileName=resp.workdrive_filename),zgssearch.showbannertip({ty:1,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.success",[fileName])});break;case"failed":"failure_SL"==resp.error_message?zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.msg.size_exceeded")}):zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.error")})}},urlObj.error=function(xhr){_jQueryGS("#zgs20_wdMount").removeClass("zgs19_gsWDoverLay"),_jQueryGS("#zgs20_gsWDoverlayLoader")[0].remove(),1==zgssearch.GSConstant.UIType&&"block"==_jQueryGS("#zgs20_gsOverlayDialog").css("display")&&zgssearch.popupUtils.closeOverlayDialog(),zgssearch.showbannertip({ty:3,msg:zgssearch.I18N.getValue("gs.search.result.addToWd.error")})},zgssearch.network.uri(urlObj)},getServiceParams:function(paramObj,current_response_obj){var pkid=current_response_obj.id||"",res_type=current_response_obj.rtype||"",res_name=current_response_obj.name||"",connector_id=paramObj.connectorId||"",service_name=paramObj?paramObj.service:zgssearch.getCurSelectedEleAttr("service"),serviceParams={};return serviceParams.connector_id=connector_id,serviceParams.service_name=service_name,serviceParams.res_name=encodeURIComponent(res_name),service_name===zgssearch.GSConstant.DROPBOX?(serviceParams.pkid=pkid,serviceParams.res_type=res_type):service_name===zgssearch.GSConstant.BOX?serviceParams.file_id=pkid:service_name===zgssearch.GSConstant.GOOGLEDRIVE?(serviceParams.pkid=pkid,serviceParams.mime_type=current_response_obj.mtype||"",serviceParams.res_extn=current_response_obj.extn||""):service_name===zgssearch.GSConstant.ONEDRIVE?(serviceParams.id=pkid,connector_id=paramObj.accId,serviceParams.connector_id=connector_id,serviceParams.name=encodeURIComponent(res_name),serviceParams.driveId=current_response_obj.driveId,delete serviceParams.res_name):service_name===zgssearch.GSConstant.ASANA?(connector_id=paramObj.connectorId,serviceParams.connector_id=connector_id,serviceParams.name=paramObj.attachName,serviceParams.gid=paramObj.attachId,delete serviceParams.res_name):service_name===zgssearch.GSConstant.O365MAIL?(connector_id=paramObj.connectorId,serviceParams.connector_id=connector_id,serviceParams.service_name=paramObj.service,serviceParams.msgId=current_response_obj.id,serviceParams.attachmentId=paramObj.attachId,serviceParams.isExAttachment=!0,delete serviceParams.res_name):service_name===zgssearch.GSConstant.EVERNOTE?(serviceParams.attach_name=paramObj.attachId,serviceParams.res_hash=paramObj.resHash,serviceParams.note_id=current_response_obj.id,delete serviceParams.res_name):service_name===zgssearch.GSConstant.GMAIL&&(serviceParams.attachmentId=paramObj.attachmentId,serviceParams.msgId=paramObj.msgId,serviceParams.fileName=paramObj.fileName,serviceParams.isExAttachment=paramObj.isExAttachment,serviceParams.mimeType=paramObj.mimeType,delete serviceParams.res_name),serviceParams.app_id=zgssearch.getAppIdForCloudApps(connector_id),serviceParams},getDropboxFileOwner:function(){var params=zgssearch.getCurrentResObj(),pkid=params.id,url_obj=params.CONNECTOR_ID,params="action=getFileMembers&pkid="+pkid+"&service_name="+zgssearch.GSConstant.DROPBOX+"&connector_id="+url_obj,url_obj={url:"/zgssearch/exconnector/getCalloutData",type:"GET"};url_obj.data=params,url_obj.dataType="text",url_obj.success=function(owner_name){var menuEl,current_pkid=JSON.parse(owner_name);current_pkid.response&&(owner_name=current_pkid.response,menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout"),zgssearch.setGSTagElems(menuEl),owner_name.user&&(!(current_pkid=owner_name.user).owner||0<(owner_name=current_pkid.owner).length&&(""!==(owner_name=(current_pkid=owner_name[0]).name||current_pkid.email||"")&&(current_pkid=zgssearch.getCurrentResObj().id,pkid===current_pkid&&(_jQueryGS(menuEl.startedBy).text(zgssearch.I18N.getValue("gs.callout.owned.by")),_jQueryGS(menuEl.owner).text(owner_name),_jQueryGS(menuEl.owner).attr("gstitle",owner_name),_jQueryGS(menuEl.owner).attr("gslabel",zgssearch.I18N.getValue("gs.callout.owned.by.name"))))))),_jQueryGS(menuEl.startedBy).parent().parent().css("display","block")},zgssearch.network.uri(url_obj)},loadConnectorAccounts:function(service,target){zgssearch.isIntegViewPage||zgssearch.gsCloud.renderAppAcc(service)}},zgssearch.ZSCRMFactory=function(){var crm;this.createCRM=function(service_info){switch(service_info.service_name){case zgssearch.GSConstant.CRM:crm=new ZSCrm;break;case zgssearch.GSConstant.SALESFORCE:crm=new ZSSalesforce}crm.service_name=service_info.service_name;var acc_id=service_info.acc_id||null;return crm.account_id="all_crm_mod"!==acc_id?acc_id:null,crm.offset=service_info.offset||0,crm.limit=service_info.limit||0,crm.results_id=service_info.parent_div_id||"",crm.results_area_width=service_info.results_area_width||512,crm.addtional_info=service_info.service_addtional_info||{},crm.service_info=service_info,crm.parentDiv=service_info.parentDiv,crm.cardObj=service_info.cardObj||"",crm.getServiceName=function(){return this.service_name},crm.getAccountId=function(){return null!==this.account_id&&void 0!==this.account_id&&""!==this.account_id?this.account_id:""},crm.getSearchType=function(){return this.getServiceInfo().search_type||""},crm.getRenderModule=function(){return this.getServiceInfo().search_module_name||""},crm.getResults=function(){return this.getServiceInfo().records_info},crm.getOffset=function(){return this.offset},crm.getLimit=function(){return this.limit},crm.getServiceInfo=function(){return this.service_info},crm.getResultsDivId=function(){return this.results_id},crm.getResultsAreaWidth=function(){return this.results_area_width},crm.getAdditionalInfo=function(){return this.addtional_info},crm.getCardObj=function(){return this.cardObj},crm.setCalloutId=function(calloutId){this.calloutId=calloutId},crm.getCalloutId=function(){return this.calloutId},crm.setCurrentResObj=function(){var cardId=this.getCardObj()?this.cardObj.cardId:"";this.currentResObj=cardId?zgssearch.Utils.getResultObjectofType(zgssearch.dbCrdCalloutType,cardId):zgssearch.getCurrentResObj()},crm.getCurrentResObj=function(){return this.currentResObj},crm.setServiceSearchType=function(){var cardDetails;this.serviceSearchType=zgssearch.getSearchType(),this.getCardObj()&&(cardDetails=this.cardObj.cardId,cardDetails=zgssearch.gscardinDb.getOriginalCardId(cardDetails),cardDetails=zgssearch.gsdbUtils.cardIdsVsObject[cardDetails],this.serviceSearchType=cardDetails.service||zgssearch.GSConstant.ALL)},crm.getServiceSearchType=function(){return this.serviceSearchType},crm.addAccountInfo=function(response_results){response_results.service_name=this.getServiceName(),response_results.acc_id=this.getAccountId(),response_results.search_type=this.getSearchType()},crm.resetWidth=function(){this.getOffset()<=1&&zgssearch.Utils.setResultsWidthInfo(this.getServiceName(),this.getAccountId(),{})},crm.render=function(){zgssearch.CrmUtils.parseDisplayFields(this.getServiceInfo());var response_results=this.parse();this.addAccountInfo(response_results),this.resetWidth(),this.append(this.getResultsDivId(),response_results)},crm.setResultsWidth=function(){var service_info={};service_info.service_name=this.getServiceName(),""!==this.getAccountId()&&(service_info.account_id=this.getAccountId()),service_info.results_parent_id=this.getServiceInfo().module_parent_id||this.getResultsDivId(),service_info.total_results_area_width=this.getResultsAreaWidth(),zgssearch.Utils.setResultsWidth(service_info)},crm.parse=function(){var response_results={};response_results.type=this.getCardObj()?this.cardObj.type:"Search";var service_name=this.getServiceName(),offset=this.getOffset(),limit=this.getLimit(),records_info=this.getResults();"all"===this.getSearchType()&&(offset=0);for(var searchType=this.getServiceSearchType(),records_data=[];offset<limit;offset++){var record=records_info[service_name+offset],temp_record_info={};temp_record_info.index=offset,temp_record_info.id=record.Id||record.id;var cardObj=this.getCardObj()?"zgs20_"+this.cardObj.cardId+"_"+this.getAccountId()+this.getRenderModule()+"Results_"+offset:"zgs20_gs"+this.getAccountId()+this.getRenderModule()+"Results_"+offset;temp_record_info.div_id=cardObj,temp_record_info.link=zgssearch.CrmUtils.getRecordLink(record);var module_name=zgssearch.CrmUtils.getModuleName(record);temp_record_info.module_name=module_name,temp_record_info.module_disp_name=this.getModuleDispName(module_name);cardObj=this.getCardObj();temp_record_info.gsAttr=cardObj&&cardObj.gsattr||"searchResultTable",zgssearch.CrmUtils.parseResultViewFields(service_name,module_name,record,temp_record_info),records_data.push(temp_record_info),searchType===zgssearch.GSConstant.ALL&&this.getAccountId()}return response_results.records_data=records_data,response_results},crm.append=function(mod_header_html,results){var module_parent_id=zgssearch.Handlebar_Template.getResultsTemplateName(this.getServiceName()),template_func=search_handlebars.templates[module_parent_id],parent_div_elem=this.parentDiv||_jQueryGS("#"+mod_header_html),module_parent_id=this.getServiceInfo().module_parent_id;(module_parent_id=this.getCardObj()?this.cardObj.cardId+"_"+module_parent_id:module_parent_id)&&parent_div_elem.append(_jQueryGS("<div>",{id:module_parent_id,class:"",style:""})),"all"===this.getSearchType()?(mod_header_html=this.constructModHeader(),_jQueryGS("#"+module_parent_id).html(mod_header_html).append(template_func(results))):parent_div_elem.append(template_func(results))},crm.constructModHeader=function(){var mod_header_info={};return mod_header_info.id="zgs20_gs"+this.getAccountId()+this.getRenderModule()+"Template",mod_header_info.service_name=this.getServiceName(),mod_header_info.mod_name=this.getRenderModule(),mod_header_info.mod_disp_name=this.getModuleDispName(this.getRenderModule()),mod_header_info.acc_id=this.getAccountId(),zgssearch.CrmUtils.constructModHeader(mod_header_info,this.getCardObj())},crm.renderCalloutView=function(cardObj,menuEl,parentDiv){menuEl=this.parseRecordFields(cardObj,menuEl);this.addExtraInfoForRecord(cardObj,menuEl,parentDiv);cardObj=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getServiceName()),cardObj=search_handlebars.templates[cardObj],parentDiv=parentDiv?parentDiv.searchObj.parentElem:"#zgs20_gsSearchResultRight";_jQueryGS(parentDiv).html(cardObj(menuEl));cardObj=this.getCalloutId();_jQueryGS("#"+cardObj).removeClass("zgs19_gsDisplayNone"),_jQueryGS("#"+cardObj).addClass("zgs19_gsDisplayBlock");menuEl=zgssearch.getTargetElem(this.getCalloutId());zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.minpreview).css("display","none");cardObj=this.getCardObj();cardObj.type===zgssearch.dbCrdCalloutType&&(cardObj.iconDisplay||_jQueryGS(menuEl.maxpreview).css("display","none")),this.setCrmCalloutEleSize(menuEl)},crm.parseRecordFields=function(module_name,final_record_info){var record_fields=(final_record_info.response||{}).disp_fields||{},final_record_info={};return zgssearch.CrmUtils.parseFieldsForCalloutHeader(this.getServiceName(),module_name,record_fields,final_record_info),zgssearch.CrmUtils.parseFieldsForCalloutFooter(this.getServiceName(),module_name,record_fields,final_record_info),zgssearch.CrmUtils.parseTitleField(module_name,record_fields,final_record_info),zgssearch.CrmUtils.checkTitleFieldEmpty(final_record_info),final_record_info},crm.addExtraInfoForRecord=function(module_name,final_record_info,argObj){final_record_info.service_name=this.getServiceName(),final_record_info.acc_id=this.getAccountId(),final_record_info.record_link=zgssearch.CrmUtils.getRecordLink(this.getCurrentResObj()),final_record_info.module_name=module_name,final_record_info.module_disp_name=this.getModuleDispName(module_name),final_record_info.calloutId=argObj?argObj.searchObj.calloutId:"zgs20_gsCRMCallout",this.setCalloutId(final_record_info.calloutId),zgssearch.CrmUtils.addActionsList(final_record_info)},crm.getModuleDispName=function(module_name){var mod_info=zgssearch.getFilterObj(this.getServiceName()).modules.data[this.getAccountId()];return mod_info[module_name]||module_name},crm.setCrmCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.impData).height(),calloutId=this.getCalloutId(),contentHeight=_jQueryGS("#"+calloutId).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",contentHeight+"px")},crm.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=this.getCalloutId()||"zgs20_gsCRMCallout",menuEl=zgssearch.getTargetElem(menuEl);zgssearch.setGSTagElems(menuEl),this.setCrmCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},crm.setCurrentResObj(),crm}},function(zgssearch,window){var gscrmaction,_jQueryGS=window._jQueryGS;zgssearch.gscrmaction=(gscrmaction=void 0,(gscrmaction=zgssearch.gscrmaction||{}).crmContacts=gscrmaction.crmContacts||{},gscrmaction.crmContactsInfo=gscrmaction.crmContactsInfo||{count:0,page:1,more_records:!0},gscrmaction.getCRMContactsUserObj=function(){return gscrmaction.crmContacts||{}},gscrmaction.getCRMContactsInfoObj=function(){return gscrmaction.crmContactsInfo||{}},gscrmaction.isCRMContactsExists=function(){return 0<gscrmaction.getCRMContactsInfoObj().count},gscrmaction.fetchCRMUserInfo=function(params){var argParams,userInfoObj=gscrmaction.getCRMContactsInfoObj();userInfoObj.more_records&&userInfoObj.count<1e3&&(argParams={timeout:0,curCount:zgssearch.gsusercontacts.getServerCallCount(),obj:params},params="action=fetchCRMUserInfo&page="+userInfoObj.page+"&orgId="+zgssearch.gscrmresults.getCRMOrganizationId(),zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(luInfoObj,status,response){var argObj=response.args||{},response=zgssearch.jsonParse(luInfoObj),luInfoObj=response.hasOwnProperty("info")?response.info:{};gscrmaction.crmContactsInfo.page=luInfoObj.page||1,gscrmaction.crmContactsInfo.more_records=luInfoObj.more_records||!1,gscrmaction.crmContactsInfo.count=userInfoObj.count+(luInfoObj.count||0),response.hasOwnProperty("users")&&(acrmObj=response.users||{},_jQueryGS.extend(gscrmaction.crmContacts,acrmObj));var acrmObj=argObj.obj||{};acrmObj.hasOwnProperty("type")&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&argObj.curCount==zgssearch.gsusercontacts.getServerCallCount()&&(gscrmaction.renderInnerEditFieldsUI(acrmObj),zgssearch.isDashboardViewOpened()&&zgssearch.gsaction.updateEditFieldsHeight())}))},gscrmaction.renderInnerEditFieldsUI=function(acrmObj){if(zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),gscrmaction.isCRMContactsExists()){var id,uniqueIds=[],ownerList=gscrmaction.getCRMContactsUserObj(),curOwnerId=zgssearch.gscrm.crmOwnerData?zgssearch.gscrm.crmOwnerData.id:"";for(id in ownerList){var ownerObj=ownerList[id];if(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.gsaction.renderEditFieldsChild(id,ownerObj,acrmObj.type,"")),10<=uniqueIds.length)break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").show(),zgssearch.gsaction.displayEditFieldsUI(acrmObj.tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{var err3=zgssearch.getI18NMsg("gs.search.callout.crm.errorresp3");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err3))}},gscrmaction)}(zgssearch,window),function(zgssearch,window){var gssupportaction,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssupportaction=(gssupportaction=void 0,(gssupportaction=zgssearch.gssupportaction||{}).fetDeskContactsCount=50,gssupportaction.defDeskContactsCount=200,gssupportaction.supportContacts=gssupportaction.supportContacts||{},gssupportaction.supportContactsCache=gssupportaction.supportContactsCache||{result:[],noresult:[]},gssupportaction.supportStatus=gssupportaction.supportStatus||{},gssupportaction.getSupportContactsObj=function(portalId,deptId){return portalId&&deptId?gssupportaction.supportContacts["agent_"+portalId+"_"+deptId]||{}:gssupportaction.supportContacts||{}},gssupportaction.isSupportDeptAgentExists=function(portalId,deptId){if(portalId&&deptId)return gssupportaction.supportContacts.hasOwnProperty("agent_"+portalId+"_"+deptId)},gssupportaction.getSupportUnAssObj=function(){return{Unassigned:{zuid:"-1",email:"",full_name:zgssearch.getI18NMsg("common.unassigned")}}},gssupportaction.isDeskSearchReqCached=function(query,extraParams){var myCacheResults=gssupportaction.supportContactsCache.result||[],myCacheNoResults=gssupportaction.supportContactsCache.noresult||[],limitParams="per_page="+gssupportaction.fetDeskContactsCount;return!!zgssearch.gsusercontacts.isReqCached(query,myCacheResults,myCacheNoResults,extraParams,limitParams)},gssupportaction.getSupportStatus=function(){return gssupportaction.supportStatus},gssupportaction.setSupportStatusObj=function(portalId,deptId,obj){return portalId&&deptId&&(gssupportaction.supportStatus["status_"+portalId+"_"+deptId]=obj),{}},gssupportaction.getSupportStatusObj=function(portalId,deptId){return portalId&&deptId&&gssupportaction.getSupportStatus()["status_"+portalId+"_"+deptId]||{}},gssupportaction.isSupportDeptStatusExists=function(portalId,deptId){if(portalId&&deptId)return gssupportaction.getSupportStatus().hasOwnProperty("status_"+portalId+"_"+deptId)},gssupportaction.renderStatusOptionUI=function(tarElem){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var isKeyExists,editFieldsHolder,parent,deskObject=_jQueryGS("#zgs20_gsEditFieldsHolder").css("display");null==deskObject&&"none"==deskObject||"statusChange"!=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype")&&zgssearch.hideEditFieldsList(),null==(deskObject=_jQueryGS("#zgs20_gsEditFieldsHolder").css("display"))||"none"===deskObject?(zgssearch.hideEditFieldsList(),parent=zgssearch.gsaction.currSearchType.getCurrentResultObj(),editFieldsHolder=zgssearch.gsaction.currSearchType.getCurrAccId()||parent.accId||parent[zgssearch.account_id],isKeyExists=gssupportaction.isSupportDeptStatusExists(editFieldsHolder,parent.DEP_ID),deskObject={curPortalId:editFieldsHolder,curDeptId:parent.DEP_ID,type:"statusChange",tarElem:tarElem},editFieldsHolder=zgssearch.gsaction.getEditFieldsHolder("statusChange","","","",""),parent=zgssearch.gsaction.currSearchType.getTargetElem("#zgs20_gsCalloutMetaInfo"),_jQueryGS(parent).append(editFieldsHolder),isKeyExists?gssupportaction.iterStatusOptionElem(deskObject):gssupportaction.addLoaderForDeskStatus(deskObject),_jQueryGS("#zgs20_gsEditFieldsBottom").hide(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.gsaction.displayEditFieldsUI(tarElem,160)):zgssearch.hideEditFieldsList()},gssupportaction.canAllowUserToCloseTicket=function(){var coflag=!1,unusedModData=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=zgssearch.getResultAccountId()||unusedModData.accId||unusedModData[zgssearch.account_id],unusedModData=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","unusedModData");return coflag=unusedModData.hasOwnProperty(portalId)?unusedModData[portalId]["1_ct"]||!1:coflag},gssupportaction.iterStatusOptionElem=function(deskObject){var type=deskObject.type||"",err=deskObject.curDeptId||"",portalId=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=deskObject.curPortalId||portalId.accId||portalId[zgssearch.account_id]||"",statusObj=gssupportaction.getSupportStatusObj(portalId,err),err=Object.keys(statusObj).length,currEle=deskObject.tarElem;if(_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),0<err){for(var sobj in statusObj){sobj=statusObj[sobj];gssupportaction.renderStatusOptionChild(sobj,type,currEle)}5<=err&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{err=zgssearch.getI18NMsg("gs.search.callout.desk.status.errorresp");_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err))}},gssupportaction.renderStatusOptionChild=function(obj,type,index){var sid=obj.id,chelem=obj.name,index=index||_jQueryGS("#zgs20_gsTicketStatus")[0];chelem!==_jQueryGS(index).find(".zgs19_gsTicketStatusTxt").text()&&(index=!0,(index="Closed"==obj.stype?gssupportaction.canAllowUserToCloseTicket():index)&&(index=zgssearch.gsautocomplete.getSuggestIndex(),chelem=_jQueryGS("<div>",{id:"zgs20_gsEditFieldsChild"+index,class:"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",datatype:type,oid:sid,index:index}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsAutoSuggChildName",gstitle:chelem,istip:!0}).text(chelem)))),_jQueryGS(chelem).attr("index",index),_jQueryGS("#zgs20_gsEditFieldsFooter").append(chelem)),zgssearch.addEventForEditFieldsQueryBox())},gssupportaction.addLoaderForDeskStatus=function(deskObj){var loadericon=zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(loadericon),zgssearch.isEditFieldsLoaderUI=!0,zgssearch.isEditFieldsLoader||(zgssearch.isEditFieldsLoader=!0,gssupportaction.fetchSupportStatus(deskObj))},gssupportaction.fetchSupportStatus=function(deskObj){deskObj=deskObj||{};var portalId,deptId=GSConstant.SUPPORT,curServerCallCount=zgssearch.getFilterObj(deptId);curServerCallCount.hasOwnProperty("accounts")&&curServerCallCount.hasOwnProperty("departments")&&(portalId=deskObj.curPortalId||curServerCallCount.accounts.current,(deptId=deskObj.curDeptId||curServerCallCount.departments.current)&&portalId&&0!=deptId&&(zgssearch.gsusercontacts.setServerCallCount(),curServerCallCount=zgssearch.gsusercontacts.getServerCallCount(),zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,"action=fetchDeskStatus&portalId="+portalId+"&deptId="+deptId,{portalId:portalId,deptId:deptId,timeout:0,obj:deskObj,curCount:curServerCallCount},function(response,status,fobj){fobj=fobj.args||{},response=zgssearch.jsonParse(response)||{};if(response.hasOwnProperty("sMap")){for(var sMap=response.sMap||[],agentObj=gssupportaction.getSupportStatusObj(fobj.portalId,fobj.deptId),i=0;i<sMap.length;i++){var stype=sMap[i],id=stype.id,name=stype.name,stype=stype.stype;agentObj[id]={id:id,name:name,stype:stype}}gssupportaction.setSupportStatusObj(fobj.portalId,fobj.deptId,agentObj)}fobj.curCount!=zgssearch.gsusercontacts.getServerCallCount()||"statusChange"==(fobj=fobj.obj||{}).type&&zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&gssupportaction.iterStatusOptionElem(fobj)})))},gssupportaction.clickActionForStatus=function(params){var portalId,docId,attrObj=_jQueryGS(params).attr("oid");attrObj&&(docId=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=zgssearch.gsaction.currSearchType.getCurrAccId()||docId.accId||docId[zgssearch.account_id],(params=gssupportaction.getSupportStatusObj(portalId,docId.DEP_ID)).hasOwnProperty(attrObj)&&(params=params[attrObj].name,zgssearch.hideEditFieldsList(),zgssearch.showSearchPageLoader(),docId=docId.doc_id||docId[zgssearch.entity_id],attrObj={id:attrObj,name:params,type:"statusChange",serviceName:GSConstant.SUPPORT},params="action=updateDeskStatus&id="+docId+"&portalId="+portalId+"&status="+encodeURIComponent(params),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,attrObj,function(nresObj,status,nscallout){zgssearch.hideSearchPageLoader();var aparams,calloutObj,ncount=zgssearch.jsonParse(nresObj);"SUCCESS"==(ncount&&ncount.response||"")?(aparams=nscallout.args||{},calloutObj=zgssearch.getI18NMsg("gs.search.callout.desk.status.success"),zgssearch.showbannertip({ty:1,msg:calloutObj}),nresObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[aparams.serviceName].callout,calloutObj=zgssearch.gsaction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,owner:aparams,updateRecord:!0,searchObj:calloutObj})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.callout.crm.errorresp2")})})))},gssupportaction.fetchSupportAgentInfo=function(deskObj){deskObj=deskObj||{};var portalId=GSConstant.SUPPORT,deptId=zgssearch.getFilterObj(portalId);deptId.hasOwnProperty("accounts")&&deptId.hasOwnProperty("departments")&&(portalId=deskObj.curPortalId||deptId.accounts.current,(deptId=deskObj.curDeptId||deptId.departments.current)&&portalId&&0!=deptId&&(deskObj.curPortalId=portalId,deskObj.curDeptId=deptId,gssupportaction.fetchSupportAgents(deskObj)))},gssupportaction.fetchSupportAgents=function(deskObj){var params,query,argParams;_jQueryGS.isEmptyObject(deskObj)||(zgssearch.gsusercontacts.setServerCallCount(),argParams=zgssearch.gsusercontacts.getServerCallCount(),(query=deskObj.curPortalId||"")&&(params="action=fetchDeskOrgAgents&portalId="+query,(query=deskObj.curDeptId||"")&&(params+="&deptId="+query),(query=deskObj.query||"")&&(params+="&query="+query),argParams={timeout:0,obj:deskObj,curCount:argParams},zgssearch.gsusercontacts.queueserver={flag:!0,expiry_time:(new Date).getTime()},zgssearch.advSearchXMLHttpReq=zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,argParams,function(data,deptId,deskObj){var len=0,argObj=deskObj.args||{},deskObj=argObj.obj||{},response=zgssearch.jsonParse(data)||[];if(zgssearch.gsusercontacts.queueserver={flag:!1,expiry_time:0},"success"===deptId||"SUCCESS"===deptId){if(_jQueryGS.isArray(response)){var len=response.length,params="agent_"+deskObj.curPortalId,deptId=deskObj.curDeptId||"";deptId&&0!=deptId&&(params+="_"+deptId);for(var agentObj=gssupportaction.supportContacts[params]||{},i=0;i<len;i++){var lastName=response[i],id=lastName.id,zuid=lastName.zuid,emailId=lastName.emailId,firstName=lastName.firstName,lastName=lastName.lastName,firstName=firstName?firstName.trim():"",lastName=lastName?" "+lastName.trim():"";agentObj[id]={email:emailId,full_name:firstName+lastName,zuid:zuid,uid:id}}gssupportaction.supportContacts[params]=agentObj}params=deskObj.query||"";params&&(params="per_page="+gssupportaction.fetDeskContactsCount+deskObj.extraParams+"&query="+encodeURIComponent(params),(len>=gssupportaction.fetDeskContactsCount?gssupportaction.supportContactsCache.result:gssupportaction.supportContactsCache.noresult).push(params))}gssupportaction.afterFetchedAgentDetails(deskObj,argObj.curCount,agentObj)})))},gssupportaction.afterFetchedAgentDetails=function(deskObj,curCount,agentObj){"deskOwnerChange"===(deskObj.hasOwnProperty("type")?deskObj.type:"")?deskObj.query||""?curCount==zgssearch.gsusercontacts.getServerCallCount()&&zgssearch.gsaction.searchForEditFields():zgssearch.isEditFieldsLoader&&zgssearch.isEditFieldsLoaderUI&&(curCount==zgssearch.gsusercontacts.getServerCallCount()&&gssupportaction.renderInnerEditFieldsUI(deskObj),zgssearch.isDashboardViewOpened()&&zgssearch.gsaction.updateEditFieldsHeight()):zgssearch.advanceUserSearchAfterFetch(agentObj,deskObj)},gssupportaction.renderInnerEditFieldsUI=function(obj){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=resObj.accId||zgssearch.gsaction.currSearchType.getCurrAccId()||resObj[zgssearch.account_id],unassObj=gssupportaction.isSupportDeptAgentExists(portalId,resObj.DEP_ID);if(_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),unassObj){var id,uniqueIds=[],curOwnerId=zgssearch.gssupport.assigneeId||"",unassObj=gssupportaction.getSupportUnAssObj(),err3=gssupportaction.getSupportContactsObj(portalId,resObj.DEP_ID),ownerList=_jQueryGS.extend({},unassObj,err3);for(id in ownerList){var ownerObj=ownerList[id];if(("null"!=curOwnerId||"Unassigned"!=id)&&(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),zgssearch.gsaction.renderEditFieldsChild(id,ownerObj,obj.type,"")),10<=uniqueIds.length))break}_jQueryGS("#zgs20_gsEditFieldsBottom").show(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.gsaction.displayEditFieldsUI(obj.tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox"))}else{err3=zgssearch.getI18NMsg("gs.search.callout.crm.errorresp3");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(err3))}},gssupportaction.updateDeskDueDate=function(argparam,dueParam){zgssearch.showSearchPageLoader();var docId=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=docId.accId||zgssearch.gsaction.currSearchType.getCurrAccId()||docId[zgssearch.account_id],docId=docId.doc_id||docId[zgssearch.entity_id],argparam={service:argparam,ticketId:docId,dueDate:dueParam},dueParam="action=updateDeskDueDate&id="+docId+"&portalId="+encodeURIComponent(portalId)+"&dueDate="+encodeURIComponent(dueParam);zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,dueParam,argparam,function(nresObj,status,nscallout){zgssearch.hideSearchPageLoader();var argObj,calloutObj,ncount=zgssearch.jsonParse(nresObj);"SUCCESS"==(ncount&&ncount.response||"")?(argObj=nscallout.args||{},calloutObj=zgssearch.getI18NMsg("gs.search.callout.desk.success.duedate_update"),zgssearch.showbannertip({ty:1,msg:calloutObj}),nresObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[argObj.service].callout,calloutObj=zgssearch.gsaction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,owner:argObj,updateDueDate:!0,searchObj:calloutObj})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.callout.crm.errorresp2")})})},gssupportaction)}(zgssearch,window),function(zgssearch,window){var gscalendaraction,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscalendaraction=(gscalendaraction=void 0,(gscalendaraction=zgssearch.gscalendaraction||{}).tempAttendeeList=gscalendaraction.tempAttendeeList||[],gscalendaraction.updateEventObj=gscalendaraction.updateEventObj||{},gscalendaraction.all_timezones=gscalendaraction.all_timezones||{},gscalendaraction.actionOnCalendar=function(target){switch(_jQueryGS(target).attr("actionType")){case"editEvent":var actions=new zgssearch.dashboardSearchActions;gscalendaraction.currSearchType=actions.createActionType(target),gscalendaraction.displayCalendarActionDialog();break;case"updateStatus":actions=new zgssearch.dashboardSearchActions;gscalendaraction.currSearchType=actions.createActionType(target),gscalendaraction.updateUserStatus(target);break;case"calendarDateAction":gscalendaraction.loadEventDatePicker(target);break;case"allDaycheck":gscalendaraction.allDayChange();break;case"timezoneAction":gscalendaraction.displayTimeZoneDialog();break;case"timezoneList":gscalendaraction.displayTimeZoneList();break;case"updateTimeZone":gscalendaraction.updateDisplayTimeZoneList(target);break;case"addAttendees":gscalendaraction.addAttendeesToAttendeeList(target);break;case"removeAttendees":gscalendaraction.removeAttendeesfromAttendeeList(target)}},gscalendaraction.displayCalendarActionDialog=function(){var editActionDiv,parentDiv;zgssearch.calendarActionPopUpOpened?(_jQueryGS(".zgs19_gsCalendarActionDialog").css("display","none"),zgssearch.popupUtils.closeOverlayDialog(),zgssearch.calendarActionPopUpOpened=!1):(0===_jQueryGS(".zgs19_gsCalendarActionDialog").length&&(editActionDiv=_jQueryGS("<div>",{class:"zgs19_gsCalendarActionDialog zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsCalendarActionPopup",class:"zgs19_gsCalendarActionPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventDetailsHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsEditEvtLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.editEvent")})).append(_jQueryGS("<div>",{class:"zgs19_gsEventTitleHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("common.eventtitle")})).append(_jQueryGS("<input>",{id:"zgs20_gsNewEventTitleTxt",class:"zgs19_gsEventTxt",type:"text",placeholder:zgssearch.getI18NMsg("common.eventtitle")}))).append(_jQueryGS("<div>",{class:"zgs19_gsEventDateInfoHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsStartDateInfo",class:"zgs19_gsDateInfo zgs19_gsfl"}).append(_jQueryGS("<div>",{id:"zgs20_gsStartDateLbl",class:"zgs19_gsEventLabel"})).append(_jQueryGS("<div>",{id:"zgs20_gsEventStartDate",class:"zgs19_gsEventDateInfo",gs:"calendarActions",actionType:"calendarDateAction",dateType:"startDate"}).append(_jQueryGS("<span>",{id:"zgs20_gsEventStartDateTxt",class:"zgs19_gsEditDateTxt zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_gsEventStartTimeTxt",class:"zgs19_gsTimeTxt zgs19_gsfl"})))).append(_jQueryGS("<div>",{id:"zgs20_gsEndDateInfo",class:"zgs19_gsDateInfo zgs19_gsDisplayNone zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("common.to")})).append(_jQueryGS("<div>",{id:"zgs20_gsEventEndDate",class:"zgs19_gsEventDateInfo",gs:"calendarActions",actionType:"calendarDateAction",dateType:"endDate"}).append(_jQueryGS("<span>",{id:"zgs20_gsEventEndDateTxt",class:"zgs19_gsEditDateTxt zgs19_gsfl"})).append(_jQueryGS("<span>",{id:"zgs20_gsEventEndTimeTxt",class:"zgs19_gsTimeTxt zgs19_gsfl"})))).append(_jQueryGS("<div>",{class:"zgs19_gsTimeZoneInfo zgs19_gsDisplayNone zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsTimeZoneTxt zgs19_gsOverflow",gs:"calendarActions",actionType:"timezoneAction",gslabel:zgssearch.getI18NMsg("gs.search.calendar.callout.timezone")}))).append(_jQueryGS("<div>",{class:"zgs19_gsDeskDurationInfo zgs19_gsMgLf50Px zgs19_gsDisplayNone zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.duration")})).append(_jQueryGS("<div>",{class:"zgs19_gsDurationTxtInfo"}).append(_jQueryGS("<input>",{id:"zgs20_gsHoursTxt",class:"zgs19_gsDurationTxt zgs19_gsfl zgs19_gsMgRt5Px",type:"text",maxlength:"2",placeholder:"HH",onkeypress:"zgssearch.checkIsInputNumber(event)"})).append(_jQueryGS("<span>",{text:":"})).append(_jQueryGS("<input>",{id:"zgs20_gsMinsTxt",class:"zgs19_gsDurationTxt zgs19_gsfr zgs19_gsMgLf5Px",type:"text",maxlength:"2",placeholder:"MM",onkeypress:"zgssearch.checkIsInputNumber(event)"})))).append(_jQueryGS("<div>",{class:"zgs19_gsDeskErrorTxt zgs19_gsDisplayNone zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsDayTypeHolder zgs19_gsDisplayNone zgs19_gsPdngBtm7Px"}).append(_jQueryGS("<input>",{id:"zgs20_gsDayType",class:"zgs19_gsCurPointer",type:"checkbox",gs:"calendarActions",actionType:"allDaycheck"})).append(_jQueryGS("<span>",{class:"zgs19_gsAlldayTxt",text:zgssearch.getI18NMsg("gs.search.calendar.callout.allDay")}))).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesInfoHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.addAttendees")})).append(_jQueryGS("<input>",{id:"zgs20_gsAttendeeSearchBox",class:"zgs19_gsEventTxt zgs19_gsMgBtm13Px",type:"text",placeholder:zgssearch.getI18NMsg("gs.search.calendar.callout.attendeeEmail")})).append(_jQueryGS("<div>",{id:"zgs20_gsAtdeSugg",class:"zgs19_gsAtdeSuggContainer zgs19_gsDisplayNone zgs19_gsOvfwAuto"})).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsEventLabel",text:zgssearch.getI18NMsg("gs.search.calendar.callout.attendees")})).append(_jQueryGS("<div>",{id:"zgs20_gsAttendeeEditList",class:"zgs19_gsAttendeesListHolder"}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalcDialogActions"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalcSave  zgs19_gsCalcSaveMg zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"updateEvent",text:zgssearch.getI18NMsg("gs.settings.application.save")})).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalCancel zgs19_gsMg10Px zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"closeDialogBox",text:zgssearch.getI18NMsg("common.cancel")})).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer",gs:"calendarCnfrmActions",datatype:"closeDialogBox"}))))),(parentDiv=_jQueryGS("#zgs20_gsOverlayDialog")).append(editActionDiv),parentDiv.css("display","block"),_jQueryGS("#zgs20_gsNewEventTitleTxt").attr("autocomplete","off"),_jQueryGS("#zgs20_gsHoursTxt").attr("autocomplete","off"),_jQueryGS("#zgs20_gsMinsTxt").attr("autocomplete","off"),_jQueryGS("#zgs20_gsAttendeeSearchBox").attr("autocomplete","off")),gscalendaraction.showEditEventDialogBox(),zgssearch.jqueryMouseEvent())},gscalendaraction.showEditEventDialogBox=function(){gscalendaraction.hideServiceSpecificFields(),gscalendaraction.renderEventOldDetails(),_jQueryGS(".zgs19_gsCalendarActionDialog").css("display","block"),_jQueryGS("#zgs20_gsOverlayDialog").css("display","block"),zgssearch.calendarActionPopUpOpened=!0},gscalendaraction.hideServiceSpecificFields=function(){_jQueryGS("#zgs20_gsEndDateInfo").css("display","none"),_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","none"),_jQueryGS(".zgs19_gsDayTypeHolder").css("display","none"),_jQueryGS("#zgs20_gsDayType").prop("checked",!1),_jQueryGS(".zgs19_gsDeskDurationInfo").css("display","none"),_jQueryGS(".zgs19_gsAttendeesInfoHolder").css("display","none"),_jQueryGS(".zgs19_gsDeskErrorTxt").css("display","none"),_jQueryGS("#zgs20_gsAttendeeEditList").empty(),_jQueryGS("#zgs20_gsAttendeeSearchBox").val(""),gscalendaraction.allDayChange(),gscalendaraction.hidedeskErrorMsg()},gscalendaraction.renderEventOldDetails=function(){var response=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj();switch(_jQueryGS("#zgs20_gsNewEventTitleTxt").val(response.Title||""),gscalendaraction.allDay=response.allDay,gscalendaraction.currSearchType.getCurrentResultObj().sId){case"4":gscalendaraction.renderMailCalendarEventDetails(response);break;case"9":gscalendaraction.renderDeskEventDetails(response)}zgssearch.loadDatePicker()},gscalendaraction.renderMailCalendarEventDetails=function(response){var duration=_jQueryGS(".zgs19_gsCalendarActionPopup");duration.removeClass("zgs19_gsHgt253Px"),1===zgssearch.gscomponent.UIType?duration.removeClass("zgs19_gsCalTp190Pxof50").addClass("zgs19_gsCalTp280Pxof50 zgs19_gsHgt565Px"):0===zgssearch.gscomponent.UIType&&duration.removeClass("zgs19_gsCalTp180Pxof50 zgs19_gsHgt565Px").addClass("zgs19_gsCalTp255Pxof50"),_jQueryGS("#zgs20_gsStartDateLbl").text(zgssearch.getI18NMsg("common.from")),_jQueryGS("#zgs20_gsEndDateInfo").css("display","block"),_jQueryGS(".zgs19_gsDayTypeHolder").css("display","block"),_jQueryGS(".zgs19_gsAttendeesInfoHolder").css("display","block");var dateAndTime=response.dateandtime,hostEmailId="",duration="";gscalendaraction.startValue=hostEmailId=dateAndTime.start||"",gscalendaraction.endvalue=duration=dateAndTime.end||"";hostEmailId=hostEmailId.split("-"),duration=duration.split("-");_jQueryGS("#zgs20_gsEventStartDateTxt").text(hostEmailId[0]||""),_jQueryGS("#zgs20_gsEventStartTimeTxt").text(hostEmailId[1]||"08:00 AM"),_jQueryGS("#zgs20_gsEventEndDateTxt").text(duration[0]||""),_jQueryGS("#zgs20_gsEventEndTimeTxt").text(duration[1]||"08:30 AM");hostEmailId=response.timezone;response.allDay?(duration=response.ETM-zgssearch.DAY_IN_MILLIS-response.STM,gscalendaraction.eventDuration=0<duration?duration:30*zgssearch.MINUTE_IN_MILLIS,_jQueryGS("#zgs20_gsDayType").prop("checked","checked"),gscalendaraction.allDayChange()):(hostEmailId=dateAndTime.timezone,gscalendaraction.eventDuration=response.ETM-response.STM,_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","block")),_jQueryGS(".zgs19_gsTimeZoneTxt").attr("gstitle",hostEmailId),_jQueryGS(".zgs19_gsTimeZoneTxt").text(hostEmailId);hostEmailId=response.Host_Email;if(gscalendaraction.addAttendeeDetails(0,!1,"",response.zuid,response.Host,hostEmailId,null,"zgs20_gsAttendeeEditList",!1),hostEmailId!==GSConstant.cue&&(gscalendaraction.tempAttendeeList[hostEmailId]={eM:hostEmailId}),response.hasOwnProperty("Attendees"))for(var attendeesList=response.Attendees,isGroup=!1,zuid="",name="",emailId="",gId="",i=0;i<attendeesList.length;i++){var attendeeObj={},eachObj=attendeesList[i],key="";eachObj.hasOwnProperty("grpName")?(isGroup=!0,name=eachObj.grpName||"",emailId=zuid="",key=gId=eachObj.id,attendeeObj.gId=gId):(isGroup=!1,zuid=eachObj.zuid||"",name=eachObj.name||"",key=emailId=eachObj.email||"",attendeeObj.eM=emailId),gscalendaraction.addAttendeeDetails(1+i,isGroup,gId,zuid,name,emailId,null,"zgs20_gsAttendeeEditList",!1),gscalendaraction.tempAttendeeList[key]=attendeeObj}2==response.privilege?_jQueryGS(".zgs19_gsEventTitleHolder, .zgs19_gsEventDateInfoHolder, .zgs19_gsDayTypeHolder").addClass("zgs19_gsHideEleme"):_jQueryGS(".zgs19_gsEventTitleHolder, .zgs19_gsEventDateInfoHolder, .zgs19_gsDayTypeHolder").removeClass("zgs19_gsHideEleme")},gscalendaraction.renderDeskEventDetails=function(response){var hrsAndMins=_jQueryGS(".zgs19_gsCalendarActionPopup");_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","none"),hrsAndMins.removeClass("zgs19_gsHgt565Px").addClass("zgs19_gsHgt253Px"),1===zgssearch.gscomponent.UIType?hrsAndMins.removeClass("zgs19_gsCalTp280Pxof50").addClass("zgs19_gsCalTp190Pxof50"):0===zgssearch.gscomponent.UIType&&hrsAndMins.removeClass("zgs19_gsCalTp255Pxof50").addClass("zgs19_gsCalTp180Pxof50"),_jQueryGS("#zgs20_gsStartDateLbl").text(zgssearch.getI18NMsg("gs.search.calendar.callout.startTime")),_jQueryGS(".zgs19_gsDeskDurationInfo").css("display","block"),gscalendaraction.startMillis=response.STM;hrsAndMins=gscalendaraction.convertMillisIntoDateFormat(gscalendaraction.startMillis);gscalendaraction.startValue=hrsAndMins,gscalendaraction.eventDuration=response.ETM-response.STM;hrsAndMins=hrsAndMins.split("-");_jQueryGS("#zgs20_gsEventStartDateTxt").text(hrsAndMins[0]||""),_jQueryGS("#zgs20_gsEventStartTimeTxt").text(hrsAndMins[1]||"");hrsAndMins=zgssearch.convertDurationText(gscalendaraction.eventDuration);_jQueryGS("#zgs20_gsHoursTxt").val(String(hrsAndMins[0]).padStart(2,"0")||0),_jQueryGS("#zgs20_gsMinsTxt").val(String(hrsAndMins[1]).padStart(2,"0")||0)},gscalendaraction.getTimezoneDetails=function(callback){gscalendaraction.isTimezoneFetched||(gscalendaraction.isTimezoneFetched=!0,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,"action=fetchTimezoneInfo",null,function(responseData,status,xhr){responseData&&(xhr.args,(responseData=zgssearch.jsonParse(responseData)).hasOwnProperty("timezone")&&(gscalendaraction.all_timezones=JSON.parse(responseData.timezone),callback&&callback()))}))},gscalendaraction.fetchAndRenderTimezones=function(){if(gscalendaraction.hasOwnProperty("all_timezones")){var TzList=_jQueryGS(".zgs19_gsTzListContainer");zgssearch.removeEle(_jQueryGS(".zgs19_gsTZHolderLoader")[0]);for(var all_timezones_len=gscalendaraction.all_timezones.length,i=0;i<all_timezones_len;i++){var eachTzObj=gscalendaraction.all_timezones[i],tz="("+zgssearch.getI18NMsg("gs.search.calendar.callout.GMT")+eachTzObj.tzTS+") "+eachTzObj.tzDN+"( "+eachTzObj.tzId+" )";TzList.append(_jQueryGS("<div>",{id:"zgs20_gsTzItem"+i,class:"zgs19_gsTzItem zgs19_gsOverflow",tzId:eachTzObj.tzId,gs:"calendarActions",actionType:"updateTimeZone",text:tz}))}gscalendaraction.displayTimezones()}},gscalendaraction.displayTimezones=function(){if(gscalendaraction.hasOwnProperty("all_timezones")){_jQueryGS(".zgs19_gsTZHolderLoader").css("display","none");for(var curTzObj,curTzId=_jQueryGS(".zgs19_gsTimeZoneTxt").text(),tz="",all_timezones_len=gscalendaraction.all_timezones.length,i=0;i<all_timezones_len;i++)if(curTzId===(curTzObj=gscalendaraction.all_timezones[i]).tzId){tz="("+zgssearch.getI18NMsg("gs.search.calendar.callout.GMT")+curTzObj.tzTS+") "+curTzObj.tzDN+"( "+curTzId+" )";break}var tzTxt=_jQueryGS("#zgs20_gsTzTxt");tzTxt.attr("tzId",curTzId),tzTxt.attr("gstitle",tz),tzTxt.text(tz),_jQueryGS(".zgs19_gsTZHolder").css("display","block"),_jQueryGS("#zgs20_gsTzList").css("display","none"),zgssearch.jqueryMouseEvent(),gscalendaraction.tzList=!1,zgssearch.timezonePopUp=!0}},gscalendaraction.displayTimeZoneDialog=function(){var tzId,loadericon;zgssearch.timezonePopUp?(_jQueryGS(".zgs19_gsTimeZonePopup").css("display","none"),zgssearch.timezonePopUp=!1):(0===(tzId=_jQueryGS(".zgs19_gsTimeZonePopup")).length?(loadericon=zgssearch.getFourDotLoader("zgs20_gsCalendartimezoneLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),_jQueryGS("#zgs20_gsCalendarActionPopup").append(_jQueryGS("<div>",{id:"zgs20_gsTimeZonePopup",class:"zgs19_gsTimeZonePopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsTZHolderLoader zgs19_gsDisplayBlock"}).append(loadericon)).append(_jQueryGS("<div>",{class:"zgs19_gsTZHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsTzTitle",text:zgssearch.getI18NMsg("gs.search.calendar.callout.eventTimezone")})).append(_jQueryGS("<div>",{class:"zgs19_gsTzListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsTzTxtHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsTzTxt",class:"zgs19_gsTzTxt zgs19_gsOverflow",gs:"calendarActions",actionType:"timezoneList"}).text("")).append(_jQueryGS("<div>",{class:"zgs19_gsTzDropDown zgs18_gsDropDownIcon",gs:"calendarActions",actionType:"timezoneList"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTzList",class:"zgs19_gsTzList zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsTzSearch"}).append(_jQueryGS("<input>",{class:"zgs19_gsTzInput",type:"text"}))).append(_jQueryGS("<div>",{class:"zgs19_gsTzListContainer"})))).append(_jQueryGS("<div>",{class:"zgs19_gsTZCnfrmHolder zgs19_gsMgTop15Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalcSave zgs19_gsMgRt20Px zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"okTz",text:zgssearch.getI18NMsg("gs.search.calendar.callout.ok")})).append(_jQueryGS("<div>",{class:"zgs19_gsSC_PUbtmNew zgs19_gsCalCancel zgs19_gsfr",gs:"calendarCnfrmActions",datatype:"closeTzBox",text:zgssearch.getI18NMsg("common.cancel")}))))),gscalendaraction.getTimezoneDetails(function(){gscalendaraction.fetchAndRenderTimezones()})):tzId.css("display","block"),gscalendaraction.displayTimezones())},gscalendaraction.allDayChange=function(){var dateDiv=_jQueryGS(".zgs19_gsEditDateTxt"),timeDiv=_jQueryGS(".zgs19_gsTimeTxt");_jQueryGS("#zgs20_gsDayType").prop("checked")?(timeDiv.css("display","none"),dateDiv.removeClass("zgs19_gsfl").addClass("zgs19_gsFltNone"),_jQueryGS(".zgs19_gsDateInfo").removeClass("zgs19_gsWid37Per").addClass("zgs19_gsWid43Per"),_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","none"),gscalendaraction.startValue=_jQueryGS("#zgs20_gsEventStartDateTxt").text(),gscalendaraction.endvalue=_jQueryGS("#zgs20_gsEventEndDateTxt").text(),gscalendaraction.allDay=!0):(dateDiv.removeClass("zgs19_gsFltNone").addClass("zgs19_gsfl"),timeDiv.css("display","block"),_jQueryGS(".zgs19_gsDateInfo").removeClass("zgs19_gsWid43Per").addClass("zgs19_gsWid37Per"),_jQueryGS(".zgs19_gsTimeZoneInfo").css("display","block"),gscalendaraction.startValue=_jQueryGS("#zgs20_gsEventStartDateTxt").text()+" - "+_jQueryGS("#zgs20_gsEventStartTimeTxt").text(),gscalendaraction.endvalue=_jQueryGS("#zgs20_gsEventEndDateTxt").text()+" - "+_jQueryGS("#zgs20_gsEventEndTimeTxt").text(),gscalendaraction.allDay=!1)},gscalendaraction.userCalendarActions=function(tarElem){switch(_jQueryGS(tarElem).attr("datatype")){case"updateEvent":gscalendaraction.updateCalendarEventDetails();break;case"closeDialogBox":gscalendaraction.hideEditEventDialogBox(),gscalendaraction.currSearchType={};break;case"okTz":gscalendaraction.updateTimeZoneValue();break;case"closeTzBox":gscalendaraction.hideTimeZoneDialogBox()}},gscalendaraction.displayTimeZoneList=function(){var tzList=_jQueryGS("#zgs20_gsTzList"),tzInput=_jQueryGS(".zgs19_gsTzInput");gscalendaraction.tzList?(tzList.css("display","none"),gscalendaraction.tzList=!1):(tzList.css("display","block"),tzInput.focus(),gscalendaraction.tzList=!0)},gscalendaraction.updateDisplayTimeZoneList=function(tzDiv){var text=tzDiv.textContent,tzId=tzDiv.getAttribute("tzId"),tzDiv=_jQueryGS("#zgs20_gsTzTxt");tzDiv.attr("tzId",tzId),tzDiv.attr("gstitle",text),tzDiv.text(text),_jQueryGS(".zgs19_gsTzInput").val(""),_jQueryGS(".zgs19_gsTzItem").css("display","block"),gscalendaraction.displayTimeZoneList()},gscalendaraction.updateTimeZoneValue=function(){var tzId=_jQueryGS("#zgs20_gsTzTxt").attr("tzId"),tzDiv=_jQueryGS(".zgs19_gsTimeZoneTxt");tzDiv.text(tzId),tzDiv.attr("gstitle",tzId),gscalendaraction.hideTimeZoneDialogBox()},gscalendaraction.loadEventDatePicker=function(target){var isAllDay=gscalendaraction.allDay,targetId=_jQueryGS(target).attr("dateType"),dateValue="",key="";"startDate"===targetId?(dateValue=_jQueryGS("#zgs20_gsEventStartDateTxt").text(),isAllDay||(dateValue+="-"+_jQueryGS("#zgs20_gsEventStartTimeTxt").text()),key="zgs20_gsEventStartDate"):"endDate"===targetId&&(dateValue=_jQueryGS("#zgs20_gsEventEndDateTxt").text(),isAllDay||(dateValue+="-"+_jQueryGS("#zgs20_gsEventEndTimeTxt").text()),key="zgs20_gsEventEndDate"),_jQueryGS("#"+key).attr("gsa","calendarDate");var attributeObj="",targetId="",key="";isAllDay?(attributeObj="dd/MM/yyyy",targetId="zgs20_gsCalDatePickerElem",key="customdate",0===_jQueryGS("#zgs20_gsCustomDatePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDatePicker.bind(null,targetId,attributeObj))):(attributeObj="dd/MM/yyyy - hh:mm tt",targetId="zgs20_gsCalDateTimePickerElem",key="customdatetime",0===_jQueryGS("#zgs20_gsCustomDateTimePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateTimePicker.bind(null,targetId,attributeObj)));attributeObj={};attributeObj.callback=gscalendaraction.updateDatePickerValue,attributeObj.value=dateValue,zgssearch.handleNewCustomDatePicker(target,key,attributeObj)},gscalendaraction.updateDatePickerValue=function(startArr){var targetId,dateValue,dateMillis,endArr;startArr.fromUI&&(targetId=_jQueryGS("[gsa='calendarDate']")[0].id,dateValue=startArr.valueString,dateMillis=startArr.value.getTime(),"zgs20_gsEventStartDate"===targetId?(gscalendaraction.startMillis=dateMillis,gscalendaraction.startValue=dateValue,gscalendaraction.endMillis=dateMillis+gscalendaraction.eventDuration,endArr=gscalendaraction.convertMillisIntoDateFormat(gscalendaraction.endMillis),gscalendaraction.endvalue=endArr,startArr=dateValue.split("-"),endArr=endArr.split("-"),_jQueryGS("#zgs20_gsEventStartDateTxt").text(startArr[0]),_jQueryGS("#zgs20_gsEventEndDateTxt").text(endArr[0]),gscalendaraction.allDay||(_jQueryGS("#zgs20_gsEventStartTimeTxt").text(startArr[1]),_jQueryGS("#zgs20_gsEventEndTimeTxt").text(endArr[1]))):"zgs20_gsEventEndDate"===targetId&&(gscalendaraction.endMillis=dateMillis,endArr=(gscalendaraction.endvalue=dateValue).split("-"),_jQueryGS("#zgs20_gsEventEndDateTxt").text(endArr[0]),gscalendaraction.allDay||_jQueryGS("#zgs20_gsEventEndTimeTxt").text(endArr[1]),gscalendaraction.eventDuration=gscalendaraction.endMillis-gscalendaraction.startMillis))},gscalendaraction.addAttendeeDetails=function(i,isGroup,gId,zuid,name,attendeeDiv,photoURL,attendeeListDiv,isAttendeeSuggestion){var attendeeId,img,groupDiv="",emailDiv="",imgDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeImgHolder zgs19_gsAttendeesPhoto"});"zgs20_gsAttendeeEditList"===attendeeListDiv?(attendeeId=attendeeDiv,isGroup&&(groupDiv="zgs19_gsAtdeGrpName",attendeeId=gId),""===name&&(emailDiv="zgs19_gsAtdeEmail"),img=gscalendaraction.renderAttendeeImg(isGroup,zuid),imgDiv=imgDiv.append(img)):(img=_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer}),imgDiv=imgDiv.append(img),zgssearch.renderPhoto("",photoURL,"zgs19_gsAttendeesImg","zgs19_gsResultsUniIcons zgs19_gsAttendeesImg zgs19_gsResNoUserPhoto",img));attendeeDiv=_jQueryGS("<div>",{id:"zgs20_gsAttendeeContainer"+i,class:"zgs19_gsAttendeeContainer",aId:attendeeId}).append(imgDiv).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeName zgs19_gsOverflow "+groupDiv}).text(name)).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeEmail zgs19_gsOverflow "+emailDiv}).text(attendeeDiv)));zuid!==zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj().zuid&&"zgs20_gsAttendeeEditList"===attendeeListDiv&&attendeeDiv.append(gscalendaraction.addAttendeeCloseIcon()),isAttendeeSuggestion?_jQueryGS("#"+attendeeListDiv).append(attendeeDiv):_jQueryGS("#"+attendeeListDiv).prepend(attendeeDiv),zgssearch.jqueryMouseEvent()},gscalendaraction.renderAttendeeImg=function(isGroup,photoURL){var iconHolder;return isGroup?iconHolder=_jQueryGS("<span>",{class:" zgs19_gsAttendeesImg zgs18_gsGroupOfAttendeesIcon"}):""!==photoURL&&"-1"!==photoURL&&void 0!==photoURL?(iconHolder=_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer}),photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderPhoto("",photoURL,"zgs19_gsAttendeesImg","zgs19_gsResNoUserPhoto zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",iconHolder)):iconHolder=_jQueryGS("<img>",{class:"zgs19_gsResNoUserPhoto zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",src:zgssearch.gsspacer}),iconHolder},gscalendaraction.updateSearchQueryForCalendar=function(attendeesDiv){zgssearch.ContactsSearchType="calendarAttendees";var attendeeArr=zgssearch.gsautocomplete.contactssearch("users","@"+attendeesDiv);0<attendeeArr.length?((attendeesDiv=_jQueryGS("#zgs20_gsAtdeSugg")).html(""),gscalendaraction.renderAttendeeSuggestion(attendeeArr),attendeesDiv.css("display","block"),_jQueryGS("#zgs20_gsAttendeeEditList").css("display","none"),gscalendaraction.AttendeeSuggestion=!0):gscalendaraction.hideAttendeeSuggestion()},gscalendaraction.renderAttendeeSuggestion=function(responseObj){for(var count=0,i=0;i<responseObj.length;i++){var photoURL=responseObj[i][0],email=zgssearch.gsautocomplete.get("users"),name=zgssearch.gsusercontacts.getProximityContactsObject(),userObj=zgssearch.gsusercontacts.getQueriedProxContactsObject(),zuid=zgssearch.gsusercontacts.getCurrCacheQryContact(),userObj=_jQueryGS.extend({},userObj,zuid,name,email);gscalendaraction.tempAttendeeList.hasOwnProperty(photoURL)||userObj.hasOwnProperty(photoURL)&&(zuid=userObj[photoURL].ZUID,name=zgssearch.replaceHTMLEntity(userObj[photoURL].DNAME),email=zgssearch.replaceHTMLEntity(userObj[photoURL].EMAILID),photoURL=userObj[photoURL].PURL||(zuid&&"-1"!==zuid?zgssearch.getThumbPhotoURL(zuid):""),zuid!==GSConstant.cuz&&(gscalendaraction.addAttendeeDetails(count,!1,"",zuid,name,email,photoURL,"zgs20_gsAtdeSugg",!0),_jQueryGS("#zgs20_gsAttendeeContainer"+count).attr("gs","calendarActions"),_jQueryGS("#zgs20_gsAttendeeContainer"+count).attr("actionType","addAttendees"),count++))}},gscalendaraction.addAttendeesToAttendeeList=function(attendeeDiv){var email=_jQueryGS(attendeeDiv).find(".zgs19_gsAttendeeEmail").text(),attendeeDiv=_jQueryGS(attendeeDiv);attendeeDiv.removeAttr("gs actionType"),attendeeDiv.attr("aId",email),attendeeDiv.append(gscalendaraction.addAttendeeCloseIcon()),_jQueryGS("#zgs20_gsAttendeeEditList").prepend(attendeeDiv),gscalendaraction.tempAttendeeList[email]={eM:email},_jQueryGS("#zgs20_gsAttendeeSearchBox").val(""),_jQueryGS("#zgs20_gsAttendeeSearchBox").focus(),gscalendaraction.hideAttendeeSuggestion()},gscalendaraction.removeAttendeesfromAttendeeList=function(aId){aId=_jQueryGS(aId).parent();_jQueryGS(aId).remove();aId=aId.attr("aId");gscalendaraction.tempAttendeeList.hasOwnProperty(aId)&&delete gscalendaraction.tempAttendeeList[aId]},gscalendaraction.addAttendeeCloseIcon=function(){return _jQueryGS("<div>",{class:"zgs19_gsAttendeeClose zgs19_gsSSCloseIcon zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsVisbHdn",gs:"calendarActions",actionType:"removeAttendees"})},gscalendaraction.convertMillisIntoDateFormat=function(min){var dateObj=new Date(min),date=dateObj.getDate();date<10&&(date="0"+date);var month=dateObj.getMonth()+1;month<10&&(month="0"+month);var format="AM",hour=dateObj.getHours(),min=dateObj.getMinutes();return 11<hour&&(format="PM"),12<hour&&(hour-=12),0==hour&&(hour=12),min<10&&(min="0"+min),date+"/"+month+"/"+dateObj.getFullYear()+" - "+hour+":"+min+" "+format},gscalendaraction.updateUserStatus=function(userEmail){var dataType=_jQueryGS(userEmail).attr("datatype"),params=zgssearch.gscalendaraction.currSearchType.getCurrentResultObj(),responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),eventObj={serviceName:zgssearch.getCalloutSearchType()},userEmail=responseObj.userStatus.email,statusData={email:encodeURIComponent(userEmail),hostMail:encodeURIComponent(responseObj.Host_Email)},params="action=updateAttendeeStatus&eventId="+responseObj[zgssearch.entity_id]+"&calendarId="+params.cId;switch(dataType){case"yes":statusData.status="ACCEPTED";break;case"no":statusData.status="DECLINED";break;case"maybe":statusData.status="TENTATIVE"}params+="&statusData="+JSON.stringify(statusData),zgssearch.showSearchPageLoader(),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,eventObj,function(nresObj,status,nscallout){zgssearch.hideSearchPageLoader();var aparams,calloutObj,ncount=zgssearch.jsonParse(nresObj);"SUCCESS"==(ncount&&ncount.response||"")?(aparams=nscallout.args||{},calloutObj=zgssearch.getI18NMsg("gs.search.calendar.callout.status.success.update"),zgssearch.showbannertip({ty:1,msg:calloutObj}),zgssearch.showCalloutLoader(),nresObj=zgssearch.gscalendaraction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[zgssearch.GSConstant.CALENDAR].callout,calloutObj=zgssearch.gscalendaraction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,userStatus:aparams,updateRecord:!0,searchObj:calloutObj})):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.status.updateError")})})},gscalendaraction.updateCalendarEventDetails=function(){gscalendaraction.isEventUpdated=!1;var resObj=gscalendaraction.currSearchType.getCurrentResultObj(),responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),serId=resObj.sId,eventObj=_jQueryGS("#zgs20_gsNewEventTitleTxt").val().trim();if(""!=eventObj){switch(responseObj.Title!==eventObj&&(eventObj=zgssearch.replSplChars(eventObj),gscalendaraction.updateEventObj.title=encodeURIComponent(eventObj),gscalendaraction.isEventUpdated=!0),serId){case"4":gscalendaraction.updateEventObj.etag=responseObj.etag,gscalendaraction.updateEventObj.start=gscalendaraction.hasOwnProperty("startValue")?gscalendaraction.startValue.trim():"",gscalendaraction.updateEventObj.end=gscalendaraction.hasOwnProperty("endvalue")?gscalendaraction.endvalue.trim():"",gscalendaraction.allDay||(gscalendaraction.updateEventObj.timezone=encodeURIComponent(_jQueryGS(".zgs19_gsTimeZoneTxt").text())),gscalendaraction.checkCalendarInfoUpdateOrNot();break;case"9":if(gscalendaraction.checkDeskDurationRange())return;gscalendaraction.checkDeskDateAndTimeUpdateOrNot()}if(gscalendaraction.isEventUpdated){var params="action=updateCalendarEventDetails&sId="+serId+"&eventId="+responseObj[zgssearch.entity_id],eventObj={serviceName:zgssearch.getCalloutSearchType()};switch(serId){case"4":params+="&calendarId="+resObj.cId,gscalendaraction.addCalendarEventOldDetails();break;case"9":params+="&account_id="+responseObj[zgssearch.account_id]}params+="&eventData="+JSON.stringify(gscalendaraction.updateEventObj),zgssearch.showSearchPageLoader(),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,eventObj,function(nresObj,status,xhr){zgssearch.hideSearchPageLoader();var response,nscallout,calloutObj=zgssearch.jsonParse(nresObj.response),ncount=calloutObj&&calloutObj.hasOwnProperty("code")?calloutObj.code:"";gscalendaraction.hideEditEventDialogBox(),"SUCCESS"==ncount?(nscallout=zgssearch.getI18NMsg("gs.search.calendar.callout.event.success.update"),zgssearch.showbannertip({ty:1,msg:nscallout}),response=zgssearch.jsonParse(calloutObj.eventData),"9"==serId&&(response=gscalendaraction.getDeskUpdatedValue(responseObj,response)),zgssearch.showCalloutLoader(),nresObj=zgssearch.gscalendaraction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[zgssearch.GSConstant.CALENDAR].callout,calloutObj=zgssearch.gscalendaraction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,updateRecord:!0,searchObj:calloutObj}),zgssearch.gscalendaraction.currSearchType.setCurrentResponseObj(response)):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.event.updateError")})})}else gscalendaraction.hideEditEventDialogBox()}else zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.calendar.callout.eventTitleError")})},gscalendaraction.getDeskUpdatedValue=function(oldResponse,newResponse){return newResponse.zuid=oldResponse.zuid,newResponse.Host=oldResponse.Host,newResponse.Host_Email=oldResponse.Host_Email,newResponse.Contact_Email=oldResponse.Contact_Email,oldResponse.hasOwnProperty("Ticket_Subject")&&(newResponse.Ticket_Subject=oldResponse.Ticket_Subject),newResponse},gscalendaraction.checkCalendarInfoUpdateOrNot=function(){var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),dateAndTimeObj=responseObj.dateandtime,oldTimezone=dateAndTimeObj.timezone||responseObj.timezone,newTimezone=_jQueryGS(".zgs19_gsTimeZoneTxt").text();dateAndTimeObj.start===gscalendaraction.startValue&&dateAndTimeObj.end===gscalendaraction.endvalue&&responseObj.allDay===gscalendaraction.allDay&&oldTimezone===newTimezone||(gscalendaraction.isEventUpdated=!0),gscalendaraction.checkAttendeeArrayUpdatedOrNot()&&(0<Object.keys(gscalendaraction.tempAttendeeList).length&&(gscalendaraction.updateEventObj.attendees=gscalendaraction.formatEventAttendeesObj(gscalendaraction.tempAttendeeList)),gscalendaraction.isEventUpdated=!0)},gscalendaraction.checkAttendeeArrayUpdatedOrNot=function(){for(var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),oldAttendeeObj=responseObj.Attendees||"",newAttendeeObj=gscalendaraction.tempAttendeeList,newLength=Object.keys(newAttendeeObj).length,newLength=newAttendeeObj.hasOwnProperty(responseObj.Host_Email)?--newLength:newLength,isChanged=!1,i=0;i<oldAttendeeObj.length;i++){var newObj=oldAttendeeObj[i],checkId="",keyName="",keyName=newObj.hasOwnProperty("email")?(checkId=newObj.email,"eM"):(checkId=newObj.id,"gId");newAttendeeObj.hasOwnProperty(checkId)||((newObj={})[keyName]=checkId,newObj.del=!0,newAttendeeObj[checkId]=newObj,isChanged=!0)}return isChanged||oldAttendeeObj.length!==newLength},gscalendaraction.checkDeskDurationRange=function(){var mins=_jQueryGS("#zgs20_gsMinsTxt").val(),hours=_jQueryGS("#zgs20_gsHoursTxt").val(),curMillis=(new Date).getTime();return 60<=mins?(gscalendaraction.showDeskErrorMsg(zgssearch.getI18NMsg("gs.search.calendar.callout.desk.minutesError")),!0):24<=hours?(gscalendaraction.showDeskErrorMsg(zgssearch.getI18NMsg("gs.search.calendar.callout.desk.hoursError")),!0):gscalendaraction.startMillis<=curMillis&&(gscalendaraction.showDeskErrorMsg(zgssearch.getI18NMsg("gs.search.calendar.callout.desk.dateError")),!0)},gscalendaraction.checkDeskDateAndTimeUpdateOrNot=function(){var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj(),curEvtDuration=gscalendaraction.getCurEventDuration();responseObj.STM===gscalendaraction.startMillis&&gscalendaraction.eventDuration===curEvtDuration||(gscalendaraction.updateEventObj.start=gscalendaraction.startValue,gscalendaraction.updateEventObj.duration=curEvtDuration/zgssearch.SECOND_IN_MILLIS,gscalendaraction.isEventUpdated=!0)},gscalendaraction.addCalendarEventOldDetails=function(){var responseObj=zgssearch.gscalendaraction.currSearchType.getCurrentResponseObj();!gscalendaraction.updateEventObj.hasOwnProperty("attendees")&&0<Object.keys(gscalendaraction.tempAttendeeList).length&&responseObj.hasOwnProperty("Attendees")&&(gscalendaraction.updateEventObj.attendees=gscalendaraction.formatEventAttendeesObj(gscalendaraction.tempAttendeeList))},gscalendaraction.formatEventAttendeesObj=function(attendeesListObj){var key,finalAttendeesObj=[];for(key in attendeesListObj){var eachObj=attendeesListObj[key],tempObj={};eachObj.hasOwnProperty("del")&&(tempObj.deleted=!0),eachObj.hasOwnProperty("eM")?tempObj.email=encodeURIComponent(eachObj.eM):eachObj.hasOwnProperty("gId")&&(tempObj.groupId=eachObj.gId),finalAttendeesObj.push(tempObj)}return finalAttendeesObj},gscalendaraction.getCurEventDuration=function(){var hours=_jQueryGS("#zgs20_gsHoursTxt").val(),mins=_jQueryGS("#zgs20_gsMinsTxt").val();return hours*zgssearch.HOURS_IN_MILLIS+mins*zgssearch.MINUTE_IN_MILLIS},gscalendaraction.hideEditEventDialogBox=function(){gscalendaraction.tempAttendeeList=[],gscalendaraction.updateEventObj={},gscalendaraction.hideTimeZoneDialogBox(),gscalendaraction.hideServiceSpecificFields(),_jQueryGS(".zgs19_gsCalendarActionDialog").css("display","none"),zgssearch.popupUtils.closeOverlayDialog(),zgssearch.calendarActionPopUpOpened=!1},gscalendaraction.hideTimeZoneDialogBox=function(){gscalendaraction.displayTimeZoneList(),_jQueryGS("#zgs20_gsTzList").css("display","none"),zgssearch.gscalendaraction.tzList=!1,_jQueryGS(".zgs19_gsTimeZonePopup").css("display","none"),zgssearch.timezonePopUp=!1},gscalendaraction.hideAttendeeSuggestion=function(){_jQueryGS("#zgs20_gsAtdeSugg").css("display","none"),_jQueryGS("#zgs20_gsAttendeeEditList").css("display","block"),gscalendaraction.AttendeeSuggestion=!1},gscalendaraction.showDeskErrorMsg=function(msgText){var errorMsg=_jQueryGS(".zgs19_gsDeskErrorTxt");_jQueryGS(".zgs19_gsEventDateInfoHolder").addClass("zgs19_gsHgt80Px"),_jQueryGS(".zgs19_gsCalendarActionPopup").addClass("zgs19_gsHgt268Px"),errorMsg.text(msgText),errorMsg.css("display","block")},gscalendaraction.hidedeskErrorMsg=function(){_jQueryGS(".zgs19_gsEventDateInfoHolder").removeClass("zgs19_gsHgt80Px"),_jQueryGS(".zgs19_gsCalendarActionPopup").removeClass("zgs19_gsHgt268Px"),_jQueryGS(".zgs19_gsDeskErrorTxt").css("display","none")},gscalendaraction)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.getBannerClass=function(){return["background-color: #ededed; border-color: #c7c6c5;","background-color: #e6f3fb; border-color: #70b2db;","background-color: #f8f0c9; border-color: #d5c260;","background-color: #f6dede; border-color: #ec9789;"]},zgssearch.getBannerIconClass=function(){return["zgs18_gsInfoIcon","zgs18_gsSuccessIcon","zgs18_gsactionInfoIcon","zgs18_gsactionErrorIcon"]},zgssearch.renderBanner=function(link,elementObj,bannerShowTime){var req_msg=link.msg,textWidth=link.ty||0,req_class=zgssearch.getBannerClass()[textWidth],bannerTipText=zgssearch.getBannerIconClass()[textWidth],topValue=zgssearch.getTargetElem(elementObj.parentClass),bannerElem=topValue.getBoundingClientRect().width-70,bannertipIcon=zgssearch.getWidthOfText(req_msg,300)+50,left=(bannerElem-bannertipIcon)/2,textWidth=bannertipIcon-30,bannerElem=_jQueryGS(elementObj.bannerClass),bannertipIcon=bannerElem.find(elementObj.bannerIconClass);bannertipIcon.removeClass("zgs18_gsInfoIcon zgs18_gsSuccessIcon zgs18_gsactionInfoIcon zgs18_gsactionErrorIcon"),bannertipIcon.addClass(bannerTipText);bannerTipText=bannerElem.find(elementObj.bannerTextClass);bannerTipText.css("maxWidth","500px"),bannerTipText.text(req_msg);link=link.link?link.link[0]:"";link&&_jQueryGS(bannerTipText).append(link),300<textWidth?bannerTipText.hasClass("zgs19_gsfl")&&bannerTipText.removeClass("zgs19_gsfl"):bannerTipText.hasClass("zgs19_gsfl")||bannerTipText.addClass("zgs19_gsfl"),bannerTipText.addClass("zgs19_gsWtSpNormal");topValue=0==(topValue=topValue.clientTop)?5:topValue;bannerShowTime=bannerShowTime||3e3,bannerElem.stop(!0).attr("style",req_class).css({left:left,opacity:0,top:topValue}).show().animate({opacity:1},500,function(){_jQueryGS(elementObj.bannerClass).stop(!0).animate({opacity:1},bannerShowTime,function(){zgssearch.hidebanner(elementObj.bannerClass)})})},zgssearch.hidebanner=function(bannerElem){bannerElem=_jQueryGS(bannerElem);"none"!=bannerElem.css("display")&&bannerElem.css("display","none")},zgssearch.showbannertip=function(obj){var parentID,par=(parentID="zgs20_gsSearchResultsArea",zgssearch.integViewPort?parentID=zgssearch.gsCloud.par:zgssearch.isEmbed&&(parentID="zgs20_globalsearch"),parentID),elementObj={parentClass:par,bannerClass:"#zgs20_gsbannertip",bannerIconClass:"#zgs20_gsbannertipicon",bannerTextClass:"#zgs20_gsbannertiptext"};_jQueryGS("#zgs20_gsbannertip").length||zgssearch.constructBanner(par),zgssearch.renderBanner(obj,elementObj,obj.bannerShowTime)},zgssearch.showTopbannertip=function(obj){1===zgssearch.gscomponent.UIType?zgssearch.renderBanner(obj,{parentClass:"zgs20_zohosearchWrapper",bannerClass:"#zgs20_gsTopbannertip",bannerIconClass:"#zgs20_gsTopbannertipicon",bannerTextClass:"#zgs20_gsTopbannertiptext"}):zgssearch.showbannertip(obj)},zgssearch.constructBanner=function(parId){_jQueryGS("#"+parId).append(_jQueryGS("<div>",{id:"zgs20_gsbannertip",class:"zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsbannertipicon",class:"zgs19_gsbannertipicon zgs19_gsfl"})).append(_jQueryGS("<div>",{id:"zgs20_gsbannertiptext",class:"zgs19_gsbannertiptext zgs19_gsfl"})))}}(zgssearch,window),function(zgssearch,gscomponent){var _jQueryGS=gscomponent._jQueryGS,gscomponent=zgssearch.gscomponent||{},toolTipMountId=gscomponent.hasOwnProperty("getToolTipMountId")?gscomponent.getToolTipMountId():"zgs20_gsHolder",target=zgssearch.getTargetElem(toolTipMountId),globalToolTipMountId="1"==zgssearch.GSConstant.UIType?"zgs20_gsOverlayDialog":"zgs20_globalsearch",globalTarget=zgssearch.getTargetElem(globalToolTipMountId),tipMouseObj={pageX:0,pageY:0,timer:null,event:null};zgssearch.clearTipMouseInterval=function(){clearInterval(tipMouseObj.timer),tipMouseObj={pageX:0,pageY:0,timer:null,event:null}},_jQueryGS("#zgs20_gstootltip").remove(),0==_jQueryGS("#zgs20_gstootltip").length&&_jQueryGS("#"+toolTipMountId).append(_jQueryGS("<div>",{id:"zgs20_gstootltip",class:"zgs19_gstootltip zgs19_gsTipBoxShadow zgs19_gsBorderBox zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gstoolarrow",class:"zgs19_gsBorderBox"}))),_jQueryGS(target).off("mousemove").on("mousemove",function(event){zgssearch.setTooltipTimer(event)}),_jQueryGS(globalTarget).off("mousemove").on("mousemove",function(event){zgssearch.setTooltipTimer(event)}),_jQueryGS(target).off("mouseout").on("mouseout",function(){zgssearch.hidetooltip()}),_jQueryGS(globalTarget).off("mouseout").on("mouseout",function(){zgssearch.hidetooltip()}),zgssearch.clearTooltip=function(){zgssearch.hidetooltip(),zgssearch.clearTipMouseInterval()},zgssearch.setTooltipTimer=function(event){null!=tipMouseObj.event&&tipMouseObj.event.target!=event.target&&zgssearch.clearTipMouseInterval(),tipMouseObj.event=event,null==tipMouseObj.timer&&(tipMouseObj.pageX=event.pageX,tipMouseObj.pageY=event.pageY,tipMouseObj.timer=setInterval(function(){var tevent=tipMouseObj.event;tipMouseObj.pageX===tevent.pageX&&tipMouseObj.pageY===tevent.pageY?(clearInterval(tipMouseObj.timer),zgssearch.showtooltip(tevent)):(tipMouseObj.pageX=tevent.pageX,tipMouseObj.pageY=tevent.pageY)},250))},zgssearch.getViewableContentWidth=function(hoveredElemParentW){var hoveredElemW=_jQueryGS(hoveredElemParentW).width(),hoveredElemParentW=_jQueryGS(hoveredElemParentW).parent().width();return hoveredElemW<hoveredElemParentW?hoveredElemW:hoveredElemParentW},zgssearch.showtooltip=function(tooltipMountWidth){var gsdata,toolTipTxt,serviceListW,hoveredElemRectTop,tipHalfW,isDownArrow,leftArrow,left,top,tooltipMountRect,rightTallyW,rightAvailableW,toolHeight,tooltipMountLeft;zgssearch.isMenuPopUpOpened&&zgssearch.menuPopUpAction==tooltipMountWidth.target||(tooltipMountRect=tooltipMountWidth.target,gsdata=_jQueryGS(tooltipMountRect).attr("gstitle")||"",isDownArrow=_jQueryGS(tooltipMountRect).attr("gslabel")||"",toolTipTxt=_jQueryGS(tooltipMountRect).attr("tooltiptxt")||"",tipHalfW=_jQueryGS(tooltipMountRect).hasClass("zgs19_path"),toolTipTxt&&zgssearch.constructGlobalToolTipEle(),tipHalfW&&(tooltipMountRect=zgssearch.getParentNode(tooltipMountRect,"true","isIconPathParentTip"),gsdata=_jQueryGS(tooltipMountRect).attr("gstitle")||""),(gsdata||toolTipTxt)&&(_jQueryGS(".zgs19_gstoolHold").remove(),left=(top=0)<(top=zgssearch.renderToolTip(isDownArrow,gsdata||toolTipTxt,"zgs20_gstoollabel","zgs20_gstooltext",toolTipTxt))?top:0,_jQueryGS("#"+zgssearch.getToolTipHeader(gsdata,toolTipTxt)).css("maxWidth",Math.ceil(left)),toolHeight=zgssearch.getWMSBarHeight(),(rightTallyW=tooltipMountLeft=0)<(leftArrow=(rightAvailableW=zgssearch.getToolTipTarget(gsdata,toolTipTxt).getBoundingClientRect()).top)&&(tooltipMountLeft=leftArrow),0<(hoveredElemRectTop=rightAvailableW.left)&&(rightTallyW=hoveredElemRectTop),serviceListW=zgssearch.gscomponent.isRTLEnabled||zgssearch.isMobViewport()?0:zgssearch.getLHSServicePaneWidth(),tipHalfW=tooltipMountRect.getBoundingClientRect(),isDownArrow="true"===(_jQueryGS(tooltipMountRect).attr("istip")||"")?zgssearch.getViewableContentWidth(tooltipMountRect):tipHalfW.width,(_jQueryGS(tooltipMountRect).attr("isParentTip")||"")&&(isDownArrow=(tipHalfW=(tooltipMountRect=zgssearch.getParentTipNode(tooltipMountRect,"gsParentTip")).getBoundingClientRect()).width,serviceListW=0),rightAvailableW=(top=tipHalfW.left-rightTallyW)+isDownArrow/2,hoveredElemRectTop=tipHalfW.top-leftArrow,isDownArrow=!1,leftArrow=(tipHalfW=left/2)-5,left=top,top=tooltipMountWidth.pageY-tooltipMountLeft+_jQueryGS("#zgs20_gstoolarrow").width()/2+15,tooltipMountWidth=zgssearch.isFilterPageOpened?"zgs20_zohosearchWrapper":zgssearch.getToolTipMount(gsdata,toolTipTxt),tooltipMountLeft="",(tooltipMountLeft=zgssearch.isEmbed?document.getElementById("zgs20_globalsearch"):zgssearch.getNoteByAttr(tooltipMountRect,"id",tooltipMountWidth))&&(tooltipMountWidth=(tooltipMountRect=tooltipMountLeft.getBoundingClientRect()).right-rightTallyW,tooltipMountLeft=0<tooltipMountRect.left?tooltipMountRect.left-(rightTallyW+serviceListW):rightTallyW+serviceListW,rightTallyW=0,rightAvailableW<tipHalfW?(left=tooltipMountLeft,leftArrow-=tipHalfW-rightAvailableW):left-=left-(rightAvailableW-tipHalfW),(rightAvailableW=tooltipMountWidth-rightAvailableW)<tipHalfW&&(left-=rightTallyW=tipHalfW-rightAvailableW,leftArrow+=rightTallyW),left<serviceListW&&(leftArrow-=serviceListW-left,left=serviceListW),tooltipMountRect.bottom-tooltipMountRect.top-toolHeight<20+hoveredElemRectTop+(toolHeight=_jQueryGS("#"+zgssearch.getToolTipHeader(gsdata,toolTipTxt)).height())&&(isDownArrow=!0,top=hoveredElemRectTop-toolHeight-6)),_jQueryGS("#zgs20_gstoolarrow").removeClass("zgs19_gstooldownarrow zgs19_gstooluparrow"),isDownArrow?(_jQueryGS("#zgs20_gstoolarrow").addClass("zgs19_gstooldownarrow"),_jQueryGS("#zgs20_gstoolarrow").css({top:"",bottom:"-5px",left:leftArrow})):(_jQueryGS("#zgs20_gstoolarrow").addClass("zgs19_gstooluparrow"),_jQueryGS("#zgs20_gstoolarrow").css({top:"-5px",bottom:"",left:leftArrow})),_jQueryGS("#"+zgssearch.getToolTipHeader(gsdata,toolTipTxt)).stop(!0).css({top:top,left:left,opacity:0}).css("display","block").animate({opacity:1},500,function(){_jQueryGS("#"+zgssearch.getToolTipHeader(gsdata,toolTipTxt)).stop(!0).animate({opacity:1},5e3,function(){zgssearch.hidetooltip()})})))},zgssearch.renderToolTip=function(gslabel,gsdata,labelId,textId,tipwidth){_jQueryGS("#"+zgssearch.getToolTipHeader(gsdata,tipwidth)).append(_jQueryGS("<div>",{class:"zgs19_gstoolHold zgs19_gsOverflowWrap"}).append(_jQueryGS("<span>",{id:labelId,class:"zgs19_gstoollabel zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl"})).append(_jQueryGS("<span>",{id:textId,class:"zgs19_gstooltext zgs19_gsBorderBox"})));var textwidth=gsdata,labelwidth=0;gslabel&&(labelwidth=5,textwidth=(gslabel+=":")+" "+gsdata);tipwidth=zgssearch.getWidthOfText(textwidth,600),tipwidth=Math.ceil(tipwidth)+labelwidth+24+2;return _jQueryGS("#"+labelId).empty().css("display","none"),gslabel&&(textwidth=zgssearch.getWidthOfText(gsdata,600),tipwidth<=(labelwidth=zgssearch.getWidthOfText(gslabel,600)+labelwidth)+textwidth&&(labelwidth=500),_jQueryGS("#"+labelId).empty().css("display","block").text(gslabel),_jQueryGS("#"+labelId).css("maxWidth",Math.ceil(labelwidth))),_jQueryGS("#"+textId).empty().text(gsdata),tipwidth},zgssearch.hidetooltip=function(){var globalToolTipDisp=zgssearch.getTargetElem("zgs20_gsGlobalToolTip");globalToolTipDisp&&"none"!==_jQueryGS(globalToolTipDisp).css("display")&&_jQueryGS("#zgs20_gsGlobalToolTip").css("display","none"),"none"!==zgssearch.getTargetElem("zgs20_gstootltip").style.display&&_jQueryGS("#zgs20_gstootltip").css("display","none")},zgssearch.constructGlobalToolTipEle=function(){0==_jQueryGS("#zgs20_gsGlobalToolTip").length&&_jQueryGS("#"+globalToolTipMountId).append(_jQueryGS("<div>",{id:"zgs20_gsGlobalToolTip",class:"zgs19_gstootltip zgs19_gsTipBoxShadow zgs19_gsBorderBox zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gstoolarrow",class:"zgs19_gsBorderBox"})))},zgssearch.getToolTipHeader=function(gsdata,toolTipTxt){return toolTipTxt?"zgs20_gsGlobalToolTip":"zgs20_gstootltip"},zgssearch.getToolTipTarget=function(gsdata,toolTipTxt){return toolTipTxt?globalTarget:target},zgssearch.getToolTipMount=function(gsdata,toolTipTxt){return toolTipTxt?globalToolTipMountId:toolTipMountId}}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS;zgssearch.zsdatepickerLabel={OKButtonLabel:zgssearch.getI18NMsg("common.dp.OKButtonLabel"),cancelButtonLabel:zgssearch.getI18NMsg("common.cancel"),daysAbbreviated:[zgssearch.getI18NMsg("common.dp.Sun"),zgssearch.getI18NMsg("common.dp.Mon"),zgssearch.getI18NMsg("common.dp.Tue"),zgssearch.getI18NMsg("common.dp.Wed"),zgssearch.getI18NMsg("common.dp.Thu"),zgssearch.getI18NMsg("common.dp.Fri"),zgssearch.getI18NMsg("common.dp.Sat")],monthsAbbreviated:[zgssearch.getI18NMsg("common.dp.Jan"),zgssearch.getI18NMsg("common.dp.Feb"),zgssearch.getI18NMsg("common.dp.Mar"),zgssearch.getI18NMsg("common.dp.Apr"),zgssearch.getI18NMsg("common.dp.May"),zgssearch.getI18NMsg("common.dp.Jun"),zgssearch.getI18NMsg("common.dp.Jul"),zgssearch.getI18NMsg("common.dp.Aug"),zgssearch.getI18NMsg("common.dp.Sep"),zgssearch.getI18NMsg("common.dp.Oct"),zgssearch.getI18NMsg("common.dp.Nov"),zgssearch.getI18NMsg("common.dp.Dec")],nextMonth:zgssearch.getI18NMsg("common.dp.nextMonth"),nextYear:zgssearch.getI18NMsg("common.dp.nextYear"),prevMonth:zgssearch.getI18NMsg("common.dp.prevMonth"),prevYear:zgssearch.getI18NMsg("common.dp.prevYear"),nextDecade:zgssearch.getI18NMsg("common.dp.nextDecade"),prevDecade:zgssearch.getI18NMsg("common.dp.prevDecade"),nextCentury:zgssearch.getI18NMsg("common.dp.nextCentury"),prevCentury:zgssearch.getI18NMsg("common.dp.prevCentury")},zgssearch.zsdaterangepickerLabel=zgssearch.assignObject(zgssearch.zsdatepickerLabel,{fromLabel:zgssearch.getI18NMsg("common.from"),toLabel:zgssearch.getI18NMsg("common.to")}),zgssearch.zsdatetimepickerLabel=zgssearch.assignObject(zgssearch.zsdatepickerLabel,{timeLabel:zgssearch.getI18NMsg("common.dp.timeLabel")}),zgssearch.zsdatetimerangepickerLabel=zgssearch.assignObject(zgssearch.zsdaterangepickerLabel,{timeLabel:zgssearch.getI18NMsg("common.dp.timeLabel")}),zgssearch.loadDatePicker=function(callback){zgssearch.hasDatePicker?callback&&callback():(zgssearch.hasDatePicker=!0,zgssearch.network.loadSRICSSFile("css/gszohocomponents.min.css",function(){zgssearch.network.loadSRIJSFile("js/gszohocomponents.min.js",callback)}))},zgssearch.createNewCustomDatePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDatePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdatepicker({format:dateFormat,monthsPerView:1,immediateCommit:!1,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom datepicker",ex)}},zgssearch.createNewCustomDateTimePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDateTimePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdatetimepicker({format:dateFormat,monthsPerView:1,immediateCommit:!1,forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatetimepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom datetimepicker",ex)}},zgssearch.createNewCustomDateRangePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDateRangePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdaterangepicker({format:dateFormat,immediateCommit:!1,selectionType:"continuous",forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdaterangepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom daterangepicker",ex)}},zgssearch.createNewCustomDateTimeRangePicker=function(targetElem,dateFormat){try{var targetId="zgs20_gsCustomDateTimeRangePickerElem",gsdatepicker=document.createElement("div");gsdatepicker.id=targetId,document.body.appendChild(gsdatepicker),_jQueryGS("#"+targetId).zsdatetimerangepicker({format:dateFormat,immediateCommit:!1,selectionType:"continuous",forElement:"#"+targetElem,className:"zgs19_gsDatePickerElem",labels:zgssearch.zsdatetimerangepickerLabel,change:function(event,ui){ui.fromUI&&ui.options.callback(ui)},cancel:function(){zgssearch.hideNewCustomDatePicker()}})}catch(ex){zgssearch.throwClientError("Error while creating new custom datetimerangepicker",ex)}},zgssearch.handleNewCustomDatePicker=function(datePickerElem,dataType,attributeObj){try{var targetId="";if("customdate"==dataType){for(var key in targetId="zgs20_gsCustomDatePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdatepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdatepicker("open",datePickerElem)}else if("customdatetime"==dataType){for(var key in targetId="zgs20_gsCustomDateTimePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdatetimepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdatetimepicker("open",datePickerElem)}else if("customdaterange"==dataType){for(var key in targetId="zgs20_gsCustomDateRangePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdaterangepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdaterangepicker("open",datePickerElem)}else{for(var key in"customdatetimerange",targetId="zgs20_gsCustomDateTimeRangePickerElem",attributeObj)_jQueryGS("#"+targetId).zsdatetimerangepicker("setAttribute",key,attributeObj[key]);_jQueryGS("#"+targetId).zsdatetimerangepicker("open",datePickerElem)}var zindex=_jQueryGS("#zgs20_globalsearch").css("z-index")+1;_jQueryGS("#"+targetId).css("z-index",zindex),_jQueryGS("#"+targetId).attr("gs","gsDatePickerComponent"),zgssearch.isCustomDatePickerDisplay=!0}catch(ex){zgssearch.throwClientError("Error in handleCustomDatePicker",ex)}},zgssearch.hideNewCustomDatePicker=function(){try{var dtlength=_jQueryGS("#zgs20_gsCustomDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCustomDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCustomDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsCustomDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCustomDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCustomDateTimePickerElem").zsdatetimepicker("close");var drlength=_jQueryGS("#zgs20_gsCustomDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsCustomDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsCustomDateRangePickerElem").zsdaterangepicker("close");dtlength=_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCustomDateTimeRangePickerElem").zsdatetimerangepicker("close"),zgssearch.isCustomDatePickerDisplay=!1}catch(ex){zgssearch.throwClientError("Error in hideNewCustomDatePicker",ex)}}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssavedsearches=function(gssavedsearches){(gssavedsearches=zgssearch.gssavedsearches||{}).isSaveThisSearchDialogOpened=gssavedsearches.isSaveThisSearchDialogOpened||!1,gssavedsearches.getSavedCardParams=function(respObj){respObj=zgssearch.getFilterInfo(respObj,"accounts","default");0==respObj||zgssearch.hasValueInSearchObj("accounts")||zgssearch.setCurrentValue("accounts",respObj);respObj=zgssearch.getFilterConfig()||{};return respObj.cardtype=zgssearch.SAVED_CARD,respObj},gssavedsearches.getPreviewCardParams=function(){var paramObj=zgssearch.getCurrentResObj(),scallout=_jQueryGS(zgssearch.getCurrentSelectedElem()).attr("service")||paramObj.serviceName,prevCrdConfig={};return zgssearch.isArrayContain(scallout,zgssearch.getEnabledCloudApps())||(paramObj={},paramObj=scallout==zgssearch.GSConstant.PROJECTS?zgssearch.projectMgmtCalloutObj.getPreviewCrdParams():(scallout=zgssearch.mappedServiceList[scallout].callout,zgssearch[scallout].getPreviewCrdParams()),prevCrdConfig.previewcardconfig=zgssearch.gssavedsearches.getPrevCrdConfig(paramObj)),prevCrdConfig.hasOwnProperty("previewcardconfig")&&(prevCrdConfig.cardtype=zgssearch.BOOKMARK_CARD),prevCrdConfig},gssavedsearches.validate=function(){var cardInfoObj={},cardName=_jQueryGS("#zgs20_gsSTS").val().trim();if(!cardName)return zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_name_info")}),cardInfoObj;var description=_jQueryGS("#zgs20_gsCrdDescInput").val().trim();return gssavedsearches.cardDetailsCheck(cardName)&&gssavedsearches.cardDetailsCheck(description)?(cardInfoObj.cardName=cardName,cardInfoObj.description=description):gssavedsearches.toggleInputErrorClass(),cardInfoObj},gssavedsearches.toggleInputErrorClass=function(){var errorElem=_jQueryGS(".zgs19_gsInputBoxError");errorElem.removeClass("zgs19_gsInputBoxError"),setTimeout(function(){errorElem.addClass("zgs19_gsInputBoxError"),errorElem.find(".zgs19_gsInputError")[0].focus()},300)},gssavedsearches.addEventForCardAndDashboardDetails=function(curElem,multiCardTitleElem,isSaveButtonEnabled){(curElem=_jQueryGS(curElem)).off("input").on("input",function(){var toBeAppendEle=curElem.parent(),inputText=curElem.val()||"";zgssearch.gssavedsearches.checkForErrorIcon(inputText,curElem,toBeAppendEle,multiCardTitleElem),isSaveButtonEnabled&&gssavedsearches.toggleSaveButtonForSaveCard(inputText)})};var curElemErrorCls="zgs19_gsInputError",parentElemErrorCls="zgs19_gsInputBoxError";return gssavedsearches.checkForErrorIcon=function(UnSelectedErrorElem,curElem,parentElem,multiCardTitleElem){curElemErrorCls=multiCardTitleElem?"zgs19_gsMultiCardTitleError":"zgs19_gsInputError",parentElemErrorCls=multiCardTitleElem?"":"zgs19_gsInputBoxError";var errorIconExists;gssavedsearches.cardDetailsCheck(UnSelectedErrorElem)?(errorIconExists=gssavedsearches.isErrorIconExists(parentElem),multiCardTitleElem?(multiCardTitleElem.removeClass(curElemErrorCls),curElem.removeClass("zgs19_gsMultiCardInputError"),UnSelectedErrorElem=parentElem.find("."+curElemErrorCls).length,errorIconExists&&UnSelectedErrorElem||gssavedsearches.removeErrorIconForCardDetails(curElem,parentElem)):errorIconExists&&gssavedsearches.removeErrorIconForCardDetails(curElem,parentElem)):multiCardTitleElem?(gssavedsearches.addErrorIconForCardDetails(multiCardTitleElem,parentElem),multiCardTitleElem.addClass(curElemErrorCls),curElem.addClass("zgs19_gsMultiCardInputError")):gssavedsearches.addErrorIconForCardDetails(curElem,parentElem)},gssavedsearches.removeErrorIconForCardDetails=function(curElem,parentElem){parentElem.find(".zgs19_gsErrorIcon").remove(),parentElem.find(".zgs19_toolTipText").remove(),curElem.removeClass(curElemErrorCls),parentElem.removeClass(parentElemErrorCls)},gssavedsearches.addErrorIconForCardDetails=function(curElem,parentElem){gssavedsearches.isErrorIconExists(parentElem)||(zgssearch.gssavedsearches.highlightInputFieldOnError(curElem,parentElem),zgssearch.gssavedsearches.addToolTipText(parentElem),curElem.focus()),zgssearch.gscreatecards.isCreateCardPageOpened&&_jQueryGS("#zgs20_gsCCsave").addClass("zgs19_gsHideEleme")},gssavedsearches.highlightInputFieldOnError=function(iconHolder,parentElem){iconHolder.addClass(curElemErrorCls),parentElem.addClass(parentElemErrorCls);iconHolder=_jQueryGS("<span>",{class:"zgs19_gsErrorIcon zgs18_gsErrorIcon"});parentElem.append(iconHolder),zgssearch.obtainLineIconPaths("zgs18_gsErrorIcon",_jQueryGS(iconHolder)[0])},gssavedsearches.addToolTipText=function(parentElem){var toolTipText=zgssearch.getI18NMsg("gs.save.error_card_details");parentElem.append(_jQueryGS("<span>",{class:"zgs19_toolTipText zgs19_gsTipBoxShadow"}).text(toolTipText)),zgssearch.gssavedsearches.addEventForHoverToolTipText(parentElem)},gssavedsearches.addEventForHoverToolTipText=function(toBeAppendEle){var errorIcon=toBeAppendEle.find(".zgs19_gsErrorIcon"),toolTip=toBeAppendEle.find(".zgs19_toolTipText");_jQueryGS(errorIcon).on({mouseenter:function(){_jQueryGS(toolTip).css({visibility:"visible"})},mouseleave:function(){_jQueryGS(toolTip).css({visibility:"hidden","pointer-events":"none"})}})},gssavedsearches.isErrorIconExists=function(parentElem){return 0!==_jQueryGS(parentElem).find(".zgs19_gsErrorIcon").length},gssavedsearches.cardDetailsCheck=function(inputVal){var regexCheck=zgssearch.gscardUtils.cardAndDashboardDetailsRegexPattern.test(inputVal);return(!inputVal||inputVal.length<=255)&&regexCheck},gssavedsearches.saveCard=function(params,service,dbId,description,argParams){var dbName;""!==params?_jQueryGS.isEmptyObject(dbId)||(params="action=savecard&service="+service+"&cardname="+encodeURIComponent(params),params+="&cardtype="+(dbId.hasOwnProperty("cardtype")?dbId.cardtype:""),""!==description&&(params+="&carddescription="+encodeURIComponent(description)),dbId.hasOwnProperty("filterconfig")&&(params+="&cardconfig="+encodeURIComponent(JSON.stringify(dbId.filterconfig))),dbId.hasOwnProperty("previewcardconfig")&&(params+="&previewcardconfig="+dbId.previewcardconfig),dbId.advanceconfig&&(params+="&advcardconfig="+encodeURIComponent(JSON.stringify(dbId.advanceconfig))+"&querypattern="+encodeURIComponent(dbId.querypattern)),dbName=_jQueryGS("#zgs20_gsnewDbInput").val(),dbId=_jQueryGS("#zgs20_gsSelectDbDD").attr("dbId"),dbName?params+="&dashboardname="+encodeURIComponent(dbName):dbId&&(params+="&dashboardid="+dbId),zgssearch.uri(zgssearch.POST,zgssearch.postCardsURL,params,argParams,function(respStatus,cardId,response){var callback=response.args.callback;"success"==cardId?(cardId=(response=zgssearch.jsonParse(respStatus)).cardid,respStatus=response.status,gssavedsearches.handleSaveCardsDashboardResponse(dbName,respStatus,response),"1001"===respStatus?(callback(cardId,argParams,!0),zgssearch.gscardUtils.addCrdAutoSugg(cardId,argParams)):(callback(cardId,argParams,!1),zgssearch.revertButtonLoader(),_jQueryGS(".zgs19_gsaddtodbbutton").text(zgssearch.getI18NMsg("gs.settings.application.save")))):callback("",argParams,!1)})):zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_name_info")})},gssavedsearches.formatMulitportalResponseForCard=function(){var cardDispArr=[],cardFilterObj=[];gssavedsearches.multiCardSaveObj={};for(var searchType=zgssearch.getSearchType(),orderedServiceList=searchType==GSConstant.ALL?zgssearch.getOrderedServiceList():[searchType],orderedServiceListLen=orderedServiceList.length,serviceList=zgssearch.getEnabledServiceList(),i=0;i<orderedServiceListLen;i++){var service=orderedServiceList[i];if(service!==GSConstant.ALL&&zgssearch.isArrayContain(service,serviceList)){var filterObj=zgssearch.getFilterObj(service),resultObj=zgssearch.renderedResultServiceMetaObj[service];if(filterObj&&resultObj)for(var accountsObj=filterObj.accounts,accIdArr=accountsObj?accountsObj.accIdArr:"",j=0;j<accIdArr.length;j++){var accId=accIdArr[j];if(resultObj.hasOwnProperty(accId))for(var moduleArr=resultObj[accId],k=0;k<moduleArr.length;k++){var cardDispObj=moduleArr[k],cardDispObj=gssavedsearches.formatSearchResponseObjectForCard(service,accId,cardDispObj,filterObj,cardFilterObj);cardDispArr.push(cardDispObj)}}}}return gssavedsearches.multiCardSaveArr=cardDispArr,gssavedsearches.multiCardSaveObj=cardFilterObj,cardDispArr},gssavedsearches.formatSearchResponseObjectForCard=function(service,accId,modName,modData,cardObj){var cardDispObj={},cardFilterObj={};cardFilterObj.filter={service:service};var cardDispObj={service:service,accId:accId,accName:modName.account_name},moduleId=modName.module_id||modName.modId||"";cardFilterObj.filter.accounts=[accId];modName=zgssearch.widgetServiceList[service];return moduleId&&(modData=(modName=modData[modName.childkey]||modData.modules).data,modName=modName.type,modName=gssavedsearches.getDispName(service,accId,modData,moduleId,modName),cardDispObj.modId=moduleId,cardDispObj.modName=modName,cardFilterObj.filter.modules=[moduleId]),cardObj[service+accId+moduleId]=cardFilterObj,cardDispObj},gssavedsearches.getDispName=function(service,accId,fkeyData,value,type){var finfo,wObj;if("4"==type){if(fkeyData.hasOwnProperty(accId))for(finfo in wObj=fkeyData[accId]){var tfname=wObj[finfo];if((tfname.key||"")==value){tfname=tfname.name||"";return tfname=service==GSConstant.MAILS?(tfname=0==tfname.indexOf(".../")?tfname.replace(new RegExp("(^.../)"),""):tfname).replace(new RegExp("(/$)"),""):tfname}}}else if("3"==type){if(fkeyData.hasOwnProperty(accId))return(wObj=fkeyData[accId])[value]||""}else{if("1"==type)return fkeyData[value]||"";if("6"==type)return value}return""},gssavedsearches.renderMultiServiceOuterContent=function(selectAllCardsDiv){var saveCountDiv,overlayDialog;0<selectAllCardsDiv.length&&(saveCountDiv=_jQueryGS("<div>",{class:"zgs19_gsMultiSerSaveCount zgs19_gsfl"}).text(0),overlayDialog=zgssearch.renderCheckBox("edit",!1),selectAllCardsDiv=_jQueryGS("<div>",{class:"zgs19_gsMultiServiceCrdInfo"}).append(_jQueryGS("<div>",{id:"zgs20_gsMultiServAllCheckBoxHolder",class:"zgs19_gsSaveCheckBoxHolder"}).append(overlayDialog)).append(_jQueryGS("<div>",{class:"zgs19_gsSelectText zgs19_gsCurPointer"}).text(zgssearch.getI18NMsg("gs.save.select_all_cards"))),(overlayDialog=_jQueryGS("#zgs20_gsOverlayDialog")).append(_jQueryGS("<div>",{class:"zgs19_gsCnfrmDialogBox"}).append(_jQueryGS("<div>",{id:"zgs20_gsMultiServiceSavePopup",class:"zgs19_gsServiceSavePopup zgs19_gsMultiServiceSavePopup zgs19_gsSaveSearch",cardType:"0"}).append(_jQueryGS("<div>",{class:"zgs19_gsMultiServiceTop"}).append(_jQueryGS("<div>",{class:"zgs19_gsMultiSaveHeader"}).append(_jQueryGS("<span>",{class:"zgs19_gsMultiSaveHdrText zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.save.all_cards_title"))).append(saveCountDiv)).append(selectAllCardsDiv).append(_jQueryGS("<div>",{id:"zgs20_gsMultiSerSaveContent",class:"zgs19_gsMultiSerSaveContent"}))).append(_jQueryGS("<div>",{class:"zgs19_gsMultiSaveFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsaddtodbText zgs19_gsaddtodbDisable",gs:"showaddtodb"}).text(zgssearch.getI18NMsg("gs.saved_searches.action_add_dashboard"))).append(_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gssave zgs19_gsfr zgs19_gsHideEleme",gs:"allappsCardSave",cnfrmType:"saveallCards"}).text(zgssearch.getI18NMsg("gs.settings.application.save"))).append(_jQueryGS("<button>",{class:"zgs19_gsSC_PUbtmNew zgs19_gscancel zgs19_gsfr ",gs:"allappsCardSave",cnfrmType:"cancelallCards"}).text(zgssearch.getI18NMsg("common.cancel")))).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsSSClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer"}))))),overlayDialog.css("display","block"))},gssavedsearches.handleAddToDbSelectionChange=function(){_jQueryGS(".zgs19_gsaddtodbbutton.zgs19_gssave").off().on({click:function(){var target;""==_jQueryGS("#zgs20_gsnewDbInput").val()&&null==_jQueryGS("#zgs20_gsSelectDbDD").attr("dbid")||(target=event.target,zgssearch.setButtonLoader(target,"zgs20_savingAllCards",!0),gssavedsearches.saveAllCards()),_jQueryGS("#zgs20_gsMultiServiceSavePopup").click().focus()}})},gssavedsearches.renderEachServiceSaveData=function(cardsArr){try{for(var cardTitleElem,totCards=cardsArr.length,popupContent=_jQueryGS("#zgs20_gsMultiSerSaveContent"),service="",i=0;i<totCards;i++){var cardObj=cardsArr[i],service=cardObj.service,description=zgssearch.getI18NMsg("common.description"),title=zgssearch.mappedServiceList[service].displayName;cardObj.accName&&(title+=" ("+cardObj.accName+") "),cardObj.hasOwnProperty("modName")&&cardObj.modName&&(title+=" > "+cardObj.modName);var accId=cardObj.accId||"",modId=cardObj.modId||"",cardSaveObj=gssavedsearches.multiCardSaveObj[service+accId+modId];cardSaveObj&&((cardSaveObj.meta={}).cardname=title);var serviceicon=zgssearch.Utils.getServiceIcon(service),colorObj=zgssearch.Utils.getServiceRelatedInfo(service),backgroundColor=colorObj.cardColor,borderColor=colorObj.bordercolor,checkbox=zgssearch.renderCheckBox("edit",!1,"key","name"),checkboxDiv=_jQueryGS("<div>",{class:"zgs19_gsMultiServCheckBoxHolder zgs19_gsSaveCheckBoxHolder",gs:"checkEachCard"}).append(checkbox),checkboxDiv=1<totCards?checkboxDiv:"",iconHolder=_jQueryGS("<div>",{class:"zgs19_gsSaveCrdSerIcon zgs19_gsfl "+serviceicon}),eachCardElem=_jQueryGS("<div>",{class:"zgs19_gsEachServiceCrd"}).append(checkboxDiv).append(_jQueryGS("<div>",{class:"zgs19_gsEachServiceCrdContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsMultiSerIconCircle zgs19_gsDBCardServiceIcon zgs19_gsfl zgs19_gsColoredIcon "+backgroundColor+" "+borderColor}).append(iconHolder)).append(_jQueryGS("<div>",{class:"zgs19_gsCrdLeftContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCrdTitle zgs19_gsOverflow",gs:"cardtitle",value:title}).text(title)).append(_jQueryGS("<div>",{class:"zgs19_gsCrdDescription zgs19_gsOverflow",gs:"carddescription",value:""}).text(description))).append(_jQueryGS("<div>",{class:"zgs19_gsCrdInfoIcon"})));popupContent.append(eachCardElem),eachCardElem.attr("index",i),zgssearch.LINE_ICON_MAP.hasOwnProperty(serviceicon)&&zgssearch.obtainLineIconPaths(serviceicon,iconHolder)}0<totCards&&(cardTitleElem=_jQueryGS(".zgs19_gsCrdTitle")[0],zgssearch.gssavedsearches.inputCardTitle(_jQueryGS(cardTitleElem),cardTitleElem))}catch(ex){zgssearch.throwClientError("Error while rendering all apps save"+(service?"for service:"+service:""),ex)}},gssavedsearches.hideMultiServiceCardSavePopup=function(){zgssearch.popupUtils.closeOverlayDialog(),_jQueryGS(".zgs19_gsCnfrmDialogBox").remove(),gssavedsearches.isSaveThisSearchDialogOpened=!1,window.removeEventListener("resize",zgssearch.gssavedsearches.resizePopup,!1)},gssavedsearches.calculatePositionForSaveSearchPopup=function(){var actPosLeft,zohosearchHgt,actPosTop;1==zgssearch.gscomponent.UIType?(zohosearchHgt=_jQueryGS("#zgs20_zohosearch").height(),actPosLeft=_jQueryGS("#zgs20_zohosearch").width(),actPosTop=(zohosearchHgt-_jQueryGS("#zgs20_gsMultiServiceSavePopup").height())/2,actPosLeft=(actPosLeft-_jQueryGS("#zgs20_gsMultiServiceSavePopup").width())/2,_jQueryGS("#zgs20_gsMultiServiceSavePopup").css("inset-block-start",actPosTop+"px"),_jQueryGS("#zgs20_gsMultiServiceSavePopup").css("inset-inline-start",actPosLeft+"px")):0==zgssearch.gscomponent.UIType&&(actPosTop=((zohosearchHgt=_jQueryGS("#zgs20_gsHolder").height())-_jQueryGS("#zgs20_gsMultiServiceSavePopup").height())/2,_jQueryGS("#zgs20_gsMultiServiceSavePopup").css("inset-block-start",actPosTop+"px"))},gssavedsearches.mouseEventForMultiServiceSave=function(){_jQueryGS("#zgs20_gsMultiServAllCheckBoxHolder > .zgs19_checkbox, .zgs19_gsSelectText").off().on({click:function(){var allinputElem=_jQueryGS("#zgs20_gsMultiServAllCheckBoxHolder").find("input"),totcheckedElems=allinputElem.prop("checked"),eachinputElem=_jQueryGS(".zgs19_gsMultiServCheckBoxHolder").find("input");eachinputElem.length<=zgssearch.gscardUtils.cardsLimitInMultiCardSave?(allinputElem.prop("checked",!totcheckedElems),eachinputElem.prop("checked",!totcheckedElems),totcheckedElems?_jQueryGS(".zgs19_gsMultiSaveFooter .zgs19_gssave").addClass("zgs19_gsHideEleme"):_jQueryGS(".zgs19_gsMultiSaveFooter .zgs19_gssave").removeClass("zgs19_gsHideEleme"),totcheckedElems?_jQueryGS(".zgs19_gsaddtodbText").addClass("zgs19_gsaddtodbDisable"):_jQueryGS(".zgs19_gsaddtodbText").removeClass("zgs19_gsaddtodbDisable"),totcheckedElems?_jQueryGS(".zgs19_gsaddtodbText").removeAttr("gs"):_jQueryGS(".zgs19_gsaddtodbText").attr("gs","showaddtodb"),totcheckedElems=_jQueryGS(".zgs19_gsEachServiceCrd > .zgs19_gsMultiServCheckBoxHolder > .zgs19_checkbox > input:checked").length,_jQueryGS(".zgs19_gsMultiSerSaveCount").text(totcheckedElems).css("display","block")):zgssearch.showTopbannertip({ty:2,msg:zgssearch.I18N.getValue("gs.save.all_cards_save_limit_exceeded",[zgssearch.gscardUtils.cardsLimitInMultiCardSave])})}}),_jQueryGS(".zgs19_gsCrdTitle").off().on({click:function(targetElem){targetElem=_jQueryGS(targetElem.target);gssavedsearches.inputCardTitle(targetElem,this)}}),_jQueryGS(".zgs19_gsCrdDescription").off().on({click:function(targetElem){targetElem=_jQueryGS(targetElem.target);gssavedsearches.getCardDescription(targetElem,this)}}),_jQueryGS(".zgs19_gsSSClose").off().on({click:function(){gssavedsearches.hideMultiServiceCardSavePopup()}}),_jQueryGS(".zgs19_gsSC_PUbtmNew.zgs19_gscancel").off().on({click:function(){gssavedsearches.hideMultiServiceCardSavePopup()}}),_jQueryGS(".zgs19_gsSC_PUbtmNew.zgs19_gssave").off().on({click:function(){var target=event.target;zgssearch.setButtonLoader(target,"zgs20_savingAllCards"),gssavedsearches.saveAllCards()}}),0==zgssearch.gscomponent.UIType&&(zgssearch.gssavedsearches.resizePopup=function(){zgssearch.gssavedsearches.isSaveThisSearchDialogOpened&&gssavedsearches.calculatePositionForSaveSearchPopup()},window.addEventListener("resize",gssavedsearches.resizePopup,!1))},gssavedsearches.toggleSaveButtonForSaveCard=function(inputVal){(inputVal=inputVal.trim())?(_jQueryGS("#zgs20_gsSavedSearchPopup .zgs19_gssave").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsSavedSearchPopup .zgs19_gsaddtodbText").removeClass("zgs19_gsaddtodbDisable")):(_jQueryGS("#zgs20_gsSavedSearchPopup .zgs19_gssave").addClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsSavedSearchPopup .zgs19_gsaddtodbText").addClass("zgs19_gsaddtodbDisable"))},gssavedsearches.getCardDescription=function(targetElem,titlecls){gssavedsearches.inputCardTitle(targetElem,titlecls,!0)},gssavedsearches.inputCardTitle=function(target,titlecls,isdescription){target.css("display","none");var title=_jQueryGS(target).attr("value"),inputElem="",inputErrorCls="",inputElem=isdescription?zgssearch.getI18NMsg("common.description"):zgssearch.getI18NMsg("gs.cards.card_name");zgssearch.gssavedsearches.cardDetailsCheck(title)||(inputErrorCls=" zgs19_gsMultiCardInputError");inputElem=_jQueryGS("<input>",{class:"zgs19_gsCrdTitleInput"+inputErrorCls,gs:"cardmetaInput",value:title,placeholder:inputElem});target.after(inputElem),inputElem.focus(),inputElem.select(),_jQueryGS(".zgs19_gsCrdTitleInput").off().on({blur:function(event){gssavedsearches.onFocusOutOfCardNameInput(event.target,titlecls,isdescription)},keydown:function(event){(event.keyCode||event.which)===zgssearch.specialkeys.ENTER&&gssavedsearches.onFocusOutOfCardNameInput(event.target,titlecls,isdescription)}}),zgssearch.gssavedsearches.addEventForCardAndDashboardDetails(inputElem,target)},gssavedsearches.onFocusOutOfCardNameInput=function(title,service,isdescription){var accId=_jQueryGS(title),title=accId.val()||"",accId=accId.closest(".zgs19_gsEachServiceCrd"),service=_jQueryGS(accId).find(service);title.trim()?service.attr("value",title):(title=service.text(),gssavedsearches.cardDetailsCheck(title)||(metaObj=accId.find(".zgs19_gsCrdLeftContent"),zgssearch.gssavedsearches.addErrorIconForCardDetails(service,metaObj),service.addClass(curElemErrorCls))),service.text(title),_jQueryGS(".zgs19_gsCrdTitleInput").remove(),service.css("display","block");var metaObj=accId.attr("index"),service=gssavedsearches.multiCardSaveArr[metaObj],accId=service.accId||"",metaObj=service.modId||"",service=service.service,metaObj=gssavedsearches.multiCardSaveObj[service+accId+metaObj];metaObj&&(metaObj=metaObj.meta,isdescription?metaObj.carddescription=title:metaObj.cardname=title)},gssavedsearches.handleMultiSerCrdCheckUncheck=function(totcheckedElems){var input=_jQueryGS(totcheckedElems).find("input[type=checkbox]"),isChecked=input.prop("checked");input.prop("checked",!isChecked);totcheckedElems=_jQueryGS(".zgs19_gsMultiServCheckBoxHolder > .zgs19_checkbox > input:checked").length;totcheckedElems<=zgssearch.gscardUtils.cardsLimitInMultiCardSave?(!isChecked&&totcheckedElems!==gssavedsearches.multiCardSaveArr.length||_jQueryGS("#zgs20_gsMultiServAllCheckBoxHolder").find("input").prop("checked",!isChecked),0<totcheckedElems?(_jQueryGS(".zgs19_gsSC_PUbtmNew.zgs19_gssave").removeClass("zgs19_gsHideEleme"),_jQueryGS(".zgs19_gsMultiSerSaveCount").text(totcheckedElems).css("display","block"),_jQueryGS(".zgs19_gsaddtodbText").removeClass("zgs19_gsaddtodbDisable"),_jQueryGS(".zgs19_gsaddtodbText").attr("gs","showaddtodb")):(_jQueryGS(".zgs19_gsaddtodbText").removeAttr("gs"),_jQueryGS(".zgs19_gsaddtodbText").addClass("zgs19_gsaddtodbDisable"),_jQueryGS(".zgs19_gsSC_PUbtmNew.zgs19_gssave").addClass("zgs19_gsHideEleme"),_jQueryGS(".zgs19_gsMultiSerSaveCount").text(totcheckedElems))):(input.prop("checked",isChecked),zgssearch.showTopbannertip({ty:2,msg:zgssearch.I18N.getValue("gs.save.all_cards_save_limit_exceeded",[zgssearch.gscardUtils.cardsLimitInMultiCardSave])}))},gssavedsearches.showaddtodbElement=function(isMultiSave){isMultiSave=_jQueryGS(isMultiSave).closest("#zgs20_gsMultiServiceSavePopup").length;let errorElemLen=0,infoObj,errorElements,canSave=!1;if(isMultiSave){let allElements=_jQueryGS(".zgs19_gsEachServiceCrd"),checkedElements=allElements.has("input[type=checkbox]:checked");errorElements=checkedElements.has("."+curElemErrorCls),errorElemLen=errorElements.length,canSave=!errorElemLen}else infoObj=gssavedsearches.validate(),canSave=!_jQueryGS.isEmptyObject(infoObj);canSave?(gssavedsearches.constructAddToDbOuter(),gssavedsearches.isAddtoDbElementOpened=!0):isMultiSave&&((1<errorElemLen||1===errorElemLen&&!gssavedsearches.isVisible(errorElements[0],_jQueryGS("#zgs20_gsMultiSerSaveContent")[0]))&&_jQueryGS(errorElements)[0].scrollIntoView({behavior:"smooth"}),_jQueryGS(errorElements).addClass("zgs19_gsMultiCardBoxError"),setTimeout(function(){_jQueryGS(errorElements).removeClass("zgs19_gsMultiCardBoxError")},1400))},gssavedsearches.hideaddtodbElement=function(){_jQueryGS("#zgs20_gsSelectDbDD").removeAttr("dbid"),_jQueryGS(".zgs20_gsnewDbInput").val(""),_jQueryGS(".zgs19_gsaddtodboverElement").removeClass("zgs19_gstransition"),gssavedsearches.isAddtoDbElementOpened=!1},gssavedsearches.saveAllCards=function(){var saveArr=[];zgssearch.filter_type="saveCard";var description=zgssearch.getFilterConfig(),queryObject=description.hasOwnProperty("filterconfig")?description.filterconfig:[],cardArr=gssavedsearches.multiCardSaveArr||[],errorElements="",errorElemLen="";if(1<cardArr.length){var checkedElements=_jQueryGS(".zgs19_gsEachServiceCrd").has("input[type=checkbox]:checked");if(!(errorElemLen=(errorElements=checkedElements.has("."+curElemErrorCls)).length))for(var totalCheckedElements=checkedElements.length,j=0;j<totalCheckedElements;j++){var index=checkedElements[j],index=_jQueryGS(index).attr("index");gssavedsearches.formatEachCardSaveObject(cardArr[index],saveArr)}}else if(0<cardArr.length){var cardmetaObj=cardArr[0],cardname=_jQueryGS("#zgs20_gsSTS").val().trim();if(""===cardname)return zgssearch.showTopbannertip({ty:2,msg:zgssearch.getI18NMsg("gs.saved_search.service_insert_name_info")}),void zgssearch.revertButtonLoader();description=_jQueryGS("#zgs20_gsCrdDescInput").val().trim();if(!gssavedsearches.cardDetailsCheck(cardname)||!gssavedsearches.cardDetailsCheck(description))return;gssavedsearches.formatEachCardSaveObject(cardmetaObj,saveArr,cardname,description)}saveArr.length?gssavedsearches.multicardssave(zgssearch.SAVED_CARD,queryObject,saveArr):((1<errorElemLen||1===errorElemLen&&!gssavedsearches.isVisible(errorElements[0],_jQueryGS("#zgs20_gsMultiSerSaveContent")[0]))&&_jQueryGS(errorElements)[0].scrollIntoView({behavior:"smooth"}),_jQueryGS(errorElements).addClass("zgs19_gsMultiCardBoxError"),setTimeout(function(){_jQueryGS(errorElements).removeClass("zgs19_gsMultiCardBoxError")},1400))},gssavedsearches.isVisible=function(containerTop,containerBottom){var eleTop=containerTop.offsetTop,eleBottom=eleTop+containerTop.clientHeight,containerTop=containerBottom.scrollTop+100,containerBottom=containerTop+containerBottom.clientHeight;return containerTop<=eleTop&&eleBottom<=containerBottom},gssavedsearches.formatEachCardSaveObject=function(cardSaveObj,saveArr,cardname,carddescription){var metaObj=cardSaveObj.accId||"",configArr=cardSaveObj.modId||"",service=cardSaveObj.service,cardSaveObj=gssavedsearches.multiCardSaveObj[service+metaObj+configArr];cardSaveObj&&(metaObj=cardSaveObj.filter,configArr=zgssearch.formNewQueryObjectModelQuery(metaObj),metaObj=cardSaveObj.meta||{},0<configArr.length&&(cardSaveObj={service:service,cardname:cardname=cardname||metaObj.cardname||"",carddescription:carddescription=carddescription||metaObj.carddescription||"",cardconfig:configArr},saveArr.push(cardSaveObj)))},gssavedsearches.multicardssave=function(params,dbId,cardConfigArr){params="action=savemultiplecards&cardtype="+params;0<dbId.length&&(params+="&query="+encodeURIComponent(JSON.stringify(dbId)));_jQueryGS("#zgs20_gsAddToDbCheckBoxHolder").find("input")[0];var dbName=_jQueryGS("#zgs20_gsnewDbInput").val(),dbId=_jQueryGS("#zgs20_gsSelectDbDD").attr("dbId");dbName?params+="&dashboardname="+encodeURIComponent(dbName):dbId&&(params+="&dashboardid="+dbId),params+="&allcardconfig="+encodeURIComponent(JSON.stringify(cardConfigArr)),zgssearch.uri(zgssearch.POST,zgssearch.postCardsURL,params,"",function(response,status,xhr){response?(status=(response=zgssearch.jsonParse(response)).status,gssavedsearches.handleSaveCardsDashboardResponse(dbName,status,response)):zgssearch.showTopbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.error.something_went_wrong")})})},gssavedsearches.getDispNameForDate=function(service,dateObj,fData){dateObj=gssavedsearches.constructFilterFormatForDate(service,dateObj);return dateObj.hasOwnProperty("date")?[fData[(dateObj=dateObj.date).value]]:dateObj.hasOwnProperty("relativedate")?[(dateObj=dateObj.relativedate).fromDateVal,dateObj.toDateVal]:""},gssavedsearches.constructFilterFormatForDate=function(service,fromDateFormat){var fromDateFil,toDateFil=fromDateFormat.hasOwnProperty("type")?fromDateFormat.type:"",dateObj={},dateTypeObj={};if("4"==toDateFil){var toDateFormat,i,dateUnit=(toDateFormat=fromDateFormat.value)[0],filterDates=zgssearch.filterDates;for(i in filterDates){var fDateType=filterDates[i];if(dateUnit.datevalue==fDateType.datevalue&&dateUnit.datetype==fDateType.datetype&&dateUnit.timeunit==fDateType.timeunit){dateTypeObj.dispName="Date",dateTypeObj.value=i,dateObj.date=dateTypeObj;break}}}else"3"==toDateFil&&(fromDateFil=(toDateFormat=fromDateFormat.value)[0],toDateFil=toDateFormat[1],fromDateFormat=fromDateFil.split("-")[0],toDateFormat=toDateFil.split("-")[0],dateTypeObj.value=fromDateFormat===toDateFormat?"customdate":"customrange",dateTypeObj.dispName="Relative Date",dateTypeObj.fromDate=fromDateFil,dateTypeObj.toDate=toDateFil,dateTypeObj.fromDateVal=fromDateFil.split(" ")[0],dateTypeObj.toDateVal=toDateFil.split(" ")[0],dateObj.relativedate=dateTypeObj);return dateObj},gssavedsearches.displaySavedSearchDialog=function(titVal,actionType){var pholder,gsSave,cnfrmType,searchType,cardsArr;gssavedsearches.isSaveThisSearchDialogOpened||(pholder=zgssearch.getI18NMsg("gs.cards.card_name"),cnfrmType="savePreview"==actionType?(gsSave="savePreviewCnfrmActions","savePreviewCrdFields"):(gsSave="ssCnfrmActions","saveSSFields"),cardsArr=(searchType=zgssearch.getSearchType())===GSConstant.CAMPAIGNS&&"0"==zgssearch.getCurrentValue("modules",searchType),"savePreview"!==actionType&&(searchType===GSConstant.ALL||zgssearch.multiPageEnabled||zgssearch.subMultiPageEnabled||cardsArr)?(1<(cardsArr=gssavedsearches.formatMulitportalResponseForCard()).length?(gssavedsearches.renderMultiServiceOuterContent(cardsArr),gssavedsearches.renderEachServiceSaveData(cardsArr),gssavedsearches.calculatePositionForSaveSearchPopup(),gssavedsearches.isSaveThisSearchDialogOpened=!0):0<cardsArr.length&&(zgssearch.popupUtils.openEditNamepopup(titVal,"",pholder,"",!0,"",gsSave,"","closeSaveDialog",!0),gssavedsearches.showSingleCardSaveDialog(!0)),gssavedsearches.mouseEventForMultiServiceSave()):(zgssearch.popupUtils.openEditNamepopup(titVal,"",pholder,"",!0,"",gsSave,cnfrmType,"closeSaveDialog",!0),gssavedsearches.showSingleCardSaveDialog(!0)))},gssavedsearches.showSingleCardSaveDialog=function(addToDbNeeded){gssavedsearches.handleSizeForSaveDialog("zgs20_gsSavedSearchPopup","297px","499px"),gssavedsearches.isSaveThisSearchDialogOpened=!0},gssavedsearches.handleSizeForSaveDialog=function(id,height,width){_jQueryGS("#"+id).css("height",height),_jQueryGS("#"+id).css("width",width)},gssavedsearches.savedSearchActions=function(tarElem){var cnfrmType=_jQueryGS(tarElem).attr("cnfrmType");switch(cnfrmType){case"saveSSFields":case"savePreviewCrdFields":gssavedsearches.getCardConfigAndSaveCard(cnfrmType,tarElem);break;case"closeSaveDialog":gssavedsearches.hideSavedSearchDialog()}},gssavedsearches.getCardConfigAndSaveCard=function(argParams,tarElem){var service,cardConfigObj={},infoObj=gssavedsearches.validate();_jQueryGS.isEmptyObject(infoObj)||(service=!!tarElem&&_jQueryGS(tarElem)[0].classList.contains("zgs19_gsaddtodbbutton"),zgssearch.setButtonLoader(tarElem,"zgs20_savingResultCard",service),service=infoObj.service=_jQueryGS(zgssearch.getCurrentSelectedElem()).attr("service")||zgssearch.getSearchType(),"saveSSFields"==argParams?cardConfigObj=gssavedsearches.getSavedCardParams(service):"savePreviewCrdFields"==argParams&&(cardConfigObj=gssavedsearches.getPreviewCardParams()),_jQueryGS.isEmptyObject(cardConfigObj)||(service=zgssearch.isArrayContain(service,zgssearch.configured_mail_module)?zgssearch.mappedServiceList[service].originService:service,argParams={callback:gssavedsearches.hideSavedSearchDialog,service:service,name:infoObj.cardName},gssavedsearches.saveCard(infoObj.cardName,service,cardConfigObj,infoObj.description,argParams,zgssearch.getI18NMsg("gs.saved_search.insert_success"),zgssearch.getI18NMsg("gs.cards.insert_error"))))},gssavedsearches.hideSavedSearchDialog=function(){zgssearch.popupUtils.closeCnfrmDialogBox(),zgssearch.popupUtils.closeOverlayDialog(),gssavedsearches.isSaveThisSearchDialogOpened=!1},gssavedsearches.formPreviewConfig=function(pkId){let currScope=(new zgssearch.dashboardSearchActions).createActionType();var accId=currScope.getCurrAccId();return gssavedsearches.getPrevCrdConfig({account_id:accId,entity_id:pkId})},gssavedsearches.getPrevCrdConfig=function(prevObj){var param,previewCrdConfig=[];for(param in prevObj)previewCrdConfig.push({name:param,value:prevObj[param]});return encodeURIComponent(JSON.stringify(previewCrdConfig))},gssavedsearches.addToExistingDB=function(elem){_jQueryGS(".zgs19_gsAddToDbLabelTxt").removeClass("zgs19_gsSelectedDbLabel"),_jQueryGS(elem).addClass("zgs19_gsSelectedDbLabel"),_jQueryGS(_jQueryGS(".zgs19_gsAddToDbButton")[0]).addClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsnewDbInput").val(""),_jQueryGS("#zgs20_gsDbDD").empty(),_jQueryGS("#zgs20_gsnewDbInputSec").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsSelectDbDD").removeClass("zgs19_gsDisplayNoneImp"),_jQueryGS(".zgs19_gsaddtodbbutton").addClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsAddTODbInfoTxt").text(zgssearch.getI18NMsg("gs.cards.saveInExistingDb")),zgssearch.gssavedsearches.addToDbDDOpened=!1;elem=_jQueryGS("#zgs20_gsSelectDbDD").find(".zgs19_gsSelectDBTxt")[0];_jQueryGS(elem).text(zgssearch.getI18NMsg("gs.dashboard.select_dashboard")).attr("tooltiptxt","");zgssearch.gssavedsearches.getDashboardList(function(){zgssearch.gssavedsearches.addToDbDDOpened=!1,zgssearch.gssavedsearches.dbDataFetchedTime=Date.now()})},gssavedsearches.createNewDbInPopup=function(target){target&&(_jQueryGS(".zgs19_gsAddToDbLabelTxt").removeClass("zgs19_gsSelectedDbLabel"),_jQueryGS(target).addClass("zgs19_gsSelectedDbLabel")),_jQueryGS(_jQueryGS(".zgs19_gsAddToDbButton")[0]).addClass("zgs19_gsHideEleme"),gssavedsearches.addToDbInputChange(),_jQueryGS("#zgs20_gsDbDD").empty(),_jQueryGS("#zgs20_gsnewDbInput").val(""),_jQueryGS("#zgs20_gsSelectDbDD").removeAttr("dbId"),_jQueryGS("#zgs20_gsDbDDHolder").addClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsSelectDbDD").addClass("zgs19_gsDisplayNoneImp"),_jQueryGS("#zgs20_gsnewDbInputSec").removeClass("zgs19_gsDisplayNone"),_jQueryGS(".zgs19_gsaddtodbbutton").addClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsnewDbInput").focus(),_jQueryGS("#zgs20_addToNewDb").click(),_jQueryGS("#zgs20_gsMultiServiceSavePopup").click().focus(),_jQueryGS("#zgs20_gsnewDbInput").removeClass("zgs19_gsMultiCardInputError"),gssavedsearches.removeErrorIconForCardDetails(_jQueryGS("#zgs20_gsnewDbInput"),_jQueryGS("#zgs20_gsnewDbInputSec")),_jQueryGS("#zgs20_gsAddTODbInfoTxt").text(zgssearch.getI18NMsg("gs.cards.saveInNewDb")),zgssearch.gsdbUtils.dashboardDataObtained&&0==zgssearch.gsdbUtils.listOfDashboards.length?_jQueryGS("#zgs20_addToDb_dbTypeSelection").css("display","none"):_jQueryGS("#zgs20_addToDb_dbTypeSelection").css("display","flex")},gssavedsearches.addToDbInputChange=function(){_jQueryGS("#zgs20_gsnewDbInput").on("input",function(){var val=_jQueryGS(this).val().trim();""==val?_jQueryGS(".zgs19_gsaddtodbbutton").addClass("zgs19_gsHideEleme"):_jQueryGS(".zgs19_gsaddtodbbutton").removeClass("zgs19_gsHideEleme"),zgssearch.gssavedsearches.checkForErrorIcon(val,_jQueryGS(this),_jQueryGS(_jQueryGS(this)[0].parentElement),_jQueryGS(this))})},gssavedsearches.openDbDD=function(){if(zgssearch.gssavedsearches.addToDbDDOpened)_jQueryGS("#zgs20_addToDbInputListInput").val(""),zgssearch.gssavedsearches.hideAddtodblistholder();else{var dbList=zgssearch.gssavedsearches.getDashboardList(function(){zgssearch.gssavedsearches.addToDbDDOpened=!1,zgssearch.gssavedsearches.dbDataFetchedTime=Date.now(),zgssearch.gssavedsearches.openDbDD()});if(dbList&&0<dbList.length){if(0==(_jQueryGS("#zgs20_gsDbDD")?_jQueryGS("#zgs20_gsDbDD").children().length:-1)){var db,selectedCardsLen=_jQueryGS(".zgs19_gsEachServiceCrd").has("input[type=checkbox]:checked").length||1;for(db in dbList){var dbId=dbList[db],dbInfo=zgssearch.gsdbUtils.dashboardMeta[dbId]||{},cardInDbCount=dbInfo.cardsCount||0,cardLimit=zgssearch.gscardUtils.cardsLimitInMultiCardSave,cardCount="("+cardInDbCount+"/"+cardLimit+")",newCardCountInDb=selectedCardsLen+cardInDbCount,countClass="",cardCountEle="",disabledClass="",gsAttr="selectDbInAddToDb",msg="",cursorClass="";cardLimit<newCardCountInDb&&(countClass="zgs19_errorAddToDb",msg=zgssearch.getI18NMsg("gs.saved_search.addtodb_cardLimitReachedInDb"),gsAttr="disabledDbInAddToDb",cursorClass="zgs19_gsCurAuto",disabledClass="zgs19_gsLimitReached",cardInDbCount<cardLimit&&(msg=zgssearch.I18N.getValue("gs.saved_search.addtodb_cardToBeRemovedInDb",[newCardCountInDb-cardLimit])),cardCountEle=_jQueryGS("<span>",{class:"zgs19_addToDbDisabledInfo zgs18_gsInfoSmallIcon zgs19_gsResultInfoIcon",tooltiptxt:msg}));cardCountEle=_jQueryGS("<div>",{class:"zgs19_gsDbCardCount zgs19_addToDb_CardCount "+countClass,tooltiptxt:msg}).append(_jQueryGS("<span>",{tooltiptxt:msg}).text(cardCount)).append(cardCountEle);_jQueryGS("#zgs20_gsDbDD").append(_jQueryGS("<div>",{dbId:dbId,class:"zgs19_gsDbDDList "+cursorClass,gs:gsAttr,dbName:dbInfo.name}).append(_jQueryGS("<span>",{class:"zgs19_gsDBNameInAddToDb zgs19_gsOverflow zgs19_gsfl "+disabledClass,tooltiptxt:dbInfo.name}).text(dbInfo.name)).append(cardCountEle).append(_jQueryGS("<span>",{class:"zgs19_gsticksymbol"})))}}_jQueryGS("#zgs20_gsDbDDHolder").removeClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_addToDbInputListInput").select()}zgssearch.gssavedsearches.dbDataFetchedTime&&dbList&&0==dbList.length&&(_jQueryGS("#zgs20_gsDbDDHolder").removeClass("zgs19_gsDisplayNone"),_jQueryGS("#zgs20_gsDbListSearch").css("display","none"),_jQueryGS(".zgs19_gsresultsNotfound").length<1&&jQueryGS(".zgs19_gsDbDDListHolder").append(_jQueryGS("<div>",{class:"zgs19_gsresultsNotfound"}).text(zgssearch.getI18NMsg("gs.dashboard.no_dashboard")))),_jQueryGS("#zgs20_addToDbInputListInput").off().on({keyup:function(event){var searchInput=_jQueryGS("#zgs20_addToDbInputListInput").val().trim();keycode=event.keyCode,searchInput?(searchInput=searchInput.toLowerCase(),_jQueryGS("#zgs20_gsDbDD .zgs19_gsDbDDList").each(function(){_jQueryGS(this).text().toLowerCase().includes(searchInput)?_jQueryGS(this).show():_jQueryGS(this).hide()}),0===_jQueryGS(".zgs19_gsDbDDList:visible").length?_jQueryGS(".zgs19_gsresultsNotfound").length<1&&_jQueryGS(".zgs19_gsDbDDListHolder").append(_jQueryGS("<div>",{class:"zgs19_gsresultsNotfound"}).text(zgssearch.getI18NMsg("gs.dashboard.no_dashboard"))):_jQueryGS(".zgs19_gsDbDDListHolder").find(".zgs19_gsresultsNotfound").remove()):(_jQueryGS(".zgs19_gsDbDDList").show(),_jQueryGS(".zgs19_gsDbDDListHolder").find(".zgs19_gsresultsNotfound").remove())}}),zgssearch.gssavedsearches.addToDbDDOpened=!0,_jQueryGS("#zgs20_addToDbInputListInput").val("")}},gssavedsearches.hideAddtodblistholder=function(){_jQueryGS("#zgs20_gsDbDDHolder").addClass("zgs19_gsDisplayNone"),zgssearch.gssavedsearches.addToDbDDOpened=!1},gssavedsearches.selectDbForNewCards=function(elem){_jQueryGS(".zgs19_gsDbDDList.zgs19_gsselecteddbname").find(".zgs19_addToDb_CardCount").removeClass("zgs19_gsselecteddbname"),_jQueryGS(".zgs19_gsDbDDList.zgs19_gsselecteddbname").removeClass("zgs19_gsselecteddbname");var dbId,dbName,currEle=gssavedsearches.getCurSelectedEleInAddToDb(elem);_jQueryGS(currEle).hasClass("zgs19_gsselecteddbname")||(dbId=_jQueryGS(currEle).attr("dbid"),dbName=_jQueryGS(currEle).attr("dbName"),elem=_jQueryGS("#zgs20_gsSelectDbDD").find(".zgs19_gsSelectDBTxt")[0],_jQueryGS(currEle).addClass("zgs19_gsselecteddbname"),_jQueryGS(currEle).find(".zgs19_addToDb_CardCount").addClass("zgs19_gsselecteddbname"),_jQueryGS(elem).text(dbName).attr("tooltiptxt",dbName),_jQueryGS("#zgs20_addToDbInputListInput").val(""),_jQueryGS("#zgs20_gsDbDD").show(),_jQueryGS(".zgs19_gsticksymbol").hide(),_jQueryGS(".zgs19_gsselecteddbname").children(".zgs19_gsticksymbol").css("display","inline-block"),_jQueryGS(".zgs19_gsaddtodbbutton").removeClass("zgs19_gsHideEleme"),_jQueryGS("#zgs20_gsSelectDbDD").attr("dbId",dbId),zgssearch.gssavedsearches.addToDbDDOpened=!1)},gssavedsearches.getCurSelectedEleInAddToDb=function(currEle){currEle=_jQueryGS(currEle).attr("dbName")?_jQueryGS(currEle):_jQueryGS(currEle).parents(".zgs19_gsDbDDList");return currEle},gssavedsearches.getDashboardList=function(callback){if(zgssearch.gsdbUtils.isDashboardCountAPITrig&&zgssearch.gssavedsearches.dbDataFetchedTime&&!(3e5<Date.now()-zgssearch.gssavedsearches.dbDataFetchedTime))return zgssearch.gsdbUtils.listOfDashboards;zgssearch.gsdbUtils.getDashboardMeta("cardsCount=true",{sort:0,getCount:"true",callback:callback})},gssavedsearches.updateStoredDashboardDetails=function(dashboardId,dashboardName){zgssearch.gsdbUtils.listOfDashboards&&zgssearch.isArrayContain(dashboardId,zgssearch.gsdbUtils.listOfDashboards)||(zgssearch.gsdbUtils.listOfDashboards.splice(0,0,dashboardId),zgssearch.gsdbUtils.dashboardMeta[dashboardId]={dashboardid:dashboardId,name:dashboardName})},gssavedsearches.constructAddToDbPopup=function(){return _jQueryGS("<div>",{id:"zgs20_gsSelectDbSec",class:"zgs19_gsSelectDbSec "}).append(_jQueryGS("<div>",{class:"zgs19_gsSelectDbDDHolder"}).append(_jQueryGS("<div>",{id:"zgs20_gsSelectDbDD",class:"zgs19_gsSelectDbDD zgs19_gsFlex",gs:"dashboardDD"}).append(_jQueryGS("<div>",{class:"zgs19_gsSelectDBTxt zgs19_gsOverflow",tooltiptxt:""}).text(zgssearch.getI18NMsg("gs.dashboard.select_dashboard"))).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfr"}))).append(_jQueryGS("<div>",{id:"zgs20_gsnewDbInputSec",class:"zgs19_gsSelectDbDD zgs19_gsDisplayNone"}).append(_jQueryGS("<input>",{placeholder:zgssearch.getI18NMsg("gs.dashboard.dashboardName"),id:"zgs20_gsnewDbInput",class:"zgs19_gsnewDbInput"})))).append(_jQueryGS("<div>",{id:"zgs20_gsDbDDHolder",class:"zgs19_gsDbDD zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{id:"zgs20_gsDbListSearch",class:"zgs20_gsAddToDbInputSearch zgs19_gsGridSearchElem zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs18_gsLensIconTab zgs19_gsGridSearchIcon"})).append(_jQueryGS("<input>",{id:"zgs20_addToDbInputListInput",class:"zgs19_gsGridSearchInput",gs:"addToDbInput",placeholder:zgssearch.getI18NMsg("common.search")}))).append(_jQueryGS("<div>",{id:"zgs20_gsDbDD",class:"zgs19_gsDbDDListHolder"})))},gssavedsearches.renderAddToDb=function(argparam,msg){var selectionDiv,backBtn,infoTxt,gsAttr,cnfrmType,addtodb;!zgssearch.gsdbUtils.isDashboardCountAPITrig||!zgssearch.gssavedsearches.dbDataFetchedTime||3e5<Date.now()-zgssearch.gssavedsearches.dbDataFetchedTime?(_jQueryGS(".zgs19_gsaddtodbElement .zgs19_gsAddtoDbLoader").length||_jQueryGS(".zgs19_gsaddtodbElement").append(zgssearch.getFourDotLoader("","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsDashboardHomeLoader zgs19_gsAddtoDbLoader")),gssavedsearches.getDashboardList(zgssearch.gssavedsearches.renderAddToDb)):zgssearch.gsdbUtils.isDashboardCountAPITrig?(selectionDiv=_jQueryGS("<div>",{id:"zgs20_addToDb_dbTypeSelection",class:"zgs19_addToDb_dbTypeSelection zgs19_gsFlex zgs19_gsfl "}).append(_jQueryGS("<div>",{class:"zgs19_gsAddToDbLabelTxt zgs19_gsSelectedDbLabel zgs19_gsOverflow",gs:"addToNewDbSelection"}).text(zgssearch.getI18NMsg("gs.dashboard.new_dashboard_text"))).append(_jQueryGS("<div>",{class:"zgs19_gsAddToDbLabelTxt zgs19_gsOverflow zgs19_gsMgLf20Px",gs:"addToExistingDbSelection"}).text(zgssearch.getI18NMsg("gs.dashboard.existing_dashboard"))),backBtn=_jQueryGS("<div>",{class:"zgs19_addToDbSpacing zgs19_addToDbBackBtn",gs:"closeaddtodb"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_addToDbBackTxt zgs18_gsarrowleft"})).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs20_addToDbBackTxt"}).text(zgssearch.getI18NMsg("gs.cards.Back"))),addtodb=_jQueryGS("<span>",{class:"zgs19_gsAddToDbInfoIcon zgs18_gsInformationIcon zgs19_gsMgRt5Px"}),zgssearch.LINE_ICON_MAP.hasOwnProperty("zgs18_gsInformationIcon")&&zgssearch.obtainLineIconPaths("zgs18_gsInformationIcon",addtodb,!1),infoTxt=_jQueryGS("<div>",{class:"zgs19_gsAddTODbInfoTxt zgs19_gsOverflow"}).append(addtodb).append(_jQueryGS("<span>",{id:"zgs20_gsAddTODbInfoTxt"}).text(zgssearch.getI18NMsg("gs.cards.saveInNewDb"))),gsAttr="allappsCardSave",cnfrmType="saveallCards",_jQueryGS("#zgs20_gsMultiServiceSavePopup").length||(gsAttr=_jQueryGS("#zgs20_gsSavedSearchPopup .zgs19_gsMultiSaveFooter .zgs19_gssave").attr("gs"),cnfrmType=_jQueryGS("#zgs20_gsSavedSearchPopup .zgs19_gsMultiSaveFooter .zgs19_gssave").attr("cnfrmtype")),addtodb=gssavedsearches.constructAddToDbPopup(),_jQueryGS(".zgs19_gsAddtoDbLoader").remove(),_jQueryGS(".zgs19_gsaddtodbElement").append(_jQueryGS("<div>",{class:"zgs19_addToDbContent"}).append(backBtn).append(selectionDiv).append(_jQueryGS("<div>",{class:"zgs19_gsSelectDbSecelement"})).append(infoTxt)).append(_jQueryGS("<div>",{class:"zgs19_gsaddtodbbottom"}).append(_jQueryGS("<button>",{class:"zgs19_gsaddtodbbutton zgs19_gsOverflow zgs19_gssave",gs:gsAttr,cnfrmType:cnfrmType}).text(zgssearch.getI18NMsg("gs.settings.application.save")))),_jQueryGS(".zgs19_gsSelectDbSecelement").append(addtodb),gssavedsearches.createNewDbInPopup(),gssavedsearches.handleAddToDbSelectionChange(),_jQueryGS("#zgs20_addToDbInputListInput").attr("autocomplete","off"),_jQueryGS("#zgs20_gsnewDbInput").attr("autocomplete","off")):msg&&(_jQueryGS(".zgs19_gsAddtoDbLoader").remove(),0==_jQueryGS(".zgs19_gsaddtodbError").length&&_jQueryGS(".zgs19_gsaddtodbElement").append(_jQueryGS("<div>",{class:"zgs19_ErrorMsgCardsList zgs19_gsaddtodbError zgs19_gsNoResults"}).text(msg)))},gssavedsearches.constructAddToDbOuter=function(){_jQueryGS("#zgs20_gsaddtodbElement").remove(),_jQueryGS(".zgs19_gsSaveSearch").append(_jQueryGS("<div>",{class:"zgs19_gsaddtodboverElement",id:"zgs20_gsaddtodbElement"}).append(_jQueryGS("<div>",{class:"zgs19_gsaddtodboverlay"})).append(_jQueryGS("<div>",{class:"zgs19_gsaddtodbElement"}))),_jQueryGS(".zgs19_gsaddtodboverElement").addClass("zgs19_gstransition"),gssavedsearches.renderAddToDb()},gssavedsearches.handleSaveCardsDashboardResponse=function(dbName,status,response){if("1001"===status){var dashboardId=response.hasOwnProperty("dashboards")?response.dashboards:{},msg="",cardLen=0;if((response.hasOwnProperty("cards")&&0<response.cards.length||response.hasOwnProperty("cardid"))&&(msg=1==(cardLen=response.hasOwnProperty("cards")?response.cards.length:1)?"gs.card_save.insert_single_card_success":"gs.card_save.insert_success"),!_jQueryGS.isEmptyObject(dashboardId)){dashboardId=dashboardId.dashboardid;_jQueryGS("#zgs20_gsDashboardhome").css("display","block"),gssavedsearches.updateStoredDashboardDetails(dashboardId,dbName);let dbView=zgssearch.gsdbUtils.setDashboardViewDetails(zgssearch.dbViewType.specificDashboard);dbView.setDashboardId(dashboardId),zgssearch.openDashboard(zgssearch.dbViewType.specificDashboard,dbView),msg=1==cardLen?"gs.dashboard_card_save.insert_single_success":"gs.dashboard_card_save.insert_success"}zgssearch.showTopbannertip({ty:1,msg:zgssearch.getI18NMsg(msg)}),gssavedsearches.hideMultiServiceCardSavePopup()}else"3001"==status?zgssearch.showTopbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.saved_search.addtodb_card_error")}):"3011"==status?zgssearch.showTopbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.saved_search.addtodb_dashboard_error")}):zgssearch.showTopbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.error.something_went_wrong")});_jQueryGS(_jQueryGS("#zgs20_savingAllCards").parents(".zgs19_gsSC_PUbtmNew")[0]).text(zgssearch.getI18NMsg("gs.settings.application.save")),_jQueryGS(_jQueryGS("#zgs20_savingAllCards").parents(".zgs19_gsaddtodbbutton")[0]).text(zgssearch.getI18NMsg("gs.settings.application.save")),_jQueryGS("#zgs20_savingAllCards").remove()},gssavedsearches}(void 0)}(zgssearch,window),function(zgssearch,window){var gscardinfo,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscardinfo=(gscardinfo=void 0,(gscardinfo=zgssearch.gscardinfo||{}).isOndemandFilterRendered=gscardinfo.isOndemandFilterRendered||!1,gscardinfo.openCardPageInfoPopup=function(cardGridElem,cardType,cardMetaObj,cardInfoClass){gscardinfo.openCardInfoPopup(cardGridElem,cardType,cardMetaObj,cardInfoClass);cardGridElem=_jQueryGS("#"+cardGridElem);cardGridElem.addClass("zgs19_gsCardsInfoHighlight"),cardGridElem.find(".zgs19_gsCardActionHolder").addClass("zgs19_gsVisibleImp")},gscardinfo.openCardInfoPopup=function(cardId,cardType,cardMetaObj,cardInfoClass){var overlayDialog=_jQueryGS("#zgs20_gsOverlayDialog");overlayDialog.append(_jQueryGS("<div>",{id:"zgs20_gsCardInfoBox",class:cardInfoClass})),overlayDialog.css("display","block"),gscardinfo.isCardInfoPopupOpened=!0,gscardinfo.constructCardInfoPopup(cardId,cardMetaObj),gscardinfo.closeActionForCardsInfo(),zgssearch.gscards.getCardsInfo(cardId,cardType,gscardinfo.processCardInfoResponse,!0)},gscardinfo.constructCardInfoPopup=function(cardId,cardname){var cardinfo=zgssearch.getFourDotLoader("zgs20_gsCardLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsAddCardLoader zgs19_gsCardPageLoader"),descDiv=cardname.service,serviceicon=zgssearch.Utils.getServiceIcon(descDiv);cardname.cardtype==zgssearch.BOOKMARK_CARD&&zgssearch.gscardUtils.isEmbedBookmarkCard(cardname.subcardtype)&&(serviceicon=zgssearch.gscardUtils.getIconForSubType(cardname.subcardtype));var iconHolder=_jQueryGS("<span>",{class:"zgs19_gsSSSerIcon zgs19_gsfl "+serviceicon}),description=cardname.hasOwnProperty("modifiedtime")?cardname.modifiedtime:"",modifiedTimeElem="";description&&(modifiedTimeElem=_jQueryGS("<div>",{class:"zgs19_gsCrdInfoMetaRight",tooltiptxt:zgssearch.getI18NMsg("gs.search.modfied_time")+" : "+description}).text(description));var descElem,descDiv="",description=cardname.carddescription||cardname.description;description&&(descElem=_jQueryGS("<div>",{class:"zgs19_gsCrdInfoDescElem zgs19_gsOverflow"}).text(description),descDiv=_jQueryGS("<div>",{class:"zgs19_gsCrdInfoMetaDiv"}).append(descElem));cardname=cardname.cardname||cardname.name,cardinfo=_jQueryGS("<div>",{id:"zgs20_gsCardInfoPopup",class:"zgs19_gsCardInfoPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardInfoInnerPopup"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardInfoHdrElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardInfoInrHdrElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardInfoMetaElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCrdInfoMetaDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsCrdInfoTitleElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardsinfoIconHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceIcon zgs19_gsColoredIcon"}).append(iconHolder))).append(_jQueryGS("<div>",{class:"zgs19_gsCrdInfoTitle zgs19_gsOverflow",title:cardname}).text(cardname))).append(modifiedTimeElem)).append(descDiv)))).append(_jQueryGS("<div>",{class:"zgs19_gsCardContent"}).append(cardinfo))).append(_jQueryGS("<div>",{class:"zgs19_gsSSClose",id:"zgs20_gsCardInfoClose"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsSSCloseIcon zgs19_gsCurPointer"})));zgssearch.LINE_ICON_MAP.hasOwnProperty(serviceicon)&&zgssearch.obtainLineIconPaths(serviceicon,_jQueryGS(iconHolder)[0]),_jQueryGS("#zgs20_gsCardInfoBox").append(cardinfo),descDiv&&_jQueryGS(".zgs19_gsCardInfoInnerPopup").width()<descElem.width()+10&&(descDiv.append(_jQueryGS("<div>",{class:"zgs19_gsCrdInfoDropdownicon zgs18_gsRound_Drop_downIcon",isOpen:!1,gs:"cardinfo",action:"descmore"})),descElem.addClass("zgs19_gsCrdInfoDescOverflow"))},gscardinfo.closeActionForCardsInfo=function(){_jQueryGS(".zgs19_gsCardInfo #zgs20_gsCardInfoClose").off().on({click:function(){gscardinfo.hideCardPageInfoBox()}}),_jQueryGS(".zgs19_gsAddCardInfo #zgs20_gsCardInfoClose").off().on({click:function(){gscardinfo.hideEditCardInfo()}})},gscardinfo.hideCardPageInfoBox=function(){gscardinfo.hideCardInfoBox(),gscardinfo.removeCardInfoHighlight(),zgssearch.popupUtils.closeOverlayDialog()},gscardinfo.hideEditCardInfo=function(){gscardinfo.hideCardInfoBox(),_jQueryGS("#zgs20_gsAddCardOverlay").remove()},gscardinfo.hideCardInfoBox=function(){_jQueryGS("#zgs20_gsCardInfoBox").remove(),gscardinfo.isOndemandFilterRendered=!1,gscardinfo.isCardInfoPopupOpened=!1},gscardinfo.removeCardInfoHighlight=function(){_jQueryGS(".zgs19_gsCardsInfoHighlight").removeClass("zgs19_gsCardsInfoHighlight"),_jQueryGS(".zgs19_gsCardActionHolder").removeClass("zgs19_gsVisibleImp")},gscardinfo.processCardInfoResponse=function(cardId,cardinfo,msg){if(msg)gscardinfo.renderCrdInfoMsg(msg),gscardinfo.caluclatePosForCardInfo();else{if(cardinfo==zgssearch.BOOKMARK_CARD)return gscardinfo.renderPreviewCardInfo(cardId),void gscardinfo.caluclatePosForCardInfo();cardinfo=gscardinfo.formatCardInfo(cardId);gscardinfo.renderCardInfo(cardId,cardinfo)}},gscardinfo.renderCardInfo=function(cardId,cardinfo){try{var cardDetails=zgssearch.gscardUtils.cardIdsVsObject[cardId],msg="";if(status=(zgssearch.gscardinfo.cardInfoMap=cardinfo)&&cardinfo.has("status")?cardinfo.get("status"):""){if("1002"==status)return void zgssearch.gscardinfo.cardInfoMap.delete("status");msg=gscardinfo.getCardInfoMsg(status,cardinfo,cardDetails)}else{gscardinfo.renderCardMetaDetails(cardDetails),_jQueryGS("#zgs20_gsCardLoader").remove();var queryFilters=cardinfo.get("query");gscardinfo.renderQueryFilters(queryFilters);var service,index,filters=cardinfo.get("filters");filters&&null!=filters?0<filters.size&&(status=filters.has("status")?filters.get("status"):"",dataMap=filters.has("data")?filters.get("data"):"",status?msg=gscardinfo.getCardInfoMsg(status,filters):0<dataMap.size&&(service=cardDetails.service,index=0,dataMap.forEach(function(card,key){_jQueryGS(".zgs19_gsCardContent").append(gscardinfo.constructInfoFieldLabelAndValue(card,service,!1,index++))}))):msg=gscardinfo.getCardInfoMsg(status,filters);var status,dataMap,queryPattern,advfilters=cardinfo.get("advanceFilters");advfilters&&null!=advfilters&&0<advfilters.size&&(status=advfilters.has("status")?advfilters.get("status"):"",dataMap=advfilters.has("data")?advfilters.get("data"):"",status?(gscardinfo.renderAdvanceSearchInfoHdr(),msg=gscardinfo.getCardInfoMsg(status,advfilters)):0<dataMap.length&&(queryPattern=cardDetails.querypattern||"1",gscardinfo.renderAdvanceSearchInfo(service,cardDetails.cardtype,dataMap,queryPattern)))}msg&&gscardinfo.renderCrdInfoMsg(msg),gscardinfo.caluclatePosForCardInfo()}catch(ex){zgssearch.throwClientError("Exception while rendering the cardinfo content",ex)}},gscardinfo.getCardInfoMsg=function(status,msg,cardDetails){msg=msg.has("msg")?msg.get("msg"):"";if("3000"==status)gscardinfo.renderCardMetaDetails(cardDetails);else{if("3001"==status||"3002"==status||"3005"==status)return msg;msg=msg||zgssearch.getI18NMsg("gs.search.error.generic_error_messege")}return msg},gscardinfo.renderCrdInfoMsg=function(msg){_jQueryGS("#zgs20_gsCardLoader").remove(),_jQueryGS(".zgs19_gsCardContent").empty().append(zgssearch.gscards.appendErrorInfoHandling(msg,!1,!1))},gscardinfo.renderCardMetaDetails=function(displayName){displayName=displayName.service;displayName&&(displayName=zgssearch.getMappedServiceList()[displayName].displayName,gscardinfo.renderInfoKeyAndVal("app","gs.cards.app",displayName))},gscardinfo.renderInfoKeyAndVal=function(key,name,val){if(val){let valueEle=_jQueryGS("<span>",{class:"zgs19_gsInfoValue"}),copylink="";key==zgssearch.gsembeddata.url&&zgssearch.isAllGSConstantsSet&&(valueEle=_jQueryGS("<a>",{class:"zgs19_gsInfoValue zgs19_gsLinkElem zgs19_gsOverflow",href:val,rel:"noopener noreferrer",target:"_blank",title:val}),copylink=_jQueryGS("<span>",{class:"zgs18_gsCopyLink",title:zgssearch.getI18NMsg("gs.search.callout.copylink"),gs:"copyBookmarkUrl"})),_jQueryGS(".zgs19_gsCardContent").append(_jQueryGS("<div>",{class:"zgs19_gsInfoFieldElem zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsfl zgs19_gsOverflow"}).text(zgssearch.getI18NMsg(name))).append(_jQueryGS("<div>",{class:"zgs19_gsInfoValueElem zgs19_gsfl zgs19_gsFlex"}).append(valueEle.text(val)).append(copylink)))}},gscardinfo.renderQueryFilters=function(queryFilters){if(queryFilters){var filterLen=queryFilters.length;if(0<filterLen){for(var finalValueElem=_jQueryGS("<div>",{class:"zgs19_gsInfoValueElem zg19_gCrdInfoQueryElem"}),i=0;i<filterLen;i++){var eachFilter=queryFilters[i],dispName=eachFilter.getValuedispName(),mentionClass="";"mention"==eachFilter.getTitle()&&(mentionClass="zgs19_gsMentionInfoValue",dispName="@ "+dispName),finalValueElem.append(_jQueryGS("<span>",{class:"zgs19_gsInfoValue "+mentionClass}).text(dispName))}var queryfield=_jQueryGS("<div>",{class:"zgs19_gsInfoFieldElem"}).append(_jQueryGS("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsOverflow"}).text(zgssearch.getI18NMsg("gs.cards.search_query"))).append(finalValueElem);_jQueryGS(".zgs19_gsCardContent").append(queryfield)}}},gscardinfo.constructInfoFieldLabelAndValue=function(fKey,service,isAdvanceSearch,index){var label,operator,operatorName,ftype,checkbox="",fieldElem="",operatorElem="",dispName=fKey.getValuedispName(),totValues=dispName.length;return 0<totValues&&(label=fKey.getTitle(),operator=fKey.getOperator(),operatorName=fKey.getOperatorName(),ftype=fKey.getFilterType(),fKey=fKey.getFilterKey(),operatorName&&(operatorElem=_jQueryGS("<div>",{class:"zgs19_gsInfoFieldOperator zgs19_gsfl zgs19_gsOverflow"}).text(operatorName)),fieldElem=isAdvanceSearch||6!=ftype?(!isAdvanceSearch&&zgssearch.includes(fKey,zgssearch.gsfilters.dateKeys)&&1<totValues||isAdvanceSearch&&(1==ftype||3==ftype||4==ftype)&&(2==operator||3==operator)?checkbox=gscardinfo.renderBetweenTypeValueInfo(dispName):6!=operator&&7!=operator&&(checkbox=gscardinfo.renderValueInfo(dispName,totValues-1,isAdvanceSearch?"advFilterCount":"filterCount",index,fKey)),_jQueryGS("<div>",{class:"zgs19_gsInfoFieldElem zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsfl zgs19_gsOverflow",title:label}).text(label)).append(operatorElem).append(checkbox)):(checkbox=zgssearch.renderCheckBox("read",!0),_jQueryGS("<div>",{class:"zgs19_gsInfoFieldElem"}).append(checkbox).append(_jQueryGS("<div>",{class:"zgs19_gsInfoFieldLabel zgs19_gsInfoFieldCheckLabel zgs19_gsOverflow"}).text(label)))),fieldElem},gscardinfo.renderBetweenTypeValueInfo=function(lName){var fName=lName[0],lName=lName[1];return _jQueryGS("<div>",{class:"zgs19_gsInfoValueElem"}).append(_jQueryGS("<span>",{class:"zgs19_gsInfoValue zgs19_gsOverflow",title:fName}).text(fName)).append(_jQueryGS("<span>",{class:"zgs19_gsInfoValue zgs19_gsDateToElem"}).text(zgssearch.getI18NMsg("common.to"))).append(_jQueryGS("<span>",{class:"zgs19_gsInfoValue zgs19_gsOverflow",title:lName}).text(lName))},gscardinfo.renderValueInfo=function(valueName,dispCount,countAttr,index,api_name){var valueElem="";0<dispCount&&(valueElem=_jQueryGS("<span>",{class:"zgs19_gsInfoCountValue",gs:"cardinfo",action:countAttr,isOpen:!1}).text("+ "+dispCount));valueName=valueName[0],valueElem=_jQueryGS("<div>",{class:"zgs19_gsInfoValueElem zgs19_gsfl",apiname:api_name}).append(_jQueryGS("<span>",{class:"zgs19_gsInfoValue zgs19_gsOverflow",title:valueName}).text(valueName)).append(valueElem);return valueElem.attr("index",index),valueElem},gscardinfo.renderAdvanceSearchInfoHdr=function(){_jQueryGS(".zgs19_gsCardContent").append(_jQueryGS("<div>",{class:"zgs19_gsAdvanceSearchInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardFilterTitle zgs19_gsfl"}).text(zgssearch.getI18NMsg("common.adv.advCriteria"))).append(_jQueryGS("<div>",{class:"zgs19_gsAdvanceSearchInfoContent"})))},gscardinfo.renderAdvanceSearchInfo=function(service,cardtype,advfilters,queryPattern){gscardinfo.renderAdvanceSearchInfoHdr();var comparatorArr=(queryPattern=queryPattern.toUpperCase()).match(/(and|or)/gi)||[],totFilters=advfilters.length;if(comparatorArr.length===totFilters-1){0<comparatorArr.length&&(_jQueryGS(".zgs19_gsAdvanceSearchInfo").append(_jQueryGS("<div>",{class:"zgs19_gsInfoQryPattern"}).append(_jQueryGS("<div>",{class:"zgs19_gsCardFilterTitle zgs19_gsOverflow zgs19_gsfl"}).text(zgssearch.getI18NMsg("common.adv.crtPattern"))).append(_jQueryGS("<div>",{class:"zgs19_gsCardQryPattern"}))),zgssearch.renderCriteriaPatternText(_jQueryGS(".zgs19_gsCardQryPattern"),queryPattern)),zgssearch.renderCriteriaPatternText(_jQueryGS(".zgs19_gsCardQryPattern"),queryPattern);for(var i=0;i<totFilters;i++){var comparatorText=advfilters[i],criteriaElem=gscardinfo.constructInfoFieldLabelAndValue(comparatorText,service,!0,i),operatorElem="";0<i&&(comparatorText=comparatorArr[i-1],operatorElem=_jQueryGS("<div>",{class:"zgs19_gsConnectingOperator"}).text(comparatorText.toUpperCase()));criteriaElem=_jQueryGS("<div>",{class:"zgs19_gsCriteriaElem"}).append(_jQueryGS("<span>",{class:"zgs19_gsConnectNum"}).text(i+1)).append(criteriaElem);_jQueryGS(".zgs19_gsAdvanceSearchInfoContent").append(operatorElem).append(criteriaElem)}}else gscardinfo.renderCrdInfoMsg(gscardinfo.getErrorForFilterCriteriaChange(cardtype))},gscardinfo.formatCardInfo=function(configMap){var cardDetails=zgssearch.gscardUtils.cardIdsVsObject[configMap],configMap=gscardinfo.processCardConfig(cardDetails);return configMap&&0<configMap.size&&gscardinfo.processAdvanceSearchCardConfig(cardDetails,configMap),configMap},gscardinfo.processQueryInfo=function(queryArr,paramName,valueArr,paramType,operator){var zuidCardInfo,user_name,cards,zuid=null!=valueArr?valueArr[0]:"";return"zs_query"===paramName?zuid&&zuid.trim()&&(cards=new zgsCardInfo(paramName,"query",valueArr,valueArr,paramType,operator,"",""),queryArr.push(cards)):"zs_mention"!==paramName&&"mentioned_email"!==paramName||(user_name="",(user_name="8"==paramType?zuid:(zuidCardInfo=zgssearch.gscardUtils.zuidcardsinfo).hasOwnProperty(zuid=zuid)?zuidCardInfo[zuid]:"")&&(cards=new zgsCardInfo(paramName,"mention",valueArr,[user_name],paramType,operator,"","")),queryArr.push(cards)),queryArr},gscardinfo.processCardConfig=function(cardDetails){var accId="",module="",selFilterObj={},filterMap=new Map,dataMap=new Map,cardMap=new Map,queryArr=[],service=cardDetails.service,cardconfig=cardDetails.cardconfig,cardType=cardDetails.cardtype,gfObj=zgssearch.getFilterObj(service),filterorder=zgssearch.getServiceOrders(gfObj),totCardFilters=cardconfig.length,cardId=cardDetails.cardid,advConfig=gscardinfo.moveToAdvCriteria=[],isAdvanceSearchEnabled=zgssearch.isAdvanceSearchEnabledForService(service);if(zgssearch.isArrayContain(service,zgssearch.getConstAllServList())){filterMap.set("data",dataMap),cardMap.set("filters",filterMap);for(var i=0;i<totCardFilters;i++){var cardObj=cardconfig[i],paramName=cardObj.name,valueArr=cardObj.value,dataType=cardObj.type,operator=cardObj.operator;if("zs_query"!==paramName&&"zs_mention"!==paramName&&"mentioned_email"!==paramName){isAdvanceSearchEnabled&&zgssearch.checkAndMoveAdvCriteria(cardObj,advConfig,service);for(var totFilterorder=filterorder.length,j=0;j<totFilterorder;j++){var fKey=filterorder[j];if(!zgssearch.gsfilters.isSkipNeededForAdvanceSearch(service,fKey,isAdvanceSearchEnabled)){var filterObj=gfObj[fKey];if(filterObj&&filterObj.key==paramName){var msg=filterObj.alldata||filterObj.data,ftype=filterObj.type,title=valueArr[0];if("accounts"==fKey&&(accId=title),"modules"==fKey&&(module=title),selFilterObj[fKey]=valueArr,zgssearch.gscardinfo.formatedFilterObj=selFilterObj,"1002"===gscardinfo.serviceSpecificHandling(service,module,accId,selFilterObj,cardId,cardMap))return cardMap;var dispName="",title=filterObj.title;if("date"==filterObj.key){if(service===GSConstant.PROJECTS){var tobeFetcheddispName=filterObj.parId;if(!zgssearch.isArrayContain(module,tobeFetcheddispName))continue}if(!(dispName=zgssearch.gssavedsearches.getDispNameForDate(service,cardObj,msg)))return filterMap.set("status","3001"),filterMap.set("msg",zgssearch.getI18NMsg("gs.cards.permission_changed")),cardMap.set("filters",filterMap),cardMap}else{tobeFetcheddispName=gscardinfo.validateFilterAndGetDispName(service,accId,msg,valueArr,ftype,selFilterObj,fKey,cardType);if(!tobeFetcheddispName.isValid){if(cardType!=zgssearch.SYSTEM_CARD)return filterMap.set("status","3001"),filterMap.set("msg",zgssearch.getI18NMsg("gs.cards.permission_changed")),cardMap.set("filters",filterMap),cardMap;filterMap.set("status","3002");msg=zgssearch.getI18NMsg("gs.cards.permission_changed");return filterMap.set("msg",msg),cardMap.set("filters",filterMap),cardMap}dispName=tobeFetcheddispName.dispName;tobeFetcheddispName=tobeFetcheddispName.tobeFetchedNames;if(0<tobeFetcheddispName.length)return gscardinfo.getOnDemandDispNames(service,accId,cardId,cardMap,tobeFetcheddispName),cardMap.set("status","1002"),cardMap}(0<dispName.length||0<=valueArr.length&&"accounts"==fKey)&&(cards=new zgsCardInfo(fKey,title,valueArr,dispName,dataType,operator,"",ftype),dataMap.set(fKey,cards));break}if(service==zgssearch.GSConstant.PROJECTS){if("assignee"==paramName){title=zgssearch.getI18NMsg("gs.search.service_projects_assignee"),dispName=[zgssearch.GSConstant.cun];"-1"==valueArr[0]&&(dispName=[zgssearch.getI18NMsg("common.unassigned")]);var cards=new zgsCardInfo(fKey,title,valueArr,dispName,dataType,operator,"","");dataMap.set(paramName,cards);break}"date_field"==paramName&&((dataMap.get("dueDate")||{}).label=zgssearch.getI18NMsg("common.closed_time"))}}}}else gscardinfo.processQueryInfo(queryArr,paramName,valueArr,dataType,operator)}0<queryArr.length&&cardMap.set("query",queryArr),dataMap.size<=0&&(filterMap.set("status","3001"),filterMap.set("msg",zgssearch.getI18NMsg("gs.cards.permission_changed")))}else cardMap.set("status","3000"),cardMap.set("msg",zgssearch.getI18NMsg("gs.search.error.no_service_permission"));return cardMap},gscardinfo.serviceSpecificHandling=function(service,module,portalId,projectId,callbackParams,cardMap){var status="",callbackParams={param1:{cardId:callbackParams,service:service},callback:gscardinfo.processServiceSpecificResponse,isCallbackForError:!0};return service==GSConstant.PROJECTS&&(gscardinfo.isOndemandFilterRendered||(projectId=projectId.hasOwnProperty("projects")?projectId.projects[0]:"",portalId&&projectId&&module&&(zgssearch.loadProjectsModChildFilter(service,module,projectId,portalId,callbackParams)||cardMap.set("status",status="1002")))),status},gscardinfo.getOnDemandDispNames=function(service,argParams,cardId,cardMap,tobeFetchedDispName){service==GSConstant.PEOPLE&&(gscardinfo.isOndemandFilterRendered||argParams&&(argParams={cardId:cardId,service:service,accountId:argParams,callback:gscardinfo.processServiceSpecificResponse},zgssearch.gscardfilter.getPeopleDeptInfo(tobeFetchedDispName,argParams)))},gscardinfo.processServiceSpecificResponse=function(cardId,msg){cardId=cardId.cardId;gscardinfo.isOndemandFilterRendered=!0,gscardinfo.processCardInfoResponse(cardId,"",msg)},gscardinfo.processAdvanceSearchCardConfig=function(cardDetails,cardMap){var filterMeta,deptId,service=cardDetails.service,fieldList=0<gscardinfo.moveToAdvCriteria.length?gscardinfo.moveToAdvCriteria:cardDetails.advcardconfig||[],advFilterMap=new Map;0<fieldList.length&&(cardMap.get("filters").has("status")||(filterMeta=gscardinfo.getFilterMeta(zgssearch.gscardinfo.formatedFilterObj),deptId=service===zgssearch.GSConstant.SUPPORT?filterMeta[2]:"",advFilterMap.set("data",[]),cardMap.set("advanceFilters",advFilterMap),fieldList={callback:zgssearch.gscardinfo.processAdvanceSearchInfo,cardId:cardDetails.cardid},fieldList=zgssearch.getFieldObj(service,filterMeta[0],filterMeta[1],deptId,fieldList),0===Object.keys(fieldList).length?cardMap.set("status","1002"):gscardinfo.processCardAdvanceSearchDetails(fieldList,cardDetails,advFilterMap)))},gscardinfo.processCardAdvanceSearchDetails=function(fieldList,cardDetails,advFilterMap){for(var advCardConfig=0<gscardinfo.moveToAdvCriteria.length?gscardinfo.moveToAdvCriteria:cardDetails.advcardconfig||[],advFilterData=advFilterMap.get("data"),totalFilters=advCardConfig.length,filterMeta=gscardinfo.getFilterMeta(zgssearch.gscardinfo.formatedFilterObj),service=(cardDetails.cardtype,cardDetails.service),i=0;i<totalFilters;i++){var cards=advCardConfig[i],apiname=cards.name,valueArr=cards.value,operator=cards.operator,datatype=cards.type;if(!fieldList.hasOwnProperty(apiname)){advFilterMap.set("status","3001"),advFilterMap.set("msg",zgssearch.getI18NMsg("gs.cards.permission_changed"));break}var dispObj=fieldList[apiname],availableConditions=dispObj.availableCondition;if(dispObj){var label=dispObj.display_name,cards=zgssearch.getOperatorDisplayName(""+operator,fieldType)||"";if(!zgssearch.isArrayContain(operator,availableConditions)){advFilterMap.set("status","3001"),advFilterMap.set("msg",zgssearch.I18N.getValue("gs.cards.operator_not_support",[cards,label]));break}var fieldType=dispObj.type,dispObj=zgssearch.gsadvancesearch.getDisplayValueAndOverText(apiname,fieldType,valueArr,fieldList,service,filterMeta[0],filterMeta[2],datatype),cards=new zgsCardInfo(apiname,label,valueArr,dispObj.dispTxtArr,datatype,operator,cards,fieldType);advFilterData.push(cards)}}advFilterData.length<=0&&!advFilterMap.has("status")&&(advFilterMap.set("status","3001"),advFilterMap.set("msg",zgssearch.getI18NMsg("gs.cards.permission_changed")))},gscardinfo.getErrorForFilterCriteriaChange=function(cardType){return cardType==zgssearch.SYSTEM_CARD?zgssearch.getI18NMsg("gs.cards.criteria_change_noedit"):zgssearch.getI18NMsg("gs.cards.criteria_change_alert")},gscardinfo.processAdvanceSearchInfo=function(fieldList,cardId){var cardDetails=cardId.status,advFilterMap=zgssearch.gscardinfo.cardInfoMap.get("advanceFilters"),cardId=cardId.cardId;"error"==cardDetails||0==Object.keys(fieldList).length?(advFilterMap.set("status","3005"),advFilterMap.set("msg",zgssearch.getI18NMsg("gs.search.error.generic_error_messege"))):(cardDetails=zgssearch.gscardUtils.cardIdsVsObject[cardId],gscardinfo.processCardAdvanceSearchDetails(fieldList,cardDetails,advFilterMap)),gscardinfo.renderCardInfo(cardId,zgssearch.gscardinfo.cardInfoMap)},gscardinfo.getFilterMeta=function(filterObj){return[filterObj.hasOwnProperty("accounts")?filterObj.accounts[0]:"",filterObj.hasOwnProperty("modules")?filterObj.modules[0]:"",filterObj.hasOwnProperty("departments")?filterObj.departments[0]:""]},gscardinfo.validateFilterAndGetDispName=function(service,accId,fkeyData,valueArr,type,selFilterObj,fkey,cardType){var filtersLen=valueArr.length,dispNameArr=[],tobeFetchedNames=[];accId=zgssearch.getAccountValue(service,type,selFilterObj,accId,fkey);for(var f=0;f<filtersLen;f++){var dispName="",value=valueArr[f];if("modules"==fkey&&service==zgssearch.GSConstant.PROJECTS&&cardType==zgssearch.SYSTEM_CARD){switch(value){case"3":dispName="gs.search.service_projects_milestones";break;case"5":dispName="gs.search.filter.task";break;case"6":dispName="gs.search.service_bugs";break;case"7":dispName="gs.search.filter.forums";break;case"9":dispName="gs.search.service_events"}dispName=zgssearch.getI18NMsg(dispName)}else if("4"==type){if(!fkeyData.hasOwnProperty(accId))break;var finfo,wObj=fkeyData[accId],curFil=0,finfoLen=Object.keys(wObj).length;for(finfo in wObj){var tfname=wObj[finfo];if(tfname)if((tfname.key||"")==value){tfname=tfname.name||"",dispName=tfname=service==GSConstant.MAILS?(tfname=0==tfname.indexOf(".../")?tfname.replace(new RegExp("(^.../)"),""):tfname).replace(new RegExp("(/$)"),""):tfname;break}curFil++}if(curFil==finfoLen)break}else if("3"==type){if(!fkeyData.hasOwnProperty(accId))break;if((wObj=fkeyData[accId]).hasOwnProperty(value))dispName=wObj[value];else{if(service!==GSConstant.PEOPLE)break;tobeFetchedNames.push(value)}}else if("1"==type){if(!fkeyData.hasOwnProperty(value))break;dispName=fkeyData[value]}else"6"==type&&(dispName=value);dispName&&dispNameArr.push(dispName)}return{isValid:f===filtersLen,dispName:dispNameArr,tobeFetchedNames:tobeFetchedNames}},gscardinfo.cardInfoActions=function(target){switch(target.attr("action")){case"filterCount":var dataMap=zgssearch.gscardinfo.cardInfoMap.get("filters").get("data");gscardinfo.getDispNameExtraValues(target,dataMap);break;case"advFilterCount":dataMap=zgssearch.gscardinfo.cardInfoMap.get("advanceFilters").get("data");gscardinfo.getDispNameExtraValues(target,dataMap);break;case"descmore":gscardinfo.toggleForMoreDescription()}},gscardinfo.getDispNameExtraValues=function(target,dataMap){var valueElem=target.attr("isOpen");if(gscardinfo.closeDispNameList(),"false"==valueElem){target.attr("isOpen",!0);var valueElem=target.closest(".zgs19_gsInfoValueElem"),elemIndex=valueElem.attr("index"),apiName=valueElem.attr("apiname"),index=0;try{dataMap.forEach(function(dispNameArr,key){if(dispNameArr.getFilterKey()===apiName&&index==elemIndex){dispNameArr=dispNameArr.getValuedispName();throw gscardinfo.renderDispNameList(target,dispNameArr),new Error("")}index++})}catch(error){return}}},gscardinfo.renderDispNameList=function(parentPos,dispNameArr){0===_jQueryGS(".zgs19_gsFilterDispNameList").length&&_jQueryGS("#zgs20_gsCardInfoPopup").append(_jQueryGS("<div>",{class:"zgs19_gsFilterDispNameList"}).append(_jQueryGS("<div>",{id:"zgs20_gsFilterInrDispNameList",class:"zgs19_gsFilterInrDispNameList"})));var filterListElem=_jQueryGS("#zgs20_gsFilterInrDispNameList");_jQueryGS(filterListElem).empty();for(var i=1;i<dispNameArr.length;i++){var value=dispNameArr[i];filterListElem.append(_jQueryGS("<div>",{class:"zgs19_gsFilterTxt zgs19_gsOverflow zgs19_gsfl",title:value}).text(value))}var leftPos=parentPos.offset(),topPos=leftPos.top,targetLeft=leftPos.left,leftPos=parentPos.width(),parentPos=_jQueryGS("#zgs20_gsCardInfoPopup").offset(),topPos=topPos-parentPos.top-8,leftPos=targetLeft-parentPos.left+leftPos+15;_jQueryGS(".zgs19_gsFilterDispNameList").css({"inset-inline-start":Math.floor(leftPos),"inset-block-start":Math.floor(topPos),display:"block"})},gscardinfo.closeDispNameList=function(){_jQueryGS(".zgs19_gsFilterDispNameList").css("display","none"),_jQueryGS(".zgs19_gsInfoCountValue").attr("isOpen",!1)},gscardinfo.toggleForMoreDescription=function(){var dropDownIcon=_jQueryGS(".zgs19_gsCrdInfoDropdownicon"),isOpen=dropDownIcon.attr("isOpen");"false"===isOpen?(dropDownIcon.removeClass("zgs18_gsRound_Drop_downIcon").addClass("zgs18_gsRound_Drop_upIcon").attr("isOpen","true"),_jQueryGS(".zgs19_gsCrdInfoDescElem").addClass("zgs19_gsCrdInfoDescElemExpand").removeClass("zgs19_gsOverflow")):"true"===isOpen&&(dropDownIcon.removeClass("zgs18_gsRound_Drop_upIcon").addClass("zgs18_gsRound_Drop_downIcon").attr("isOpen","false"),_jQueryGS(".zgs19_gsCrdInfoDescElem").addClass("zgs19_gsOverflow").removeClass("zgs19_gsCrdInfoDescElemExpand")),gscardinfo.caluclatePosForCardInfo()},gscardinfo.caluclatePosForCardInfo=function(){var infoPopup=_jQueryGS("#zgs20_gsCardInfoPopup");infoPopup.css("height",""),_jQueryGS(".zgs19_gsCardContent").css("max-height","");var infoHgt="",topPos=0;1==zgssearch.gscomponent.UIType||zgssearch.isEmbed?(infoHgt=_jQueryGS("#zgs20_zohosearch"),topPos=50):infoHgt=_jQueryGS("#zgs20_gsHolder");var hgt=infoHgt.offset().top,parHeight=infoHgt.height(),minTop=_jQueryGS("#zgs20_gsCardsPage").offset().top-hgt,infoHgt=infoPopup.height(),hgt=parHeight-minTop,hgt=hgt<infoHgt?hgt:infoHgt,topPos=(parHeight-(infoHgt=infoPopup.outerHeight()))/2-topPos;infoPopup.css({"inset-block-start":topPos<minTop?minTop:topPos,height:hgt}),gscardinfo.cardinfoContentPosCalc()},gscardinfo.cardinfoContentPosCalc=function(){var maxHgt=_jQueryGS(".zgs19_gsCardInfoInnerPopup").height()-_jQueryGS(".zgs19_gsCardInfoHdrElem").height();_jQueryGS(".zgs19_gsCardContent").css("max-height",maxHgt)},gscardinfo.renderPreviewCardInfo=function(url){_jQueryGS("#zgs20_gsCardInfoPopup").find("#zgs20_gsCardLoader").remove();url=zgssearch.gscardUtils.cardIdsVsObject[url];gscardinfo.renderCardMetaDetails(url);var cardconfig=url.cardconfig;let resObj={};var eachConfigLen=cardconfig.length;for(let key=0;key<eachConfigLen;key++){var eachConfig=cardconfig[key];resObj[eachConfig.name]=decodeURIComponent(eachConfig.value)}url=resObj.url||zgssearch.fetchCalloutUrl(url.service,resObj,"",resObj);url&&gscardinfo.renderInfoKeyAndVal(zgssearch.gsembeddata.url,"common.url",decodeURI(url))},gscardinfo);var zgsCardInfo=class{key;label;value;dataDispName;datatype;operator;operatorName;filterType;constructor(key,label,value,dataDispName,datatype,operator,operatorName,filterType){this.key=key,this.label=label,this.value=value,this.dataDispName=dataDispName,this.datatype=datatype,this.operator=operator,this.operatorName=operatorName,this.filterType=filterType}getFilterKey(){return this.key}getTitle(){return this.label}getValueIds(){return this.value}getValuedispName(){return this.dataDispName}getType(){return this.datatype}getOperator(){return this.operator}getOperatorName(){return this.operatorName}getFilterType(){return this.filterType}}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.Utils=zgssearch.hasOwnProperty("Utils")?zgssearch.Utils:{},zgssearch.setCalloutSearchType=function(service){zgssearch.calloutSearchType=service},zgssearch.getCalloutSearchType=function(){return zgssearch.calloutSearchType},zgssearch.getFourDotLoader=function(id,className){return _jQueryGS("<div>",{id:id,class:className,gs:"loadericon"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderd"}))},zgssearch.getFourDotLoaderForDashboard=function(id,className,text){return text=text||"",_jQueryGS("<div>",{id:id,class:"zgs19_gsDashboardHomeLoader zgs19_gsColumnFlex"}).append(text).append(_jQueryGS("<div>",{class:className,gs:"loadericon"}).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoadera"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderb"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderc"})).append(_jQueryGS("<div>",{class:"zgs19_gsRequestLoaderd"})))},zgssearch.getResultObject=function(service,key,serviceObj,module){if(zgssearch.isArrayContain(service,zgssearch.serviceList)){serviceObj=zgssearch.getServiceResultObject(service,serviceObj);if(serviceObj=zgssearch.getSpecificResultsObject(serviceObj,service,module)){key=service+key;if(serviceObj.hasOwnProperty(key))return serviceObj[key]}}return{}},zgssearch.hideDatePicker=function(){try{_jQueryGS(zgssearch.curDatePickerElem).removeClass("zgs19_gsboxholder"),_jQueryGS(zgssearch.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden");var drlength=_jQueryGS("#zgs20_gsDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsDateRangePickerElem").zsdaterangepicker("close");var dtlength=_jQueryGS("#zgs20_gsSingleDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsSingleDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsSingleDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsDateTimePickerElem").zsdatetimepicker("close");drlength=_jQueryGS("#zgs20_gsCalDateRangePickerElem").length,drdisplay=_jQueryGS("#zgs20_gsCalDateRangePickerElem").css("display");0<drlength&&(null!=drdisplay||"none"!=drdisplay)&&_jQueryGS("#zgs20_gsCalDateRangePickerElem").zsdaterangepicker("close");dtlength=_jQueryGS("#zgs20_gsCalSingleDatePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCalSingleDatePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCalSingleDatePickerElem").zsdatepicker("close");dtlength=_jQueryGS("#zgs20_gsCalDateTimePickerElem").length,dtdisplay=_jQueryGS("#zgs20_gsCalDateTimePickerElem").css("display");0<dtlength&&(null!=dtdisplay||"none"!=dtdisplay)&&_jQueryGS("#zgs20_gsCalDateTimePickerElem").zsdatepicker("close"),zgssearch.isDatePickerDisplay&&"none"==_jQueryGS(".zgs19_gsDatePickerElem").css("display")&&(zgssearch.isDatePickerDisplay=!1,zgssearch.curDatePickerElem="")}catch(ex){zgssearch.throwClientError("Error in hideDatePicker",ex)}},zgssearch.updateUserPhoto=function(id,photoURL){zgssearch.network.imageRenderer.renderImage(photoURL,null,function(result){try{userPhotoSuccess=function(ele){var imgEle=zgssearch.getTargetElem(ele.getAttribute("gs"));imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto&&(_jQueryGS(imgEle.gsUserPhoto).attr("src",ele.src),_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsUserPhoto"))),zgssearch.removeEle(ele)},userPhotoError=function(ele){zgssearch.loadResNoPhotoImg(ele.getAttribute("gs"))};var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id})[0];result?_jQueryGS(serviceImgDummy).attr("src",result).off().on({load:function(){userPhotoSuccess(this)},error:function(){userPhotoError(this)}},!0):userPhotoError(serviceImgDummy)}catch(ex){zgssearch.throwClientError("Error while updating User Photo",ex)}})},zgssearch.getServiceName=function(service){var serviceURL="";return"writer"===service?serviceURL=zgssearch.GSConstant.GS_WRITER_URL:"sheet"===service?serviceURL=zgssearch.GSConstant.GS_SHEET_URL:"show"===service&&(serviceURL=zgssearch.GSConstant.GS_SHOW_URL),serviceURL},zgssearch.closePreview=function(){zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent&&!_jQueryGS.isEmptyObject(zgssearch.pcResObj)&&zgssearch.pcResObj.parent&&_jQueryGS("#"+zgssearch.pcResObj.parent).remove()},zgssearch.openInWD=function(service,resObj,target,attachId,resHash){var wdParams,wd;zgssearch.workdriveComponentLoaded?(wdParams={},wd=new WorkDrive,wdParams.service="ZohoSearch",wdParams.WDDomainURL=zgssearch.GSConstant.GS_WORKDRIVE_URL,wdParams.height=1==zgssearch.GSConstant.UIType?"560px":"530px",wdParams.width=1==zgssearch.GSConstant.UIType?"800px":"700px",wdParams.showPrimaryButton=!0,wdParams.containerElementId="1"==zgssearch.GSConstant.UIType?"zgs20_wdMount":"zgs20_gsHolder",wdParams.responseCallBack=function(folderId){folderId=folderId.callbackDataFromWorkDrive.destinationResourceToAdd[0].id;zgssearch.addToWorkdrive(service,resObj,target,folderId,attachId,resHash)},wd.loadAdder(wdParams)):zgssearch.loadWorkdriveComponent(function(){zgssearch.openInWD(service,resObj,target,attachId)})},zgssearch.shareInWD=function(service,resObj,target,attachId){var wd,wdParams;zgssearch.workdriveComponentLoaded?(wd=new WorkDrive,(wdParams={service:"ZohoSearch"}).WDDomainURL=zgssearch.GSConstant.GS_WORKDRIVE_URL,wdParams.height=1==zgssearch.GSConstant.UIType?"560px":"530px",wdParams.width=1==zgssearch.GSConstant.UIType?"800px":"700px",wdParams.componentType="SHARE",wdParams.selectedMembers=[],wdParams.containerElementId="1"==zgssearch.GSConstant.UIType||zgssearch.isEmbed?"zgs20_wdMount":"zgs20_gsHolder",wdParams.resId=attachId,wd.loadShare(wdParams)):zgssearch.loadWorkdriveComponent(function(){zgssearch.shareInWD(service,resObj,target,attachId)})},zgssearch.apiCallForActions=function(apiType,serviceName,urlFetchObj={},argParams){var params=urlFetchObj.fetchAction?"entityToFetch="+urlFetchObj.fetchAction+"&portalId="+urlFetchObj.accountId:"actionname="+urlFetchObj.action+"&entityId="+urlFetchObj.entityId+"&portalId="+urlFetchObj.accountId+"&actionObject="+encodeURIComponent(JSON.stringify(urlFetchObj.actionObject));urlFetchObj.dataObject&&(params+="dataObject="+urlFetchObj.dataObject),zgssearch.uri(apiType,serviceName,params,argParams,function(response,status,args){var responseObj=zgssearch.jsonParse(response),response=responseObj?responseObj.status||responseObj.data.status:"",responseObj=responseObj.data?responseObj.data.details:responseObj;"SUCCESS"==response?(args=args.args).hasOwnProperty("callback")&&args.callback(responseObj):(zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("gs.search.error.generic_error_messege")}),zgssearch.hideCalloutActionList(),_jQueryGS(".zgs19_gsLabelsPopUp").remove())})},zgssearch.serviceActions=function(target,action,resObj,calloutResp){var entityId=resObj.entity_id,accountId=resObj.account_id||resObj.zsoid,serviceName=resObj.serviceName;switch(action){case"favourites":zgssearch.favouriteAction(target,entityId,accountId,serviceName,resObj);break;case"properties":zgssearch.gsworkdrive.showFileProperty(resObj,calloutResp);break;case"flag":zgssearch.gsmails.changeFlagAction(target,entityId,accountId,serviceName,resObj);break;case"label":zgssearch.showLabelPopUp(target,serviceName,accountId,resObj)}},zgssearch.favouriteAction=function(target,entityId,accountId,serviceName,resObj){let isFav=resObj.isFav;var actionObject={isFav:!isFav},argParams={callback:function(){zgssearch.favAddOrRemoveAction(target,isFav,resObj)}};zgssearch.apiCallForActions(zgssearch.POST,zgssearch.API.SERVICE_ACTIONS+serviceName,{action:"changeStatus",entityId:entityId,accountId:accountId,actionObject:actionObject},argParams)},zgssearch.favAddOrRemoveAction=function(target,isFav,resObj){isFav?(zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.search.removed_from_favorites")}),_jQueryGS(target).text(zgssearch.getI18NMsg("gs.search.add_to_favourite"))):(zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.search.added_to_favorites")}),_jQueryGS(target).text(zgssearch.getI18NMsg("gs.search.remove_from_favourite"))),resObj.isFav=!isFav},zgssearch.actionHeaderElement=function(name,imageIconClass,closeReq){let iconElement,closeElement,titleElement;return iconElement=_jQueryGS("<span>",{class:imageIconClass}),titleElement=_jQueryGS("<span>",{class:"zgs19_gsActionName zgs19_gsOverflow"}).text(name),closeReq&&(closeElement=_jQueryGS("<span>",{class:"zgs18_gsCloseIcon zgs19_gsActionsCloseIcon",gs:"closeActionPopUp"})),_jQueryGS("<div>",{class:"zgs19_gsActionHeaderElement"}).append(iconElement).append(titleElement).append(closeElement)},zgssearch.capitalizeFirstLetter=function(str){return str.charAt(0).toUpperCase()+str.slice(1)},zgssearch.showLabelPopUp=function(target,serviceName,accountId,resObj){var labelParentElement=_jQueryGS("<div>",{class:"zgs19_gsLabelsPopUp"}),loaderElem=zgssearch.getFourDotLoader("zgs20_gsLabelLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsLabelLoader"),currLabels=resObj?.fileInfo?.labels||[];let labelsArrayObj=zgssearch.serviceActionDetails[serviceName]?.labels?.[accountId]||[];var currLabelLen=currLabels.length;if(1<currLabelLen&&0<labelsArrayObj.length){let existingLabelList=labelsArrayObj.map(obj=>obj.id);for(let label=0;label<currLabelLen;label++)if(!existingLabelList.includes(currLabels[label].id)){labelsArrayObj=[];break}}0<labelsArrayObj.length?(labelsArrayObj=labelsArrayObj.filter(obj=>3!==obj.type),_jQueryGS("#zgs20_gsLabelLoader").remove(),zgssearch.renderLabelsInPopUp(labelsArrayObj,labelParentElement,resObj)):(1==_jQueryGS(loaderElem).length&&_jQueryGS(labelParentElement).append(loaderElem),parentElem={callback:function(responseData){zgssearch.storeLabels(target,serviceName,responseData,accountId,resObj)}},zgssearch.apiCallForActions(zgssearch.GET,zgssearch.API.SERVICE_ACTIONS+serviceName,{fetchAction:"labels",accountId:accountId},parentElem)),1==_jQueryGS(labelParentElement).length&&_jQueryGS(target).closest(".zgs19_gsCalloutAction").append(labelParentElement);var parentElem=_jQueryGS(target).closest("#zgs20_gsCalloutActionList");let parentNode;zgssearch.isDashboardOpened&&(parentNode=_jQueryGS(parentElem).closest(".zgs19_gsServiceCalloutHolder")),zgssearch.setElementPosition(target,parentElem,parentNode,labelParentElement)},zgssearch.storeLabels=function(target,serviceName,responseData,accountId,resObj){zgssearch.serviceActionDetails[serviceName]||(zgssearch.serviceActionDetails[serviceName]={},zgssearch.serviceActionDetails[serviceName].labels={}),zgssearch.serviceActionDetails[serviceName].labels[accountId]=responseData.labels,zgssearch.showLabelPopUp(target,serviceName,accountId,resObj)},zgssearch.setElementPosition=function(popUpHeight,parentElem,parentElemHeight,requirePopUp){var rightPos=parseFloat(_jQueryGS(popUpHeight).outerHeight()),elemTopPos=_jQueryGS(popUpHeight).offset().top+rightPos,rightPos=Math.floor(_jQueryGS(parentElem).outerWidth()+6);let topPosition=elemTopPos-_jQueryGS(parentElem).offset().top;parentElemHeight&&(popUpHeight=_jQueryGS(popUpHeight).closest(parentElemHeight),parentElemHeight=_jQueryGS(popUpHeight).outerHeight()-40,popUpHeight=_jQueryGS(requirePopUp).outerHeight(),topPosition+popUpHeight>parentElemHeight&&(topPosition-=topPosition+popUpHeight-parentElemHeight)),_jQueryGS(requirePopUp).css("inset-block-start",topPosition+"px"),_jQueryGS(requirePopUp).css("inset-inline-end",rightPos+"px")},zgssearch.renderLabelsInPopUp=function(labelsArrayObj,labelParentElement,resObj){var actionInputElement=_jQueryGS("<input>",{class:"zgs19_gsActionInputBox zgs19_gsOverflow",gs:"calloutLabelSearchAction",id:"zgs18_gsActionInputBox",placeholder:zgssearch.getI18NMsg("gs.search.Labels")});_jQueryGS(actionInputElement).attr("autocomplete","off");var actionInputElement=_jQueryGS("<div>",{class:"zgs19_gsActionInputElement"}).append(_jQueryGS("<span>",{class:"zgs18_gsLensIconTab zgs19_gsActionSearchIcon"})).append(actionInputElement),arrLength=labelsArrayObj.length;let labelsData=resObj.hasOwnProperty("fileInfo")?resObj.fileInfo.labels:[];var labelListElem=_jQueryGS("<div>",{class:"zgs19_gsLabelLists"});if(3<arrLength&&_jQueryGS(labelParentElement).append(actionInputElement),0<arrLength)for(let index=0;index<arrLength;index++){let gsAttr="addlabel",tickIcon="";labelsData.some(function(obj){return obj.id===labelsArrayObj[index].id})&&(tickIcon=_jQueryGS("<span>",{class:"zgs18_TickIcon zgs19_gsLabelSelected"}),gsAttr="removelabel");let color;color=labelsArrayObj[index].color.startsWith("#")?labelsArrayObj[index].color:"#"+labelsArrayObj[index].color;var childElem=_jQueryGS("<div>",{class:"zgs19_gsLabels",labelId:labelsArrayObj[index].id,gs:gsAttr}).append(_jQueryGS("<span>",{class:"zgs19_gsLabelsIcon zgs18_gsLabelIcon",style:"color:"+color})).append(_jQueryGS("<span>",{class:"zgs19_gsLabelName zgs19_gsOverflow",gstitle:labelsArrayObj[index].n}).text(labelsArrayObj[index].n)).append(tickIcon);_jQueryGS(labelListElem).append(childElem)}else _jQueryGS(labelListElem).append(_jQueryGS("<div>",{class:"zgs19_gsNoLabelsFound"}).text(zgssearch.getI18NMsg("gs.search.error.no_labels")));_jQueryGS(labelParentElement).append(labelListElem),zgssearch.renderLabels(labelsArrayObj,labelParentElement,labelListElem)},zgssearch.renderLabels=function(labelsObj,curParentElem,labelListElem){let inputBox=_jQueryGS(curParentElem).find("#zgs18_gsActionInputBox");_jQueryGS(curParentElem).find("#zgs18_gsActionInputBox").off().on("input",function(){let labelList=_jQueryGS(labelListElem).find(".zgs19_gsLabels"),inputVal=inputBox.val().toLowerCase().trim();_jQueryGS(".zgs19_gsNoFlagFound").remove(),inputVal?labelList.each(function(){_jQueryGS(".zgs19_gsNoFlagFound").remove();let element=_jQueryGS(this),elementId=element.attr("labelId");var matchingObject=labelsObj.find(obj=>obj.id==elementId);let matchName=matchingObject.n||matchingObject.name;matchingObject&&matchName.toLowerCase().includes(inputVal)?_jQueryGS(element).css("display","flex"):_jQueryGS(element).css("display","none"),_jQueryGS(labelListElem).find(".zgs19_gsLabels:hidden").length==labelList.length&&0==_jQueryGS(".zgs19_gsNoFlagFound").length&&_jQueryGS(labelListElem).append(_jQueryGS("<div>",{class:"zgs19_gsNoFlagFound"}).text(zgssearch.getI18NMsg("gs.search.error.no_labels")))}):_jQueryGS(labelList).css("display","flex")})},zgssearch.labelActions=function(target,action,resObj){let accountId=resObj.account_id||resObj.zsoid,labelId=_jQueryGS(target).attr("labelId");var urlFetchObj={labelID:labelId},argParams={callback:function(){zgssearch.labelAddOrRemoveAction(target,action,labelId,accountId,resObj)}},urlFetchObj={action:action,entityId:resObj.entity_id,accountId:accountId,actionObject:urlFetchObj};zgssearch.apiCallForActions(zgssearch.POST,zgssearch.API.SERVICE_ACTIONS+resObj.serviceName,urlFetchObj,argParams)},zgssearch.labelAddOrRemoveAction=function(callOutParentElem,action,labelId,accountId,resObj){let labelsArrayObj=zgssearch.serviceActionDetails[resObj.serviceName].labels[accountId],labelsData=resObj.fileInfo.labels||resObj.label_info,alterLabelId=labelsArrayObj.find(obj=>obj.id===labelId);alterLabelId.n?alterLabelId.name=alterLabelId.n:alterLabelId,"addlabel"==action?(zgssearch.showbannertip({ty:1,msg:alterLabelId.name+" - "+zgssearch.getI18NMsg("gs.action.label_added")}),labelsData.push(alterLabelId),_jQueryGS(callOutParentElem).attr("gs","removelabel"),_jQueryGS(callOutParentElem).append(_jQueryGS("<span>",{class:"zgs18_TickIcon zgs19_gsLabelSelected"}))):(zgssearch.showbannertip({ty:1,msg:alterLabelId.name+" - "+zgssearch.getI18NMsg("gs.action.label_removed")}),labelsData=labelsData.filter(obj=>obj.id!==alterLabelId.id),_jQueryGS(callOutParentElem).attr("gs","addlabel"),_jQueryGS(callOutParentElem).find(".zgs19_gsLabelSelected").remove()),resObj.fileInfo?resObj.fileInfo.labels=labelsData:resObj.label_info=labelsData;callOutParentElem=_jQueryGS(callOutParentElem).closest(".zgs19_gsServiceCalloutHolder").find(".zgs19_gsCalloutMetaLeft");zgssearch.gsworkdrive.addLabelList(labelsData,callOutParentElem)},zgssearch.addToWorkdrive=function(service,resObj,target,folderId,attachId,resHash){_jQueryGS("#zgs20_wdMount").addClass("zgs19_gsWDoverLay");var fileMgmtInstance,fileMgmtInfo=zgssearch.getFourDotLoader("zgs20_gsWDoverlayLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsWDoverlayLoader");_jQueryGS("#zgs20_wdMount").append(fileMgmtInfo),zgssearch.isArrayContain(service,zgssearch.SERVICES_STORAGE)?(fileMgmtInstance=new zgssearch.FileMgmtFactory,(fileMgmtInfo={}).service=service,fileMgmtInstance.createFileMgmtService(fileMgmtInfo).addToWD(service,resObj,target,folderId)):service===zgssearch.GSConstant.O365MAIL?zgssearch.gso365mail.addToWD(resObj,attachId,folderId):service===zgssearch.GSConstant.GMAIL?zgssearch.gsgmail.addToWD(resObj,attachId,folderId,resHash):service===zgssearch.GSConstant.ASANA?zgssearch.projectMgmtCalloutObj.addToWD(target,resObj,folderId):service===zgssearch.GSConstant.EVERNOTE&&zgssearch.notesTemplateInstance.addToWD(resObj,attachId,folderId,resHash)},zgssearch.Utils.getResultObjectofType=function(restype,cardId){restype=restype||(zgssearch.isDashboardViewOpened()?zgssearch.dbCrdCalloutType:zgssearch.isCardViewOpened()?zgssearch.crdPagecalloutType:"search");return restype!==zgssearch.dbCrdCalloutType&&restype!==zgssearch.crdPagecalloutType?zgssearch.getCurrentResObj():(new zgssearch.dashboardSearchActions).createActionType().getCurrentResultObj(cardId)},zgssearch.Utils.constructSaveBookmarkInCallout=function(actionList,serv){!zgssearch.isDashboardEnabled||zgssearch.isDashboardViewOpened()||zgssearch.isCardViewOpened()||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsSavePreviewDD",gs:"calloutActionOptions",value:"savePreview",service:serv,gstitle:zgssearch.getI18NMsg("gs.search.callout.savePreviewCard")}).text(zgssearch.getI18NMsg("gs.search.callout.savePreviewCard")))},zgssearch.Utils.addSandboxToEle=function(ele){ele.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms allow-modals allow-presentation")}}(zgssearch,window),zgssearch.gsmail={},zgssearch.gsmail.accounts="accounts",zgssearch.gsmail.modules="modules",zgssearch.gsmail.modChildFilters={mails:["folders","date","attach","flag","replies"],streams:["view","entity_type","date"]},zgssearch.loadMailModChildFilter=function(service,currMod,currAccountId,callbackObj){var modFilters=zgssearch.gsmail.modChildFilters[currMod],modFiltersLen=modFilters?modFilters.length:0;if(modFilters&&0<modFiltersLen){callbackObj&&callbackObj.hasOwnProperty("cards")&&callbackObj.cards;for(var fil=0;fil<modFiltersLen;fil++){var eachModFil=modFilters[fil],childFilData=zgssearch.getFilterInfo(service,eachModFil,"data"),childFilData=childFilData[currAccountId]||childFilData;zgssearch.updateDynamicFilterDetails(service,childFilData,eachModFil)}currAccountId=currAccountId||zgssearch.getFilterInfo(service,zgssearch.gsmail.accounts,"current"),zgssearch.gsmail.setModFilters(currMod,modFilters,currAccountId,callbackObj)}},zgssearch.gsmail.setModFilters=function(mod,modFilters,currAccountId,callbackObj){zgssearch.getFilterObj(zgssearch.GSConstant.MAILS);var filter,p1,p2,curSelCardObj=callbackObj.hasOwnProperty("curSelCardObj")?callbackObj.curSelCardObj:"";for(filter in modFilters){var filterKey=modFilters[filter];curSelCardObj&&(curSelCardObj[filterKey]=["0"])}curSelCardObj&&(zgssearch.gscreatecards.CCSelectedFiltersObj=curSelCardObj),callbackObj&&(p1=callbackObj.param1,p2=callbackObj.param2,callbackObj.hasOwnProperty("callback")&&callbackObj.callback(p1,p2))},zgssearch.gsmail.editCrdCallback=function(service,crdActionType){_jQueryGS("#zgs20_gsFiltersHolder").empty(),_jQueryGS("#zgs20_gsOtherFiltersHolder").empty();var cardConfig=zgssearch.gscardUtils.cardIdsVsObject[zgssearch.gscardfilter.currentCardId].cardconfig;zgssearch.gscreatecards.filtersMetaInfo=zgssearch.getFiltersInfoForService(crdActionType,service,cardConfig),zgssearch.gscreatecards.renderServiceFiltersForCreateOrEditCard(service,zgssearch.gscreatecards.filtersMetaInfo,cardConfig)},function(zgssearch,window){window._jQueryGS;var GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.allServiceList=zgssearch.allServiceList||[],zgssearch.hasOwnProperty("gscomponent")&&(zgssearch.isGSOpenedInServiceSuiteApp=zgssearch.gscomponent.isServiceSuite&&(zgssearch.gscomponent.hasOwnProperty("actionHandler")||zgssearch.gscomponent.hasOwnProperty("previewHandler")),zgssearch.gscomponent.isPreviewHandlerEnabledInSuiteApp=zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.hasOwnProperty("previewHandler"),zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp=zgssearch.gscomponent.isServiceSuite&&zgssearch.gscomponent.hasOwnProperty("actionHandler")),zgssearch.eventStats="/zgssearch/gsevent",zgssearch.cursor_supported_services=[GSConstant.DROPBOX,GSConstant.GOOGLEDRIVE,GSConstant.SLACK,GSConstant.O365MAIL,GSConstant.ONEDRIVE,GSConstant.GMAIL],zgssearch.LINE_ICON_MAP={zgs18_gsHPVideotime:2,zgs18_leg_filtericon:2,zgs18_leg_searchicon:3,zgs18_leg_ssicon:5,zgs18_leg_cardicon:5,zgs18_leg_dashboardicon:8,zgs18_leg_settingsicon:2,zgs18_gsUniAllIcon:4,zgs18_gsAppsIcon:4,zgs18_gsUniConnectIcon:4,zgs18_gsUniDocsIcon:3,zgs18_gsUniPeopleIcon:10,zgs18_gsUniPerIcon:5,zgs18_gsUniOrgIcon:6,zgs18_gsUniMailsIcon:2,zgs18_gsUniNoteBookIcon:6,zgs18_gsUniCreatorIcon:2,zgs18_gsUniWebsiteIcon:2,zgs18_gsUniCampaignIcon:2,zgs18_gsUniChatIcon:2,zgs18_gsUniProjectsIcon:9,zgs18_wone:7,zgs18_wmarketplace:3,zgs18_wofficeintegrator:5,zgs18_wbugtracker:10,zgs18_wsign:5,zgs18_wpayroll:4,zgs18_wmail:2,zgs18_wcliq:2,zgs18_wchat:2,zgs18_wconnect:6,zgs18_wcampaigns:2,zgs18_wmotivator:8,zgs18_wsocial:9,zgs18_wsurvey:8,zgs18_wbugTracker:10,zgs18_wprojects:9,zgs18_wassist:3,zgs18_wpeople:10,zgs18_wcreator:2,zgs18_wdeveloper:9,zgs18_wcalendar:9,zgs18_wnotebook:6,zgs18_wsites:6,zgs18_wsprints:3,zgs18_wvault:7,zgs18_wpagesense:8,zgs18_winventory:4,zgs18_worchestly:2,zgs18_wcatalyst:2,zgs18_wbookings:3,zgs18_wmarketinghub:5,zgs18_wlens:5,zgs18_wsite24x7:3,zgs18_wdocs:3,zgs18_wflow:2,zgs18_wcheckout:5,zgs18_analytics_table:12,zgs18_analytics_report:18,zgs18_analytics_analysisview:4,zgs18_analytics_summaryview:4,zgs18_analytics_pivot:2,zgs18_analytics_querytable:3,zgs18_analytics_dashboard:8,zgs18_gsSuppRequestIcon:7,zgs18_gsSuppSolutionIcon:5,zgs18_gsSuppAccountIcon:6,zgs18_gsSuppContactIcon:2,zgs18_gsUniEvernoteIcon:3,zgs18_gsPlusCircle:4,"zgs18_tourbus-done":12,zgs18_gsUniInventoryIcon:4,zgs18_gsInformationIcon:4,zgs18_gsErrorIcon:3,zgs18_gsExpandpanel:4,zgs18_gsQuickAddBtn:2,zgs18_gsMagicWandIcon:7,zgs18_gsAutoDbcollaboration:8,zgs18_gsRoadBlock:14,zgs18_gsErrorMsgIcon:5,zgs18_gsTickMark:2,zgs18_gsDarkMode:7,zgs18_gsLightMode:7,zgs18_gsNightMode:7,zgs18_cloudNoRequestData:6},zgssearch.SERVICES_CRM=[zgssearch.GSConstant.CRM,zgssearch.GSConstant.SALESFORCE],zgssearch.SERVICES_MAIL=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.O365MAIL],zgssearch.SERVICES_STORAGE=[zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ONEDRIVE],zgssearch.SERVICES_PROJECT=[zgssearch.GSConstant.PROJECTS,zgssearch.GSConstant.ASANA],zgssearch.SERVICES_NOTES=[zgssearch.GSConstant.EVERNOTE],zgssearch.specialkeys={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,CUT:88},zgssearch.originParam=zgssearch.isExtension?"":"frameorigin="+window.location.origin,zgssearch.isCliqDomain=zgssearch.isCliqDomain||!(!zgssearch.hasWebMessanger||!WebMessanger.isCliqDomain)&&WebMessanger.isCliqDomain(),zgssearch.hasWmsResource=zgssearch.hasWmsResource||"undefined"!=typeof WmsResource,zgssearch.pcEnabledSer=[zgssearch.GSConstant.MAILS,zgssearch.GSConstant.CONNECT,zgssearch.GSConstant.CLIQ,zgssearch.GSConstant.WORKDRIVE,zgssearch.GSConstant.PEOPLE,zgssearch.GSConstant.SUPPORT,zgssearch.GSConstant.WIKI],zgssearch.fetchActionsURL="/zgssearch/gsservicedata",zgssearch.nps="&nps=202",zgssearch.workdriveServices=["zohosheet","zohoshow","writer","docs","spreadsheet","presentation","image","pdf","video","audio","file","folder"],zgssearch.campaigns_version=zgssearch.campaigns_version||{},zgssearch.docIdsVsEncryptedIds=zgssearch.docIdsVsEncryptedIds||{},zgssearch.entityTypeTitleMap={1:{title:zgssearch.getI18NMsg("common.email"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasemails"),notitle:"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")"},2:{title:zgssearch.getI18NMsg("gs.search.filter.notes"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasnotes"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},3:{title:zgssearch.getI18NMsg("gs.search.filter.tasks"),hasText:zgssearch.getI18NMsg("gs.search.filter.hastasks"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},4:{title:zgssearch.getI18NMsg("gs.search.filter.events"),hasText:zgssearch.getI18NMsg("gs.search.filter.hasevents"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},6:{title:zgssearch.getI18NMsg("common.message"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"},10:{title:zgssearch.getI18NMsg("gs.search.filter.bookmarks"),hasText:zgssearch.getI18NMsg("gs.search.filter.haspostmesseges"),notitle:"("+zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle")+")"}},zgssearch.previewIframeOnlyServ=[zgssearch.GSConstant.PROJECTS,zgssearch.GSConstant.CONNECT],zgssearch.EXCLUDED_CONNECT_POSTTYPE=["EVENT","MEETING_EVENT","ZOHOSURVEY","ZOHOCONFERENCE","CAMPAIGN","BROADCAST","BADGE_REWARD","SCHEDULED_CONF","SHOWTIME_EVENT","FILE_FEED","BULKFILE_FEED","MANUAL","VIDEOCONF","USER_ONBOARDING","BOT_BIRTHDAY","BOT_WORK_ANNIVERSARY"]}(zgssearch,window),function(zgssearch){zgssearch.cardPagePreviewActions=function(){this.setCurrentCard=function(tarElem){var card=_jQueryGS("#zgs20_gsCrdPrevBdy");this.currCard=card[0]},this.getCurrentCardId=function(){return _jQueryGS(".zgs19_gsCrdPrevBdy").attr("cardid")},this.getCurrentCard=function(){return this.currCard},this.getCalloutParent=function(){return zgssearch.getTargetElem("zgs20_gsCrdPrevCallout")},this.getCurrentResultObj=function(cardId){cardId=cardId||this.getCurrentCardId();var resp=zgssearch.cardObjForCurrentSelectedElem[cardId]?zgssearch.cardObjForCurrentSelectedElem[cardId].resultObj:{};return resp=(zgssearch.gscardUtils.cardIdsVsObject[cardId]||{}).cardtype==zgssearch.BOOKMARK_CARD?resp.data:resp},this.getTargetElem=function(ele){var card=this.getCurrentCard();return _jQueryGS(card).find(ele)},this.getCurrAccId=function(){var cardId=this.getCurrentCardId(),cardObject=(_jQueryGS(".zgs19_gsCrdHdrType").attr("cardtype"),zgssearch.gscardfilter.tempCardIdsVsObj[cardId]||zgssearch.gscardUtils.cardIdsVsObject[cardId]),cardConfig=cardObject.cardconfig||{},accArrVal="",accFilter="";return cardObject.cardtype==zgssearch.BOOKMARK_CARD?(accFilter="account_id",accArrVal=this.getCurrentResultObj(cardId)[accFilter]):(accFilter="accounts_list",cardObject.service===zgssearch.GSConstant.CAMPAIGNS&&(accFilter="module")),null!=(accArrVal=accArrVal||zgssearch.gscardinDb.getFilterVal(cardConfig,accFilter))&&cardObject.cardtype==zgssearch.BOOKMARK_CARD?accArrVal:null!==accArrVal&&0<accArrVal.length?accArrVal[0]:""},this.getServiceName=function(cardId){cardId=cardId||this.getCurrentCardId();return zgssearch.gscardUtils.cardIdsVsObject[cardId].service},this.getSearchDBCalloutObj=function(){var crdCallout=_jQueryGS("#zgs20_gsCrdPrevCallout"),cardId=this.getCurrentCardId();return{type:zgssearch.crdPagecalloutType,parentElem:crdCallout,calloutId:"zgs20_gs"+cardId+"_callout",cardId:cardId,curSelectedEle:zgssearch.gscards.curSelectedEle,iconDisplay:!1,service:this.getServiceName()}},this.getCurrentResponseObj=function(cardId){return cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj},this.setCurrentResponseObj=function(currRespObj,cardId){cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj=currRespObj},this.getCurrentCRMOwner=function(){var cardId=this.getCurrentCardId();return zgssearch.gscrm.crmOwnerData[cardId].id},this.getCardObjInContext=function(cardId){return zgssearch.gscardfilter.tempCardIdsVsObj[cardId]||zgssearch.gscardUtils.cardIdsVsObject[cardId]},this.getResultObject=function(){var cardId=this.getCurrentCardId();return zgssearch.gscardsresult.cardResultsObj[cardId]}},zgssearch.dashboardActions=function(){this.currCard,this.service="",this.setCardFromCallout=function(card){card=_jQueryGS(card).closest(".zgs19_gsCard");this.currCard=card[0]},this.getCurrentCard=function(){return this.currCard},this.getCurrentCardId=function(card){return card=card||this.getCurrentCard(),_jQueryGS(card).attr("cardid")},this.getCalloutParent=function(cardCallout){if(cardCallout)return _jQueryGS(cardCallout).closest(".zgs19_gsCrdCallout")[0];cardCallout=this.getCurrentCard();if(cardCallout){cardCallout=cardCallout.querySelector(".zgs19_gsCrdCallout");return this.service=_jQueryGS(cardCallout).attr("service"),cardCallout}},this.getCurrentResultObj=function(resp){resp=resp||this.getCurrentCardId();var cardType=zgssearch.gscardinDb.getOriginalCardId(resp),cardType=zgssearch.gsdbUtils.cardIdsVsObject[cardType]||{},cardType=(zgssearch.gsdbUtils.dbCardIdObjInDB[resp]||cardType||{}).cardtype,resp=zgssearch.cardObjForCurrentSelectedElem[resp]?zgssearch.cardObjForCurrentSelectedElem[resp].resultObj:{};return resp=cardType==zgssearch.BOOKMARK_CARD?resp.data:resp},this.getTargetElem=function(elem){var card=this.getCurrentCard();return _jQueryGS(card).find(elem)},this.getCurrAccId=function(){var accArrVal,cardId=_jQueryGS(this.currCard).attr("cardId"),accFilter=zgssearch.gscardinDb.getOriginalCardId(cardId),cardObject=zgssearch.gsdbUtils.cardIdsVsObject[accFilter],cardType=(zgssearch.gsdbUtils.dbCardIdObjInDB[cardId]||cardObject).cardtype,cardConfig=cardObject.cardconfig||{},accFilter="";return cardType==zgssearch.BOOKMARK_CARD?(accFilter="account_id",accArrVal=this.getCurrentResultObj(cardId)[accFilter]):(accFilter="accounts_list",cardObject.service===zgssearch.GSConstant.CAMPAIGNS&&(accFilter="module")),null!=(accArrVal=accArrVal||zgssearch.gscardinDb.getFilterVal(cardConfig,accFilter))&&cardType==zgssearch.BOOKMARK_CARD?accArrVal:null!==accArrVal&&0<accArrVal.length?accArrVal[0]:""},this.getServiceName=function(){if(this.service)return this.service;var cardCallout=this.getCurrentCard().querySelector(".zgs19_gsCrdCallout");return _jQueryGS(cardCallout).attr("service")},this.getSearchDBCalloutObj=function(){var service=this.getCurrentCard(),cardId=_jQueryGS(service).attr("cardid"),calloutCardId="zgs20_gs"+cardId+"_"+_jQueryGS(service).attr("index")+"_callout",selectedRes=_jQueryGS(service).find(".zgs19_gsResultselected"),service=this.getServiceName();return{type:zgssearch.dbCrdCalloutType,parentElem:this.getCalloutParent(),calloutId:calloutCardId,iconDisplay:!1,cardId:cardId,curSelectedEle:selectedRes,service:service}},this.getCurrentResponseObj=function(cardId){return cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj},this.setCurrentResponseObj=function(currRespObj,cardId){cardId=cardId||this.getCurrentCardId(),zgssearch.cardObjForCurrentSelectedElem[cardId].calloutRespObj=currRespObj},this.getCurrentCRMOwner=function(){var cardId=this.getCurrentCardId();return zgssearch.gscrm.crmOwnerData[cardId].id},this.getCardObjInContext=function(cardId){return zgssearch.gsdbUtils.cardIdsVsObject[cardId]},this.getResultObject=function(){var cardId=this.getCurrentCardId();return zgssearch.gscardsresult.cardResultsObj[cardId]}},zgssearch.searchActions=function(){this.getCalloutParent=function(){return zgssearch.getTargetElem("zgs20_gsSearchResultRight")},this.getCurrentResultObj=function(){return zgssearch.getCurrentResObj()},this.getTargetElem=function(ele){return _jQueryGS(ele)},this.getCurrAccId=function(){return zgssearch.getResultAccountId()},this.getServiceName=function(){return zgssearch.getCalloutSearchType()},this.getSearchDBCalloutObj=function(){return zgssearch.searchCalloutObj},this.getCurrentResponseObj=function(){return zgssearch.getCurrentResponseObj},this.setCurrentResponseObj=function(currRespObj){zgssearch.getCurrentResponseObj=currRespObj},this.getCurrentCRMOwner=function(){return zgssearch.gscrm.crmOwnerData.id},this.getResultObject=function(currService){return zgssearch.resultObject[currService]}},zgssearch.getCurrentSelectedElem=function(){return(zgssearch.isDashboardOpened&&zgssearch.hasOwnProperty("gscardsresult")?zgssearch.gscardsresult:zgssearch.isCardPageOpened&&zgssearch.hasOwnProperty("gscards")?zgssearch.gscards:zgssearch).curSelectedEle}}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.dashboardSearchActions&&(zgssearch.commonSearchActions=new zgssearch.dashboardSearchActions),window.removeEventListener("message",zgssearch.receiveMessage,!0),zgssearch.receiveMessage=function(event){try{var origin=event.origin||event.originalEvent.origin,resObj=zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getCurrentResultObj():{};if(zgssearch.isPreviewOpenedInComponent&&(resObj=zgssearch.pcResObj),void 0!==event.data&&"undefined"!==event.data&&null!==event.data){var sid,service_name,paramsObj,menuEl,event_data=event.data,data="object"==typeof event_data?event_data:JSON.parse(event_data);if(origin===zgssearch.GSConstant.GS_MAIL_URL)data.hasOwnProperty("close")&&data.close&&(_jQueryGS("#zgs20_gsMailActionHolder").empty().hide(),zgssearch.focusForWeb("zgs20_gsQueryBox"),service=zgssearch.getCurSelectedEleAttr("service"),sid=zgssearch.mappedServiceList[service].id,_jQueryGS("#"+sid).show());else if(origin===zgssearch.getURLOrginName(window.location.href))void 0!==data.action_type&&(action_type=data.action_type,data.error_msg,data.preview_type,service_name=data.service_name,"preview"===action_type?(paramsObj={},menuEl=zgssearch.getTargetElem("zgs20_gsConnectorCallout"),service_name!==zgssearch.GSConstant.DROPBOX&&service_name!==zgssearch.GSConstant.GOOGLEDRIVE||(paramsObj={service:service_name,previewHolder:"docspreviewHolder"},menuEl=zgssearch.getTargetElem("zgs20_gsDocsCallout")),zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)):"download"===action_type?zgssearch.Utils.showErrorMsg(zgssearch.getI18NMsg("gs.search.error.file_down_fail_message")):"image_error"===action_type?zgssearch.Utils.showErrorMsg(zgssearch.getI18NMsg("gs.search.error.img_prev_err_message")):"attachment"===action_type&&(attachId=data.attachId||"")&&zgssearch.gso365mail.downloadAttachment(attachId,resObj));else if(origin===zgssearch.getURLOrginName(zgssearch.GSConstant.cloud_preview_domain)&&void 0!==data.action_type){var action_type=data.action_type;if("attachment"===action_type){if(attachId=data.attachId||"")if("gmail"===data.service)zgssearch.gsgmail.downloadAttachment(attachId,data.file_name,data.mime_type);else{if("outlook"!==data.service)throw new Error("Service has no attachment option : "+data.service);zgssearch.gso365mail.downloadAttachment(attachId,resObj)}}else if("everNoteAttachment"===action_type)zgssearch.notesTemplateInstance.downloadEvernoteAttachment(data);else if("LOAD_OUTLOOK_IMAGE"===action_type||"LOAD_GMAIL_IMAGE"===action_type){var id=data.id;let iFrameDivId,returnActionType;if("LOAD_GMAIL_IMAGE"===action_type)iFrameDivId="zgs20_gmailIframePrev",returnActionType="GMAIL_IMAGE_RESPONSE";else{if("LOAD_OUTLOOK_IMAGE"!==action_type)throw new Error("Undefined action_type "+action_type);iFrameDivId="zgs20_o365MailIframePrev",returnActionType="OUTLOOK_IMAGE_RESPONSE"}zgssearch.network.imageRenderer.renderImage(data.url,null,function(msg){msg=msg||data.url,msg={action_type:returnActionType,imgSrc:msg,id:id};document.getElementById(iFrameDivId).contentWindow.postMessage(msg,origin)})}else if("addToWD"===action_type){var service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),attachId=data.attachId||"",resObj=zgssearch.getCurrentResObj();attachId&&zgssearch.openInWD(service,resObj,"",attachId)}else if("evernoteAddToWD"===action_type){var service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),attachname=data.attach_name||"",resHash=data.res_hash||"",resObj=zgssearch.getCurrentResObj();attachname&&zgssearch.openInWD(service,resObj,"",attachname,resHash)}else if("gmailAddToWD"===action_type){let service=_jQueryGS(zgssearch.curSelectedEle).attr("service");var attachmentId=data.attachId||"";let resObj=zgssearch.getCurrentResObj();attachmentId&&zgssearch.openInWD(service,resObj,"",attachmentId,data)}else"showGmailAttachmentIcon"===action_type&&_jQueryGS("#zgs20_gmailAttachIcon").removeClass("zgs19_gsDisplayNone")}}}catch(exception){zgssearch.throwClientError("Exception in receiveMessage ",exception)}},window.addEventListener("message",zgssearch.receiveMessage,!0),zgssearch.attachDoubleClickPopUpEvent=function(){_jQueryGS(".zgs19_gsCalloutPopUp").off("mouseup").on("mouseup",function(){zgssearch.popupaction=!0}),_jQueryGS(".zgs19_gsCalloutPopUp").off("mousedown").on("mousedown",function(parElem){parElem=_jQueryGS(parElem.target).closest("#zgs20_gsPopupSearch");zgssearch.isOpenDoubleClickPopup&&1!==parElem.length&&(_jQueryGS(".zgs19_gsPopupSearch").remove(),zgssearch.isOpenDoubleClickPopup=!1)})},zgssearch.pcGSElemSize=function(){var scallout,calloutEle;zgssearch.isPreviewOpenedInComponent&&(_jQueryGS("#zgs20_pcSearch").css("height",_jQueryGS("#zgs20_pcSearch").parent().height()+"px"),_jQueryGS("#zgs20_pcSearch").css("width",_jQueryGS("#zgs20_pcSearch").parent().width()+"px"),calloutEle=zgssearch.pc.containerMap[_jQueryGS("#zgs20_pcSearch").parent()[0].id].service,scallout=zgssearch.mappedServiceList[calloutEle].callout,calloutEle=_jQueryGS("#zgs20_pcSearch > .zgs19_gsServiceCalloutHolder")[0],zgssearch[scallout].setServiceEleSize("","",calloutEle))},zgssearch.pcViewport&&zgssearch.hasOwnProperty("gscomponent")&&zgssearch.pcViewport.removeEventListener("click",zgssearch.pcClickEvent,!0),zgssearch.pcClickEvent=function(event){try{var target=event.target,target_element=_jQueryGS(target),action=target_element.attr("gs"),service=target_element.attr("service");switch(zgssearch.pcClickEventTrig=!1,action){case"calloutActionOptions":zgssearch.actionListCallbackHandler(target,event);break;case"ctitle":case"clink":case"streamsPage":case"streamsmorecomment":case"streamsptpmorecomment":case"streamsmoretimeline":zgssearch.stopEvent(event),zgssearch.clickActionForCalloutTitle(target,event);break;case"showprivatetopostcomments":zgssearch.gsstreams.showPrivateToPostComments(target_element);break;case"hideprivatetopostcomments":zgssearch.gsstreams.hidePrivateToPostComments(target_element);break;case"showprivatecomments":zgssearch.gsstreams.showPrivateComments(target_element);break;case"hideprivatecomments":zgssearch.gsstreams.hidePrivateComments(target_element);break;case"streams_bm_link":case"gsBMLinkImg":var bm_link=target_element.attr("bm_link");zgssearch.openInNewTab(bm_link);break;case"shareInWD":var currType=(zgssearch.hasOwnProperty("commonSearchActions")?zgssearch.commonSearchActions:new zgssearch.dashboardSearchActions).createActionType(target),resObj=zgssearch.isPreviewOpenedInComponent?zgssearch.pcResObj:currType?currType.getCurrentResultObj():{};zgssearch.shareInWD(service,resObj,target,resObj.dId);break;case"attachtitle":var scallout=zgssearch.mappedServiceList[service].callout;(service==zgssearch.GSConstant.ASANA?zgssearch.projectMgmtCalloutObj:zgssearch[scallout]).downloadAttachment(target);break;case"contactsurl":var url=target_element.attr("url"),compType=zgssearch.getComponentType();compType&&zgssearch[compType].isPreviewHandlerEnabledInSuiteApp?zgssearch[compType].previewHandler(service,url):(service=_jQueryGS(zgssearch.curSelectedEle).attr("service"),zgssearch.hideZiaForSameDomain(service),zgssearch.openInNewTab(url)),zgssearch.stopEvent(event);break;case"ext_img_text":zgssearch.gsmails.loadExtImg();break;case"moreStories":zgssearch.projectMgmtCalloutObj.getStories();break;case"moreAttachments":zgssearch.projectMgmtCalloutObj.getAttachments();break;case"hideStories":zgssearch.projectMgmtCalloutObj.hideMoreSectionResults("Stories");break;case"hideAttach":zgssearch.projectMgmtCalloutObj.hideMoreSectionResults("Attachments");break;case"moreAsanaProjects":var projFactoryInstance=new zgssearch.ZSProjectMgmtFactory,service_info={};service_info.service_name=zgssearch.GSConstant.ASANA,projFactoryInstance.createProjectMgmtInstance(service_info).getMoreProjectsDetails(target);break;case"moveToGmailAttachArea":document.getElementById("zgs20_gmailIframePrev").contentWindow.postMessage({action_type:"moveToGmailAttachArea"},zgssearch.getURLOrginName(zgssearch.GSConstant.cloud_preview_domain));break;default:var tarElem=zgssearch.getParentNode(target,"connPage");if(tarElem)return void zgssearch.clickActionForCalloutTitle(tarElem,event);zgssearch.pcClickEventTrig=!0,zgssearch.finalClickEventHandling(target,event)}}catch(ex){zgssearch.throwClientError("Error in preview click event.",ex)}},zgssearch.pcViewport&&zgssearch.hasOwnProperty("gscomponent")&&zgssearch.pcViewport.addEventListener("click",zgssearch.pcClickEvent,!0),zgssearch.finalClickEventHandling=function(comp,event){if(zgssearch.pcClickEventTrig&&(!zgssearch.hasOwnProperty("clickEvent")||zgssearch.clickEventTrig)&&"A"==comp.nodeName){var ahref=_jQueryGS(comp).attr("href");if(0==ahref.indexOf("mailto:"))return zgssearch.startComposeMail(comp,"href"),void zgssearch.stopEvent(event);if(0==ahref.indexOf("http")){comp=zgssearch.getComponentType();return comp&&zgssearch[comp].isPreviewHandlerEnabledInSuiteApp?zgssearch[comp].previewHandler(service,ahref):zgssearch.openInNewTab(ahref),void zgssearch.stopEvent(event)}}zgssearch.pcClickEventTrig=!1,zgssearch.clickEventTrig=!1},zgssearch.actionListCallbackHandler=function(target,event){zgssearch.commonSearchActions=zgssearch.hasOwnProperty("commonSearchActions")?zgssearch.commonSearchActions:new zgssearch.dashboardSearchActions,zgssearch.gsaction.currSearchType=zgssearch.commonSearchActions.createActionType(target);var resObj={};resObj=zgssearch.isPreviewOpenedInComponent?zgssearch.pcResObj:zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getCurrentResultObj():{};var service=target.getAttribute("service"),value=_jQueryGS(target).attr("value"),curRe=zgssearch.getCurrentSelectedElem();switch(zgssearch.setGSTagElems(curRe),value){case"open":zgssearch.clickActionForCalloutTitle(target,event);break;case"reply":case"replyall":case"fwdi":var accountId=resObj.account_id,zuid=resObj.message_id||resObj[zgssearch.entity_id];zgssearch.gsmails.mailReplyActionHandler(accountId,zuid,value,target);break;case"read":zgssearch.readMailstatusCalloutActions(service,curRe,resObj,target);break;case"unread":zgssearch.unreadMailstatusCalloutActions(service,curRe,resObj,target);break;case"watch":case"unwatch":zgssearch.gsstreams.toggleWatchStatus(curRe,resObj,value,"",target);break;case"continue":zgssearch.continueForCalloutAction(service,resObj,target,event);break;case"pcontinue":zgssearch.chatAction(target,"chat",event,resObj);break;case"download":zgssearch.downloadForCalloutAction(service,resObj,target);break;case"sendMail":zgssearch.startComposeMail(target,"email");break;case"audio":case"video":zuid=resObj.zuid||"";zgssearch.getSearchType()===GSConstant.CALENDAR&&(zuid=zgssearch.eventHostZUID),zgssearch.startAudioVideoCall(zuid,value);break;case"copyLink":zgssearch.copyUrl(target,event,resObj);break;case"edit":zgssearch.gscrm.EditRecord(service);break;case"savePreview":zgssearch.gssavedsearches.displaySavedSearchDialog(zgssearch.getI18NMsg("gs.preview_card.save_preview_title"),"savePreview");break;case"addToWD":zgssearch.openInWD(service,resObj,target);break;case"shareInWD":var calloutResp=(zgssearch.hasOwnProperty("commonSearchActions")?zgssearch.commonSearchActions:new zgssearch.dashboardSearchActions).createActionType(target);resObj=zgssearch.isPreviewOpenedInComponent?zgssearch.pcResObj:calloutResp?calloutResp.getCurrentResultObj():{},zgssearch.shareInWD(service,resObj,target,resObj.dId);break;case"favourites":case"properties":calloutResp=zgssearch.gsaction.currSearchType.getCurrentResponseObj();zgssearch.serviceActions(target,value,resObj,calloutResp)}},zgssearch.clickActionForCalloutTitle=function(compType,event){var service=_jQueryGS(compType).parents(".zgs19_gsCCPrevCont");if(zgssearch.isPreviewOpenedInComponent&&zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent.hasOwnProperty("onOpen"))zgssearch.pccomponent.onOpen();else if(0<service.length)zgssearch.stopEvent(event);else{zgssearch.commonSearchActions=zgssearch.hasOwnProperty("commonSearchActions")?zgssearch.commonSearchActions:new zgssearch.dashboardSearchActions,zgssearch.gsaction.currSearchType=zgssearch.commonSearchActions.createActionType(compType);var resObj=zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getCurrentResultObj():{},url=zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getCurrentResponseObj():{};_jQueryGS.isEmptyObject(resObj)&&(resObj=url);service=_jQueryGS(compType).attr("service"),url=zgssearch.fetchCalloutUrl(service,resObj,compType,url);if(service==GSConstant.CHAT)zgssearch.chatAction(compType,"continue",event,resObj);else{if(service==GSConstant.MAILS){if(window.hasOwnProperty("zmList")&&zmList.hasOwnProperty("getMailData")||zgssearch.isGSOpenedInServiceSuiteApp)try{var accountId=resObj.account_id,messageId=resObj.message_id||resObj[zgssearch.entity_id];return zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp&&!zgssearch.isPreviewOpenedInComponent?void zgssearch.gscomponent.actionHandler(GSConstant.MAILS,"zmList.getMailData",[{from:"zia",accId:accountId,msgId:messageId,opentype:2,type:"lt",src:"external"}]):(zmList.getMailData({from:"zia",accId:accountId,msgId:messageId,opentype:2,type:"lt",src:"external"}),void zgssearch.globalToggleHandling())}catch(ex){zgssearch.throwClientError("Error in getting Mail data.",ex)}}else if(service==GSConstant.CLIQ){if(zgssearch.isCliqDomain||zgssearch.isGSOpenedInServiceSuiteApp)return void zgssearch.openChat(compType,"continue",event,resObj)}else if(service==GSConstant.CALENDAR){if(zgssearch.isGSOpenedInServiceSuiteApp){var subServiceName="";switch(resObj.sId){case"4":subServiceName="Mail";break;case"9":subServiceName="Desk";break;case"8":subServiceName="CRM";break;case"31":subServiceName="Bigin"}compType=zgssearch.getComponentType();return compType&&zgssearch[compType].isPreviewHandlerEnabledInSuiteApp&&zgssearch[compType].previewHandler(GSConstant.CALENDAR,url,subServiceName,{eventId:resObj.eId||resObj[zgssearch.entity_id],calId:resObj.cId}),void zgssearch.stopEvent(event)}}else if(service==GSConstant.WORKDRIVE){var component=zgssearch.getComponentType();if(component&&zgssearch[component].isPreviewHandlerEnabledInSuiteApp)return zgssearch[component].previewHandler(service,url),void zgssearch.stopEvent(event)}url&&((component=zgssearch.getComponentType())&&zgssearch[component].isPreviewHandlerEnabledInSuiteApp?zgssearch[component].previewHandler(service,url):(zgssearch.isPreviewOpenedInComponent||zgssearch.hideZiaForSameDomain(service),zgssearch.openInNewTab(url)),zgssearch.stopEvent(event))}}},zgssearch.fetchCalloutUrl=function(service,resObj,target,calloutResp){var accId=(calloutResp=calloutResp||{})[zgssearch.account_id]||resObj.accId||calloutResp.accId||"";return accId=accId||(target?(new zgssearch.dashboardSearchActions).createActionType(target).getCurrAccId():zgssearch.getResultAccountId()),zgssearch.fetchCalloutUrlByAccId(service,resObj,accId,calloutResp)},zgssearch.fetchCalloutUrlByAccId=function(service,resObj,accId,calloutResp={}){var groupId,entityId,url="";switch(service){case GSConstant.MAILS:resObj&&(groupId=resObj.account_id||calloutResp[zgssearch.account_id],entityId=resObj.message_id||calloutResp[zgssearch.entity_id],url=GSConstant.GS_MAIL_URL+"/zm/popMail.do?accId="+groupId+"&msgId="+entityId);break;case GSConstant.STREAMS:resObj&&(groupId=resObj.gId||calloutResp[zgssearch.account_id]||"",entityId=resObj.id||resObj[zgssearch.entity_id]||"",docId=resObj.entityType||"",url=GSConstant.GS_MAIL_URL+"/zm/#stream/tab/"+groupId+"/"+entityId+"/"+docId+"/viewGroupEntity");break;case GSConstant.DROPBOX:case GSConstant.GOOGLEDRIVE:resObj&&(url=resObj.url);break;case GSConstant.WORKDRIVE:var docId=resObj.dId||calloutResp[zgssearch.entity_id];url="true"===resObj.isF?GSConstant.GS_WORKDRIVE_URL+"/folder/"+docId:GSConstant.GS_WORKDRIVE_URL+"/file/"+docId;break;case GSConstant.PEOPLE:var servObj=resObj.pkid||calloutResp[zgssearch.entity_id]||"";url=GSConstant.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+servObj;break;case GSConstant.CLIQ:url=GSConstant.GS_CLIQ_URL+"/chats/"+(resObj.cid||calloutResp.cid||resObj[zgssearch.entity_id]||"");break;case GSConstant.SUPPORT:url=zgssearch.gssupport.openSupportResult(resObj,accId,calloutResp);break;case GSConstant.CONNECT:url=resObj.url;break;case GSConstant.WIKI:url=zgssearch.gswiki.openWikiResult(resObj,!1,calloutResp);break;case GSConstant.WEBSITE:url=resObj.pk_id||resObj[zgssearch.entity_id];break;case GSConstant.CRM:url=zgssearch.crmRecordOpen(resObj,accId);break;case GSConstant.REPORTS:url=zgssearch.gsreports.openReportsResult(resObj);break;case GSConstant.CREATOR:url=zgssearch.gscreator.openCreatorResult(resObj);break;case GSConstant.ORGRESOURCES:url=zgssearch.gsconnector.openConnectorResult(resObj);break;case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.INVENTORY:url=zgssearch.gsbooks.openBooksResult(service,accId,resObj,calloutResp);break;case GSConstant.CAMPAIGNS:url=zgssearch.gscampaign.openCampaignsResult(resObj,accId,calloutResp);break;case GSConstant.BOX:resObj&&(url=resObj.url||"");break;case GSConstant.SLACK:url=resObj.link||"";break;case GSConstant.O365MAIL:url=resObj.webLink||"";break;case GSConstant.ONEDRIVE:resObj&&(url=resObj.webUrl||"");break;case GSConstant.SALESFORCE:url=resObj["Open Url"];break;case GSConstant.CALENDAR:url=zgssearch.gscalendar.openCalendarResult(resObj,calloutResp);break;case GSConstant.NOTEBOOK:url=zgssearch.gsnotebook.getNotebookResultURL(resObj);break;case GSConstant.ASANA:url=zgssearch.projectMgmtCalloutObj.getCalloutResponse().task_info.open_link;break;case GSConstant.BIGIN:url=zgssearch.gscrm.openBiginResult(resObj,accId);break;case GSConstant.EVERNOTE:resObj&&(url=resObj.openUrl||"");break;case GSConstant.PROJECTS:servObj={service_name:GSConstant.PROJECTS,acc_id:accId||resObj[zgssearch.account_id]};let obj=(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance(servObj);url=obj.getCalloutURL(resObj);break;case GSConstant.GMAIL:resObj&&(url=resObj.webLink||"")}return url},zgssearch.startComposeMail=function(target,iframeSrc){var emailId=_jQueryGS(target).attr(iframeSrc),iframeSrc=zgssearch.getConstAllServList()||[];zgssearch.isArrayContain(GSConstant.MAILS,iframeSrc)?(0==emailId.indexOf("mailto:")&&(emailId=emailId.substr("mailto:".length)),zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.MAILS,"zmUtil.compose",[{TO:emailId}]):(iframeSrc=GSConstant.GS_MAIL_URL+"/zm/comp.do?to="+emailId+"&"+zgssearch.originParam+"&zgsearch=true",zgssearch.gsmails.loadMailCalloutIframe(iframeSrc,target))):(0!=emailId.indexOf("mailto:")&&(emailId="mailto:"+emailId),zgssearch.openInNewTab(emailId))}}(zgssearch,window),function(zgssearch,window){zgssearch.pulseNetworkId={},zgssearch.pulseNetworkURL={};var _jQueryGS=window._jQueryGS;zgssearch.stopEvent=function(event){event&&(event.preventDefault(),event.stopPropagation())},zgssearch.dashboardSearchActions=function(){this.createActionType=function(tarElem){var actionType;return zgssearch.hasOwnProperty("gsdbUtils")&&zgssearch.isDashboardViewOpened()?(actionType=new zgssearch.dashboardActions).setCardFromCallout(tarElem):zgssearch.hasOwnProperty("gscardUtils")&&zgssearch.isCardViewOpened()?(actionType=new zgssearch.cardPagePreviewActions).setCurrentCard():actionType=new zgssearch.searchActions,actionType}},zgssearch.getUserStatus=function(uzuid,cobj){var name="",tip="",status="",pname=zgssearch.isWMSChatPaused();return uzuid&&"-1"!==uzuid&&!pname&&(pname="big"==cobj?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus",(cobj=zgssearch.getWMSUserContacts()).hasOwnProperty(uzuid)&&(0==(status=cobj[uzuid].STATUS)?(name=pname+" zgs19_gsWMSOffline",tip=zgssearch.getI18NMsg("gs.search.iam.offline")):1==status?(name=pname+" zgs19_gsWMSOnline",tip=zgssearch.getI18NMsg("gs.search.iam.online")):2==status?(name=pname+" zgs19_gsWMSInvisible",tip=zgssearch.getI18NMsg("gs.search.iam.invisible")):3==status?(name=pname+" zgs19_gsWMSBusy",tip=zgssearch.getI18NMsg("gs.search.iam.busy")):4==status&&(name=pname+" zgs19_gsWMSIdle",tip=zgssearch.getI18NMsg("gs.search.iam.idle")))),{name:name,tip:tip,status:status}},zgssearch.getWMSUserContacts=function(){return"undefined"!=typeof WmsContacts&&WmsContacts.getcontacts?WmsContacts.getcontacts():{}},zgssearch.getCookie=function(cname){for(var name=cname+"=",ca=document.cookie.split(";"),caLen=ca.length,i=0;i<caLen;i++){var c=ca[i].trim();if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""},zgssearch.renderPhoto=function(id,photoURL,addClass,errorClass,targetEle,errorDiv){zgssearch.network.imageRenderer.renderImage(photoURL,null,function(result){fail=function(ele,tarElem,tarPar,errorDiv){tarPar?zgssearch.handlePhotoRender(tarElem,ele,zgssearch.gsspacer,tarPar):errorDiv?(tarPar=_jQueryGS(tarElem).parent()[0],_jQueryGS(tarElem).remove(),_jQueryGS(tarPar).prepend(errorDiv)):zgssearch.renderCalloutNoUserPhoto(ele.getAttribute("gs"),ele.getAttribute("group")),zgssearch.removeEle(ele)};var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id})[0];result?_jQueryGS(serviceImgDummy).attr("src",result).off().on({load:function(){zgssearch.handlePhotoRender(targetEle,this,this.src,addClass),zgssearch.removeEle(this)},error:function(){fail(this,targetEle,errorClass,errorDiv)}},!0):this.fail(serviceImgDummy,targetEle,errorClass)})},zgssearch.handlePhotoRender=function(targetEle,imgEle,src,classStr){targetEle&&null!=targetEle?_jQueryGS(targetEle).attr("src",src).attr("class",classStr):(imgEle=zgssearch.getTargetElem(imgEle.getAttribute("gs")))&&_jQueryGS(imgEle).attr("src",src).attr("class",classStr)},zgssearch.hasAudioSupport=function(){return!(!zgssearch.hasWebMessanger||void 0===WebMessanger.isMediaCallEnabled)&&WebMessanger.isMediaCallEnabled("voice")},zgssearch.hasVideoSupport=function(){return!(!zgssearch.hasWebMessanger||void 0===WebMessanger.isMediaCallEnabled)&&WebMessanger.isMediaCallEnabled("video")},zgssearch.iterResultObjData=function(cliqTitle,titleObj,metaData,resultsArr){cliqTitle===zgssearch.GSConstant.CONNECT&&(zgssearch.pulseNetworkId[titleObj]=metaData.network_id||metaData.networkId,zgssearch.pulseNetworkURL[titleObj]=metaData.network_url||metaData.networkURL),cliqTitle===zgssearch.GSConstant.CLIQ&&(metaData.title&&"No Title"!=metaData.title||(titleObj=zgssearch.chidVsMeta||{},!(cliqTitle=metaData.cid||"")&&resultsArr&&(cliqTitle=resultsArr[0].cid),cliqTitle=(titleObj.hasOwnProperty(cliqTitle)?titleObj[cliqTitle]:{}).title||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),metaData.title=zgssearch.replaceHTMLEntity(cliqTitle)||""))},zgssearch.getThumbPhotoURL=function(id){return zgssearch.GSConstant.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+id+zgssearch.nps},zgssearch.getPosttypeCls=function(ptype){var ptypeCls="",ptypeTitle="";switch(ptype){case"POLL":case"ANNOUNCEMENT":case"QUESTION":case"IDEA":case"TASK":case"BROADCAST":case"ZOHOSURVEY":case"VIDEOCONF":ptypeTitle=zgssearch.getI18NMsg("gs.search.service_connect."+ptype.toLowerCase()),ptypeCls="zgs19_callout_ptype zgs19_gsDisplayBlockImp zgs18_cPT_"+ptype;break;case"EVENT":ptypeTitle=zgssearch.getI18NMsg("gs.search.filter.events"),ptypeCls="zgs19_callout_ptype zgs19_gsDisplayBlockImp zgs18_cPT_"+ptype}return{class:ptypeCls,title:ptypeTitle}},zgssearch.getConnectPartitionElem=function(tooltip,className){var parName="",parZuid="",currentUserZuid=zgssearch.GSConstant.cuz||null,apostrophe="",wallTxt="",parZuid=tooltip.hasOwnProperty("pname")?(parName=zgssearch.replaceHTMLEntity(tooltip.pname),tooltip.pzuid||""):(parName=tooltip.author||"",tooltip.zuid||""),tooltip=parName;return""!=parZuid&&"-1"!=parZuid&&(currentUserZuid==parZuid?tooltip=parName=zgssearch.getI18NMsg("gs.search.service_connect.mywall"):(tooltip+="'s "+zgssearch.getI18NMsg("gs.search.service_connect.wall"),apostrophe=zgssearch.hasOwnProperty("gscomponent")&&"en"===zgssearch.gscomponent.gslanguage||zgssearch.hasOwnProperty("pccomponent")&&"en"===zgssearch.pccomponent.gslanguage?_jQueryGS("<span>",{class:className}).html("&#39;s"):"",wallTxt=_jQueryGS("<span>",{gstitle:tooltip}).text(zgssearch.getI18NMsg("gs.search.service_connect.wall")))),[_jQueryGS("<span>",{gstitle:tooltip}).text(parName),apostrophe,wallTxt,tooltip]},zgssearch.getDocResTT=function(servImg){return zgssearch.isSetTT||(zgssearch.isSetTT=!0,zgssearch.docsImgObj={zgs19_explorer:zgssearch.getI18NMsg("gs.search.result.document.explorer"),zgs19_writer:zgssearch.getI18NMsg("common.writer"),zgs19_sheet:zgssearch.getI18NMsg("common.sheet"),zgs19_show:zgssearch.getI18NMsg("common.show"),zgs19_undefinedtype:zgssearch.getI18NMsg("common.undefined_docstype"),zgs19_pdf:zgssearch.getI18NMsg("common.pdf"),zgs19_video:zgssearch.getI18NMsg("common.video"),zgs19_image:zgssearch.getI18NMsg("common.image"),zgs19_html:zgssearch.getI18NMsg("common.html"),zgs19_music:zgssearch.getI18NMsg("common.music"),zgs19_zip:zgssearch.getI18NMsg("common.zip"),zgs19_folder:zgssearch.getI18NMsg("gs.search.result.document.folder"),zgs19_wiki:zgssearch.getI18NMsg("gs.search.result.document.wiki"),zgs19_word:zgssearch.getI18NMsg("gs.search.result.document.word"),zgs19_power:zgssearch.getI18NMsg("gs.search.result.document.powerpoint"),zgs19_xl:zgssearch.getI18NMsg("gs.search.result.document.xl"),zgs19_txt:zgssearch.getI18NMsg("gs.search.result.document.txt")}),zgssearch.docsImgObj[servImg]||""},zgssearch.getCalendarServiceName=function(serviceId){switch(serviceId){case"4":return zgssearch.getI18NMsg("gs.search.service_mails");case"8":return zgssearch.getI18NMsg("gs.search.service_crm");case"9":return zgssearch.getI18NMsg("gs.search.service_desk");case"31":return zgssearch.getI18NMsg("gs.search.service_bigin")}},zgssearch.endsWith=function(str,delim){return str.match(delim+"$")==delim},zgssearch.updateSpecificAccountDetails=function(service_name,accId,metaData){service_name!==zgssearch.GSConstant.CAMPAIGNS||_jQueryGS.isEmptyObject(metaData)||(zgssearch.campaigns_version[metaData.modId]=metaData.version),service_name===zgssearch.GSConstant.PROJECTS&&metaData&&(zgssearch.gsprojects.portalTimezone[accId]=metaData.timezone,zgssearch.gsprojects.portalTzOffset[accId]=metaData.timezone_offset,zgssearch.gsprojects.portalTzOffsetStr[accId]=metaData.formatted_timezone_offset)},zgssearch.getWMSUserContacts=function(){return"undefined"!=typeof WmsContacts&&WmsContacts.getcontacts?WmsContacts.getcontacts():{}},zgssearch.loadResNoPhotoImg=function(userIcon){var imgEle=zgssearch.getTargetElem(userIcon);imgEle&&(zgssearch.setGSTagElems(imgEle),imgEle.gsUserPhoto&&(userIcon="true"==_jQueryGS(imgEle.gsUserPhoto).attr("group")?"zgs19_gsChatGroupIcon":"zgs19_gsResNoUserPhoto",_jQueryGS(imgEle.gsUserPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons "+userIcon)))},zgssearch.isPreviewCard=function(calloutObj){return calloutObj.cardCalloutType&&"preview"==calloutObj.cardCalloutType},zgssearch.loadCalloutNoPhotoImg=function(imgEle){imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(_jQueryGS(imgEle).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader").removeClass("zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},zgssearch.hexToRgb=function(rgb){rgb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(rgb);return rgb?{r:parseInt(rgb[1],16),g:parseInt(rgb[2],16),b:parseInt(rgb[3],16)}:null},zgssearch.rgbaToRgb=function(rgbArr){rgbArr=rgbArr.slice(rgbArr.indexOf("(")+1,rgbArr.indexOf(")")).split(", ")[0].split(",");return rgbArr?{r:rgbArr[0],g:rgbArr[1],b:rgbArr[2]}:null},zgssearch.getMailImageStatus=function(statusCode){var mailResObj={};switch(statusCode){case 0:mailResObj.servImg=1,mailResObj.image="zgs18_gsMailUnReadIcon",mailResObj.toBeImage="zgs18_gsMailReadIcon",mailResObj.title=zgssearch.getI18NMsg("common.unread"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.read");break;case 1:mailResObj.servImg=0,mailResObj.image="zgs18_gsMailReadIcon",mailResObj.toBeImage="zgs18_gsMailUnReadIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.read"),mailResObj.toBeTitle=zgssearch.getI18NMsg("common.unread");break;case 2:mailResObj.servImg=3,mailResObj.image="zgs18_gsMailUnReadReplyIcon",mailResObj.toBeImage="zgs18_gsMailReadReplyIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadreply"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.readreply");break;case 3:mailResObj.servImg=2,mailResObj.image="zgs18_gsMailReadReplyIcon",mailResObj.toBeImage="zgs18_gsMailUnReadReplyIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.readreply"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadreply");break;case 4:mailResObj.servImg=5,mailResObj.image="zgs18_gsMailUnReadForwardIcon",mailResObj.toBeImage="zgs18_gsMailReadForwardIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadforward"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.readforward");break;case 5:mailResObj.servImg=4,mailResObj.image="zgs18_gsMailReadForwardIcon",mailResObj.toBeImage="zgs18_gsMailUnReadForwardIcon",mailResObj.title=zgssearch.getI18NMsg("gs.search.result.mail.status.readforward"),mailResObj.toBeTitle=zgssearch.getI18NMsg("gs.search.result.mail.status.unreadforward")}return mailResObj}}(zgssearch,window),function(zgssearch,window){var gsaction,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsaction=(gsaction=void 0,(gsaction=zgssearch.gsaction||{}).calloutEditFieldsAction=function(tarElem){var datatype=_jQueryGS(tarElem).attr("datatype"),actions=new zgssearch.dashboardSearchActions;switch(gsaction.currSearchType=actions.createActionType(tarElem),datatype){case"crmOwnerChange":case"deskOwnerChange":case"biginOwnerChange":gsaction.renderEditFieldsUI(tarElem,datatype);break;case"dueDateChange":zgssearch.loadDatePicker(zgssearch.gssupport.createDateTimepicker.bind(null,tarElem));break;case"statusChange":zgssearch.gssupportaction.renderStatusOptionUI(tarElem);break;case"closeEditFields":zgssearch.hideEditFieldsList(),zgssearch.gsaction.currSearchType={};break;case"changeEditFields":zgssearch.currEditFieldselecelem&&gsaction.clickActionForEditList(zgssearch.currEditFieldselecelem)}},gsaction.getEditFieldsHolder=function(datatype,title,notify,mode,cancel){return _jQueryGS("<div>",{id:"zgs20_gsEditFieldsHolder",class:"zgs19_gsEditFieldsHolder zgs19_gsBoxShadowPopup zgs19_gsDisplayNone",gs:"editFieldsList",datatype:datatype}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsHeader",class:"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"editFieldsHeader"}).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsQryHolder",class:"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocusOut"}).append(_jQueryGS("<span>",{class:"zgs19_gsFilterQueryIconNotify zgs18_gsLensIconTab"})).append(_jQueryGS("<input>",{id:"zgs20_gsEditFieldsQrybox",class:"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:title})))).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsFooter",class:"zgs19_gsOverflowAuto"})).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsNotify",class:"zgs19_gsEditFieldsNotify zgs19_gsHideEleme zgs19_gsModuleFilterWidgetHeader zgs19_gsOverflow"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsCheck  zgs19_gsCurPointer",type:"checkbox"})).append(_jQueryGS("<span>",{gstitle:notify}).text(notify))).append(_jQueryGS("<div>",{id:"zgs20_gsEditFieldsBottom",class:"zgs19_gsEditFieldsBottom"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom1 zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:mode,value:mode,gs:"CalloutEditFields",datatype:"changeEditFields"})).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsBottom2 zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",type:"button",gstitle:cancel,value:cancel,gs:"CalloutEditFields",datatype:"closeEditFields"})))},gsaction.getEditFieldsChild=function(id,datatype){return _jQueryGS("<div>",{id:"zgs20_gsEditFieldsChild"+id,class:"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",datatype:datatype}).append(_jQueryGS("<div>",{class:"zgs19_gsSearchResultRow"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell3"}).append(_jQueryGS("<input>",{class:"zgs19_gsEditFieldsRadio",type:"radio"}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell1"}).append(_jQueryGS("<div>",{class:"zgs19_gsUniIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserCell2"}).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsEditFieldsChildName"+id,istip:!0,class:"zgs19_gsAutoSuggChildName zgs19_gsOverflow"}))).append(_jQueryGS("<div>",{class:"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(_jQueryGS("<span>",{id:"zgs20_gsEditFieldsChildEmail"+id})))))},gsaction.displayEditFieldsUI=function(tarElem,parentHolderWid){zgssearch.isEditFieldsDisplay=!0,_jQueryGS("#zgs20_gsEditFieldsHolder").show(),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollTop(0),_jQueryGS("#zgs20_gsEditFieldsFooter").scrollLeft(0),_jQueryGS(tarElem).addClass("zgs19_gsboxholder zgs19_gsboxholderbot");var ttop=parentHolderWid||(zgssearch.isCardPageOpened||zgssearch.isDashboardOpened?"calc(100% - 150px)":320),rangeRect=tarElem.getBoundingClientRect();rangeRect.width>ttop&&(ttop=rangeRect.width-2),_jQueryGS("#zgs20_gsEditFieldsHolder").css("width",ttop),_jQueryGS("#zgs20_gsEditFieldsHolder").css("max-width",320),_jQueryGS("#zgs20_gsEditFieldsFooter").css("maxHeight",240),_jQueryGS("#zgs20_gsEditFieldsFooter").css("border-bottom","1px solid #dadada");var currWid=320<ttop?320:ttop,theight=_jQueryGS(tarElem).height()+4,tleft=gsaction.currSearchType.getCalloutParent(tarElem),parentHolderWid=_jQueryGS(tleft).width(),ttop=zgssearch.findPosY(tarElem,tleft)-40,tleft=zgssearch.findPosX(tarElem,tleft),tleft=zgssearch.gscomponent.isRTLEnabled?parentHolderWid<tleft+currWid?tleft-(currWid-rangeRect.width+1):tleft+1:parentHolderWid<tleft+currWid?tleft-(tleft+currWid-parentHolderWid+5):tleft;_jQueryGS("#zgs20_gsEditFieldsHolder").css("inset-block-start",ttop+theight),_jQueryGS("#zgs20_gsEditFieldsHolder").css("left",tleft)},gsaction.clickActionForEditList=function(tarElem){var datatype=_jQueryGS(tarElem).attr("datatype");switch(datatype){case"crmOwnerChange":case"deskOwnerChange":case"biginOwnerChange":gsaction.clickEditFieldsUI(tarElem,datatype)}},gsaction.updateEditFieldsHeight=function(calloutHeader){var maxHeight=gsaction.currSearchType.getCalloutParent(calloutHeader),calloutHt=_jQueryGS(maxHeight).outerHeight(),calloutHeader=gsaction.currSearchType.getTargetElem(".zgs19_gsCalloutHeader"),maxHeight=0,maxHeight=calloutHt-_jQueryGS(calloutHeader).outerHeight()-_jQueryGS("#zgs20_gsEditFieldsHolder").position().top-51-50-(maxHeight="none"!=_jQueryGS("#zgs20_gsEditFieldsNotify").css("display")?35:maxHeight)-20;_jQueryGS("#zgs20_gsEditFieldsFooter").css("maxHeight",maxHeight)},gsaction.renderEditFieldsUI=function(tarElem,type){zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1;var editFieldsHolder=gsaction.currSearchType.getTargetElem("#zgs20_gsEditFieldsHolder"),chanOwnerBText=_jQueryGS(editFieldsHolder).css("display");if(null==chanOwnerBText&&"none"==chanOwnerBText||_jQueryGS(editFieldsHolder).attr("datatype")!=type&&zgssearch.hideEditFieldsList(),null==(chanOwnerBText=_jQueryGS(editFieldsHolder).css("display"))||"none"===chanOwnerBText){zgssearch.hideEditFieldsList();var parent,resObj,portalId,uniqueIds=[],ownerList={},argbject={},isKeyExists=!1,curOwnerId="",notify_display="",chanOwnerSText=zgssearch.getI18NMsg("common.search"),chanOwnerBText="";"crmOwnerChange"==type||"biginOwnerChange"==type?(notify_display="block",parent=gsaction.currSearchType.getTargetElem("#zgs20_gsCrmImpInnerContent"),chanOwnerBText=zgssearch.getI18NMsg("gs.search.callout.crm.change"),curOwnerId=gsaction.currSearchType.getCurrentCRMOwner()||"",resObj=gsaction.currSearchType.getServiceName(),portalId=gsaction.currSearchType.getCurrAccId(),isKeyExists=zgssearch[resObj+"OrgInfo"].isUserExists(portalId),ownerList=zgssearch[resObj+"OrgInfo"].getUsersInMod(portalId),argbject={type:type,tarElem:tarElem}):"deskOwnerChange"==type&&(notify_display="none",parent=gsaction.currSearchType.getTargetElem("#zgs20_gsCalloutMetaInfo"),chanOwnerBText=zgssearch.getI18NMsg("gs.search.callout.crm.assign"),curOwnerId=zgssearch.gssupport.assigneeId||"",resObj=gsaction.currSearchType.getCurrentResultObj(),portalId=gsaction.currSearchType.getCurrAccId(),cancelText=zgssearch.gssupportaction.getSupportUnAssObj(),notifyText=zgssearch.gssupportaction.getSupportContactsObj(portalId,resObj.DEP_ID),isKeyExists=zgssearch.gssupportaction.isSupportDeptAgentExists(portalId,resObj.DEP_ID),argbject={curPortalId:portalId,curDeptId:resObj.DEP_ID,type:type,tarElem:tarElem},ownerList=_jQueryGS.extend({},cancelText,notifyText));var cancelText=zgssearch.getI18NMsg("common.cancel"),notifyText=zgssearch.getI18NMsg("gs.search.callout.crm.notify_owner"),editFieldsHolder=gsaction.getEditFieldsHolder(type,chanOwnerSText,notifyText,chanOwnerBText,cancelText);if(_jQueryGS(parent).append(editFieldsHolder),isKeyExists){for(var id in ownerList){var ownerObj=ownerList[id];if(("null"!=curOwnerId||"Unassigned"!=id)&&(zgssearch.isArrayContain(id,uniqueIds)||curOwnerId==id||(uniqueIds.push(id),gsaction.renderEditFieldsChild(id,ownerObj,type,"")),10<=uniqueIds.length))break}_jQueryGS("#zgs20_gsEditFieldsNotify").css("display",notify_display),_jQueryGS("#zgs20_gsEditFieldsBottom").css("display","block"),uniqueIds.length<1&&(_jQueryGS("#zgs20_gsEditFieldsFooter").append(_jQueryGS("<span>",{class:"zgs19_gsEditFieldNoUser"}).text(zgssearch.getI18NMsg("common.no_users"))),_jQueryGS("#zgs20_gsEditFieldsNotify").css("display","none"),_jQueryGS("#zgs20_gsEditFieldsBottom").css("display","none")),gsaction.displayEditFieldsUI(tarElem),5<=uniqueIds.length&&(_jQueryGS("#zgs20_gsEditFieldsHeader").show(),zgssearch.focusForWeb("zgs20_gsEditFieldsQrybox")),zgssearch.isDashboardViewOpened()&&gsaction.updateEditFieldsHeight(tarElem)}else"deskOwnerChange"!=type&&"crmOwnerChange"!=type&&"biginOwnerChange"!=type||gsaction.addLoaderForEditFields(argbject),gsaction.displayEditFieldsUI(tarElem)}else zgssearch.hideEditFieldsList()},gsaction.renderEditFieldsChild=function(nameFragment,photoURL,nobj,eobj){var index=zgssearch.gsautocomplete.getSuggestIndex(),emailFragment=gsaction.getEditFieldsChild(index,nobj);_jQueryGS(emailFragment).attr("index",index),_jQueryGS("#zgs20_gsEditFieldsFooter").append(emailFragment);var oid=zgssearch.replaceHTMLEntity(nameFragment),name=zgssearch.replaceHTMLEntity(photoURL.full_name),email=zgssearch.replaceHTMLEntity(photoURL.email),nobj=zgssearch.gsautocomplete.gethighlighttext(name," "+eobj,!1),emailFragment={class:"zgs19_gshighlight"},email=email&&"null"!=email.toLowerCase()?email:"",nameFragment=zgssearch.gssecurity.getHighlightTextNode(nobj.prefix,nobj.match,nobj.suffix,emailFragment);zgssearch.getTargetElem("zgs20_gsEditFieldsChildName"+index).appendChild(nameFragment);eobj=0==nobj.isMatched?zgssearch.gsautocomplete.gethighlighttext(email," "+eobj,!0):{prefix:email},emailFragment=zgssearch.gssecurity.getHighlightTextNode(eobj.prefix,eobj.match,eobj.suffix,emailFragment);zgssearch.getTargetElem("zgs20_gsEditFieldsChildEmail"+index).appendChild(emailFragment),_jQueryGS("#zgs20_gsEditFieldsChildName"+index).attr("gstitle",name),_jQueryGS("#zgs20_gsEditFieldsChildEmail"+index).attr("gstitle",email),_jQueryGS("#zgs20_gsEditFieldsChild"+index).attr("oid",oid);photoURL=photoURL.zuid;photoURL&&"-1"!==photoURL?(photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.updateUserPhoto("zgs20_gsEditFieldsChild"+index,photoURL)):zgssearch.loadResNoPhotoImg("zgs20_gsEditFieldsChild"+index),zgssearch.addEventForEditFieldsQueryBox()},gsaction.clickEditFieldsUI=function(modName,type){var notify,action,portalId,attrObj,resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),calloutResp=zgssearch.gsaction.currSearchType.getCurrentResponseObj(),params="",curOwnerId="",serviceName=zgssearch.gsaction.currSearchType.getServiceName(),oid=_jQueryGS(modName).attr("oid"),oname=_jQueryGS(modName).find(".zgs19_gsAutoSuggChildName").attr("gstitle");"crmOwnerChange"==type||"biginOwnerChange"==type?(curOwnerId=zgssearch.gsaction.currSearchType.getCurrentCRMOwner(),notify=_jQueryGS("#zgs20_gsEditFieldsHolder").find(".zgs19_gsEditFieldsCheck").prop("checked")||!1,action="biginOwnerChange"===type?"updateBiginRecords":"updateCRMRecords",portalId=zgssearch.gsaction.currSearchType.getCurrAccId(),modName=serviceName==zgssearch.GSConstant.CRM?"crmMod":serviceName==zgssearch.GSConstant.BIGIN?"module":"",params="action="+action+"&entityId="+(resObj.id||calloutResp[zgssearch.entity_id])+"&"+modName+"="+resObj.mod+"&ownerID="+encodeURIComponent(oid)+"&notify="+notify+"&orgId="+portalId):"deskOwnerChange"==type&&(curOwnerId=zgssearch.gssupport.assigneeId||"",portalId=zgssearch.gsaction.currSearchType.getCurrAccId()||resObj.accId||resObj[zgssearch.account_id],params="action=updateDeskAssignee&id="+(resObj.doc_id||calloutResp[zgssearch.entity_id])+"&portalId="+portalId+"&assigneeId="+encodeURIComponent(oid)),oid!=curOwnerId?(zgssearch.hideEditFieldsList(),zgssearch.showSearchPageLoader(),zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,params,attrObj={id:oid,name:oname,type:type,serviceName:serviceName},function(nscallout,status,calloutObj){zgssearch.hideSearchPageLoader();var service,nresObj,ncount=zgssearch.jsonParse(nscallout),response=ncount&&ncount.response||"";"SUCCESS"==response?(service=(nresObj=calloutObj.args||{}).serviceName,nscallout="",ncount="gs.search.callout.crm.success.update",GSConstant.SUPPORT==service&&("Unassigned"==nresObj.id?ncount="gs.search.callout.desk.success.unassign_update":(ncount="gs.search.callout.desk.success.update",nscallout=" "+attrObj.name)),calloutObj=zgssearch.getI18NMsg(ncount)+nscallout,zgssearch.showbannertip({ty:1,msg:calloutObj}),nresObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),ncount=zgssearch.getCurCalloutCount(),nscallout=zgssearch.mappedServiceList[service].callout,calloutObj=zgssearch.gsaction.currSearchType.getSearchDBCalloutObj(),zgssearch.showCalloutLoader(calloutObj),zgssearch.calloutAjaxRequest(nscallout,nresObj,ncount,{curCalloutCount:ncount,updateRecord:!0,searchObj:calloutObj},service)):zgssearch.showbannertip({ty:3,msg:zgssearch.getI18NMsg("CANNOT_PERFORM_ACTION"!=response&&"INVALID_DATA"!=response?"gs.search.callout.crm.errorresp2":"gs.search.callout.crm.errorresp1")})})):zgssearch.hideEditFieldsList()},gsaction.searchForEditFields=function(){zgssearch.currEditFieldselecelem="",zgssearch.isEditFieldsLoader=!1,zgssearch.isEditFieldsLoaderUI=!1,_jQueryGS("#zgs20_gsEditFieldsFooter").empty(),_jQueryGS(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn");var orgId,service,flag,cur_time,query=(query=zgssearch.getValue("zgs20_gsEditFieldsQrybox")).trim(),idCount=0,ownerList={},deskObject={},resObj="",portalId="",curOwnerId="",datatype=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype");if("crmOwnerChange"==datatype||"biginOwnerChange"==datatype?(orgId=zgssearch.gsaction.currSearchType.getCurrAccId(),service=zgssearch.getCalloutSearchType(),ownerList=zgssearch[service+"OrgInfo"].getUsersInMod(orgId),curOwnerId=zgssearch.gscrm.crmOwnerData?zgssearch.gscrm.crmOwnerData.id:""):"deskOwnerChange"==datatype?(resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),curOwnerId=zgssearch.gssupport.assigneeId||"",portalId=zgssearch.gsaction.currSearchType.getCurrAccId(),cur_time=zgssearch.gssupportaction.getSupportUnAssObj(),deskObject=zgssearch.gssupportaction.getSupportContactsObj(portalId,resObj.DEP_ID),ownerList=_jQueryGS.extend({},cur_time,deskObject)):"statusChange"==datatype&&(resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),portalId=zgssearch.gsaction.currSearchType.getCurrAccId(),ownerList=zgssearch.gssupportaction.getSupportStatusObj(portalId,resObj.DEP_ID)),zgssearch.isQueryValid(query)){var dn=query.replace(zgssearch.gsautocomplete.regex_replacer,"\\$&");for(id in ownerList){ownerObj=ownerList[id];if(curOwnerId!=id){var name="",email="";"statusChange"==datatype?name=ownerObj.name:(name=zgssearch.replaceHTMLEntity(ownerObj.full_name),email=zgssearch.replaceHTMLEntity(ownerObj.email));var emailReg=new RegExp("(^"+dn+"|\\s"+dn+")","i");if(-1<name.search(emailReg)?"statusChange"==datatype?zgssearch.gssupportaction.renderStatusOptionChild(ownerObj,datatype):gsaction.renderEditFieldsChild(id,ownerObj,datatype,query):"crmOwnerChange"!=datatype&&"deskOwnerChange"!=datatype||(emailReg=new RegExp(dn,"i"),-1<email.search(emailReg)&&gsaction.renderEditFieldsChild(id,ownerObj,datatype,query)),10<=(idCount=_jQueryGS("#zgs20_gsEditFieldsFooter").find(".zgs19_gsEditFieldsChild").length))break}}}else for(var id in ownerList){var ownerObj=ownerList[id];if("statusChange"==datatype?zgssearch.gssupportaction.renderStatusOptionChild(ownerObj,datatype):gsaction.renderEditFieldsChild(id,ownerObj,datatype,""),10<=(idCount=_jQueryGS("#zgs20_gsEditFieldsFooter").find(".zgs19_gsEditFieldsChild").length))break}"deskOwnerChange"!=datatype&&"crmOwnerChange"!=datatype&&"biginOwnerChange"!=datatype||(flag=idCount<1?"none":"block",_jQueryGS("#zgs20_gsEditFieldsBottom").css("display",flag),"crmOwnerChange"!=datatype&&"biginOwnerChange"!=datatype||_jQueryGS("#zgs20_gsEditFieldsNotify").css("display",flag)),0==idCount&&"deskOwnerChange"==datatype&&(Object.keys(deskObject).length||0)>=zgssearch.gssupportaction.defDeskContactsCount&&(flag=(cur_time=zgssearch.gsusercontacts.queueserver).flag||!1,deskObject=cur_time.expiry_time||0,cur_time=(new Date).getTime(),(!flag||15e3<cur_time-deskObject)&&(deskObject="&portalId="+portalId+"&deptId="+resObj.DEP_ID,zgssearch.gssupportaction.isDeskSearchReqCached(query,deskObject)||(deskObject={curPortalId:portalId,curDeptId:resObj.DEP_ID,type:datatype,query:query,extraParams:deskObject},gsaction.addLoaderForEditFields(deskObject))))},gsaction.addLoaderForEditFields=function(argObj){var datatype,orgId,service=zgssearch.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");_jQueryGS("#zgs20_gsEditFieldsFooter").empty().append(service),_jQueryGS("#zgs20_gsEditFieldsBottom").hide(),_jQueryGS("#zgs20_gsEditFieldsNotify").hide(),zgssearch.isEditFieldsLoaderUI=!0,zgssearch.isEditFieldsLoader||(zgssearch.isEditFieldsLoader=!0,"crmOwnerChange"==(datatype=argObj.type||"")||"biginOwnerChange"==datatype?(orgId=gsaction.currSearchType.getCurrAccId(),service=zgssearch.gsaction.currSearchType.getServiceName(),zgssearch[service+"OrgInfo"].fetchUsersInfo(argObj,orgId)):"deskOwnerChange"==datatype&&zgssearch.gssupportaction.fetchSupportAgentInfo(argObj))},gsaction.handleEnterAction=function(){var target=zgssearch.currEditFieldselecelem;"statusChange"==_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype")&&zgssearch.gssupportaction.clickActionForStatus(target)},gsaction)}(zgssearch,window),zgssearch.servicesWithNoEmptyResponse=[zgssearch.GSConstant.BOX],zgssearch.commonTemplateConstants={author:"author_name",name:"doc_name",time:"time"},zgssearch.iframeUrl,zgssearch.FileMgmtFactory=function(){this.createFileMgmtService=function(serviceInfo={}){var fileServiceInstance;switch(serviceInfo.service){case zgssearch.GSConstant.DROPBOX:fileServiceInstance=new DropBox;break;case zgssearch.GSConstant.BOX:fileServiceInstance=new Box;break;case zgssearch.GSConstant.GOOGLEDRIVE:fileServiceInstance=new Gdrive;break;case zgssearch.GSConstant.ONEDRIVE:fileServiceInstance=new Onedrive}return fileServiceInstance.service=serviceInfo.service,fileServiceInstance.accId=serviceInfo.accountId||"",fileServiceInstance.offset=-1<serviceInfo.offset?serviceInfo.offset:"",fileServiceInstance.parentId=serviceInfo.parentId||"",fileServiceInstance.setResponseObj=function(responseObj){this.responseObj=responseObj},fileServiceInstance.fileObj={},fileServiceInstance.calloutObj={},fileServiceInstance.previewObj={},fileServiceInstance.parentElem=serviceInfo.parentElem||"",fileServiceInstance.cardObj=serviceInfo.cardObj||"",fileServiceInstance.getAccId=function(){return this.accId},fileServiceInstance.getService=function(){return this.service},fileServiceInstance.getOffsetValue=function(){return this.offset},fileServiceInstance.getFileObj=function(){return this.fileObj},fileServiceInstance.getParentId=function(){return this.parentId},fileServiceInstance.getResponseObj=function(){return this.responseObj},fileServiceInstance.getPreviewObj=function(){return this.previewObj},fileServiceInstance.setCalloutHolder=function(calloutHolder){this.calloutHolder=calloutHolder},fileServiceInstance.getCalloutHolder=function(){return this.calloutHolder||"zgs20_gsDocsCallout"},fileServiceInstance.setPreviewParentId=function(previewId){this.previewId=previewId},fileServiceInstance.getPreviewParentId=function(){return this.previewId},fileServiceInstance.setCommonTemplateValues=function(){this.fileObj.accId=this.getAccId(),this.fileObj.serviceName=this.getService(),this.fileObj.type=this.cardObj?this.cardObj.type:"Search"},fileServiceInstance.renderResults=function(){var responseObj=this.getResponseObj();this.setCommonTemplateValues(),this.fileObj.results=[],this.fileObj.results=this.formatResults(responseObj),this.appendResults()},fileServiceInstance.setCommonResultProperties=function(resultObj){var offset=this.getOffsetValue(),tempFileObj={};tempFileObj.index=offset,tempFileObj.shared=resultObj.shared_type||"",tempFileObj.serviceImg=resultObj.servImg||"",tempFileObj.serviceImgTitle=zgssearch.getDocResTT(resultObj.servImg),tempFileObj.footer_tip=zgssearch.getI18NMsg("common.author"),tempFileObj.gsAttr=this.cardObj?this.cardObj.gsattr:"searchResultTable";var accId=this.getAccId(),currentDivId=this.getService();tempFileObj.doc_link=zgssearch.fetchCalloutUrlByAccId(currentDivId,resultObj,accId);var sVal=resultObj.shared?3===resultObj.shared_type?1:0:-1;0!=(sVal=resultObj.shared?3===resultObj.shared_type?1:resultObj.sharedByMe?-1:0:-1)&&1!=sVal||(tempFileObj.isShared=!0,tempFileObj.sharedIcon=zgssearch.docsShared[sVal].icon,tempFileObj.sharedTitle=zgssearch.docsShared[sVal].title);currentDivId="zgs20_gs"+currentDivId+"Results_"+offset;return this.cardObj?currentDivId="zgs20_"+this.cardObj.cardId+"_"+offset:zgssearch.multiPageEnabled&&(currentDivId="zgs20_gs"+accId+"Results_"+offset),tempFileObj.id=currentDivId,tempFileObj},fileServiceInstance.appendResults=function(){var templateFunc,parentDivElem,fileObj,load_instance=this.getService();zgssearch.isHandlebarLoaded()?(parentDivElem=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),templateFunc=search_handlebars.templates[parentDivElem],fileObj=this.getParentId(),parentDivElem=this.parentElem||_jQueryGS("#"+fileObj),fileObj=this.getFileObj(),1<this.getOffsetValue()?parentDivElem.append(templateFunc(fileObj)):parentDivElem.html(templateFunc(fileObj))):(null!=(load_instance=(new zgssearch.ResourceFactory).createInstance(load_instance,!0))&&load_instance.load(),this.appendResults())},fileServiceInstance.commonCalloutParams=function(resObj){return{serviceName:this.getService(),cId:resObj.CONNECTOR_ID||zgssearch.getResultAccountId()||resObj.accId||"",pkid:resObj.doc_id||resObj.id||resObj[zgssearch.entity_id]||"",extn:resObj.extn||"",type:resObj.rtype||"",fileName:resObj.name||zgssearch.FILE,mType:resObj.mtype||resObj.mimeType||""}},fileServiceInstance.setCommonCalloutProperties=function(resObj,curCalloutObj){var currEle=zgssearch.getCurrentSelectedElem()||{},service=this.getService();this.calloutObj.service=this.getService(),this.calloutObj.fileUrl=zgssearch.fetchCalloutUrl(service,resObj),this.calloutObj.postedBy=this.getPostedByInfo(resObj),this.calloutObj.labelAttr=_jQueryGS(currEle.resultTitle).attr("gslabel")||"",this.calloutObj.userPhotoObj=this.constructAuthorPhotoObj(resObj),this.calloutObj.loadericonId="zgs20_gsdocsprevLoader",this.calloutObj.loadericonClass="zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader",this.calloutObj.curCalloutObj=curCalloutObj,this.calloutObj.calloutId=curCalloutObj?curCalloutObj.calloutId:"zgs20_gsDocsCallout",this.calloutObj.calloutHolderId=!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?"zgs20_gsDocsPreviewHolder":"zgs20_gs_"+curCalloutObj.calloutId+"PreviewHolder",this.setCalloutHolder(this.calloutObj.calloutId),this.setPreviewParentId(this.calloutObj.calloutHolderId)},fileServiceInstance.constructCalloutResponse=function(response,resObj,parentDiv){var curCalloutObj=parentDiv.searchObj;this.setCommonCalloutProperties(resObj,curCalloutObj),this.setServiceSpecificCalloutInfo(resObj),this.calloutObj.ownerTitle=this.calloutObj[zgssearch.commonTemplateConstants.author];parentDiv=curCalloutObj?curCalloutObj.parentElem:"#zgs20_gsSearchResultRight";this.calloutObj.userPhotoObj.hasOwnProperty("class")||(this.calloutObj.userPhotoObj.isGroup?(this.calloutObj.userPhotoObj.isSpan=!0,this.calloutObj.userPhotoObj.class="zgs18_gsGroupIcon "):this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"),this.renderCalloutView(response,resObj,parentDiv,curCalloutObj)},fileServiceInstance.renderCalloutView=function(response,resObj,parentDiv,curCalloutObj){var menuEl=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),menuEl=search_handlebars.templates[menuEl];_jQueryGS(parentDiv).html(menuEl(this.calloutObj));menuEl=this.calloutObj.userPhotoObj;menuEl&&zgssearch.renderPhoto(menuEl.id,menuEl.url,menuEl.class,"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",null);menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl),this.calloutObj.curCalloutObj.iconDisplay||_jQueryGS(menuEl.maxpreview).css("display","none"),_jQueryGS(menuEl.minpreview).css("display","none"),this.isFileDownloadable(resObj)||_jQueryGS(menuEl.docsdownload).css("display","none"),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),this.setCalloutEleSize(),this.renderCalloutPreview(resObj,response),this.addCalloutActionList(resObj,curCalloutObj)},fileServiceInstance.getPostedByInfo=function(resObj){var service=this.getService(),createdBy=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),sharedBy=zgssearch.getI18NMsg("common.shared_by"),ownedBy=zgssearch.getI18NMsg("common.owned_by"),path=zgssearch.getI18NMsg("common.path");return resObj.shared||resObj.stm?service==zgssearch.GSConstant.ONEDRIVE&&resObj.sharedByMe?createdBy:sharedBy:resObj.path?path:service==zgssearch.GSConstant.ONEDRIVE?createdBy:ownedBy},fileServiceInstance.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var contentHeight=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height());contentHeight=_jQueryGS("#"+this.getCalloutHolder()).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},fileServiceInstance.constructAuthorPhotoObj=function(sname){var userPhotoObj={},zuid=zgssearch.getCurCalloutCount();userPhotoObj.id="zgs20_gsDocsCalloutUserImg"+zuid,userPhotoObj.url=zgssearch.gsspacer,userPhotoObj.isGroup=!1,userPhotoObj.isSpan=!1;zuid=sname.zuid,sname=zgssearch.getUserStatus(zuid);return this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder","-1"!==zuid&&void 0!==zuid&&(sname=sname.name||"",userPhotoObj.class="zgs19_gsCalloutUserImg",userPhotoObj.url=zgssearch.getThumbPhotoURL(zuid),this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder "+sname),userPhotoObj},fileServiceInstance.renderCalloutPreview=function(resObj,response){var paramsObj,previewType,previewObject,service=this.getService(),parentId=this.getPreviewParentId(),preview=new zgssearch.ZSPreview;!response&&-1<zgssearch.servicesWithNoEmptyResponse.indexOf(service)?((previewObject=preview.createPreviewObj(previewType)).setParentId(parentId),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.hideLoader(),previewObject.setCardObj(this.cardObj),paramsObj={txt:zgssearch.getI18NMsg("gs.search.result.preview.status.callout.errortext")},previewObject.constructErrorDOMContent(paramsObj)):(previewType=this.getPreviewType(resObj,response)||resObj.doc_type||"",previewObject=preview.createPreviewObj(previewType),zgssearch.iframeUrl&&(previewObject.setIframeUrl(zgssearch.iframeUrl),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor"),previewObject.setIframeId("callout_iframe_"+(new Date).getTime()),previewObject.setSandbox("allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation\tallow-same-origin allow-scripts")),previewObject.setService(service),previewObject.setCardObj(this.cardObj),previewObject.setPreviewHolder("docspreviewHolder"),previewObject.setCalloutHolder(this.getCalloutHolder()),previewObject.setParentId(parentId),previewObject.setLoaderIconId("zgs20_gsdocsprevLoader"),previewObject.renderPreview(),zgssearch.calloutVisitRequest())},fileServiceInstance.addCalloutActionList=function(resObj){var service=this.getService(),menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{addToWD:"gs.search.addToWd"}],i=0;i<alist.length;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("download"==key||"addToWD"==key){var docType=(docType=resObj.doc_type||resObj.rtype||"")||resObj.mimeType?docType:zgssearch.FOLDER,downloadURL=zgssearch.GSConstant.downloadServer;if(!downloadURL&&"null"===downloadURL||docType===zgssearch.FOLDER||service==zgssearch.GSConstant.BOX&&(resObj.hasOwnProperty("is_download")||"boxnote"==resObj.extn)||resObj.hasOwnProperty("is_down")&&!resObj.is_down)continue}"addToWD"==key&&!zgssearch.addToWDEnabled()||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service,gstitle:dectext}).text(dectext))}}},fileServiceInstance.setServiceEleSize=function(curResEleId,curResPageHeight){this.setCalloutEleSize(),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},fileServiceInstance.downloadDocument=function(resObj,connectorId){var actionType=(new zgssearch.dashboardSearchActions).createActionType(connectorId),paramObj={},downloadUrl="",service=actionType.getServiceName(),connectorId=actionType.getCurrAccId();-1<zgssearch.getEnabledCloudApps().indexOf(service)&&(service===zgssearch.GSConstant.ONEDRIVE&&(paramObj.accId=actionType.getCurrAccId()),paramObj.service=service,paramObj.appId=zgssearch.getAppIdForCloudApps(connectorId,service),paramObj.connectorId=connectorId,downloadUrl=zgssearch.connectors.constructZSYNCDownloadURL(paramObj,resObj)),zgssearch.network.download_file(downloadUrl)},fileServiceInstance.addToWD=function(service,resObj,paramObj,folderId){var actionType=(new zgssearch.dashboardSearchActions).createActionType(paramObj),paramObj={};service===zgssearch.GSConstant.ONEDRIVE&&(paramObj.accId=actionType.getCurrAccId()),paramObj.connectorId=actionType.getCurrAccId(),paramObj.service=service,paramObj.folderId=folderId,zgssearch.connectors.addFileToWD(paramObj,resObj)},fileServiceInstance.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},fileServiceInstance.getPreviewType=function(rle,resp){var previewType,type=this.getService();return rle.hasOwnProperty("is_preview")&&!rle.is_preview?rle.hasOwnProperty("extn")&&rle.extn===zgssearch.ZIP||"application/zip"==rle.mimeType?previewType=zgssearch.ZIP:type==zgssearch.GSConstant.ONEDRIVE?previewType=10==rle.cSize?zgssearch.FILE:zgssearch.FOLDER:(type=rle.rtype||"",rle=rle.rle||!1,type!==zgssearch.FOLDER&&!rle||(previewType=type===zgssearch.FOLDER?zgssearch.FOLDER:zgssearch.FILE)):(resp=resp.response,zgssearch.iframeUrl=resp&&resp.url?resp.url:"",zgssearch.iframeUrl&&(previewType=zgssearch.IFRAME)),previewType},fileServiceInstance.isFileDownloadable=function(resObj){var service=this.getService(),isDownloadable=!0;if((resObj.doc_type||resObj.rtype)==zgssearch.FOLDER)isDownloadable=!1;else switch(service){case zgssearch.GSConstant.BOX:!resObj.hasOwnProperty("is_download")&&"boxnote"!=resObj.extn||(isDownloadable=!1);break;case zgssearch.GSConstant.DROPBOX:case zgssearch.GSConstant.GOOGLEDRIVE:resObj.hasOwnProperty("is_down")&&!resObj.is_down&&(isDownloadable=!1);break;case zgssearch.GSConstant.ONEDRIVE:service!=zgssearch.GSConstant.ONEDRIVE||resObj.mimeType||(isDownloadable=!1)}return isDownloadable},fileServiceInstance}};var Box=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.owner,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.time,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getBoxPreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&file_id="+paramsObj.pkid+"&extn="+paramsObj.extn+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time}},DropBox=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(footerTip){var currentObj=self.setCommonResultProperties(footerTip);currentObj[zgssearch.commonTemplateConstants.author]=footerTip.path,currentObj[zgssearch.commonTemplateConstants.name]=footerTip.name,currentObj[zgssearch.commonTemplateConstants.time]=footerTip.time;footerTip=(footerTip=zgssearch.getI18NMsg("common.path")).charAt(0).toUpperCase()+footerTip.slice(1);currentObj.footerTip=footerTip,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getUDDropboxPreviewUrl&pkid="+paramsObj.pkid+"&res_type="+paramsObj.type+"&res_extn="+paramsObj.extn+"&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&file_name="+encodeURIComponent(paramsObj.fileName)+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.path,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time,resObj.rtype&&(resObj.rtype!=zgssearch.FOLDER?this.getDropboxFileOwner(resObj,this.calloutObj):(this.calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons "+resObj.servImg+" zgs19_gsMg13px",this.calloutObj.userPhotoObj.isSpan=!0))},this.getDropboxFileOwner=function(responseObj,calloutObj){var pkid=responseObj.id,params=responseObj.CONNECTOR_ID,urlObj=zgssearch.getAppIdForCloudApps(params),params="action=getFileMembers&pkid="+pkid+"&service_name="+zgssearch.GSConstant.DROPBOX+"&connector_id="+params+"&app_id="+urlObj,urlObj={url:"/zgssearch/exconnector/getCalloutData",async:!1,type:"GET"};urlObj.data=params,urlObj.dataType="text",urlObj.success=function(toBeShownCount){var editors,editorArr,ownerCount,ownerDetails,fileDetails,toBeShownCount=JSON.parse(toBeShownCount);toBeShownCount.response&&((toBeShownCount=toBeShownCount.response).owner?(0<(editors=(editorArr=toBeShownCount.owner).owner_arr).length&&(fileDetails=editors),editorArr.is_multi&&(calloutObj.userPhotoObj.isGroup=!0),calloutObj.postedBy=zgssearch.I18N.getValue("gs.callout.owned.by")):(toBeShownCount.editor||toBeShownCount.viewer)&&(toBeShownCount.editor&&(0<(editorArr=(editors=toBeShownCount.editor).editor_arr).length&&(fileDetails=editorArr),editors.is_multi&&(calloutObj.userPhotoObj.isGroup=!0)),toBeShownCount.viewer&&(0<(ownerCount=(ownerDetails=toBeShownCount.viewer).viewer_arr).length&&(fileDetails?Array.prototype.push.apply(fileDetails,ownerCount):fileDetails=ownerCount),ownerDetails.is_multi&&(calloutObj.userPhotoObj.isGroup=!0))),fileDetails?(calloutObj.postedBy=zgssearch.I18N.getValue("gs.search.result.document.callout.sharedwith"),(toBeShownCount=1)==zgssearch.gscomponent.UIType&&(toBeShownCount=3),fileDetails.length>toBeShownCount&&(ownerDetails=1==(ownerCount=fileDetails.length-toBeShownCount)?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):zgssearch.getI18NMsg("gs.search.result.mail.menu.others"),calloutObj.ownerCountTitle="+"+ownerCount+" "+ownerDetails,ownerDetails=fileDetails.splice(toBeShownCount,fileDetails.length),fileDetails=fileDetails.splice(0,toBeShownCount),calloutObj.multiOwnerTitle=calloutObj.postedBy,calloutObj.multiOwnerList=ownerDetails),fileDetails=fileDetails.join(", ")):(responseObj.path?fileDetails=responseObj.path:(fileDetails=responseObj.time,calloutObj.postedBy=zgssearch.I18N.getValue("gs.search.sevice_docs_lastModifiedTime")),calloutObj.userPhotoObj.class="zgs19_gsResultsUniIcons "+responseObj.servImg+" zgs19_gsFileIcon"),calloutObj[zgssearch.commonTemplateConstants.author]=fileDetails)},zgssearch.network.uri(urlObj)}},Gdrive=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.owner,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.time,resObj.stm&&(currentObj.sharedIcon=zgssearch.docsShared[0].icon,currentObj.sharedTitle=zgssearch.docsShared[0].title,currentObj.isShared=!0),resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),mimeType=encodeURIComponent(paramsObj.mType),zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getUDGDrivePreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&pkid="+paramsObj.pkid+"&res_type="+paramsObj.type+"&res_extn="+paramsObj.extn+"&mime_type="+mimeType+"&file_name="+encodeURIComponent(paramsObj.fileName)+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.owner,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.time,this.calloutObj.userPhotoObj.url=resObj.photo||"",this.calloutObj.userPhotoObj.class="zgs19_gsCalloutUserImg"}},Onedrive=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.createdBy,currentObj[zgssearch.commonTemplateConstants.name]=resObj.name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.lmtime,resultArr.push(currentObj),self.offset++}),resultArr},this.calloutParams=function(zsoid){var paramsObj=this.commonCalloutParams(zsoid),driveId=zsoid.driveId||"",zsoid=zgssearch.getAppIdForCloudApps(paramsObj.cId);return"action=getOneDrivePreviewUrl&service_name="+paramsObj.serviceName+"&connector_id="+paramsObj.cId+"&id="+paramsObj.pkid+"&mimeType="+paramsObj.mType+"&name="+encodeURIComponent(paramsObj.fileName)+"&driveId="+driveId+"&app_id="+zsoid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.createdBy,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.lmtime,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.name,this.calloutObj.cursorClass="zgs19_gsCurPointer"}},Docs=function(){this.formatResults=function(res){var resultArr=[],self=this;return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj[zgssearch.commonTemplateConstants.author]=resObj.author,currentObj[zgssearch.commonTemplateConstants.name]=resObj.doc_name,currentObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,resultArr.push(currentObj),self.offset++}),resultArr},this.callOutParams=function(paramsObj){paramsObj=this.commonCalloutParams(paramsObj);return"searchType="+paramsObj.serviceName+"&docId="+paramsObj.pkid},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj[zgssearch.commonTemplateConstants.author]=resObj.author,this.calloutObj[zgssearch.commonTemplateConstants.name]=resObj.doc_name,this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.getDocsPreviewURL=function(resObj){var servImg=resObj.servImg,resourceId=resObj.docid;switch(servImg=zgssearch.isPreviewOpenedInComponent?"zgs19_"+resObj.service:servImg){case"zgs19_txt":case"zgs19_word":case"zgs19_writer":return zgssearch.GSConstant.GS_DOCS_URL+"/writer/preview/"+resourceId;case"zgs19_xl":case"zgs19_sheet":return zgssearch.GSConstant.GS_DOCS_URL+"/sheet/preview.do?rid="+resourceId+"&top=no";case"zgs19_power":case"zgs19_show":return zgssearch.GSConstant.GS_DOCS_URL+"/show/preview/"+resourceId+"?notopbar=true";default:return zgssearch.GSConstant.GS_DOCS_URL+"/orgembed/"+resourceId}}};zgssearch.ZSProjectMgmtFactory=function(){var projectInstance;zgssearch.asanaStoryAuthorObj={},this.createProjectMgmtInstance=function(service_info){switch(service_info.service_name){case zgssearch.GSConstant.ASANA:projectInstance=new zgssearch.ASANA;break;case zgssearch.GSConstant.PROJECTS:projectInstance=new zgssearch.PROJECTS}return projectInstance.service=service_info.service_name,projectInstance.results=service_info.results,projectInstance.parentId=service_info.parent_div_id,projectInstance.offset=service_info.offset,projectInstance.moduleResultId=service_info.module_parent_id||"",projectInstance.workspaceId=service_info.search_workspace_id||"",projectInstance.workspaceName=service_info.search_workspace_name||"",projectInstance.resultsAreaWidth=service_info.results_area_width||"",projectInstance.accId=service_info.acc_id||"",projectInstance.wsType=service_info.search_type||"",projectInstance.cardObj=service_info.cardObj||"",projectInstance.cardArgObj="",projectInstance.limit=service_info.limit||0,projectInstance.calloutHolder=service_info.calloutHolder||"",projectInstance.parent=service_info.parent||"#zgs20_gsSearchResultRight",projectInstance.resultObj=service_info.resultObj||zgssearch.getCurrentResObj()||{},service_info.timezone?projectInstance.setTimezone(service_info.timezone):zgssearch.gsprojects&&zgssearch.gsprojects.portalTimezone&&zgssearch.gsprojects.portalTimezone.hasOwnProperty(service_info.acc_id)&&projectInstance.setTimezone(zgssearch.gsprojects.portalTimezone[service_info.acc_id]),projectInstance.setCalloutResponse=function(response){this.taskCalloutResponse=response},projectInstance.getSearchResults=function(){return this.results},projectInstance.getService=function(){return this.service},projectInstance.getResultObj=function(){return this.resultObj},projectInstance.getParentId=function(){return this.parentId},projectInstance.getOffset=function(){return this.offset},projectInstance.getModuleResId=function(){return this.moduleResultId},projectInstance.getModuleType=function(){return this.moduleType},projectInstance.getWorkspaceId=function(){return this.workspaceId},projectInstance.getWorkspaceName=function(){return this.workspaceName},projectInstance.getResultsAreaWidth=function(){return this.resultsAreaWidth},projectInstance.getProjectsResObj=function(){return this.projectsResObj},projectInstance.getAccountId=function(){return this.accId},projectInstance.getWorkspaceType=function(){return this.wsType},projectInstance.getCalloutResponse=function(){return this.taskCalloutResponse},projectInstance.getCalloutHolder=function(){return this.getCardObj().hasOwnProperty("calloutId")?this.cardObj.calloutId:this.calloutHolder||"zgs20_gsProjectsCallout"},projectInstance.getCardObj=function(){return this.cardObj},projectInstance.getSearchType=function(){var cardObj=this.getCardObj();return!_jQueryGS.isEmptyObject(cardObj)&&cardObj.type?cardObj.type:"Search"},projectInstance.renderResults=function(){this.projectsResObj={serviceName:this.getService(),accId:this.getAccountId(),type:this.getSearchType(),resGSAttr:!_jQueryGS.isEmptyObject(this.cardObj)&&this.cardObj.hasOwnProperty("gsattr")?this.cardObj.gsattr:"searchResultTable"},this.formatResults(),this.appendResults()},projectInstance.appendResults=function(){var projectsObj=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),templateFunc=search_handlebars.templates[projectsObj],wsHeader=this.getParentId(),parentDivElem=_jQueryGS("#"+wsHeader),projectsObj=this.getProjectsResObj();"all"==this.getWorkspaceType()?(wsHeader=this.getWsHeader(),parentDivElem.append(wsHeader).append(templateFunc(projectsObj))):parentDivElem.append(templateFunc(projectsObj))},projectInstance.calloutResponse=function(){this.calloutObj={},this.setCommonCalloutProperties(),this.setServiceSpecificCalloutProp(),this.renderCallout()},projectInstance.renderCallout=function(){var parentDiv=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),menuEl=search_handlebars.templates[parentDiv],curCalloutObj=this.getCardObj(),parentDiv=curCalloutObj?curCalloutObj.parentElem:this.parent;_jQueryGS(parentDiv).html(menuEl(this.calloutObj));menuEl=this.calloutObj.userPhotoObj;menuEl&&zgssearch.renderPhoto(menuEl.id,menuEl.url,menuEl.class,"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",null),this.renderCalloutDetails(),zgssearch.calloutVisitRequest();menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.minpreview).css("display","none"),!curCalloutObj||_jQueryGS.isEmptyObject(curCalloutObj)||curCalloutObj.iconDisplay||_jQueryGS(menuEl.maxpreview).css("display","none"),this.setCalloutEleSize()},projectInstance.setCommonCalloutProperties=function(){var currEle=zgssearch.getCurrentSelectedElem();this.calloutObj.service=this.getService(),this.calloutObj.labelAttr=currEle?_jQueryGS(currEle.resultTitle).attr("gslabel"):""},projectInstance.setServiceEleSize=function(curResEleId,curResPageHeight){this.setCalloutEleSize(),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},projectInstance.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();let obj={entity_id:resObj.id,account_id:this.getAccountId(),project_id:resObj.project_id,module:resObj.mod_id};return resObj.hasOwnProperty("task_list_id")&&(obj.task_list_id=resObj.task_list_id),obj},projectInstance}},zgssearch.ASANA=function(){this.storyAuthorDetails={},this.calloutTaskDetails={a_name:"Assigned to",completed:"Status",due_on:"Due  Date",project:"Project",description:"Description"},this.formatResults=function(){var resArr=[],count=this.getOffset(),resObj=this.getSearchResults();this.projectsResObj.timeLabel=zgssearch.getI18NMsg("gs.search.result.creator.createdDate");var projData=zgssearch.getCurrentValue("accounts",this.getService()),currWS="0"==(currWS=zgssearch.getCurrentValue(zgssearch.WS,this.getService()))?"all":currWS;0<count&&0!=projData&&"all"!=currWS&&(resObj=zgssearch.Utils.fromEntries(zgssearch.Utils.objectEntries(resObj).slice(count,count+25))),this.projectsResObj.workspaceId=this.getWorkspaceId();var task,projVal=zgssearch.getCurrentValue("projects",this.getService());for(task in"all"!=projVal&&"0"!=projVal&&(projData=zgssearch.getFilterInfo(this.getService(),"projects","data"),this.projectsResObj.currContextFilter=projData[currWS]?projData[currWS][projVal]:zgssearch.getFilterInfo("asana","projects","dispname")),resObj){var resultObj={};resultObj.field1=resObj[task].name||"Untitled",resultObj.field2=resObj[task].a_name||resObj[task].a_email||"Unassigned",resultObj.field3=resObj[task].due_on,resultObj.time=resObj[task].created_at,resultObj.timeTitle=resObj[task].updated_time,resultObj.index=count,resultObj.userPhotoObj={},resultObj.userPhotoObj.isSpan=!0,resultObj.userPhotoObj.class="zgs18_gsTaskicon",resultObj.iconHolderClass="zgs19_gsUniIconHolder";var id=this.moduleResultId?this.getModuleResId():this.getWorkspaceId()+"Results_";resultObj.id="zgs20_gs"+id+count,this.setAdditionalInfo(resObj[task],resultObj),this.setMaxWidthOfElements(resultObj),resArr.push(resultObj),count++}this.projectsResObj.results=resArr},this.setAdditionalInfo=function(currWS,asanaObj){var currAcc,currProj,projData=currWS.memberships;0<projData.length&&(currProj=projData[0].project,asanaObj.projId=currProj.gid,asanaObj.contextualFilter=currProj.name,asanaObj.noFilter=!1,asanaObj.contextualLabel="Project",asanaObj.gsFilter="asanaProjects",asanaObj.moreProj=null,1<projData.length&&(asanaObj.gsFilter="moreAsanaProjects",asanaObj.moreProj="+"+(projData.length-1)),currAcc=zgssearch.getCurrentValue("accounts",this.getService()),currWS="0"==(currWS=zgssearch.getCurrentValue(zgssearch.WS,this.getService()))?"all":currWS,"all"!=(currProj="0"==(currProj=zgssearch.getCurrentValue("projects",this.getService()))?"all":currProj)&&(asanaObj.projId=currProj,projData=zgssearch.getFilterInfo(this.getService(),"projects","data"),asanaObj.contextualFilter=projData[currWS]?projData[currWS][currProj]:zgssearch.getFilterInfo("asana","projects","dispname"),asanaObj.gsFilter="",asanaObj.moreProj=null),("all"==currWS||0==currAcc||"all"==zgssearch.getSearchType()&&"asanaProjects"==asanaObj.gsFilter)&&(asanaObj.noFilter=!0,asanaObj.gsFilter=""))},this.getWsHeader=function(){var headerObj={id:this.getModuleResId(),serviceName:this.getService(),accId:this.getAccountId(),wsId:this.getWorkspaceId(),wsName:this.getWorkspaceName()};return this.constructHeader(headerObj)},this.constructHeader=function(headerInfo){return _jQueryGS("<div>",{id:headerInfo.id,class:"zgs19_gsServiceTopbandNew zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandWidgetNew zgs19_gsOverflow zgs19_gsfl",service:headerInfo.serviceName,workspace_id:headerInfo.wsId,style:"max-width:30%;"}).text("Workspace : ")).append(_jQueryGS("<div>",{class:"zgs19_gsServiceBandMultiWidget zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",service:headerInfo.serviceName,workspace_id:headerInfo.wsId,acc_id:headerInfo.accId,gs:"service_multi_mod",value:headerInfo.wsName,gstitle:headerInfo.wsName,style:"max-width:60%;"}).text(headerInfo.wsName))},this.calloutParams=function(resObj){var connector_id=this.getAccountId(),zsoid=zgssearch.getAppIdForCloudApps(connector_id);return"action=getAsanaTaskCallout&service_name=asana&connector_id="+connector_id+"&gid="+(resObj.gid||resObj.id)+"&story_limit=3&attach_limit=3&app_id="+zsoid},this.setServiceSpecificCalloutProp=function(){var taskDetails=this.getCalloutResponse(),resObj=zgssearch.getCurrentResObj()||{},taskDetails=taskDetails.task_info||{};this.calloutObj.field1=resObj.name||taskDetails.name||"Untitled",this.calloutObj.field2=resObj.a_name||resObj.a_email,this.calloutObj.field3=resObj.due_on||taskDetails.due_on,this.calloutObj.projectUrl=taskDetails.open_link,this.calloutObj.calloutId=this.getCalloutHolder(),this.calloutObj.actions_list=this.getCalloutActionsList(),this.calloutObj.task_details=this.setCalloutTaskDetails()},this.setCalloutTaskDetails=function(){var info,taskDetails=[],taskInfo=this.getCalloutResponse().task_info||{},resObj=this.getResultObj(),extraInfo=taskInfo.memberships||{};if(1<(extraInfo=0==extraInfo.length?resObj.memberships:extraInfo).length){for(var projInfo=[],projFilter=0;projFilter<extraInfo.length;projFilter++)projInfo.push(extraInfo[projFilter].project.name);var currProj=projInfo.join(", ")}else currProj=_jQueryGS.isEmptyObject(extraInfo)?"-":extraInfo[0].project.name;for(info in this.calloutTaskDetails){var obj={};taskInfo.hasOwnProperty(info)||resObj.hasOwnProperty(info)||extraInfo&&extraInfo.hasOwnProperty(info)?obj.field_value="completed"==info?resObj[info]?zgssearch.getI18NMsg("gs.search.calendar.callout.completed"):zgssearch.getI18NMsg("gs.asana.incompleteTasks"):taskInfo[info]||resObj[info]||"-":obj.field_value="project"==info?currProj:"-",obj.field_label=this.calloutTaskDetails[info],taskDetails.push(obj)}return taskDetails},this.getCalloutActionsList=function(){var actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),actions_list},this.getAttachments=function(){var self,params,url_obj;"none"==_jQueryGS("#zgs20_gsMoreAttachmentsSet").css("display")?(_jQueryGS("#zgs20_gsMoreAttachmentsSet").css("display","block"),_jQueryGS("#zgs20_gsMoreAsanaAttachments").remove(),_jQueryGS("#zgs20_gsLessAsanaAttachment").css("display","block")):(params=(self=this).getAccountId(),url_obj=zgssearch.getAppIdForCloudApps(params),params="action=getAsanaAttachments&service_name=asana&connector_id="+params+"&gid="+((params=this.getResultObj()).gid||params.id)+"&limit=10&app_id="+url_obj,(url_obj=this.getAttachmentCursor())&&(params+="&cursor="+url_obj),(url_obj={}).url=zgssearch.connectorCallOutURL,url_obj.type="GET",url_obj.dataType="text",url_obj.data=params,url_obj.success=function(attachmentInfo){attachmentInfo=zgssearch.jsonParse(attachmentInfo).response;attachmentInfo.cursor?self.setAttachmentCursor(attachmentInfo.cursor):(self.noMoreAttachments=!0,self.setAttachmentCursor(null));attachmentInfo=attachmentInfo.Attachments;self.constructAttachmentsDOM(attachmentInfo)},zgssearch.network.uri(url_obj))},this.renderCalloutDetails=function(){var stObj,atObj=this.getCalloutResponse();atObj.stories&&((stObj=atObj.stories).cursor&&this.setStoriesCursor(stObj.cursor),0==stObj.s_array.length&&(this.noStories=!0)),atObj.Attachments&&((atObj=atObj.Attachments).cursor&&this.setAttachmentCursor(atObj.cursor),0<atObj.Attachments.length?(_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").css("display","block"),this.constructAttachmentsDOM(atObj.Attachments,0)):this.noAttach=!0),0<stObj.s_array.length&&(_jQueryGS("#zgs20_gsAsanaStoriesDetails").css("display","block"),this.storyStartSet=0,this.constructStoriesDOM(stObj.s_array))},this.getStories=function(){var self,resObj,url_obj,params=_jQueryGS("#zgs20_gsMoreStoriesSet").css("display");0<_jQueryGS("#zgs20_gsMoreAsanaStories").length&&_jQueryGS("#zgs20_gsMoreAsanaStories").remove(),"none"==params?(_jQueryGS("#zgs20_gsMoreStoriesSet").css("display","block"),_jQueryGS("#zgs20_gsLessAsanaStories").css("display","block")):(url_obj=(self=this).getStoriesCursor()||"",resObj=this.getAccountId(),params=zgssearch.getAppIdForCloudApps(resObj),params="action=getAsanaStories&service_name=asana&connector_id="+resObj+"&gid="+((resObj=this.getResultObj()).gid||resObj.id)+"&limit=10&app_id="+params,url_obj&&(params+="&cursor="+url_obj),(url_obj={}).url=zgssearch.connectorCallOutURL,url_obj.type="GET",url_obj.dataType="text",url_obj.data=params,url_obj.success=function(stories){stories=zgssearch.jsonParse(stories).response;stories.cursor?self.setStoriesCursor(stories.cursor):(self.setStoriesCursor(null),self.noMoreStories=!0);stories=stories.stories;self.constructStoriesDOM(stories)},zgssearch.network.uri(url_obj))},this.setStoriesCursor=function(cursor){this.storierCursor=cursor},this.getStoriesCursor=function(){return this.storierCursor||""},this.setAttachmentCursor=function(cursor){this.attachmentCursor=cursor},this.getAttachmentCursor=function(){return this.attachmentCursor||""},this.constructStoriesDOM=function(stories){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var storyDiv=0==this.storyStartSet?menuEl.initialStoriesSet:menuEl.moreStoriesSet;if(0<stories.length){for(var st=0;st<stories.length;st++){this.setAuthorDetails(stories[st]);var authorDetails="",desc=stories[st].author_id,pdngClass="",authorName=_jQueryGS("<div>",{class:"zgs19_gshighlight zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl zgs19_gsPdRt3Px",gs:"authorStory",aId:desc}).text(stories[st].author);stories[st].is_comment||(authorDetails=authorName,authorName=null,pdngClass="zgs19_gsPdngLf0Px");var authorPhotoUrl=stories[st].photo_url||"",storyId="author_set"+this.storyStartSet+"_"+st,img=_jQueryGS.isEmptyObject(zgssearch.zohoSecurity)?stories[st].text:zgssearch.zohoSecurity.HTMLPurifier().sanitize(stories[st].text),desc=_jQueryGS("<span>",{class:"zgs19_gsAsanaStory zgs19_gsfl"}).append(img),img=_jQueryGS("<img>",{gs:"gsStoryAuthorPhoto",id:storyId,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer});_jQueryGS(storyDiv).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryLeftPanel zgs19_gsfl"}).append(img)).append(_jQueryGS("<div>",{class:"zgs19_gsAsanaStoryRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(authorName).append(_jQueryGS("<label>",{class:"zgs19_gsAsanaStoryDate zgs19_gsOverflow "+pdngClass}).append(stories[st].created_at)).append(_jQueryGS("<label>",{class:"zgs19_gsAsanaStoryContent zgs19_gsOverflowWrap"}).append(authorDetails).append(desc)))),zgssearch.renderPhoto(storyId,authorPhotoUrl,"zgs19_gsUserPhoto","zgs19_gsResultsUniIcons zgs19_gsResNoUserPhoto",img)}this.getStoriesCursor()&&(this.storyStartSet++,this.noAttach?(this.noAttach=!1,zgssearch.projectMgmtCalloutObj.getStories()):_jQueryGS("#zgs20_gsAsanaStoriesDetails").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsanaStories",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"moreStories"}).text("Show more"))),this.noMoreStories&&_jQueryGS("#zgs20_gsAsanaStoriesDetails").append(_jQueryGS("<div>",{id:"zgs20_gsLessAsanaStories",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"hideStories"}).text("Show less"))}else _jQueryGS(menuEl.stories).append("No stories yet")},this.constructAttachmentsDOM=function(attachments,startSet){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var service=this.getService();0<_jQueryGS("#zgs20_gsMoreAsanaAttachments").length&&_jQueryGS("#zgs20_gsMoreAsanaAttachments").remove();var attachDiv=0==startSet?menuEl.initialAttachmentsSet:menuEl.moreAttachmentsSet;if(0<attachments.length){for(var attachFooter,attch=0;attch<attachments.length;attch++)_jQueryGS(attachDiv).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter zgs19_gsAddToWDHoverSec"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+attachments[attch].file_img,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow zgs19_gsTp5Px"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:service,aId:attachments[attch].gid,gs:"attachtitle",gstitle:attachments[attch].name,istip:!0}).text(attachments[attch].name)))),zgssearch.addToWDEnabled()&&(attachFooter=_jQueryGS(attachDiv).find(".zgs19_gsCalloutAttachFooter")[attch],_jQueryGS(attachFooter).append(_jQueryGS("<span>",{class:"zgs19_addToWd zgs19_gsDisplayNone",service:service,aId:attachments[attch].gid,gs:"calloutActionOptions",value:"addToWD",aName:attachments[attch].name}).text(zgssearch.getI18NMsg("gs.search.addToWd"))));this.getAttachmentCursor()&&(this.noStories?(this.noStories=!1,zgssearch.projectMgmtCalloutObj.getAttachments()):_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsanaAttachments",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"moreAttachments"}).text(zgssearch.getI18NMsg("gs.asana.showMore")))),this.noMoreAttachments&&_jQueryGS("#zgs20_gsAsanaAttachmentsDetails").append(_jQueryGS("<div>",{id:"zgs20_gsLessAsanaAttachments",class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"hideAttach"}).text(zgssearch.getI18NMsg("gs.asana.showLess")))}else _jQueryGS(menuEl.attachHolder).append("No attachments")},this.downloadAttachment=function(parambj){parambj={connectorId:(new zgssearch.dashboardSearchActions).createActionType(parambj).getCurrAccId()||zgssearch.projectMgmtCalloutObj.accId,attachName:_jQueryGS(parambj).text(),attachId:_jQueryGS(parambj).attr("aId"),service:zgssearch.GSConstant.ASANA};zgssearch.network.download_file(zgssearch.connectors.constructZSYNCDownloadURL(parambj,this.getResultObj()))},this.addToWD=function(paramObj,resObj,folderId){paramObj={connectorId:(new zgssearch.dashboardSearchActions).createActionType(paramObj).getCurrAccId(),attachName:_jQueryGS(paramObj).attr("aName"),attachId:_jQueryGS(paramObj).attr("aId"),service:zgssearch.GSConstant.ASANA};paramObj.folderId=folderId,zgssearch.connectors.addFileToWD(paramObj,resObj)},this.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),headerHeight=_jQueryGS(menuEl.header).height(),eachSecHt=_jQueryGS(menuEl.taskDesc).height(),eachSecHt=_jQueryGS("#zgs20_gsProjectsCallout").height()-(headerHeight+eachSecHt);eachSecHt-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),zgssearch.isMobViewport()&&(eachSecHt-=_jQueryGS("#zgs20_gsSearchResultLeft").height());eachSecHt=(eachSecHt-((_jQueryGS("#zgs20_gsStTitle").height()||0)+(_jQueryGS("#zgs20_gsAttTitle").height()||0)+(_jQueryGS("#zgs20_gsMoreAsanaStories").height()||0)+(_jQueryGS("#zgs20_gsMoreAsanaAttachments").height()||0)))/2;_jQueryGS(menuEl.stories).css("max-height",eachSecHt+"px"),_jQueryGS(menuEl.attachHolder).css("max-height",eachSecHt+"px")},this.setAuthorDetails=function(authorObj){this.storyAuthorDetails[authorObj.authorId]||(this.storyAuthorDetails[authorObj.author_id]=authorObj)},this.getAuthorDetails=function(authorId){return this.storyAuthorDetails[authorId]},this.getStoryAuthorDetails=function(target){var currentAuthorDetails=_jQueryGS(target).attr("aId"),currentAuthorDetails=this.getAuthorDetails(currentAuthorDetails);currentAuthorDetails&&zgssearch.contextMenuActionsPopUp(target,currentAuthorDetails)},this.getMoreProjectsDetails=function(target){zgssearch.appendFilterIcon(target,zgssearch.GSConstant.ASANA);var accId=_jQueryGS(target).attr("acc_id"),wsId=_jQueryGS(target).attr("workspace_id"),currAcc=_jQueryGS(target).closest(".zgs19_gsSearchResultTable"),currWS=_jQueryGS(currAcc).attr("index"),projectsInfo=zgssearch.getResultObject(zgssearch.GSConstant.ASANA,currWS,accId,wsId).memberships,currAcc=zgssearch.getCurrentValue("accounts",this.getService()),currWS="0"==(currWS=zgssearch.getCurrentValue(zgssearch.WS,this.getService()))?"all":currWS,gsAttr="asanaProjects";"all"!=currWs&&0!=currAcc&&"all"!=zgssearch.getSearchType()||(gsAttr=""),_jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(target).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(target).parent().parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs19_gsContextualFilterDropdown   zgs19_gsProjectsFilterDD"}));for(var projFilter=0;projFilter<projectsInfo.length;projFilter++){var projInfo=projectsInfo[projFilter].project;_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{gs:gsAttr,acc_id:accId,workspace_id:wsId,pid:projInfo.gid}).text(projInfo.name))}},this.hideMoreSectionResults=function(section){_jQueryGS("#"+("zgs20_gsMore"+section+"Set")).css("display","none"),_jQueryGS("#zgs20_gsLessAsana"+section).css("display","none"),_jQueryGS("#zgs20_gsAsana"+section+"Details").append(_jQueryGS("<div>",{id:"zgs20_gsMoreAsana"+section,class:"zgs19_gsLinkElem zgs19_gshighlight zgs19_gsOverflow",gs:"more"+section}).text("Show more"))},this.setMaxWidthOfElements=function(resultObj){var extraWid,filter_wid=40,field2_wid=35;filter_wid||(field2_wid+=filter_wid),!resultObj.field3&&filter_wid&&(field2_wid+=extraWid=Math.round(7.5),filter_wid+=extraWid),resultObj.field2_style="zgs19_gsMxWid"+field2_wid+"Per",resultObj.filter_style="zgs19_gsMxWid"+filter_wid+"Per"}},zgssearch.PROJECTS=function(){this.calloutURL="",this.timezone="",this.setTimezone=function(tz){this.timezone=tz},this.getTimezone=function(){return this.timezone},this.serviceImgData=[],this.getServiceImgData=function(){return this.serviceImgData},this.isShowTimezoneInfo=function(){return this.getTimezone()&&zgssearch.gsprojects.portalTzOffset[this.getAccountId()]!=zgssearch.GSConstant.IAM_USER_TIMEZONE_OFFSET},this.formatResults=function(){this.projectsResObj.currContextFilter=this.projectsResObj.currField5Filter="";var projVal,modData,currType=this.getCardObj().type;"Card"!=currType&&(limit=zgssearch.getCurrentValue(zgssearch.gsprojects.modules,this.getService()),(projVal=zgssearch.getCurrentValue(zgssearch.gsprojects.projects,this.getService()))&&"0"!=projVal&&(modData=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,"modules","data"),this.projectsResObj.currContextFilter=modData[projVal]?modData[projVal][limit]:""),this.projectsResObj.currField5Filter=zgssearch.getCurrentValue(zgssearch.gsprojects.projects,this.getService()));var res,count=this.getOffset(),resObj=this.getSearchResults(),limit=this.limit,resArr=[];for(res in resObj=zgssearch.Utils.fromEntries(zgssearch.Utils.objectEntries(resObj).slice(count,limit))){var proj=resObj[res],resultObj={},modObj="Card"==currType?this.getCardObj().cardId:"gs_"+this.getAccountId()+this.getService()+"Results";resultObj.id="zgs20_"+modObj+"_"+count,resultObj.field1=proj.title,resultObj.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_title"),resultObj.field5=proj.project_name,resultObj.row3=!0,resultObj.field5_label=zgssearch.getI18NMsg("gs.search.service_projects_projectName"),resultObj.field2_style="zgs19_gsMxWid35Per";var isUserImgSpan=zgssearch.getCurrentValue(zgssearch.gsprojects.modules,this.getService());"Card"!=currType&&proj.mod_id===isUserImgSpan||(resultObj.contextualFilter=proj.moduleName),resultObj.fieldIconTitle=proj.moduleName,resultObj.gsFilter="Card"!==currType?"projectsModule":"",resultObj.contextualLabel=resultObj.fieldIconLabel=zgssearch.getI18NMsg("gs.search.multi.module"),resultObj.filter_style="zgs19_gsWid23Per",resultObj.iconHolderClass="zgs19_gsUniIconHolder",this.isShowTimezoneInfo()?(resultObj.fieldInfoClass="zgs18_gsInfoSmallIcon zgs19_gsResultInfoIcon",resultObj.timeHoverClass="zgs19_gsTimezoneData"):(resultObj.timeLabel=zgssearch.getI18NMsg("gs.modifiedOn"),resultObj.timeTitle=proj.updated_time);modObj=new this["mod_"+proj.mod_id](this);modObj.setModFields(resultObj,proj),resultObj.row3Wid=resultObj.field6?"zgs19_gsWid75Per":"zgs19_gsWid100Per";isUserImgSpan=!modObj.hasOwnProperty("constructOwnerImg");resultObj.userPhotoObj={},isUserImgSpan?(resultObj.userPhotoObj.isSpan=isUserImgSpan,resultObj.userPhotoObj.class=resultObj.resIcon):(resultObj.userPhotoObj=modObj.constructOwnerImg(proj),resultObj.userPhotoObj.gs="resultPhotoImg",resultObj.userPhotoObj.id="zgs20_gsResultUserImg",(projData={}).id=resultObj.id,resultObj.userPhotoObj.url===zgssearch.gsspacer&&(projData.no_photo=!0),projData.img_url=resultObj.userPhotoObj.url,this.serviceImgData.push(projData));var projData=proj.owner;"object"==typeof projData&&1<Object.keys(projData).length&&(resultObj.gsFilterField2="moreProjOwners",resultObj.moreRecField2="+"+(Object.keys(projData).length-1));projData=zgssearch.getFilterInfo(zgssearch.GSConstant.PROJECTS,zgssearch.gsprojects.projects,"alldata");resultObj.noFilter=!1,resultObj.noProjFilter=!!projData&&1==Object.keys(projData[this.getAccountId()]).length,resultObj.field5_gsAttr=resultObj.noProjFilter||"Card"===currType?"":"projectsFilter",resultObj.time=proj.updated_time,resultObj.projId=proj.project_id,resultObj.modId=proj.mod_id,resultObj.index=count,resultObj.field5Filter=proj.project_id,resultObj.recordUrl=this.getCalloutURL(proj),resultObj.row3Style="zgs19_gsWidInherit",resultObj.field5_class="zgs19_gsMxWid90Per",resultObj.field4&&(resultObj.row3Style="zgs19_gsWid55Per zgs19_gsMxWid70Per",resultObj.field5_class=""),count++,resArr.push(resultObj)}this.projectsResObj.results=resArr},this.setServiceSpecificCalloutProp=function(){var curCalloutObj=this.getResultObj()||zgssearch.getCurrentResObj(),titleId=curCalloutObj.task_id||curCalloutObj.bug_id||"";titleId&&(this.calloutObj.field1_id=titleId),this.calloutObj.field1=curCalloutObj.title||"Untitled",curCalloutObj.url=this.calloutObj.projectUrl=this.getCalloutURL(curCalloutObj),this.calloutObj.actions_list=this.getCalloutActionsList();curCalloutObj=this.cardObj;this.calloutObj.calloutHolderId=!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?"zgs20_gsProjectsPreviewHolder":"zgs20_gs_"+curCalloutObj.calloutId+"PreviewHolder",this.calloutObj.calloutId=this.getCalloutHolder(),this.calloutObj.loadericonId="zgs20_gsProjectsLoader",this.calloutObj.loadericonClass="zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"},this.getCalloutActionsList=function(){var actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),!zgssearch.isDashboardEnabled||zgssearch.isDashboardViewOpened()||zgssearch.isCardViewOpened()||((action_obj={gs:"calloutActionOptions",gs_label:"savePreview"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.savePreviewCard"),actions_list.push(action_obj)),actions_list},this.getCalloutURL=function(resObj){var currMod,themeKey,lightThemeCode,hoverRGB,themeCode,themeRGB,portalId=this.getAccountId(),projectId=resObj.project_id,entityId=resObj.id||resObj[zgssearch.entity_id],tasklistId="",modObj=resObj.mod_id||resObj[zgssearch.module_id];switch(modObj){case"3":currMod="milestones";break;case"5":currMod="tasks",tasklistId=resObj.task_list_id;break;case"6":currMod="issues";break;case"7":currMod="forum";break;case"9":currMod="events";break;default:this.calloutObj&&(this.calloutObj.nonIframeModule=!0)}this.calloutObj&&(zgssearch.isExtension||zgssearch.isIE)&&(this.calloutObj.nonIframeModule=!0),this.calloutObj&&(this.calloutObj.nonIframeModule?this.setCalloutMetaDetails(resObj):(this.iframeURL=zgssearch.GSConstant.GS_PROJECTS_URL+"/portal/"+portalId+"/widgets.do?project_id="+projectId+"&to_view="+currMod+"&entity_id="+entityId+"&"+zgssearch.originParam,window.location.hostname!=zgssearch.GSConstant.searchdomainURL&&(this.iframeURL+=","+zgssearch.httpstxt+"://"+zgssearch.GSConstant.searchdomainURL),themeCode=getComputedStyle(document.body),themeKey="theme",zgssearch.GSConstant.isNightModeEnabled?(themeKey="dark_theme",hoverRGB="34,36,39"):(lightThemeCode=themeCode.getPropertyValue("--zs-primarySelectedBGLightColor").trim())&&(hoverRGB=(lightThemeCode=zgssearch.includes("rgba",lightThemeCode)||zgssearch.includes("rgb",lightThemeCode)?zgssearch.rgbaToRgb(lightThemeCode):zgssearch.hexToRgb(lightThemeCode)).r+","+lightThemeCode.g+","+lightThemeCode.b),((themeRGB=(themeCode=themeCode.getPropertyValue("--zs-primaryThemeIconColor").trim())?(themeCode=zgssearch.hexToRgb(themeCode)).r+","+themeCode.g+","+themeCode.b:themeRGB)||hoverRGB)&&(this.iframeURL+="&"+themeKey+"="+encodeURIComponent(JSON.stringify({zpPrimary:themeRGB,zpPrimaryHover:hoverRGB})))));modObj=new this["mod_"+modObj](this);return this.calloutURL=zgssearch.GSConstant.GS_PROJECTS_URL+"/"+modObj.getCalloutURL(portalId,projectId,entityId,tasklistId),this.calloutURL},this.renderCalloutDetails=function(){var previewObject,preview=new zgssearch.ZSPreview;this.calloutObj.nonIframeModule?previewObject=preview.createPreviewObj():((previewObject=preview.createPreviewObj(zgssearch.IFRAME)).setIframeUrl(this.iframeURL),previewObject.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor"),previewObject.setIframeId("callout_iframe_"+(new Date).getTime()),previewObject.setSandbox("allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation\tallow-same-origin allow-scripts")),previewObject.setCardObj(this.cardObj),previewObject.setPreviewHolder("projectspreviewHolder"),previewObject.setCalloutHolder(this.calloutObj.calloutHolderId),previewObject.setParentId(this.calloutObj.calloutHolderId),previewObject.setLoaderIconId("zgs20_gsProjectsLoader"),previewObject.renderPreview()},this.setCalloutMetaDetails=function(resObj){var fieldLen,isUserImgSpan=resObj.owner||resObj.milestone;"object"==typeof isUserImgSpan&&(isUserImgSpan=(fieldLen=isUserImgSpan)[0].name,1<(fieldLen=Object.keys(fieldLen).length)&&(this.calloutObj.moreRecOwner=" +"+fieldLen-1,modObj=zgssearch.getCurrentSelectedElem(),this.calloutObj.accId=_jQueryGS(modObj).attr("acc_id")||"",this.calloutObj.index=_jQueryGS(modObj).attr("index")||"")),this.calloutObj.owner=isUserImgSpan,this.calloutObj.time=resObj.updated_time,this.calloutObj.projectName=resObj.project_name,this.calloutObj.module=resObj.moduleName;var modObj=new this["mod_"+resObj.mod_id](this);this.calloutObj.postedBy=modObj.getLabel();isUserImgSpan=!modObj.hasOwnProperty("constructOwnerImg");this.calloutObj.userPhotoObj={},isUserImgSpan?(this.calloutObj.userPhotoObj.isSpan=isUserImgSpan,this.calloutObj.userPhotoObj.class=modObj.getIcon(),this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder"):this.calloutObj.userPhotoObj=modObj.constructOwnerImg(resObj)},this.constructPhotoObj=function(sname){var userPhotoObj={id:"zgs20_gsDocsCalloutUserImg"};userPhotoObj.url=zgssearch.gsspacer,userPhotoObj.class="zgs19_gsFetchLoader",userPhotoObj.isGroup=!1,userPhotoObj.isSpan=!1;var zuid=sname.zuid,sname=zgssearch.getUserStatus(zuid);return this.hasOwnProperty("calloutObj")&&(this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid&&(sname=sname.name||"",userPhotoObj.class="zgs19_gsCalloutUserImg",userPhotoObj.url=zgssearch.getThumbPhotoURL(zuid),this.hasOwnProperty("calloutObj")&&(this.calloutObj.calloutIconHolderClass="zgs19_gsChatIconHolder "+sname)),userPhotoObj},this.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var contentHeight=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height()||0);contentHeight=_jQueryGS("#"+this.getCalloutHolder()).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.projectscalloutFooter).css("height",contentHeight+"px")},this.mod_3=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner?proj.owner[0].name:"",resultObj.field2Class="zgs19_gsMxWid30Per",resultObj.field4=proj.due_date,resultObj.field4Title=proj.due_date,resultObj.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",resultObj.field4Label=zgssearch.getI18NMsg("gs.search.filter.dueDate"),resultObj.resIcon="zgs18_gsProjMilestoneIcon",resultObj.footer_tip=this.getLabel()},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#milestone/"+projectId+"/"+recId},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjMilestoneIcon"}},this.mod_4=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.milestone,resultObj.field2Class="zgs19_gsPdRt10Px",resultObj.field2_icon=proj.hasOwnProperty("milestone")&&proj.milestone?"zgs18_gsProjResMilestoneIcon":"",resultObj.resIcon="zgs18_gsProjTasklistIcon",resultObj.footer_tip=this.getLabel(),resultObj.row3=!1},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#tasklistdetail/"+projectId+"/"+recId},this.getIcon=function(){return"zgs18_gsProjTasklistIcon"},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_milestone")}},this.mod_5=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner?proj.owner[0].name:"",resultObj.field3_1=proj.status,resultObj.field3_1_title=zgssearch.getI18NMsg("gs.search.service_projects_status")+": ",resultObj.field3_1_style="zgs19_gsProjectStatusVal",resultObj.field4=proj.due_date,resultObj.field4Title=proj.due_date,resultObj.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",resultObj.field4Label=zgssearch.getI18NMsg("gs.search.filter.dueDate"),resultObj.field1_preLabel=zgssearch.getI18NMsg("gs.search.service_projects_taskId"),resultObj.field1_pre=proj.task_id,resultObj.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_taskTitle"),resultObj.resIcon="zgs18_gsProjTaskIcon",resultObj.footer_tip=this.getLabel(),resultObj.field6=proj.priority,resultObj.field6Label=zgssearch.getI18NMsg("gs.search.service_projects_priority"),proj.is_recurrence&&(resultObj.fieldTitleIconClass="zgs18_gsRecurrenceIcon zgs19_gsRecurrenceIcon zgs19_gsPdRt6Px",resultObj.fieldTitleIconTitle=zgssearch.getI18NMsg("gs.search.service_projects_recurringTask"))},this.getCalloutURL=function(portalId,projectId,recId,tasklistId){return"portal/"+portalId+"#taskdetail/"+projectId+"/"+tasklistId+"/"+recId},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjTaskIcon"}},this.mod_6=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner?proj.owner[0].name:"",resultObj.field3_1=proj.status,resultObj.field3_1_title=zgssearch.getI18NMsg("gs.search.service_projects_status")+": ",resultObj.field3_1_style="zgs19_gsProjectStatusVal",resultObj.field4=proj.due_date,resultObj.field4Title=proj.due_date,resultObj.field4Icon="zgs18_gsProjDueDate zgs19_gsProjDueDate",resultObj.field4Label=zgssearch.getI18NMsg("gs.search.filter.dueDate"),resultObj.field1_preLabel=zgssearch.getI18NMsg("gs.search.service_projects_bugId"),resultObj.field1_pre=proj.bug_id,resultObj.field1_label=zgssearch.getI18NMsg("gs.search.service_projects_bugTitle"),resultObj.resIcon="zgs18_gsProjBugIcon",resultObj.footer_tip=this.getLabel(),resultObj.field6=proj.severity,resultObj.field6Label=zgssearch.getI18NMsg("gs.search.service_projects_severity")},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#buginfo/"+projectId+"/"+recId},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_assignee")},this.getIcon=function(){return"zgs18_gsProjBugIcon"}},this.mod_7=function(self){this.setModFields=function(resultObj,proj){resultObj.field2=proj.owner,resultObj.field4=proj.category,resultObj.field4Icon="zgs18_gsProjCategoryIcon zgs19_gsProjCategory",resultObj.field4Label=zgssearch.getI18NMsg("common.category"),resultObj.field4Title=proj.category,resultObj.footer_tip=this.getLabel(),this.fieldIconTitle=this.fieldIconLabel=""},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#forums/"+projectId+"/"+recId},this.constructOwnerImg=function(resObj){return self.constructPhotoObj(resObj)},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_postedBy")}},this.mod_9=function(self){this.setModFields=function(resultObj,proj){resultObj.field2_icon="zgs18_gsDateIcon",resultObj.field2=proj.scheduled_time,resultObj.footer_tip=zgssearch.getI18NMsg("gs.search.service_projects_scheduledTime"),resultObj.field4=resultObj.field4Title=proj.owner,resultObj.field4Label=zgssearch.getI18NMsg("gs.search.service_projects_host"),resultObj.field4Class="zgs19_gsMxWid40Per",resultObj.field2_style="zgs19_gsMxWid80Per ",resultObj.filter_style="zgs19_gsWid20Per",resultObj.iconHolderClass="zgs19_gsCalcIconHolder",self.isShowTimezoneInfo()&&(resultObj.field2InfoClass=resultObj.field2Info=resultObj.fieldInfoClass+" "+resultObj.timeHoverClass,delete resultObj.fieldInfoClass,delete resultObj.timeHoverClass)},this.getCalloutURL=function(portalId,projectId,recId){return"portal/"+portalId+"#myworkcalendar/events/"+recId},this.constructOwnerImg=function(stDate){var obj=self.constructPhotoObj(stDate),stArr=stDate.scheduled_time.split(" "),stDate=stArr[1].split(",");return obj.element='<div class="zgs19_gsCalcDateHolder" >'+stDate[0]+'</div><div class="zgs19_gsCalcMonthHolder">'+stArr[0]+"</div>",obj},this.getLabel=function(){return zgssearch.getI18NMsg("gs.search.service_projects_postedBy")},this.getTimeDetails=function(){return{title:zgssearch.getI18NMsg("gs.search.service_projects_scheduledTime"),timeKey:"scheduled_time"}}},this.getMoreOwners=function(target){var owner,serv=zgssearch.GSConstant.PROJECTS,accId=_jQueryGS(target).attr("accountId"),index=_jQueryGS(target).attr("index"),currIndex=serv+index,fullResObj=(new zgssearch.dashboardSearchActions).createActionType(target).getResultObject(serv)||{},ownersList=(fullResObj.hasOwnProperty(serv)&&!_jQueryGS.isEmptyObject(fullResObj[serv])?fullResObj[serv][currIndex]:zgssearch.getResultObject(zgssearch.GSConstant.PROJECTS,index,accId)).owner;for(owner in _jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(target).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(target).parent().parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs19_gsProjectsOwnersDD zgs19_gsPdng4Px"})),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsAssigneeTitle"}).text(zgssearch.getI18NMsg("gs.search.service_projects_assignee"))),ownersList){var photoURL,assignee=ownersList[owner],iconHolder=_jQueryGS("<img>",{id:"zgs20_gsAssigneeList_"+owner,class:"zgs19_gsFetchImgLoader zgs19_gsAssigneesFetchImgLoader zgs19_gsfl",src:zgssearch.gsspacer}),errorDiv=assignee.zuid||"";""!==errorDiv&&"-1"!==errorDiv?(photoURL=zgssearch.getThumbPhotoURL(errorDiv),errorDiv=_jQueryGS("<span>",{class:"zgs18_gsNoUserIcon zgs19_gsfl"}),zgssearch.renderPhoto("",photoURL,"zgs19_gsAssigneeImg zgs19_gsfl","",iconHolder,errorDiv)):iconHolder=_jQueryGS("<span>",{class:"zgs18_gsNoUserIcon zgs19_gsfl"}),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsAssigneeDDList"}).append(iconHolder).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsPdngTp3Px zgs19_gsPdLt6Px"}).text(assignee.name))),document.getElementById("zgs20_gsResultFilterDropDown").scrollIntoViewIfNeeded(!0)}},this.getTimezoneDetails=function(target){var title=zgssearch.GSConstant.PROJECTS,currResObj=_jQueryGS(target).closest(".zgs19_gsSearchResultTable"),modData=_jQueryGS(currResObj).attr("acc_id"),style=_jQueryGS(currResObj).attr("index"),time=title+style,timezone=(new zgssearch.dashboardSearchActions).createActionType(target).getResultObject(title)||{},currResObj={},currResObj=timezone.hasOwnProperty(title)&&!_jQueryGS.isEmptyObject(timezone[title])?timezone[title][time]:zgssearch.getResultObject(zgssearch.GSConstant.PROJECTS,style,modData),timezone="";zgssearch.gsprojects.portalTzOffset[modData]!=zgssearch.GSConstant.IAM_USER_TIMEZONE_OFFSET&&"GMT"!=(timezone=zgssearch.gsprojects.portalTimezone[modData])&&(timezone+=" ( "+zgssearch.getI18NMsg("gs.search.calendar.callout.GMT")+" "+zgssearch.gsprojects.portalTzOffsetStr[modData]+" )");title=zgssearch.getI18NMsg("gs.search.modfied_time"),time=currResObj.updated_time,style=new this["mod_"+currResObj.mod_id](this),modData=style.hasOwnProperty("getTimeDetails")?style.getTimeDetails():{},style="5px";_jQueryGS.isEmptyObject(modData)||(title=modData.title,time=currResObj[modData.timeKey],style=""),_jQueryGS("#zgs20_gsResultFilterDropDown").remove(),_jQueryGS(target).addClass("zgs19_gsMoreContextualFilter"),_jQueryGS(target).parent().append(_jQueryGS("<div>",{id:"zgs20_gsResultFilterDropDown",class:"zgs19_gsProjectsOwnersDD zgs19_gsTimezoneInfoDD "})),_jQueryGS("#zgs20_gsResultFilterDropDown").append(_jQueryGS("<div>",{class:"zgs19_gsHgtAuto zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsProjTimezoneInfo"}).text(title+" :")).append(_jQueryGS("<span>",{class:"zgs19_gsProjTimezoneInfo zgs19_gsTimezoneData"}).text(time))).append(_jQueryGS("<div>",{class:"zgs19_gsHgtAuto zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsProjTimezoneInfo zgs19_gsPdngTp10Px"}).text(zgssearch.getI18NMsg("gs.search.service_projects_portalTz")+" :")).append(_jQueryGS("<span>",{class:"zgs19_gsProjTimezoneInfo zgs19_gsTimezoneData"}).text(timezone))),style&&_jQueryGS("#zgs20_gsResultFilterDropDown").css("inset-inline-end",style)}},zgssearch.notesTemplateFactory=function(){this.createCurServiceInstance=function(serviceInfo){var curServiceInstance;return(curServiceInstance=serviceInfo.service===zgssearch.GSConstant.EVERNOTE?new evernote:curServiceInstance).service=serviceInfo.service,curServiceInstance.accId=serviceInfo.accountId||"",curServiceInstance.offset=-1<serviceInfo.offset?serviceInfo.offset:"",curServiceInstance.parentId=serviceInfo.parentId||"",curServiceInstance.setResponseObj=function(responseObj){this.responseObj=responseObj},curServiceInstance.evrObj={},curServiceInstance.calloutObj={},curServiceInstance.parentElem=serviceInfo.parentElem||"",curServiceInstance.cardObj=serviceInfo.cardObj||"",curServiceInstance.cardId=serviceInfo.cardId||"",curServiceInstance.getAccId=function(){return this.accId},curServiceInstance.getService=function(){return this.service},curServiceInstance.getOffsetValue=function(){return this.offset},curServiceInstance.getevrObj=function(){return this.evrObj},curServiceInstance.getParentId=function(){return this.parentId},curServiceInstance.getResponseObj=function(){return this.responseObj},curServiceInstance.setCalloutHolder=function(calloutHolder){this.calloutHolder=calloutHolder},curServiceInstance.getCalloutHolder=function(){return this.calloutHolder||"zgs20_gsEvernoteCallout"},curServiceInstance.setPreviewParentId=function(previewId){this.previewId=previewId},curServiceInstance.getPreviewParentId=function(){return this.previewId},curServiceInstance.setCommonResultProperties=function(currentDivId){var offset=this.getOffsetValue(),currentSerResultObj={};currentSerResultObj.index=offset,currentSerResultObj.service=this.getService(),currentSerResultObj.author=currentDivId.author,currentSerResultObj.CONNECTOR_ID=currentDivId.CONNECTOR_ID,currentSerResultObj.tagId=currentDivId.id,currentSerResultObj.name=currentDivId.name,currentSerResultObj.nameTitle=zgssearch.getI18NMsg("gs.r.nb.notes");var modDataObj=zgssearch.getFilterInfo(this.getService(),"modules","data")[this.accId];modDataObj.hasOwnProperty(currentDivId.nbId)||(zgssearch.notesTemplateInstance.newNotebookDataObj=zgssearch.hasOwnProperty("notesTemplateInstance")&&zgssearch.notesTemplateInstance.hasOwnProperty("newNotebookDataObj")&&zgssearch.notesTemplateInstance.newNotebookDataObj||{},zgssearch.notesTemplateInstance.newNotebookDataObj[currentDivId.nbId]=[currentDivId.nbName],modDataObj[currentDivId.nbId]=currentDivId.nbName,zgssearch.getWidgetResponseData(this.getService()).aD[zgssearch.getCurrentValue("accounts",zgssearch.GSConstant.EVERNOTE)].modules[0][currentDivId.nbId]=currentDivId.nbName),currentSerResultObj.nbId=currentDivId.nbId,currentSerResultObj.nbName=currentDivId.nbName,currentSerResultObj.created=currentDivId.created,currentSerResultObj.url=currentDivId.openUrl,currentSerResultObj.dateTypeTxt=zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime"),currentSerResultObj.iconTxt=zgssearch.getCapitalizedLtr(currentDivId.name),currentSerResultObj.updated=currentDivId.updated,currentSerResultObj.footer_tip=zgssearch.getI18NMsg("common.author"),currentSerResultObj.gsAttr=this.cardObj?this.cardObj.gsattr:"searchResultTable";currentDivId="zgs20_gs"+this.getService()+"Results_"+offset;return this.cardObj?currentDivId="zgs20_"+this.cardObj.cardId+"_"+offset:zgssearch.multiPageEnabled&&(currentDivId="zgs20_gs"+this.accId+"Results_"+offset),currentSerResultObj.id=currentDivId,currentSerResultObj},curServiceInstance.renderResults=function(){var responseObj=this.getResponseObj(),accId=zgssearch.getCurrentValue("accounts",zgssearch.GSConstant.EVERNOTE),dispName="";dispName=0!=accId?zgssearch.getFilterInfo(zgssearch.GSConstant.EVERNOTE,"modules","data")[accId]:zgssearch.getFilterInfo(this.getService(),"modules","dispname"),this.evrObj={serviceName:this.getService(),accId:this.getAccId(),curNotebook:dispName},this.evrObj.results=[],this.evrObj.results=this.formatResults(responseObj),this.appendResults()},curServiceInstance.appendResults=function(){var templateFunc,parentDivElem,evrObj,load_instance=this.getService();zgssearch.isHandlebarLoaded()?(parentDivElem=zgssearch.Handlebar_Template.getResultsTemplateName(this.getService()),templateFunc=search_handlebars.templates[parentDivElem],evrObj=this.getParentId(),parentDivElem=this.parentElem||_jQueryGS("#"+evrObj),evrObj=this.getevrObj(),this.evrObj.type=this.cardObj?this.cardObj.type:"Search",1<this.getOffsetValue()?parentDivElem.append(templateFunc(evrObj)):parentDivElem.html(templateFunc(evrObj))):(null!=(load_instance=(new zgssearch.ResourceFactory).createInstance(load_instance,!0))&&load_instance.load(),this.appendResults())},curServiceInstance.commonCalloutParams=function(resObj){var calloutDataObj={};calloutDataObj.serviceName=this.getService(),calloutDataObj.CONNECTOR_ID=resObj.CONNECTOR_ID,calloutDataObj.nbId=resObj.nbId},curServiceInstance.setCommonCalloutProperties=function(resObj,curCalloutObj){var currEle=zgssearch.getCurrentSelectedElem()||{},service=this.getService();this.calloutObj.service=service,this.calloutObj.url=zgssearch.fetchCalloutUrl(service,resObj),this.calloutObj.labelAttr=_jQueryGS(currEle.resultTitle).attr("gslabel")||"",this.calloutObj.curCalloutObj=curCalloutObj,this.calloutObj.calloutId=curCalloutObj?curCalloutObj.calloutId:"zgs20_gsEvernoteCallout",this.calloutObj.calloutHolderId=!curCalloutObj||curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType?"zgs20_gsEvernotePreviewHolder":"zgs20_gs_"+curCalloutObj.calloutId+"PreviewHolder",this.setCalloutHolder(this.calloutObj.calloutId),this.setPreviewParentId(this.calloutObj.calloutHolderId)},curServiceInstance.constructCalloutResponse=function(response,resObj,curCalloutObj){var parentDiv=response.response,curCalloutObj=curCalloutObj.searchObj;this.setCommonCalloutProperties(resObj,curCalloutObj),this.setServiceSpecificCalloutInfo(resObj),this.calloutObj.calloutPrevUrl=parentDiv.hasOwnProperty("url")?parentDiv.url:"";parentDiv=curCalloutObj?curCalloutObj.parentElem:"#zgs20_gsSearchResultRight";this.renderCalloutView(response,resObj,parentDiv,curCalloutObj)},curServiceInstance.renderCalloutView=function(response,resObj,parentDiv,menuEl){var parentId=zgssearch.Handlebar_Template.getCalloutTemplateName(this.getService()),parentId=search_handlebars.templates[parentId];_jQueryGS(parentDiv).html(parentId(this.calloutObj));parentId=zgssearch.getFourDotLoader("zgs20_gsNotesTemplateCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader");_jQueryGS("#"+menuEl.calloutId).append(parentId);menuEl=new zgssearch.ZSPreview,parentId=this.getPreviewParentId(),menuEl=menuEl.createPreviewObj(zgssearch.IFRAME);this.calloutObj.calloutPrevUrl&&(menuEl.setIframeUrl(this.calloutObj.calloutPrevUrl),menuEl.setIframeClassName("zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor zgs19_gsVisbHdn"),menuEl.setIframeId("callout_iframe_"+(new Date).getTime())),menuEl.setCardObj(this.cardObj),menuEl.setPreviewHolder("evernotepreviewHolder"),menuEl.setCalloutHolder(this.getCalloutHolder()),menuEl.setParentId(parentId),menuEl.setLoaderIconId("zgs20_gsNotesTemplateCalloutLoader"),menuEl.renderPreview(),zgssearch.calloutVisitRequest();menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl),this.calloutObj.curCalloutObj.iconDisplay||(_jQueryGS(menuEl.maxpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","none")),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),this.setCalloutEleSize()},curServiceInstance.setServiceEleSize=function(curResEleId,curResPageHeight){this.setCalloutEleSize(),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},curServiceInstance.setCalloutEleSize=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());zgssearch.setGSTagElems(menuEl);var contentHeight=0,headerHeight=_jQueryGS(menuEl.header).height();"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height());contentHeight=_jQueryGS("#"+this.getCalloutHolder()).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},curServiceInstance.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},curServiceInstance}};var evernote=function(){this.formatResults=function(res){var self=this,resultArr=[];return res&&res.forEach(function(resObj){var currentObj=self.setCommonResultProperties(resObj);currentObj.accId=resObj.CONNECTOR_ID,currentObj.accId=resObj.CONNECTOR_ID,currentObj.gsfilter="evernoteNotebooks",("0"!=zgssearch.getCurrentValue("modules",zgssearch.GSConstant.EVERNOTE)&&"all"!==zgssearch.getSearchType()||""!=self.cardObj&&"Card"==self.cardObj.type)&&(currentObj.noFilter=!0,currentObj.gsfilter=""),resultArr.push(currentObj),self.offset++}),resultArr},this.callOutParams=function(resObj){var domainUrl=zgssearch.getCurrentSelectedElem(),accId=this.accId||domainUrl.getAttribute("acc_id"),app_id=zgssearch.getAppIdForCloudApps(accId),domainUrl=window.location.protocol+"//"+window.location.host;return"action=getEvernotePreviewUrl&service_name="+zgssearch.GSConstant.EVERNOTE+"&connector_id="+accId+"&note_id="+resObj.id+"&app_id="+app_id+"&domain_url="+domainUrl+"&isWDEnabled="+zgssearch.addToWDEnabled()},this.getCalloutActionsList=function(){var actions_list=[],action_obj={gs:"calloutActionOptions",gs_label:"open"};return action_obj.i18n_value=zgssearch.I18N.getValue("common.open"),actions_list.push(action_obj),(action_obj={gs:"calloutActionOptions",gs_label:"copyLink"}).i18n_value=zgssearch.I18N.getValue("gs.search.callout.copylink"),actions_list.push(action_obj),actions_list},this.setServiceSpecificCalloutInfo=function(resObj){this.calloutObj.author=resObj.author,this.calloutObj.created=resObj.created,this.calloutObj.nbName=resObj.nbName,this.calloutObj.nbName=resObj.nbName,this.calloutObj.title=resObj.name,this.calloutObj.updated=resObj.updated,this.calloutObj.tags=resObj.tags,this.calloutObj.actions_list=this.getCalloutActionsList(),this.calloutObj.iconTxt=zgssearch.getCapitalizedLtr(resObj.name),this.calloutObj[zgssearch.commonTemplateConstants.time]=resObj.display_time,this.calloutObj.cursorClass="zgs19_gsCurPointer"},this.downloadEvernoteAttachment=function(download_url){var conId=zgssearch.getCurSelectedEleAttr("acc_id")||"",ud_download_url=zgssearch.getAppIdForCloudApps(conId),download_obj={};download_obj.connector_id=conId,download_obj.service_name=zgssearch.GSConstant.EVERNOTE,download_obj.action="getENNoteAttachDownloadUrl",download_obj.note_id=download_url.hasOwnProperty("note_id")?download_url.note_id:"",download_obj.res_hash=download_url.hasOwnProperty("res_hash")?download_url.res_hash:"",download_obj.app_id=ud_download_url,download_obj.attach_name=download_url.hasOwnProperty("attach_name")?download_url.attach_name:"";ud_download_url=zgssearch.GSConstant.ud_download_server_url,download_url=zgssearch.GSConstant.ud_service_name,download_url=ud_download_url+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+JSON.stringify(download_obj)+"&x-service="+download_url;zgssearch.network.download_file(download_url)},this.addToWD=function(resObj,attachId,folderId,resHash){var paramObj={};paramObj.service=zgssearch.GSConstant.EVERNOTE,paramObj.attachId=attachId,paramObj.folderId=folderId,paramObj.resHash=resHash,paramObj.connectorId=zgssearch.curSelectedEle.getAttribute("acc_id")||"",zgssearch.connectors.addFileToWD(paramObj,resObj)},this.evernoteImgBlobPostMsgCallback=function(origin,calloutObj){var msg={action_type:"evernoteImgResp",imgBlob:origin,id:calloutObj.key},origin=calloutObj.origin;calloutObj.target.postMessage(msg,origin)}};!function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.callOutURL="/zgssearch/gsCallOutData",zgssearch.connectorCallOutURL="/zgssearch/exconnector/getCalloutData",zgssearch.clickPositionURL="/zgssearch/gsClickPosition",zgssearch.attachmentURL="/zgssearch/gsAttachments",zgssearch.curCalloutCount=zgssearch.curCalloutCount||0,zgssearch.getCurrentResponseObj=zgssearch.getCurrentResponseObj||{},zgssearch.httpReqForCallout=new Array,zgssearch.regNull=new RegExp("^null$","i"),zgssearch.isMaxCalloutOpen=!1,zgssearch.calloutSearchType="",zgssearch.searchCalloutObj=zgssearch.searchCalloutObj||{},zgssearch.xmlhttpCalloutReq=zgssearch.xmlhttpCalloutReq||"",zgssearch.convertToKBMB=function(sizeinbytes){var sizeinkb=Math.round(sizeinbytes/1024),sizeinmb=Math.round(sizeinkb/1024);return 0<sizeinmb?sizeinmb+" MB":0<sizeinkb?sizeinkb+" KB":sizeinbytes+" Bytes"},zgssearch.moveToViewPort=function(curResPage,viewport_top){var eletop=viewport_top[0].offsetTop,pageHeight=curResPage.height(),viewport_top=curResPage.scrollTop();viewport_top<eletop&&eletop<viewport_top+pageHeight||curResPage.scrollTop(eletop-pageHeight/2)},zgssearch.calloutLoaderIcon=function(curCalloutObj){var loadericon=curCalloutObj.type,calloutLoader=!loadericon||loadericon!==zgssearch.dbCrdCalloutType&&loadericon!==zgssearch.crdPagecalloutType?"zgs20_gscoutLoadHolder":curCalloutObj.calloutId+"_Loader";_jQueryGS("#zgs20_gscoutLoadHolder").remove();loadericon=zgssearch.getFourDotLoader("zgs20_gsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader");_jQueryGS(curCalloutObj.parentElem).find("#"+calloutLoader).length<=0&&_jQueryGS(curCalloutObj.parentElem).append(_jQueryGS("<div>",{id:calloutLoader,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone zgs19_gsZIndex101"}).append(loadericon))},zgssearch.calloutErrorPage=function(curCalloutObj,msg){var errorPageID=curCalloutObj.type,errorPageID=!errorPageID||errorPageID!==zgssearch.dbCrdCalloutType&&errorPageID!==zgssearch.crdPagecalloutType?"zgs20_gsCalloutErrorPage":curCalloutObj.calloutId+"_ErrorPage";_jQueryGS("#zgs20_gsCalloutErrorPage").remove(),_jQueryGS(curCalloutObj.parentElem).append(_jQueryGS("<div>",{id:errorPageID,class:"zgs19_gsCalloutErrorMsg"}).text(msg))},zgssearch.showCalloutLoader=function(calloutLoader){var calloutType=calloutLoader?calloutLoader.type:"",calloutLoader=!calloutType||calloutType!==zgssearch.dbCrdCalloutType&&calloutType!==zgssearch.crdPagecalloutType?"zgs20_gscoutLoadHolder":calloutLoader.calloutId+"_Loader";_jQueryGS("#"+calloutLoader).css("display","block")},zgssearch.hideCalloutLoader=function(calloutLoader){var calloutType=(calloutLoader=calloutLoader||zgssearch.searchCalloutObj).type,calloutLoader=!calloutType||calloutType!==zgssearch.dbCrdCalloutType&&calloutType!==zgssearch.crdPagecalloutType?"zgs20_gscoutLoadHolder":calloutLoader.calloutId+"_Loader";_jQueryGS("#"+calloutLoader).css("display","none")},zgssearch.hideCalloutHolder=function(){_jQueryGS(".zgs19_gsSearchResultRight").find(".zgs19_gsServiceCalloutHolder").css("display","none"),_jQueryGS("#zgs20_gsCalloutErrorPage").css("display","none")},zgssearch.getCurCalloutCount=function(){return zgssearch.curCalloutCount=zgssearch.curCalloutCount<500?zgssearch.curCalloutCount+1:1,zgssearch.curCalloutCount},zgssearch.getResultAccountId=function(){return zgssearch.getCurSelectedEleAttr("acc_id")},zgssearch.getCurrentResObj=function(){if(module_name=zgssearch.getCurrentSelectedElem()){var accId=(module_name=_jQueryGS(module_name)).attr("acc_id"),index=module_name.attr("index"),service=module_name.attr("service"),module_name=service===zgssearch.GSConstant.CAMPAIGNS?module_name.attr("acc_id"):module_name.attr("module_name")||module_name.attr("workspace_id");return zgssearch.getResultObject(service,index,accId,module_name)}return{}},zgssearch.loadCallout=function(tarElem){var cardElem;zgssearch.isDashboardViewOpened()?(cardElem=zgssearch.getParentNode(tarElem,"cardResults"))&&zgssearch.gscardsresult.loadCalloutforCard(cardElem):zgssearch.isCardViewOpened()?(cardElem=zgssearch.getParentNode(tarElem,"cardPageResults"))&&zgssearch.gscards.loadCalloutforCard(cardElem):(tarElem=zgssearch.getParentNode(tarElem,"searchResultTable"))&&tarElem!==zgssearch.curSelectedEle&&(zgssearch.handleCalloutForMobileView(),zgssearch.highlightRes(tarElem.id,""))},zgssearch.getCalloutData=function(elem,resObj,curCalloutObj){var isImmediate=!(!curCalloutObj||!curCalloutObj.hasOwnProperty("cardCalloutType")||"preview"!=curCalloutObj.cardCalloutType);zgssearch.Utils.debounce(function(){var service=_jQueryGS(elem).attr("service")||resObj.serviceName,count=zgssearch.getCurCalloutCount(),scallout=zgssearch.mappedServiceList[service].callout,calloutType=curCalloutObj?curCalloutObj.type:"search";"search"!==calloutType||zgssearch.isPreviewOpenedInComponent?calloutType!==zgssearch.dbCrdCalloutType&&calloutType!==zgssearch.crdPagecalloutType||!zgssearch.hasOwnProperty("cardObjForCurrentSelectedElem")||(zgssearch.cardObjForCurrentSelectedElem[curCalloutObj.cardId]={resultObj:resObj,calloutRespObj:""}):(_jQueryGS("#zgs20_gsDocsPreviewHolder").empty(),_jQueryGS("#zgs20_gsDocsPreviewHolder").css("visibility","hidden"),_jQueryGS("#zgs20_gsMailActionHolder").empty().hide(),zgssearch.hideCalloutHolder()),curCalloutObj.service=service,curCalloutObj.calloutMaximised="true"==_jQueryGS(curCalloutObj.parentElem).attr("maximised")&&curCalloutObj.iconDisplay,zgssearch.setCalloutSearchType(service);var fileMgmt,fileMgmtInfo,argParams={searchObj:curCalloutObj,curCalloutCount:count},curSelectedEle=zgssearch.getCurrentSelectedElem();switch(service){case GSConstant.MAILS:case GSConstant.STREAMS:case GSConstant.CRM:case GSConstant.WIKI:case GSConstant.BOOKS:case GSConstant.INVOICE:case GSConstant.INVENTORY:case GSConstant.CAMPAIGNS:case GSConstant.O365MAIL:case GSConstant.CALENDAR:case GSConstant.PEOPLE:case GSConstant.BIGIN:case GSConstant.WORKDRIVE:case GSConstant.GMAIL:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams);break;case GSConstant.CONNECT:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.CREATOR:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch.handleBeforeSentCase(curCalloutObj),resObj.hasOwnProperty("isE")&&"false"==resObj.isE?zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams):zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams);break;case GSConstant.SLACK:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch.handleBeforeSentCase(curCalloutObj),resObj.hasOwnProperty("conid")||"2"!=resObj.result_type?zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.REPORTS:case GSConstant.ORGCONTACTS:case GSConstant.PERSONALCONTACTS:case GSConstant.NOTEBOOK:zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch[scallout].calloutResponse(resObj,curSelectedEle,argParams);break;case GSConstant.DROPBOX:case GSConstant.GOOGLEDRIVE:case GSConstant.BOX:case GSConstant.ONEDRIVE:resObj.hasOwnProperty("is_preview")&&0==resObj.is_preview?(fileMgmt=new zgssearch.FileMgmtFactory,(fileMgmtInfo={}).service=service,argParams.searchObj.cardId&&(fileMgmtInfo.cardObj=argParams.searchObj),fileMgmt.createFileMgmtService(fileMgmtInfo).constructCalloutResponse({},resObj,argParams)):(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams));break;case GSConstant.SALESFORCE:case GSConstant.ASANA:case GSConstant.EVERNOTE:zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams);break;case GSConstant.WEBSITE:var projMgmtFactory=resObj.aId;zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),projMgmtFactory&&(zgssearch.isIE||zgssearch.isExtension||window.hasOwnProperty("zmList")||GSConstant.hasOwnProperty("ziaOrigin")&&GSConstant.ziaOrigin===GSConstant.MAILS||"search"!==curCalloutObj.type)?(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams)):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.SUPPORT:var service_info=resObj.module_id;zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),1==service_info||2==service_info?(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count,argParams)):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.CHAT:zgssearch.hasWMSTranscript?(zgssearch[scallout].createCalloutTemplate(count),zgssearch[scallout].calloutResponse({},resObj,curSelectedEle)):(zgssearch[scallout].createCalloutTemplate(count),zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count));break;case GSConstant.CLIQ:zgssearch.gscliq.clearChatPreview(),zgssearch[scallout].createCalloutTemplate(count,curCalloutObj),zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.ORGRESOURCES:!resObj.hasOwnProperty("cpt")||"5"!==resObj.cpt&&"8"!==resObj.cpt?zgssearch[scallout].createCalloutTemplate(count,curCalloutObj):"5"!==resObj.cpt&&"8"!==resObj.cpt||zgssearch.getConTemp("zgs20_gsConnectorCallout",count,curCalloutObj),"2"===resObj.cpt?(zgssearch.handleBeforeSentCase(curCalloutObj),zgssearch.calloutAjaxHandler(scallout,resObj,count)):zgssearch[scallout].calloutResponse({},resObj,curSelectedEle,argParams);break;case GSConstant.PROJECTS:projMgmtFactory=new zgssearch.ZSProjectMgmtFactory,service_info={};service_info.service_name=service,curCalloutObj.cardId&&(service_info.cardObj=curCalloutObj),service_info.acc_id=resObj.accId||zgssearch.getResultAccountId(),service_info.results=resObj,service_info.resultObj=resObj,zgssearch.projectMgmtCalloutObj=projMgmtFactory.createProjectMgmtInstance(service_info),zgssearch.projectMgmtCalloutObj.calloutResponse()}zgssearch.postCalloutRenderingActions(curCalloutObj)},300,"calloutCallsHandler",isImmediate)},zgssearch.postCalloutRenderingActions=function(curCalloutObj){var calloutElement,parent,isDashboardOrCard=curCalloutObj.hasOwnProperty("calloutId")?curCalloutObj.calloutId:"";isDashboardOrCard&&(parent=(calloutElement=_jQueryGS("#"+isDashboardOrCard)).find(".zgs19_gsMobDisableFields"),isDashboardOrCard=zgssearch.isDashboardScopeActive()||zgssearch.isCardScopeActive(),curCalloutObj.calloutMaximised?(calloutElement.find(".zgs18_gsIframeMaximize").css("display","none"),calloutElement.find(".zgs18_gsIframeMinimize").css("display","block"),isDashboardOrCard&&zgssearch.showCalloutPrevNavigationOptions(parent,!0),zgssearch.manageNavOptionsVisibilityForCallout(parent)):isDashboardOrCard&&zgssearch.hideCalloutPrevNavigationOptions(parent))},zgssearch.getCurSelectedEleAttr=function(attr){var curSelectedEle=zgssearch.getCurrentSelectedElem();return _jQueryGS(curSelectedEle).attr(attr)||""},zgssearch.handleBeforeSentCase=function(curCalloutObj){zgssearch.calloutLoaderIcon(curCalloutObj),zgssearch.showCalloutLoader(curCalloutObj)},zgssearch.calloutAjaxHandler=function(scallout,resObj,count,argparams){var isImmediate=!(!argparams.hasOwnProperty("searchObj")||"preview"!=argparams.searchObj.cardCalloutType);zgssearch.Utils.debounce(function(){zgssearch.curCalloutCount==count&&zgssearch.calloutAjaxRequest(scallout,resObj,count,argparams)},300,"calloutReq",isImmediate)},zgssearch.calloutVisitRequest=function(){var cPos,isAllPage,cSer,rPos,sPos=zgssearch.getCurrentSelectedElem();sPos&&(cPos=_jQueryGS(".zgs19_gsSearchResultTable").index(sPos)+1,isAllPage=zgssearch.getSearchType()===GSConstant.ALL,cSer=zgssearch.getCurSelectedEleAttr("service"),rPos=parseInt(zgssearch.getCurSelectedEleAttr("index"))+1,sPos=_jQueryGS("#zgs20_gsServicePanelList"+cSer),sPos=_jQueryGS(".zgs19_gsServiceMenu").index(sPos)+1,zgssearch.uri(zgssearch.POST,zgssearch.clickPositionURL,"cpos="+cPos+"&iap="+isAllPage+"&cser="+cSer+"&rpos="+rPos+"&spos="+sPos,{},function(){}))},zgssearch.calloutAjaxRequest=function(scallout,resObj,coutUrl,argparam,fileMgmt){var crm,params,fileMgmtInfo,fileMgmtService,notesTemplateFactory,temp1Obj,load_instance=fileMgmt||zgssearch.getCalloutSearchType();load_instance===zgssearch.GSConstant.SALESFORCE?((notesTemplateFactory={}).service_name=load_instance,notesTemplateFactory.acc_id=zgssearch.getResultAccountId(),argparam.searchObj.cardId&&(notesTemplateFactory.cardObj=argparam.searchObj),fileMgmtInfo=new zgssearch.ZSCRMFactory,params=(crm=fileMgmtInfo.createCRM(notesTemplateFactory)).calloutParams()):-1<zgssearch.SERVICES_STORAGE.indexOf(load_instance)?(fileMgmt=new zgssearch.FileMgmtFactory,(fileMgmtInfo={}).service=load_instance,argparam.searchObj.cardId&&(fileMgmtInfo.cardObj=argparam.searchObj),params=(fileMgmtService=fileMgmt.createFileMgmtService(fileMgmtInfo)).calloutParams(resObj)):-1<zgssearch.SERVICES_PROJECT.indexOf(load_instance)?(temp1Obj=new zgssearch.ZSProjectMgmtFactory,(notesTemplateFactory={}).service_name=load_instance,argparam.searchObj.cardId&&(temp1Obj.cardObj=argparam.searchObj),notesTemplateFactory.acc_id=zgssearch.getResultAccountId()||resObj.accId,notesTemplateFactory.resultObj=resObj,zgssearch.projectMgmtCalloutObj=temp1Obj.createProjectMgmtInstance(notesTemplateFactory),params=zgssearch.projectMgmtCalloutObj.calloutParams(resObj),temp1Obj=zgssearch.getFourDotLoader("zgs20_gsProjectsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsConnectorprevLoader"),_jQueryGS("#zgs20_gsSearchResultRight").empty().append(temp1Obj)):params=-1<zgssearch.SERVICES_NOTES.indexOf(load_instance)?(notesTemplateFactory=new zgssearch.notesTemplateFactory,(temp1Obj={}).service=load_instance,temp1Obj.accountId=zgssearch.getResultAccountId()||resObj.accId,argparam.searchObj.cardId&&(temp1Obj.cardObj=argparam.searchObj),zgssearch.notesTemplateInstance=notesTemplateFactory.createCurServiceInstance(temp1Obj),zgssearch.notesTemplateInstance.callOutParams(resObj)):zgssearch[scallout].calloutParams(resObj,argparam);argparam=argparam||{curCalloutCount:coutUrl},coutUrl=-1<zgssearch.getEnabledCloudApps().indexOf(load_instance)?zgssearch.connectorCallOutURL:zgssearch.callOutURL;zgssearch.isPreviewOpenedInComponent&&(zgssearch.ZSNetwork.abortOngoingCalloutCalls(),argparam.isCalloutReq=!0),!zgssearch.isArrayContain(load_instance,zgssearch.handlebarDependentService)||zgssearch.isHandlebarLoaded()||null!=(load_instance=(new zgssearch.ResourceFactory).createInstance(load_instance,!0))&&load_instance.load(),zgssearch.uri(zgssearch.GET,coutUrl,params,argparam,function(response,calloutObj,curSelectedEle){var argObj=curSelectedEle.args||{},argCurCalloutCount=argObj.curCalloutCount,orgCurCalloutCount=zgssearch.curCalloutCount,curSelectedEle=argObj.searchObj||{};!curSelectedEle&&_jQueryGS.isEmptyObject(curSelectedEle)&&(type=zgssearch.getSearchCalloutObj(searchType),argObj.searchObj=type);var searchType=curSelectedEle.hasOwnProperty("service")?curSelectedEle.service:zgssearch.getCalloutSearchType(),type=curSelectedEle.hasOwnProperty("type")?curSelectedEle.type:"search",curSelectedEle=curSelectedEle.hasOwnProperty("curSelectedEle")?curSelectedEle.curSelectedEle:zgssearch.getCurrentSelectedElem();orgCurCalloutCount!=argCurCalloutCount&&type!==zgssearch.dbCrdCalloutType&&type!==zgssearch.crdPagecalloutType||("error"!=calloutObj||argObj.updateRecord?(response=zgssearch.jsonParse(response),zgssearch.getCurrentResponseObj=Object.assign(resObj,response),searchType===zgssearch.GSConstant.SALESFORCE?(crm.cardObj=argObj.searchObj,crm.setCurrentResObj(),crm.calloutResponse(response,argObj)):-1<zgssearch.SERVICES_STORAGE.indexOf(searchType)?fileMgmtService.constructCalloutResponse(response,resObj,argObj):searchType===zgssearch.GSConstant.PEOPLE?zgssearch[scallout].calloutResponse(response,curSelectedEle,argObj):-1<zgssearch.SERVICES_PROJECT.indexOf(searchType)?(zgssearch.projectMgmtCalloutObj.setCalloutResponse(response.response),zgssearch.projectMgmtCalloutObj.parent=argObj.searchObj.parentElem,zgssearch.projectMgmtCalloutObj.calloutResponse(argObj)):-1<zgssearch.SERVICES_NOTES.indexOf(searchType)?zgssearch.notesTemplateInstance.constructCalloutResponse(response,resObj,argObj):zgssearch[scallout].calloutResponse(response,resObj,curSelectedEle,argObj)):"error"==calloutObj&&(calloutObj=argObj.searchObj,zgssearch.hideCalloutLoader(calloutObj),(-1<zgssearch.SERVICES_STORAGE.indexOf(searchType)?fileMgmtService:-1<zgssearch.SERVICES_NOTES.indexOf(searchType)?zgssearch.notesTemplateInstance:zgssearch[scallout]).calloutErrorMsg("ERROR",calloutObj)),zgssearch.postCalloutRenderingActions(argObj.searchObj))})},zgssearch.renderCalloutUserPhoto=function(id,photoURL,isGroup){zgssearch.network.imageRenderer.renderImage(photoURL,null,function(result){handleCalloutUserPhotoError=function(ele){zgssearch.renderCalloutNoUserPhoto(ele.getAttribute("gs"),ele.getAttribute("group")),zgssearch.removeEle(ele)};var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id,group:isGroup})[0];result?_jQueryGS(serviceImgDummy).attr("src",result).off().on({load:function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(_jQueryGS(imgEle).attr("src",this.src),_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsFetchImgLoader zgs19_gsResultsUniIcons zgs19_gsFetchImgLoaderMar zgs19_gsCalloutNoUserImg").addClass("zgs19_gsCalloutUserImg")),zgssearch.removeEle(this)},error:function(){handleCalloutUserPhotoError(this)}},!0):this.handleCalloutUserPhotoError(serviceImgDummy)})},zgssearch.renderBigCalloutUserPhoto=function(id,photoURL){try{var serviceImgDummy=_jQueryGS("<img>",{class:"zgs19_gsDisplayNone",gs:id,src:photoURL})[0];_jQueryGS(serviceImgDummy).off().on({load:function(){var imgEle=zgssearch.getTargetElem(this.getAttribute("gs"));imgEle&&(_jQueryGS(imgEle).attr("src",this.src),_jQueryGS(imgEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader").addClass("zgs19_gsDocsCalloutImgNew")),zgssearch.removeEle(this)},error:function(){var imgEle=this.getAttribute("gs"),imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(_jQueryGS(imgEle).attr("src",zgssearch.gsspacer),_jQueryGS(imgEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew")),zgssearch.removeEle(this)}},!0)}catch(ex){zgssearch.throwClientError("Unable to load callout photo.",ex)}},zgssearch.renderCalloutNoUserPhoto=function(imgEle,isGroup){imgEle=zgssearch.getTargetElem(imgEle);imgEle&&(imgEle.setAttribute("src",zgssearch.gsspacer),"true"==isGroup?_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon zgs19_gsCalloutGroupMarg"):_jQueryGS(imgEle).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},zgssearch.getFileImageClass=function(extension){extension=extension.replace(/^.*\./,"");return"ai"==extension||"jpg"==extension||"bmp"==extension||"png"==extension||"gif"==extension||"psd"==extension||"jpeg"==extension||"ttf"==extension||"svg"==extension?"image":"3g2"==extension||"3gp"==extension||"3gpp"==extension||"avi"==extension||"flv"==extension||"m4v"==extension||"mkv"==extension||"mov"==extension||"mp4"==extension||"mpeg"==extension||"mpg"==extension||"ogv"==extension||"vob"==extension||"webm"==extension||"webmv"==extension||"wmv"==extension||"vcf"==extension||"vlc"==extension||"fla"==extension||"swf"==extension?"video":"m4a"==extension||"mp3"==extension||"oga"==extension||"ogg"==extension||"wav"==extension||"webma"==extension?"music":"doc"==extension||"docm"==extension||"docx"==extension||"dot"==extension||"dotm"==extension||"dotx"==extension||"ds"==extension||"sxw"==extension||"odt"==extension||"rtf"==extension||"tex"==extension?"word":"csv"==extension||"ods"==extension||"sxc"==extension||"tsv"==extension||"xls"==extension||"xlsm"==extension||"xlsx"==extension?"xl":"odp"==extension||"pps"==extension||"ppsx"==extension||"ppt"==extension||"pptx"==extension||"sxi"==extension?"power":"pdf"==extension?"pdf":"html"==extension||"htm"==extension||"xml"==extension||"jsp"==extension||"jspf"==extension||"php"==extension||"js"==extension||"css"==extension||"sql"==extension?"html":"zip"==extension?"zip":"txt"==extension?"txt":"undefinedtype"},zgssearch.removeIDAndClassAttr=function(ele,service){GSConstant.MAILS!=service&&_jQueryGS(ele).children().each(function(){this.removeAttribute("id"),this.removeAttribute("class"),zgssearch.removeIDAndClassAttr(this)})},zgssearch.preventTableStyles=function(ele){_jQueryGS(ele).find("table").each(function(){var tableCSS={},teborderspace=_jQueryGS(this).attr("border");"none"==_jQueryGS(this).css("border-style")&&(tableCSS["border-color"]="gray",tableCSS["border-style"]="solid",tableCSS["border-width"]=(teborderspace||0)+"px");var tebcellspace=_jQueryGS(this).attr("cellspacing"),teborderspace=_jQueryGS(this).css("border-spacing");(teborderspace=tebcellspace||teborderspace&&"0px"!=teborderspace&&"0px 0px"!=teborderspace?"0px"==teborderspace||"0px 0px"==teborderspace?tebcellspace+"px":teborderspace:"2px")&&(tableCSS["border-spacing"]=teborderspace),_jQueryGS(this).css(tableCSS),_jQueryGS(this).find("tbody, th, tr, td").each(function(){"none"==_jQueryGS(this).css("border-style")&&_jQueryGS(this).css(tableCSS)});var tecellpadding=_jQueryGS(this).attr("cellpadding"),pattrList=["padding-top","padding-right","padding-bottom","padding-left"];_jQueryGS(this).find("td").each(function(){for(var plistLen=pattrList.length,i=0;i<plistLen;i++){var pattrItem=pattrList[i],tepadding=_jQueryGS(this).css(pattrItem),tepadding=tecellpadding||tepadding&&"0px"!=tepadding&&"0px 0px"!=tepadding?"0px"==tepadding||"0px 0px"==tepadding?tecellpadding+"px":tepadding:"2px";_jQueryGS(this).css(pattrItem,tepadding)}})});var attrList=["valign","bgcolor","align"],attrMap=["vertical-align","background-color","margin"];_jQueryGS(ele).find("table, tbody, th, tr, td").each(function(){for(var alistLen=attrList.length,i=0;i<alistLen;i++){var attrItem=attrList[i],elemAttr=_jQueryGS(this).attr(attrItem);elemAttr&&("align"==attrItem&&(elemAttr="left"==elemAttr?"auto 0":"center"==elemAttr?"0 auto":"0 0 0 auto"),_jQueryGS(this).css(attrMap[i],elemAttr))}})},zgssearch.preventStylesFromParentDomain=function(ele,service){zgssearch.removeIDAndClassAttr(ele,service),zgssearch.updateCalloutTooltip(ele)},zgssearch.getURLHostName=function(url){var aTag=document.createElement("a");return aTag.href=url,aTag.hostname},zgssearch.getURLOrginName=function(url){var aTag=document.createElement("a");return aTag.href=url,aTag.origin},zgssearch.getURLWithoutProtocol=function(url){var aTag=document.createElement("a");return aTag.href=url,aTag.href.replace("http://","")},zgssearch.getURLPathName=function(url){var path=document.createElement("a");path.href=url;path=path.pathname;return"/"===path.charAt(0)?path.substring(1,path.length):path},zgssearch.updateCalloutTooltip=function(id){_jQueryGS(id).find("*[title]").each(function(){var titleAttr=_jQueryGS(this).attr("title");titleAttr&&(_jQueryGS(this).attr("gstitle",titleAttr),_jQueryGS(this).removeAttr("title"))})},zgssearch.renderContactsEmailId=function(menuEl,target,label,value){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100 zgs19_gsCalloutFieldsMultiline"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+value,target:"_blank",istip:!0,gstitle:value}).text(value)))))},zgssearch.renderContactsInfo=function(menuEl,target,label,value){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",gstitle:value}).text(value)))))},zgssearch.renderActionableElems=function(menuEl,target,label,value,name,gsAttr){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsLinkElem zgs19_gsCalloutReportingTo zgs19_gsOverflowWrap zgs19_gsfl",gs:gsAttr,gstitle:name,value:value}).text(name)))))},zgssearch.renderURL=function(menuEl,target,label,value){value&&null!==value&&""!==value&&""!==value.trim()&&(_jQueryGS(menuEl.lineicon).css("display","block"),_jQueryGS(target).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",gstitle:value,target:"_blank",href:value,rel:"noopener noreferrer"}).text(value)))))},zgssearch.renderInstantORWebInfo=function(menuEl,target,openURL,operHolder,value){value&&""!==value&&(_jQueryGS(menuEl.lineicon).show(),operHolder=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(operHolder))),"url"===openURL?((openURL=value[0]).indexOf(zgssearch.httptxt+"://")<0&&openURL.indexOf(zgssearch.httpstxt+"://")<0&&(openURL=zgssearch.httptxt+"://"+openURL),operHolder.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl",href:openURL,url:openURL,istip:!0,gstitle:value[0]}).text(value[0])))):operHolder.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow zgs19_gsfl",gstitle:value[0]}).text(value[0]))),_jQueryGS(target).append(operHolder))},zgssearch.closeIconCallout=function(){_jQueryGS("#zgs20_gsSearchResultRight").css("display","none"),_jQueryGS("#zgs20_gsSearchResultMiddle").css({width:"100%",display:"block"}),zgssearch.changeBGClass(zgssearch.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),zgssearch.curSelectedEle=""},zgssearch.minCalloutPreview=function(service,resObj,menuEl){zgssearch.minCalloutPreviewChange(menuEl);menuEl=zgssearch.mappedServiceList[service].callout,menuEl=(menuEl=service===zgssearch.GSConstant.SALESFORCE?"gscrm":menuEl)?zgssearch[menuEl].getCalloutHolder():"";menuEl||(service==zgssearch.GSConstant.ASANA?menuEl=zgssearch.projectMgmtCalloutObj.getCalloutHolder():service==zgssearch.GSConstant.EVERNOTE?menuEl=zgssearch.notesTemplateInstance.getCalloutHolder():service==zgssearch.GSConstant.PROJECTS&&(menuEl=(new zgssearch.ZSProjectMgmtFactory).createProjectMgmtInstance({service_name:service}).getCalloutHolder()));menuEl=zgssearch.getTargetElem(menuEl);menuEl&&(zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"))},zgssearch.openCalloutPreview=function(calloutObj){let currSearchType=new zgssearch.dashboardSearchActions,actions=currSearchType.createActionType(calloutObj);var service=actions.getServiceName();let callObj=actions.getSearchDBCalloutObj();var menuEl=callObj.hasOwnProperty("calloutId")&&callObj.calloutId?document.getElementById(callObj.calloutId):"",resObj=actions.getCurrentResultObj(),calloutObj={searchObj:zgssearch.searchCalloutObj};GSConstant.WORKDRIVE==service?zgssearch.gsworkdrive.renderWorkDrivePreview(menuEl,resObj):GSConstant.ORGRESOURCES==service?"3"==resObj.cpt?zgssearch.gsconnector.renderLinkDetails(menuEl,resObj):zgssearch.gsconnector.renderConnectorPreview(menuEl,resObj,calloutObj):zgssearch.isArrayContain(service,zgssearch.FINANCE_SUITE_SERVICES)&&zgssearch.gsbooks.setBooksCalloutEleSize(menuEl)},zgssearch.callbackForMinAndMaxPrev=function(service){var menuEl=zgssearch.mappedServiceList[service].callout,menuEl=zgssearch[menuEl].getCalloutHolder(),menuEl=zgssearch.getTargetElem(menuEl);zgssearch.isArrayContain(service,zgssearch.FINANCE_SUITE_SERVICES)&&zgssearch.gsbooks.setBooksCalloutEleSize(menuEl)},zgssearch.setScrollTopLeft=function(ele){_jQueryGS(ele).scrollTop(0),_jQueryGS(ele).scrollLeft(0)},zgssearch.getNewTabTip=function(serviceObj){var tipMsg=zgssearch.getI18NMsg("gs.search.callout.open_tab"),mlist=zgssearch.getMappedServiceList();return mlist.hasOwnProperty(serviceObj)&&(serviceObj=mlist[serviceObj]||{},tipMsg=zgssearch.getI18NMsg("gs.search.link.openin")+" "+serviceObj.displayName+" "+zgssearch.getI18NMsg("gs.search.link.app")),tipMsg},zgssearch.addMenuContent=function(searchForOption,resObj,service,chidObj,response){var zuid=resObj.zuid,isGroupMail=resObj.isGrp,photo="",emailId="",dispName="",chatWithUserObj="",emailAction="",targetEmailId="",finalZuid=-1,targetText=_jQueryGS(searchForOption).text(),action=_jQueryGS(searchForOption).attr("gs"),imgId="zgs20_gsChatWithUser";switch(service){case GSConstant.PEOPLE:targetEmailId=resObj.mailid,dispName=targetText;break;case GSConstant.PERSONALCONTACTS:targetEmailId=resObj.email,dispName=resObj.full_name;break;case GSConstant.MAILS:"receiver"===action?(targetEmailId=zgssearch.gsmails.toAddr,zuid=zgssearch.gsmails.toZuid,dispName=zgssearch.gsmails.toName,isGroupMail=zgssearch.gsmails.isGroup):"sender"===action&&(dispName=resObj.sender,targetEmailId=resObj.from_address);break;case GSConstant.CLIQ:dispName=resObj.title,targetEmailId=chidObj.oem,zuid=chidObj.owner;break;case GSConstant.CONNECT:dispName=resObj.author,targetEmailId=resObj.em;break;case GSConstant.SUPPORT:dispName=resObj.CONTACTNAME,targetEmailId=resObj.EMAIL||zgssearch.gssupport.email,zuid=zgssearch.gssupport.zuid,isGroupMail=zgssearch.gssupport.isGroup,"3"===resObj.module_id&&(targetEmailId=resObj.EMAIL,zuid=resObj.zuid,isGroupMail=resObj.isGrp);break;case GSConstant.WIKI:dispName=resObj.dN,targetEmailId=resObj.em;break;case GSConstant.REPORTS:zuid=resObj.mZUID,"Me"===(targetEmailId=resObj.mBy)?(dispName=zgssearch.GSConstant.cun,targetEmailId=zgssearch.GSConstant.cue,zuid=zgssearch.GSConstant.cuz):dispName=resObj.auth;break;case GSConstant.CREATOR:dispName=resObj.auth,targetEmailId=resObj.em;break;case GSConstant.BOOKS:"contacts"===resObj.modules?(dispName=targetText,targetEmailId=resObj.email):"recurring_invoices"===resObj.modules&&(dispName=targetText,targetEmailId=zgssearch.gsbooks.email,zuid=zgssearch.gsbooks.zuid,isGroupMail=zgssearch.gsbooks.isGroup);break;case GSConstant.INVOICE:case GSConstant.INVENTORY:"contacts"===resObj.modules?(dispName=targetText,targetEmailId=resObj.email):"recurring_invoices"===resObj.modules&&(dispName=targetText,targetEmailId=zgssearch.gsbooks.Email,zuid=zgssearch.gsbooks.zuid);break;case GSConstant.CAMPAIGNS:var ty=zgssearch.getResultAccountId();"2"===ty?(dispName=resObj.title,targetEmailId=resObj.c_mail):"3"===ty&&(dispName=resObj.oNam,targetEmailId=resObj.em);break;case GSConstant.WORKDRIVE:dispName=resObj.author,targetEmailId=resObj.em;break;case GSConstant.ORGRESOURCES:ty=resObj.cpt||"";ty&&"5"==ty&&(dispName=resObj.cnt||"",targetEmailId=resObj.emid||"");break;case GSConstant.NOTEBOOK:dispName=zgssearch.GSConstant.cun,targetEmailId=zgssearch.GSConstant.cue,zuid=zgssearch.GSConstant.cuz;break;case GSConstant.ASANA:response&&(targetEmailId=response.email);break;case GSConstant.GMAIL:let extractedId=targetText.match(/<([^>]+)>/g);dispName=targetText.replace(/<[^>]+>/g,"").trim(),targetEmailId=extractedId?extractedId[0].slice(1,-1):targetText}var finalDispName=""!==dispName&&dispName?dispName:targetText;""!==targetEmailId&&targetEmailId&&"null"!==targetEmailId?(emailId=targetEmailId,service!=GSConstant.ASANA&&service!=GSConstant.GMAIL&&(emailAction=_jQueryGS("<div>",{id:"zgs20_gssendmail",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_sendMail_"+service,gs:"contextMenuAction",action:"sendMail",email:emailId}).text(zgssearch.getI18NMsg("gs.search.callout.send_mail_action")))):(emailId=finalDispName,service==GSConstant.ASANA&&(emailId=zgssearch.getFourDotLoader("zgs20_gsAsanaStoryAuthorLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18"))),!zuid||-1==zuid||""===zuid||isGroupMail&&"false"!=isGroupMail?photo=emailId:(zuid!=zgssearch.GSConstant.cuz&&(chatWithUserObj=_jQueryGS("<div>",{id:"zgs20_gsChatAction",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_chatWithUser_"+service,gs:"contextMenuAction",action:"chatWithUser",chatid:zuid}).text(zgssearch.getI18NMsg("gs.search.result.chat.callout.continueChat"))),photo=finalDispName,finalZuid=zuid);searchForOption="";service!=GSConstant.ASANA&&(searchForOption=_jQueryGS("<div>",{id:"zgs20_gsMenuSearchFor",class:"zgs19_gsAction zgs19_gsCurPointer",gsa:"mc-cm_searchUser_"+service,gs:"contextMenuAction",action:"searchUser",query:photo,value:finalZuid,eId:emailId}).text(zgssearch.getI18NMsg("gs.search.service_search_for")+" ").append(_jQueryGS("<span>").text('"'+photo+'"')));photo="";zgssearch.isDashboardEnabled&&GSConstant.onTheFlyDashboard&&emailId&&zgssearch.emailRegexPattern.test(emailId)&&(photo=_jQueryGS("<div>",{class:"zgs19_gsAction zgs19_gsCurPointer zgs19_onTheFlyContextOption",gs:"onTheFlyDB",email:emailId}).text(zgssearch.I18N.getValue("gs.dashboard.generating_dashboard_for",[emailId])));photo=_jQueryGS("<div>",{id:"zgs20_gsMenuPopUp",class:"zgs19_gsMenuPopUp zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderAbout"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderInnerAbout"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsPhotoHolder"}).append(_jQueryGS("<img>",{id:imgId,class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"userPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsSenderDetails"}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderName"}).append(_jQueryGS("<span>",{gs:"cmusername"}).text(finalDispName))).append(_jQueryGS("<div>",{class:"zgs19_gsSenderEmail"}).append(_jQueryGS("<span>",{id:"zgs20_gsSenderMailAddress",gs:"cmmailaddress"}).text(emailId)))))).append(_jQueryGS("<div>",{class:"zgs19_gsSeparator"})).append(emailAction).append(chatWithUserObj).append(searchForOption).append(photo);_jQueryGS("#zgs20_gsSearchResultRight").append(photo),service===GSConstant.PEOPLE?(photo=resObj.photo)?(-1!=photo.indexOf("/file?")?photo+=zgssearch.nps:photo=photo.replace("/api/viewEmployeePhoto?","/viewPhoto?"),zgssearch.renderCalloutUserPhoto(imgId,photo)):zgssearch.renderCalloutNoUserPhoto(imgId):-1!==zuid&&"-1"!==zuid&&void 0!==zuid?zgssearch.renderCalloutUserPhoto(imgId,zgssearch.getThumbPhotoURL(zuid)):service==zgssearch.GSConstant.ASANA?(_jQueryGS("#zgs20_gsMenuPopUp").addClass("zgs19_gsAsanaAuthorPopUp zgs19_gsLf30Px"),response&&response.photo_url?zgssearch.renderCalloutUserPhoto(imgId,response.photo_url):zgssearch.renderCalloutNoUserPhoto(imgId)):zgssearch.renderCalloutNoUserPhoto(imgId)},zgssearch.checkIsInputNumber=function(event){var ch=String.fromCharCode(event.which);/[0-9]/.test(ch)||event.preventDefault()},zgssearch.convertDurationText=function(mins){var hours=mins/zgssearch.HOURS_IN_MILLIS,mins=(mins-=(hours=Math.floor(hours))*zgssearch.HOURS_IN_MILLIS)/zgssearch.MINUTE_IN_MILLIS;return[hours,mins=Math.floor(mins)]},zgssearch.replSplChars=function(val){return val=(val=(val=val.replace(/\\/g,"\\\\")).replace(/"/g,'\\"')).replace(/\n/g,"\\n")},zgssearch.getSearchCalloutObj=function(curCalloutObj){curCalloutObj={type:"search",parentElem:"#zgs20_gsSearchResultRight",calloutId:curCalloutObj?zgssearch.mappedServiceList[curCalloutObj].id:"",iconDisplay:!0};return zgssearch.searchCalloutObj=curCalloutObj},zgssearch.savePreviewNeeded=function(key){return"savePreview"!=key}}(zgssearch,window);GSConstant=zgssearch.getGSConstantObj()||{};function ZSHandlebarsResource(){this.load=function(){zgssearch.isHandlebarLoaded()||zgssearch.HbLoadTrig||(zgssearch.HbLoadTrig=!0,zgssearch.GSConstant.handlebarsUrl="js/handlebars.js",zgssearch.network.loadSRIJSFile(zgssearch.GSConstant.handlebarsUrl,this.handleBarsNoConflict))},this.handleBarsNoConflict=function(){zgssearch.HbLoadTrig=!1,window.search_handlebars=Handlebars.noConflict()}}function ZSSlackResource(){this.load=function(){void 0===zgssearch.slackformat&&zgssearch.network.loadSRICSSFile("css/gsemoji.css",function(){zgssearch.network.loadSRIJSFile("js/slack.js")})}}zgssearch.ZSPreview=function(){this.createPreviewObj=function(previewType){var previewInstance;switch(previewType){case zgssearch.IFRAME:previewInstance=new zgssearch.ZSIframe;break;case zgssearch.ZIP:previewInstance=new zgssearch.ZSZip;break;case zgssearch.FILE:case zgssearch.FOLDER:default:previewInstance=new zgssearch.ZSPreviewUnavailable}return previewInstance.setService=function(service){this.service=service},previewInstance.getService=function(){return this.service},previewInstance.setParentId=function(parentId){this.parentId=parentId},previewInstance.setPreviewType=function(previewType){this.previewType=previewType},previewInstance.setPreviewHolder=function(previewHolder){this.previewHolder=previewHolder},previewInstance.setCalloutHolder=function(calloutHolder){this.calloutHolder=calloutHolder},previewInstance.setIframeUrl=function(iframeUrl){this.iframeUrl=iframeUrl},previewInstance.setSandbox=function(sandboxList){this.sandbox=sandboxList},previewInstance.setLoaderIconId=function(loaderIconId){this.loaderIconId=loaderIconId},previewInstance.setIframeClassName=function(iframeClass){this.iframeClass=iframeClass},previewInstance.setIframeAttr=function(iframeProp){this.iframeProp=iframeProp},previewInstance.setIframeId=function(iframeId){this.iframeId=iframeId},previewInstance.getIframeUrl=function(){return this.iframeUrl},previewInstance.getParentId=function(){return this.parentId},previewInstance.getPreviewType=function(){return this.previewType},previewInstance.getParamsObj=function(){return this.paramsObj},previewInstance.getCalloutHolder=function(){return this.calloutHolder},previewInstance.getPreviewHolder=function(){return this.previewHolder},previewInstance.getLoaderIconId=function(){return this.loaderIconId},previewInstance.getIframeClassName=function(){return this.iframeClass},previewInstance.getIframeAttr=function(){return this.iframeProp},previewInstance.getIframeId=function(){return this.iframeId},previewInstance.setCardObj=function(cardObj){this.cardObj=cardObj},previewInstance.getCurrentResObj=function(){var type="",cardId="",cardObj=this.cardObj;return cardObj&&(cardId=cardObj.cardId,type=cardObj.type),zgssearch.Utils.getResultObjectofType(type,cardId)},previewInstance.constructParamsObj=function(text,btnText,service_name){this.paramsObj={service:service_name||zgssearch.getCurSelectedEleAttr("service")||GSConstant.ORGRESOURCES,txt:text||zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),btnTxt:btnText||zgssearch.getI18NMsg("gs.search.result.website.callout.open_page")}},previewInstance.hideLoader=function(){var loader_elem=this.getLoaderIconId(),loader_elem=document.getElementById(loader_elem);loader_elem&&void 0!==loader_elem&&(zgssearch.isIE?_jQueryGS(loader_elem).css("display","none"):loader_elem.remove())},previewInstance.renderErrorMsg=function(paramsObj){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder()),resObj=this.getCurrentResObj(),paramsObj=paramsObj||this.getParamsObj();this.hideLoader(),this.constructErrorDOMContent(paramsObj),zgssearch.setGSTagElems(menuEl),resObj.url||resObj.webUrl||resObj.openUrl||_jQueryGS(menuEl.connPage).css("display","none")},previewInstance.constructErrorDOMContent=function(paramsObj){var parentId=this.getParentId(),connectorPrev=_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"connPageTxt"}).append(_jQueryGS("<span>").text(paramsObj.txt));paramsObj.btnTxt&&(_jQueryGS("#"+parentId).addClass("zgs19_gsDocsPreviewHolderBtn"),connectorPrev.append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"connPage",service:paramsObj.service}).append(_jQueryGS("<div>",{class:"zgs19_gsMgRt5Px"}).text(paramsObj.btnTxt)).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsMxWid200Px"})))),_jQueryGS("#"+parentId).html(connectorPrev)},previewInstance.setPreviewType(previewType),previewInstance.isiframe_loading_completed=!1,previewInstance}},zgssearch.ZSIframe=function(){var self=this;this.renderPreview=function(){var iframeEle;this.getIframeUrl()?(iframeEle=this.constructDOMContent(),zgssearch.isIE?setTimeout(function(){self.handleIframeOnLoad()},15e3):(_jQueryGS(iframeEle).on({load:function(){self.handleIframeOnLoad()},error:function(){self.handlePreviewUnavailability()}}),setTimeout(function(){self.isiframe_loading_completed||self.handlePreviewUnavailability()},3e4))):this.previewErrorInfo()},this.constructDOMContent=function(){var iframeProp=this.getIframeAttr()||{};iframeProp.id=this.getIframeId()||"",iframeProp.frameBorder=0,iframeProp.style||(iframeProp.style={}),iframeProp.className=this.getIframeClassName(),iframeProp.allow="fullscreen",iframeProp.src=this.getIframeUrl();var iframe_elem=document.createElement("iframe");if(iframeProp)for(var prop in iframeProp)if(iframeProp.hasOwnProperty(prop))if("style"!=prop)iframe_elem[prop]=iframeProp[prop];else for(var style in iframeProp[prop])iframe_elem[prop][style]=iframeProp[prop][style];var parentId=this.getParentId();return _jQueryGS("#"+parentId).html(iframe_elem),iframe_elem},this.handleIframeOnLoad=function(){this.hideLoader();var iframe_elem=_jQueryGS("#"+this.getParentId());iframe_elem.css("display","block"),iframe_elem.find("iframe").removeClass("zgs19_gsVisbHdn");iframe_elem=document.getElementById(this.getIframeId());iframe_elem&&(iframe_elem.contentDocument||iframe_elem.contentWindow)&&(this.isiframe_loading_completed=!0)},this.previewErrorInfo=function(){var menuEl=zgssearch.getTargetElem(this.getCalloutHolder());this.hideLoader();var prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr");_jQueryGS(menuEl[this.getPreviewHolder()]).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden")},this.handlePreviewUnavailability=function(){var btnTxt,text=document.getElementById(this.getIframeId());null!=text&&(btnTxt=this.getService()||zgssearch.getCurSelectedEleAttr("service"),text=zgssearch.I18N.getValue("gs.common.error"),btnTxt=zgssearch.mappedServiceList[btnTxt].displayName,btnTxt=zgssearch.I18N.getValue("gs.callout.preview.open.title",[btnTxt]),this.constructParamsObj(text,btnTxt),this.renderErrorMsg(this.getParamsObj()))}},zgssearch.ZSZip=function(){this.renderPreview=function(){this.hideLoader();var previewHolder=zgssearch.getTargetElem(this.getCalloutHolder()),previewHolder=_jQueryGS(previewHolder[this.getPreviewHolder()]);this.constructDOMContent(previewHolder)},this.constructDOMContent=function(previewHolder){var resObj=this.getCurrentResObj(),renType=this.getService()||zgssearch.getCurSelectedEleAttr("service"),url=_jQueryGS(previewHolder).attr("id");"zgs20_gsDocsPreviewHolder"==url&&_jQueryGS("#"+url).addClass("zgs19_gsDocsPreviewHolderBtn");url=resObj.url||resObj.webUrl,renType=_jQueryGS("<div>",{id:"zip_file_preview",gs:"zipType",class:"zgs19_gstac zgs19_gsHgt300Px"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsZipCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(resObj.name)).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",target:"_blank",rel:"noopener noreferrer",href:url}).append(zgssearch.I18N.getValue("gs.callout.preview.open.title",[zgssearch.mappedServiceList[renType].displayName]))).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeDownload",gs:"docsdownload",target:"_blank",rel:"noopener noreferrer",service:renType}).append(zgssearch.I18N.getValue("gs.search.result.document.download"))));previewHolder.html(renType),this.cardObj&&_jQueryGS("#zip_file_preview").css("padding-top","65px")}},zgssearch.ZSPreviewUnavailable=function(){this.renderPreview=function(){this.constructErrorParams(),this.renderErrorMsg()},this.constructErrorParams=function(){var text,btnTxt=this.getPreviewType();btnTxt==zgssearch.FILE?text=zgssearch.getI18NMsg("gs.search.sevice_docs_previewerrfilesize"):btnTxt==zgssearch.FOLDER&&(text=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"));var service_name=this.cardObj?this.cardObj.service:this.getService()||zgssearch.getCurSelectedEleAttr("service"),btnTxt=zgssearch.I18N.getValue("gs.callout.preview.open.title",[zgssearch.mappedServiceList[service_name].displayName]);this.constructParamsObj(text,btnTxt,service_name)}},function(zgssearch,window){var gsmails,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsmails=(gsmails=void 0,(gsmails=zgssearch.gsmails||{}).ext_img=gsmails.ext_img||{},gsmails.actionList=[{open:"common.open"},{reply:"common.reply"},{replyall:"gs.search.result.mail.replyall"},{fwdi:"common.forward"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{flag:"gs.callout.Flag_As"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gsmails.calloutHolder="",gsmails.flagDetails=[{displayName:zgssearch.getI18NMsg("gs.action.flag_info"),id:1,class:"zgs19_gs5DA4F3Col"},{displayName:zgssearch.getI18NMsg("gs.action.flag_important"),id:2,class:"zgs19_gsFF4E67Col"},{displayName:zgssearch.getI18NMsg("gs.action.flag_follow_up"),id:3,class:"zgs19_gs19D697Col"}],gsmails.setCalloutHolder=function(calloutHolder){gsmails.calloutHolder=calloutHolder},gsmails.getCalloutHolder=function(){return gsmails.calloutHolder},gsmails.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&msgId="+resObj.message_id+"&accId="+resObj.account_id+"&accType="+resObj.accType},gsmails.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,replyTitle,extimgtip,extimgtext,mcallout,calloutId=curCalloutObj.calloutId,shrinkedtext=_jQueryGS("#"+calloutId).length;gsmails.setCalloutHolder(calloutId),shrinkedtext<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),replyTitle=zgssearch.getI18NMsg("common.reply"),extimgtip=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),extimgtext=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_text"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),shrinkedtext=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_text"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.MAILS,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.MAILS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.MAILS),service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutReplyAction",class:"zgs18_gsCalloutReplyAction zgs19_gsCurPointer zgs19_gsfr",gs:"calloutActionOptions",value:"reply",gstitle:replyTitle,service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.MAILS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.MAILS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(_jQueryGS("<span>",{class:"zgs18_gsFlagIcon zgs19_gsMailFlag zgs19_gsfl zgs19_gsDisplayNone",gs:"calloutflagAction"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(_jQueryGS("<span>",{gs:"rfolder"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutFooter",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:extimgtext}).text(extimgtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:extimgtip}).text(extimgtip))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:GSConstant.MAILS,gstitle:shrinkedtext}).text(shrinkedtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:mcallout}).text(mcallout))).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsmails.setMailCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsmails.calloutResponse=function(response,resObj,ignoreReplyActions,titleElem){var curCalloutObj=titleElem.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);if(response&&menuEl){zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(ignoreReplyActions),"search"!=curCalloutObj.type&&(_jQueryGS(menuEl.sender).removeClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.receiver).removeClass("zgs19_gsCurPointer"),curCalloutObj.cardId&&(zgssearch.cardObjForCurrentSelectedElem[curCalloutObj.cardId]=zgssearch.cardObjForCurrentSelectedElem[curCalloutObj.cardId]||{},zgssearch.cardObjForCurrentSelectedElem[curCalloutObj.cardId].calloutRespObj=response));var staObj=_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.MAILS,resObj,"",response));var tolabel=(tolabel=resObj.subject||response.subject||"")||"("+zgssearch.getI18NMsg("gs.search.result.mail.subject")+")",titleElem=_jQueryGS(menuEl.ctitle);titleElem.text(tolabel).attr("gstitle",tolabel),titleElem.removeClass("zgs19_gsFtWeightBold"),ignoreReplyActions&&(toOthersCount=_jQueryGS(ignoreReplyActions.resultTitle).attr("gslabel")||"",titleElem.attr("gslabel",toOthersCount));tolabel=resObj.zuid;_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");var toOthersCount="zgs20_gsMailsCalloutUserImg"+staObj;_jQueryGS(menuEl.authorPhoto).attr("id",toOthersCount);staObj=zgssearch.getUserStatus(tolabel);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==tolabel&&void 0!==tolabel?(toValue=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+toValue),toValue=zgssearch.getThumbPhotoURL(tolabel),zgssearch.renderCalloutUserPhoto(toOthersCount,toValue)):zgssearch.renderCalloutNoUserPhoto(toOthersCount);var tolabel=response.display_time||resObj.display_time||"",toValue=response.sentTime||tolabel,toOthersCount=zgssearch.getI18NMsg("common.from",!0);_jQueryGS(menuEl.slabel).empty().text(toOthersCount).attr("gstitle",toOthersCount),_jQueryGS(menuEl.sender).empty().text(response.from).attr("gstitle",response.from),_jQueryGS(menuEl.date).empty().text(tolabel).attr("gstitle",toValue).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.sorttime"));toOthersCount=resObj.folder_name||"",tolabel=gsmails.fillToAddress(response.to,response.cc,response.bcc),toValue=gsmails.splitEmailId(tolabel?tolabel.value:""),tolabel=tolabel?tolabel.label:"";_jQueryGS(menuEl.rlabel).empty().text(tolabel).attr("gstitle",tolabel),_jQueryGS(menuEl.receiver).empty().text(toValue).attr("gstitle",toValue),_jQueryGS(menuEl.rfolder).empty().text(toOthersCount).attr("gstitle",toOthersCount).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.document.folder")),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove(),_jQueryGS(menuEl.toaddress).css("maxWidth","60%");toOthersCount=gsmails.getTotalEmailAccountCount(response.to,response.cc,response.bcc)-1;if(0<toOthersCount&&(_jQueryGS(menuEl.toaddress).css("maxWidth","50%"),isPreviewCard=gsmails.getTotalEmailCount(toOthersCount),_jQueryGS(menuEl.tolink).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow",gstitle:isPreviewCard}).text(isPreviewCard)).show(),gsmails.loadToOthersList(menuEl,response.to,response.cc,response.bcc)),gsmails.toAddr=response.toAddr,gsmails.toZuid=response.toZuid,gsmails.toName=response.toName,gsmails.isGroup=response.isGrp,_jQueryGS(menuEl.content).empty().append(response.content),gsmails.loadImagesWithDomain(menuEl.content),zgssearch.preventStylesFromParentDomain(menuEl.content,GSConstant.MAILS),gsmails.ext_img={},_jQueryGS(menuEl.ext_img).hide(),response.hasOwnProperty("ext_img")&&(_jQueryGS(menuEl.ext_img).show(),gsmails.ext_img=response.ext_img),_jQueryGS(menuEl.shrinked).hide(),"true"==response.shrinked&&_jQueryGS(menuEl.shrinked).show(),_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty(),"1"===resObj.has_attachment||response.hasOwnProperty("attach_info")&&0<response.attach_info.length){var dataArr=response.attach_info||[],len=dataArr.length;if(0<len){var flagObj=len+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{gstitle:flagObj}).text(flagObj)));for(var i=0;i<len;i++){var val=dataArr[i],fileName=zgssearch.replaceHTMLEntity(val.n),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.MAILS,aId:val.i,gs:"attachtitle",gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.s)))))}_jQueryGS(menuEl.moveToAttachArea).show(),_jQueryGS(menuEl.attachHolder).show()}}var isPreviewCard=_jQueryGS(menuEl).find(".zgs19_gsMailFlag");resObj.hasOwnProperty("flag_info")&&resObj.flag_info&&"0"!=resObj.flag_info?(_jQueryGS(isPreviewCard).removeClass("zgs19_gs5DA4F3Col zgs19_gsFF4E67Col zgs19_gs19D697Col"),flagObj=gsmails.flagDetails[Number.parseInt(resObj.flag_info)-1],_jQueryGS(isPreviewCard).addClass(flagObj.class),_jQueryGS(isPreviewCard).attr("gslabel",zgssearch.getI18NMsg("gs.callout.Flag_As")),_jQueryGS(isPreviewCard).attr("gstitle",flagObj.displayName),_jQueryGS(isPreviewCard).css("display","block")):_jQueryGS(isPreviewCard).css("display","none");isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);curCalloutObj.iconDisplay&&!zgssearch.isPreviewOpenedInComponent&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),titleElem.attr("servImg",resObj.servImg),titleElem.attr("isBold",resObj.isBold),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show(),"true"===resObj.isBold&&gsmails.toggleMailStatus(ignoreReplyActions,resObj,"markAsRead",curCalloutObj)),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0);ignoreReplyActions=!1;_jQueryGS("#zgs20_gsCalloutReplyAction").show(),"DRAFTS"!==response.message_type&&"TEMPLATES"!==response.message_type||zgssearch.isPreviewOpenedInComponent||(ignoreReplyActions=!0,_jQueryGS("#zgs20_gsCalloutReplyAction").hide()),(!zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent.isActionsEnabled)&&gsmails.addCalloutActionList(menuEl,ignoreReplyActions,resObj,curCalloutObj),gsmails.setMailCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()}else gsmails.calloutErrorMsg("",curCalloutObj)},gsmails.addCalloutActionList=function(menuEl,ignoreReplyActions,resObj,curCalloutObj){_jQueryGS(menuEl.calloutActionHolder).css("display","block");var folName=resObj.folder_name||"",actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsmails.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,actionElement,obj=alist[i];for(key in obj)ignoreReplyActions&&"open"!==key&&"copyLink"!==key||"Sent"==folName&&"unread"==key||zgssearch.savePreviewNeeded(key)&&(actionElement=zgssearch.isPreviewCard(curCalloutObj),("unread"==key||"flag"==key)&&actionElement||(actionElement=zgssearch.getI18NMsg(obj[key]),actionElement="flag"==key?_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox zgs19_gs"+key+"action",gs:"callout"+key+"Action",service:GSConstant.MAILS,gstitle:actionElement}).append(_jQueryGS("<span>",{class:"zgs19_gsMgRt5Px"}).text(actionElement)).append(_jQueryGS("<span>",{class:"zgs18_gsarrowright zgs19_gsfr zgs19_gsMgLfAuto zgs19_gsFontSize13Px zgs19_gsMgTop4Px"})):_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.MAILS}).text(actionElement),_jQueryGS(actionList).append(actionElement)))}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.MAILS)},gsmails.toggleMailStatus=function(curRe,resObj,oper,calloutObj,target){var msgId,accountId,accType,markAsMailParam;(curRe||zgssearch.isPreviewOpenedInComponent)&&(msgId=resObj.message_id,accountId=resObj.account_id,accType=resObj.accType,markAsMailParam=resObj.semailId,markAsMailParam="action=markAsReadUnread&msgId="+msgId+"&accId="+accountId+"&accType="+accType+"&emailid="+encodeURIComponent(markAsMailParam)+"&oper="+oper,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,markAsMailParam,{curRe:curRe,resObj:resObj,oper:oper,emailId:"emailId",accountId:accountId,msgId:msgId,calloutObj:calloutObj,target:target},function(data,status,argObj){argObj=argObj.args||{};gsmails.responseFromServicesAction(data,argObj.curRe,argObj.resObj,argObj.oper,argObj.calloutObj,argObj.target)}))},gsmails.responseFromServicesAction=function(toBeChangeCls,curRe,type,oper,curresObj,target){var titleElem,statusServImg,toBeRemoveCls,isBold,vtext;toBeChangeCls&&"null"!==toBeChangeCls&&(curRe=curRe||{},"SUCCESS"==((isBold=zgssearch.jsonParse(toBeChangeCls))&&isBold.response||"")&&(toBeRemoveCls="",toBeRemoveCls=target?zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"):(statusServImg=curresObj.calloutId,zgssearch.getTargetElem(statusServImg)),zgssearch.setGSTagElems(toBeRemoveCls),toBeChangeCls=(toBeChangeCls=(titleElem=_jQueryGS(toBeRemoveCls.ctitle)).attr("servImg"))?parseInt(toBeChangeCls):"",statusServImg=(isBold=zgssearch.getMailImageStatus(toBeChangeCls)).servImg,type.servImg=statusServImg,toBeRemoveCls=isBold.image,toBeChangeCls=isBold.toBeImage,isBold=isBold.toBeTitle,_jQueryGS(curRe.resultMenuItem).attr("gstitle",isBold),isBold="","markAsRead"===oper?(isBold="false",_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),titleElem.removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),_jQueryGS(target).attr("value","unread").attr("gstitle",vtext).text(vtext)),zgssearch.isPreviewOpenedInComponent&&curresObj.hasOwnProperty("callbackFn")&&curresObj.callbackFn&&curresObj.callbackFn()):"markAsUnread"===oper&&(isBold="true",_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),titleElem.removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsRead"),_jQueryGS(target).attr("value","read").attr("gstitle",vtext).text(vtext))),titleElem.attr("servImg",statusServImg),titleElem.attr("isBold",isBold),type.isBold=isBold,type=curresObj.hasOwnProperty("type")?curresObj.type:"search",(curresObj=zgssearch.Utils.getResultObjectofType(type,curresObj.cardId)).isBold=isBold,curresObj.servImg=statusServImg))},gsmails.downloadAttachment=function(elem){var downloadURL=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),messageId=zgssearch.isPreviewOpenedInComponent?zgssearch.pcResObj:"",accType=(messageId=messageId||(new zgssearch.dashboardSearchActions).createActionType(elem).getCurrentResponseObj()).accType,accountId=messageId[zgssearch.account_id],messageId=messageId[zgssearch.entity_id],downloadURL="searchType="+_jQueryGS(elem).attr("service")+"&msgId="+messageId+"&atIndex="+atIndex+"&accId="+accountId+"&accType="+accType+"&atName="+encodeURIComponent(downloadURL),downloadURL=zgssearch.attachmentURL+"?"+downloadURL;zgssearch.network.download_file(downloadURL)},gsmails.fillToAddress=function(to,cc,bcc){to=gsmails.getFirstEmailId(to);if(null!==to)return{label:zgssearch.getI18NMsg("common.to",!0),value:to};cc=gsmails.getFirstEmailId(cc);if(null!==cc)return{label:zgssearch.getI18NMsg("gs.search.result.mail.cc"),value:cc};bcc=gsmails.getFirstEmailId(bcc);return null===bcc?{label:"",value:""}:{label:zgssearch.getI18NMsg("gs.search.result.mail.bcc"),value:bcc}},gsmails.getFirstEmailId=function(emailIds){return null==emailIds||""===emailIds?null:emailIds.split(",")[0]},gsmails.splitEmailId=function(value){var lastQuote=document.createElement("div");lastQuote.innerHTML=value;var email="";return email=""!==(value=lastQuote.textContent)?(-1!==(lastQuote=(value=value.trim()).lastIndexOf("<"))?email=value.substring(lastQuote+1,value.length):value).trim().replace("<","").replace(">","").trim():email},gsmails.getTotalEmailAccountCount=function(to,cc,bcc){to=gsmails.getArrayOfElements(to),cc=gsmails.getArrayOfElements(cc),bcc=gsmails.getArrayOfElements(bcc);return to.length+cc.length+bcc.length},gsmails.getArrayOfElements=function(emails){if(null==emails||""===emails)return[];emails=emails.split(",");return 0<emails.length?emails:[]},gsmails.getTotalEmailCount=function(count){var countMsg=zgssearch.getI18NMsg("gs.search.result.mail.menu.others");return"+"+count+" "+(countMsg=1===count?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):countMsg)},gsmails.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},gsmails.displayCallout=function(){zgssearch.hideCalloutLoader(),_jQueryGS("#"+gsmails.getCalloutHolder()).show()},gsmails.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gsmails.renderToOthersList(toAddr,zgssearch.getI18NMsg("common.to")),gsmails.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gsmails.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gsmails.renderToOthersList=function(emailIds,label){if(emailIds){var emailList=emailIds.split(",");if(0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),elistLen=emailList.length,i=0;i<elistLen;i++){var comma=i+1===emailList.length?"":",",splitEmail=gsmails.splitEmailId(emailList[i]);emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:splitEmail}).text(splitEmail+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}}},gsmails.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsmails.mailReplyActionHandler=function(accountId,msgId,mailMode,target){var iframeSrc="/zm/comp.do?accId="+accountId+"&msgId="+msgId+"&originalMode="+mailMode+"&"+zgssearch.originParam;zgssearch.gscomponent.isActionHandlerEnabledInSuiteApp?zgssearch.gscomponent.actionHandler(GSConstant.MAILS,"zmUtil.invokeComposer",[{from:"zia",accId:accountId,msgId:msgId,mode:mailMode,type:"t"}]):(iframeSrc=GSConstant.GS_MAIL_URL+iframeSrc,gsmails.loadMailCalloutIframe(iframeSrc,target))},gsmails.loadMailCalloutIframe=function(url,mailActHolder){var scrollTop,mailActionFrame;zgssearch.isExtension?zgssearch.openInNewTab(url):(mailActionFrame=zgssearch.searchCalloutObj,zgssearch.handleBeforeSentCase(mailActionFrame),mailActionFrame="#zgs20_gsSearchResultRight",zgssearch.isCardViewOpened()?mailActionFrame="#zgs20_gsCrdPrevCallout":zgssearch.isDashboardViewOpened()&&(mailActionFrame=_jQueryGS(mailActHolder).closest(".zgs19_gsCrdCallout")[0]),((mailActHolder=_jQueryGS(mailActionFrame).find("#zgs20_gsMailActionHolder")).length<=0||"#zgs20_gsSearchResultRight"==mailActionFrame)&&(mailActHolder=_jQueryGS("<div>",{id:"zgs20_gsMailActionHolder",class:"zgs19_gsMailActionHolder zgs19_gsServiceCalloutHolder"}),"#zgs20_gsSearchResultRight"==mailActionFrame&&_jQueryGS(mailActionFrame).find(".zgs19_gsMailActionHolder").remove(),_jQueryGS(mailActionFrame).append(mailActHolder)),scrollTop=_jQueryGS("#zgs20_gsDBCardsContent").scrollTop(),(mailActionFrame=document.createElement("iframe")).id="zgs20_gsMailActionFrame",mailActionFrame.className="zgs19_gsMailActionFrame",mailActionFrame.src=url,zgssearch.Utils.addSandboxToEle(mailActionFrame),mailActionFrame.onload=function(){setTimeout(function(){zgssearch.hideCalloutLoader()},500),setTimeout(function(){_jQueryGS("#zgs20_gsDBCardsContent").scrollTop(scrollTop)},3e3)},mailActHolder.empty().append(mailActionFrame).show())},gsmails.loadExtImg=function(){for(var oextimg=gsmails.ext_img||{},exurl=oextimg.externalURL||[],exlink=oextimg.externalLink||[],i=0,j=0;i<exurl.length&&j<exlink.length;i++,j++){var esrc=exurl[i],eid=exlink[i];_jQueryGS("#"+gsmails.getCalloutHolder()).find("#"+eid).attr("src",esrc)}_jQueryGS("#zgs20_gsMailCalloutExtImg").hide()},gsmails.loadImagesWithDomain=function(id){var hostName=GSConstant.GS_MAIL_URL;_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&0==oldImgSrc.indexOf("/mail/ImageDisplay?")&&_jQueryGS(this).attr("src",hostName+oldImgSrc)})},gsmails.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem(gsmails.getCalloutHolder()),zgssearch.setGSTagElems(menuEl),gsmails.setMailCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsmails.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{entity_id:resObj.message_id,account_id:resObj.account_id,account_type:resObj.accType,module:GSConstant.MAILS}},gsmails.renderFlagPopUp=function(target,resObj){if(0==_jQueryGS(".zgs19_gsFlagPopUpElement").length){var flagPopUpElement=_jQueryGS("<div>",{class:"zgs19_gsFlagPopUpElement"}),flagDetails=gsmails.flagDetails,flagDetailsLen=flagDetails.length;for(let index=0;index<flagDetailsLen;index++){let tickIcon;resObj.flag_info==flagDetails[index].id&&(tickIcon=_jQueryGS("<span>",{class:"zgs18_TickIcon zgs19_gsFlagSelected"}));var childElem=_jQueryGS("<div>",{class:"zgs19_gsFlagsList",id:"zgs19_gsFlag_"+flagDetails[index].id,gs:"flagChangeAction",flagId:flagDetails[index].id}).append(_jQueryGS("<span>",{class:"zgs19_gsFlagIcon zgs18_gsFlagIcon "+flagDetails[index].class})).append(_jQueryGS("<span>",{class:"zg19_gsFlagName"}).text(flagDetails[index].displayName)).append(tickIcon);_jQueryGS(flagPopUpElement).append(childElem)}_jQueryGS(target).closest(".zgs19_gsCalloutAction").append(flagPopUpElement);var parentElem=_jQueryGS(target).closest("#zgs20_gsCalloutActionList");let parentNode;zgssearch.isDashboardOpened&&(parentNode=_jQueryGS(parentElem).closest(".zgs19_gsInrCard")),zgssearch.setElementPosition(target,parentElem,parentNode,flagPopUpElement)}},gsmails.changeFlagAction=function(target,entityId,accountId,serviceName,resObj){var flagID=_jQueryGS(target).attr("flagId"),argParams={callback:function(){gsmails.changeMailFlagAction(target,flagID,resObj)}};zgssearch.apiCallForActions(zgssearch.POST,zgssearch.API.SERVICE_ACTIONS+serviceName,{action:"addflag",entityId:entityId,accountId:accountId,actionObject:{flagID:flagID}},argParams)},gsmails.changeMailFlagAction=function(target,flagId,resObj){let msg;var flagObj=!(resObj.flag_info==flagId);_jQueryGS(".zgs19_gsMailFlag").removeClass("zgs19_gs5DA4F3Col zgs19_gsFF4E67Col zgs19_gs19D697Col"),_jQueryGS(".zgs19_gsFlagSelected").remove();var oldFlagId=resObj.flag_info;let flagName="";flagObj?(resObj.flag_info=flagId,msg="gs.search.flag_added",_jQueryGS(".zgs19_gsMailFlag").css("display","block"),flagObj=gsmails.flagDetails[Number.parseInt(flagId)-1],_jQueryGS(".zgs19_gsMailFlag").addClass(flagObj.class),_jQueryGS(".zgs19_gsMailFlag").attr("gstitle",flagObj.displayName),flagName=flagObj.displayName,_jQueryGS("#zgs19_gsFlag_"+flagId).append(_jQueryGS("<span>",{class:"zgs18_TickIcon zgs19_gsFlagSelected"}))):(resObj.flag_info="0",msg="gs.search.flag_Cleared",flagName=gsmails.flagDetails[Number.parseInt(oldFlagId)-1]?.displayName,_jQueryGS(".zgs19_gsMailFlag").css("display","none")),zgssearch.showbannertip({ty:1,msg:flagName+" - "+zgssearch.getI18NMsg(msg)})},gsmails)}(zgssearch,window),function(zgssearch,window){var gsstreams,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsstreams=(gsstreams=void 0,(gsstreams=zgssearch.gsstreams||{}).ext_img=gsstreams.ext_img||{},gsstreams.actionList=[{open:"common.open"},{watch:"gs.search.sevice_streams_watch"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gsstreams.calloutHolder="",gsstreams.setCalloutHolder=function(calloutHolder){gsstreams.calloutHolder=calloutHolder},gsstreams.getCalloutHolder=function(){return gsstreams.calloutHolder},gsstreams.getCalloutHolder=function(){return gsstreams.calloutHolder},gsstreams.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&actionType="+("true"===resObj.isOwner?"viewSelfData":"viewGroupEntity")+"&entityId="+resObj.id+"&groupId="+resObj.gId+"&entityType="+resObj.entityType},gsstreams.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,calloutId=curCalloutObj.calloutId,mcallout=_jQueryGS("#"+calloutId).length;gsstreams.setCalloutHolder(calloutId),mcallout<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.STREAMS,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.STREAMS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.STREAMS),service:GSConstant.STREAMS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.STREAMS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.STREAMS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:mcallout,gs:"minpreview",service:GSConstant.STREAMS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid20Per zgs19_gsCurPointer"}).append(_jQueryGS("<span>",{gs:"sender"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel1 zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"haslabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"entityTitle",gslabel:zgssearch.getI18NMsg("gs.search.filter.entity_type"),istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs18_gsSharedIcon zgs19_streamsGroupSharedIcon"})).append(_jQueryGS("<span>",{gslabel:zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(_jQueryGS("<span>",{gs:"rfolder"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPopUp zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo"}).append(_jQueryGS("<div>",{gs:"content"}))).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineInfo zgs19_timelineHeaderNaviShow zgs19_gsDisplayNone",gs:"timelineHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader zgs19_gsCalloutActionHeader zgs19_gsCurPointer zgs19_timeline zgs19_gsInine",gs:"timeline"}).text(zgssearch.getI18NMsg("gs.search.sevice_streams_timeline")).append(_jQueryGS("<span>",{class:"zgs18_gsTimelineDDIcon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader zgs19_gsDisplayNone ",gs:"timelinecontent"})).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone zgs19_gsCalloutActionHeader zgs19_gsCurPointer",service:GSConstant.STREAMS,gs:"streamsmoretimeline"}).text(zgssearch.getI18NMsg("gs.search.sevice_viewall_streams_timeline")))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCommentInfo zgs19_gsDisplayNone",gs:"commentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutActionHeader zgs19_gsCalloutUserLabel zgs19_gsMSCalloutUserLabel"}).text(zgssearch.getI18NMsg("gs.search.sevice_streams_comments"))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader",gs:"ptpcommentcontent"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTimelineHeader",gs:"commentcontent"})).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutActionHeader zgs19_gsCalloutActionHeaderSC zgs19_gsCurPointer",service:GSConstant.STREAMS,gs:"streamsmorecomment"}).text(zgssearch.getI18NMsg("gs.search.sevice_viewall_streams_comments"))))).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"streamBtnCont"}).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn",gs:"streamsPage",service:GSConstant.STREAMS}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsstreams.setStreamsCalloutEleSize=function(menuEl){var headerHeight,contentHeight;menuEl&&(headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"))},gsstreams.calloutResponse=function(commentArray,resObj,curRe,summary){var staObj,from,entityTypeTitle,canshowgrp,entityType,link,ptpCommentArray,ptpcontainerId,totalCount,isPreviewCard,curCalloutObj=summary.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);commentArray&&menuEl?(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe),ptpcontainerId=_jQueryGS(menuEl).attr("ccount"),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.STREAMS,resObj,"",commentArray)),entityType=resObj.entityType||commentArray.entityType||"",entityTypeTitle=zgssearch.entityTypeTitleMap[entityType],ptpCommentArray=(ptpCommentArray=resObj.title||commentArray.title||"")||entityTypeTitle.notitle,_jQueryGS(menuEl.ctitle).text(ptpCommentArray).attr("gstitle",ptpCommentArray),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold"),curRe&&(staObj=_jQueryGS(curRe.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",staObj)),canshowgrp=resObj.zuid,_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader"),summary="zgs20_gsMailsCalloutUserImg"+ptpcontainerId,_jQueryGS(menuEl.authorPhoto).attr("id",summary),staObj=zgssearch.getUserStatus(canshowgrp),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==canshowgrp&&void 0!==canshowgrp?(from=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+from),from=zgssearch.getThumbPhotoURL(canshowgrp),zgssearch.renderCalloutUserPhoto(summary,from)):zgssearch.renderCalloutNoUserPhoto(summary),canshowgrp=resObj.time||commentArray.time||"",from=resObj.name||commentArray.name||"",summary=entityTypeTitle.hasText+" ",entityTypeTitle=entityTypeTitle.title,_jQueryGS(menuEl.sender).empty().text(from).attr("gstitle",from),_jQueryGS(menuEl.haslabel).empty().text(summary).attr("gstitle",summary),_jQueryGS(menuEl.entityTitle).empty().text(entityTypeTitle).attr("gstitle",entityTypeTitle),_jQueryGS(menuEl.date).empty().text(canshowgrp).attr("gstitle",canshowgrp).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.sorttime")),_jQueryGS(menuEl.content).empty(),_jQueryGS(menuEl.content).removeClass("zgs19_gsCalloutNBContent"),commentArray&&null!=commentArray?(canshowgrp=(summary=resObj.gN||commentArray.gN||"")?"zgs19_gsDisplayBlock":"zgs19_gsDisplayNone",_jQueryGS(menuEl.rlabel).empty(),_jQueryGS(menuEl.receiver).empty(),_jQueryGS(menuEl.toaddress).removeClass("zgs19_gsDisplayBlock").removeClass("zgs19_gsDisplayNone").addClass(canshowgrp),summary&&(link=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),_jQueryGS(menuEl.rlabel).text(link).attr("gstitle",link),_jQueryGS(menuEl.receiver).text(summary).attr("gstitle",summary)),_jQueryGS(menuEl.rfolder).empty().text(entityTypeTitle).attr("gstitle",entityTypeTitle).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.entity_type")),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove(),_jQueryGS(menuEl.toaddress).css("maxWidth","60%"),0<(link=gsstreams.getTotalEmailAccountCount(commentArray.to,commentArray.cc,commentArray.bcc)-1)&&(_jQueryGS(menuEl.toaddress).css("maxWidth","50%"),totalCount=gsstreams.getTotalEmailCount(link),_jQueryGS(menuEl.tolink).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow",gstitle:totalCount}).text(totalCount)).show(),gsstreams.loadToOthersList(menuEl,commentArray.to,commentArray.cc,commentArray.bcc)),gsstreams.toAddr=commentArray.toAddr,gsstreams.toZuid=commentArray.toZuid,gsstreams.toName=commentArray.toName,gsstreams.isGroup=commentArray.isGrp,_jQueryGS(menuEl).find(".zgs19_gsMailCalloutFooter").children().css("display","none"),_jQueryGS(menuEl.calloutFooter).css("display","block"),summary=commentArray.summary,entityType=resObj.entityType||"",_jQueryGS(menuEl.content).css("background-color","unset"),_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").removeClass("zgs19_gsFilterRevert"),_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").css("display","block"),"10"===entityType&&commentArray.hasOwnProperty("linkData")?(link=(isPreviewCard=commentArray.linkData).link||"",isPreviewCard=isPreviewCard.linkImg||"",gsstreams.obtainBookmarkTemplate(menuEl,link,isPreviewCard,summary,ptpCommentArray)):"4"===entityType&&commentArray.hasOwnProperty("eventData")?gsstreams.obtainEventDetails(menuEl,commentArray.eventData):("2"===entityType&&(_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").addClass("zgs19_gsFilterRevert"),commentArray.hasOwnProperty("colorHex")&&(_jQueryGS(menuEl.content).addClass("zgs19_gsCalloutNBContent"),_jQueryGS(menuEl.content).css("background-color",commentArray.colorHex))),_jQueryGS(menuEl.content).append(summary),gsstreams.loadImagesWithDomain(menuEl.content),zgssearch.preventStylesFromParentDomain(menuEl.content,GSConstant.STREAMS)),_jQueryGS(menuEl.moveToAttachArea).hide(),_jQueryGS(menuEl.attachHolder).hide(),_jQueryGS(menuEl.attachHolder).empty(),isPreviewCard=commentArray.privateToPostCtotal||0,ptpCommentArray=commentArray.privateToPost||[],_jQueryGS(menuEl.ptpcommentcontent).empty(),gsstreams.privateToPostCommentArr={},0<isPreviewCard&&0<ptpCommentArray.length&&(ptpcontainerId="zgs19_ptp"+ptpcontainerId,_jQueryGS(menuEl.ptpcommentcontent).append(_jQueryGS("<label>",{class:"zgs19_gsStreamsPrivateComment zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",pcId:ptpcontainerId,gs:"showprivatetopostcomments",gstitle:zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")}).text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink"))).append(_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow zgs19_gsPdLt50Px zgs19_gsDisplayNone",id:ptpcontainerId})),gsstreams.privateToPostCommentArr[ptpcontainerId]=commentArray.privateToPost),totalCount=commentArray.ctotal||0,commentArray=commentArray.cmnt||[],_jQueryGS(menuEl.commentcontent).empty(),gsstreams.privateCommentArr={},0<totalCount&&0<commentArray.length?(_jQueryGS(menuEl.commentcontent).css("display","block"),gsstreams.renderStreamsCommentDetails(menuEl,commentArray)):_jQueryGS(menuEl.commentcontent).css("display","none"),0<totalCount||0<isPreviewCard?_jQueryGS(menuEl.commentHolder).css("display","block"):_jQueryGS(menuEl.commentHolder).css("display","none"),zgssearch.gsstreams.obtainedTimeline=!1,zgssearch.gsstreams.isTimelinesShown=!1,_jQueryGS(menuEl.timelinecontent).empty(),_jQueryGS(_jQueryGS(menuEl.timelineHolder).children(".zgs19_timeline")[0]).attr("gs","timeline"),isPreviewCard=zgssearch.isPreviewCard(curCalloutObj),curCalloutObj.iconDisplay&&!zgssearch.isPreviewOpenedInComponent&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show(),"true"===resObj.isB&&gsstreams.toggleStreamsStatus(curRe,resObj,"markAsRead",curCalloutObj.calloutId)),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),(!zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent.isActionsEnabled)&&gsstreams.addCalloutActionList(menuEl,resObj,curCalloutObj),0===commentArray.length&&""==summary.trim()&&"10"!==entityType&&gsstreams.obtainOpenBtn(menuEl,entityTypeTitle)):gsstreams.obtainOpenBtn(menuEl,entityTypeTitle),gsstreams.setStreamsCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()):gsstreams.calloutErrorMsg("",curCalloutObj)},gsstreams.obtainOpenBtn=function(menuEl,openTxt){_jQueryGS(menuEl.calloutFooter).css("display","none");openTxt=zgssearch.getI18NMsg("common.open_this")+" "+openTxt;_jQueryGS(menuEl.streamsPage).empty().text(openTxt),_jQueryGS(menuEl).find(".zgs19_gsCalloutContentInfo").css("display","none"),_jQueryGS(menuEl.streamBtnCont).css("display","block"),zgssearch.setGSTagElems(menuEl),gsstreams.setPreviewBtnPosition(menuEl)},gsstreams.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=(_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-(_jQueryGS(menuEl.streamBtnCont).height()+20))/2;_jQueryGS(menuEl.streamBtnCont).css("margin",actualCenterPosition+"px auto")},gsstreams.obtainBookmarkTemplate=function(menuEl,link,linkImg,summary,mctitle){gsstreams.bookmarkTemplate||(gsstreams.bookmarkTemplate=_jQueryGS("<template>",{id:"zgs20_streams_bookmark"}).append(_jQueryGS("<div>",{class:"zgs19_gsBookmarkOuter"}).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"gsBMLinkImg"})).append(_jQueryGS("<div>",{class:"zgs19_gsBMSummary"}).append(_jQueryGS("<div>",{class:"zgs19_gsBMLink zgs19_gsLinkUnderline zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsBMLink zgs19_gsLinkUnderline zgs19_gsCurPointer zgs19_gsOverflow",gstitle:"",bm_link:"",gs:"streams_bm_link"}).text(mctitle))).append(_jQueryGS("<div>",{class:"zgs19_gsBMLinkSumm",gs:"summary"})))),_jQueryGS("#zgs20_globalsearch").append(gsstreams.bookmarkTemplate),_jQueryGS("#zgs20_streams_bookmark").css("display","none"));var template_content=gsstreams.bookmarkTemplate[0].querySelector(".zgs19_gsBookmarkOuter"),template_content=_jQueryGS(document.importNode(template_content,!0));zgssearch.setGSTagElems(template_content),_jQueryGS(menuEl.content).append(template_content),_jQueryGS(template_content.streams_bm_link).attr("gstitle",link),_jQueryGS(template_content.streams_bm_link).attr("bm_link",link),_jQueryGS(template_content.streams_bm_link).text(mctitle),""!==linkImg&&(_jQueryGS(template_content.gsBMLinkImg)[0].style.backgroundImage='url("'+linkImg+'")',_jQueryGS(template_content.gsBMLinkImg).removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsBMLinkImg"),_jQueryGS(template_content.gsBMLinkImg).attr("bm_link",link)),_jQueryGS(template_content.summary).append(summary),_jQueryGS("#zgs20_streams_bookmark").css("display","none")},gsstreams.addCalloutActionList=function(menuEl,resObj,curCalloutObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var isWatching=resObj.w,alist=gsstreams.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);if("watch"==key){if(zgssearch.isPreviewCard(curCalloutObj))continue;var dectext="true"===isWatching?zgssearch.getI18NMsg("gs.search.sevice_streams_unwatch"):zgssearch.getI18NMsg("gs.search.sevice_streams_watch"),key="true"===isWatching?"unwatch":"watch",entityTypeTitle=resObj.entityType||"",entityTypeTitle=zgssearch.entityTypeTitleMap[entityTypeTitle].title;dectext+=" "+zgssearch.getI18NMsg("gs.search.filter.this")+" "+entityTypeTitle}zgssearch.savePreviewNeeded(key)&&_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.STREAMS,gstitle:dectext}).text(dectext))}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.STREAMS)},gsstreams.toggleWatchStatus=function(curRe,resObj,oper,calloutId,target){var accountId,groupId,entityId,entityType;curRe&&(accountId=resObj.account_id,groupId=resObj.gId,entityId=resObj.id||resObj[zgssearch.entity_id],entityType=resObj.entityType,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,"action=watchstatus&groupId="+groupId+"&entityId="+entityId+"&entityType="+entityType+"&actionType="+oper,{curRe:curRe,resObj:resObj,oper:oper,emailId:"emailId",accountId:accountId,calloutId:calloutId,target:target},function(data,status,argObj){argObj=argObj.args||{};gsstreams.responseFromServicesAction(data,argObj.curRe,argObj.resObj,argObj.oper,argObj.calloutId,argObj.target)}))},gsstreams.toggleStreamsStatus=function(curRe,resObj,oper,calloutId,target){var accountId,groupId,entityId,entityType;curRe&&(accountId=resObj.account_id,groupId=resObj.gId,entityId=resObj.id||resObj[zgssearch.entity_id],entityType=resObj.entityType,zgssearch.uri(zgssearch.POST,zgssearch.updateActionsURL,"action=streamsMarkAsRead&groupId="+groupId+"&entityId="+entityId+"&entityType="+entityType+"&actionType="+oper,{curRe:curRe,resObj:resObj,oper:oper,emailId:"emailId",accountId:accountId,calloutId:calloutId,target:target},function(data,status,argObj){argObj=argObj.args||{};gsstreams.responseFromServicesAction(data,argObj.curRe,argObj.resObj,argObj.oper,argObj.calloutId,argObj.target)}))},gsstreams.responseFromServicesAction=function(menuEl,curRe,resObj,oper,entityTypeTitle,target){var vtext;!menuEl||"null"===menuEl||"SUCCESS"==((menuEl=zgssearch.jsonParse(menuEl))&&menuEl.response||"")&&(menuEl="",menuEl=target?zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"):zgssearch.getTargetElem(entityTypeTitle),zgssearch.setGSTagElems(menuEl),entityTypeTitle=resObj.entityType||"",entityTypeTitle=zgssearch.entityTypeTitleMap[entityTypeTitle].title,"markAsRead"===oper?(resObj.isB="false",_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal")):"watch"===oper?target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_streams_unwatch"),vtext+=" "+zgssearch.getI18NMsg("gs.search.filter.this")+" "+entityTypeTitle,_jQueryGS(target).attr("value","unwatch").attr("gstitle",vtext).text(vtext),zgssearch.showbannertip({ty:1,msg:vtext}),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.search.sevice_streams_watch_status")})):"unwatch"===oper&&target&&(vtext=zgssearch.getI18NMsg("gs.search.sevice_streams_watch"),vtext+=" "+zgssearch.getI18NMsg("gs.search.filter.this")+" "+entityTypeTitle,_jQueryGS(target).attr("value","watch").attr("gstitle",vtext).text(vtext),zgssearch.showbannertip({ty:1,msg:zgssearch.getI18NMsg("gs.search.sevice_streams_unwatch_status")})))},gsstreams.obtainEventDetails=function(menuEl,eventData){},gsstreams.downloadAttachment=function(elem){var downloadURL=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),messageId=zgssearch.getCurrentResObj(),accountId=messageId.account_id,messageId=messageId.id||messageId[zgssearch.entity_id],downloadURL="searchType="+_jQueryGS(elem).attr("service")+"&msgId="+messageId+"&atIndex="+atIndex+"&accId="+accountId+"&accType=1&atName="+encodeURIComponent(downloadURL),downloadURL=zgssearch.attachmentURL+"?"+downloadURL;zgssearch.network.download_file(downloadURL)},gsstreams.fillToAddress=function(to,cc,bcc){to=gsstreams.getFirstEmailId(to);if(null!==to)return{label:zgssearch.getI18NMsg("common.to",!0),value:to};cc=gsstreams.getFirstEmailId(cc);if(null!==cc)return{label:zgssearch.getI18NMsg("gs.search.result.mail.cc"),value:cc};bcc=gsstreams.getFirstEmailId(bcc);return null===bcc?{label:"",value:""}:{label:zgssearch.getI18NMsg("gs.search.result.mail.bcc"),value:bcc}},gsstreams.getFirstEmailId=function(emailIds){return null==emailIds||""===emailIds?null:emailIds.split(",")[0]},gsstreams.splitEmailId=function(value){var lastQuote=document.createElement("div");lastQuote.innerHTML=value;var email="";return email=""!==(value=lastQuote.textContent)?(-1!==(lastQuote=(value=value.trim()).lastIndexOf("<"))?email=value.substring(lastQuote+1,value.length):value).trim().replace("<","").replace(">","").trim():email},gsstreams.getTotalEmailAccountCount=function(to,cc,bcc){to=gsstreams.getArrayOfElements(to),cc=gsstreams.getArrayOfElements(cc),bcc=gsstreams.getArrayOfElements(bcc);return to.length+cc.length+bcc.length},gsstreams.getArrayOfElements=function(emails){if(null==emails||""===emails)return[];emails=emails.split(",");return 0<emails.length?emails:[]},gsstreams.getTotalEmailCount=function(count){var countMsg=zgssearch.getI18NMsg("gs.search.result.mail.menu.others");return"+"+count+" "+(countMsg=1===count?zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other",!0):countMsg)},gsstreams.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},gsstreams.displayCallout=function(){zgssearch.hideCalloutLoader(),_jQueryGS("#"+gsstreams.getCalloutHolder()).show()},gsstreams.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gsstreams.renderToOthersList(toAddr,zgssearch.getI18NMsg("common.to")),gsstreams.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gsstreams.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gsstreams.renderToOthersList=function(emailIds,label){if(emailIds){var emailList=emailIds.split(",");if(0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),elistLen=emailList.length,i=0;i<elistLen;i++){var comma=i+1===emailList.length?"":",",splitEmail=gsstreams.splitEmailId(emailList[i]);emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:splitEmail}).text(splitEmail+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}}},gsstreams.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsstreams.loadMailCalloutIframe=function(url,mailActHolder){var mailActionFrame;zgssearch.isExtension?zgssearch.openInNewTab(url):(mailActionFrame=zgssearch.searchCalloutObj,zgssearch.handleBeforeSentCase(mailActionFrame),mailActionFrame=zgssearch.gsdbhome.isDashboardOpened?_jQueryGS(mailActHolder).closest(".zgs19_gsServiceCalloutHolder"):"#zgs20_gsSearchResultRight",((mailActHolder=_jQueryGS(mailActionFrame).find("#zgs20_gsMailActionHolder")).length<=0||"#zgs20_gsSearchResultRight"==mailActionFrame)&&(mailActHolder=_jQueryGS("<div>",{id:"zgs20_gsMailActionHolder",class:"zgs19_gsMailActionHolder zgs19_gsServiceCalloutHolder"}),"#zgs20_gsSearchResultRight"==mailActionFrame&&_jQueryGS(mailActionFrame).find(".zgs19_gsMailActionHolder").remove(),_jQueryGS(mailActionFrame).append(mailActHolder)),(mailActionFrame=document.createElement("iframe")).id="zgs20_gsMailActionFrame",mailActionFrame.className="zgs19_gsMailActionFrame",mailActionFrame.src=url,mailActionFrame.onload=function(){setTimeout(function(){zgssearch.hideCalloutLoader()},500)},mailActHolder.empty().append(mailActionFrame).show())},gsstreams.loadImagesWithDomain=function(id){var hostName=GSConstant.GS_MAIL_URL;_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&(0!=oldImgSrc.indexOf("/mail/ImageDisplay?")&&0!=oldImgSrc.indexOf("/zm/FileDownload?")||_jQueryGS(this).attr("src",hostName+oldImgSrc))})},gsstreams.toggleTimeline=function(curRe){curRe=curRe.parentElement,zgssearch.setGSTagElems(curRe),zgssearch.gsstreams.isTimelinesShown?(zgssearch.gsstreams.isTimelinesShown=!1,_jQueryGS(curRe.timelinecontent).hide(),_jQueryGS(curRe).removeClass("zgs19_timelineHeaderNaviHide").addClass("zgs19_timelineHeaderNaviShow")):(zgssearch.gsstreams.isTimelinesShown=!0,_jQueryGS(curRe.timelinecontent).show(),_jQueryGS(curRe).removeClass("zgs19_timelineHeaderNaviShow").addClass("zgs19_timelineHeaderNaviHide"))},gsstreams.renderStreamsCommentDetails=function(menuEl,commentArray){for(var calloutCount=_jQueryGS(menuEl).attr("ccount"),commentArrayLen=commentArray.length,c=0;c<commentArrayLen;c++){var repliedToTxt,youTxt,continuechat=commentArray[c],commentId="zgs20_gsStreamsComment"+c+calloutCount,commentContentId="zgs20_gsStreamsCommentContent"+c+calloutCount,chatid="zgs20_gsStreamsCommentAttachmentHolder"+c+calloutCount,cphotoURL=continuechat.by||"",sName=continuechat.name||"",chatTitle=GSConstant.cuz||"",ownerZuidOrName=chatTitle==cphotoURL?zgssearch.getI18NMsg("common.me"):ownerZuidOrName,commentOuterId=continuechat.replyToZuid||"";sName=commentOuterId?(privateCommentLink=continuechat.replyToDisplayName||"",repliedToTxt=zgssearch.getI18NMsg("common.replied_to"),youTxt=zgssearch.getI18NMsg("common.you"),privatecommentOuterId=zgssearch.getI18NMsg("common.your"),(chatTitle==cphotoURL?youTxt:sName)+" "+repliedToTxt+" "+(chatTitle==commentOuterId?privatecommentOuterId:privateCommentLink+"'s ")+" "+zgssearch.getI18NMsg("common.comment")):chatTitle==cphotoURL?zgssearch.getI18NMsg("common.me"):sName;var attachments="";if(continuechat.hasOwnProperty("attachments"))for(var attachmentsData=continuechat.attachments,attachmentsLen=attachmentsData.length,privateCls=attachmentsLen+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments"),attachments=_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:privateCls}).text(privateCls)),i=0;i<attachmentsLen;i++){var val=attachmentsData[i],fileName=zgssearch.replaceHTMLEntity(val.n),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(attachments).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink1",service:GSConstant.STREAMS,aId:val.i,gs:"attachtitle1",gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.s)))))}var commentOuterId=commentId+"Holder",privatecommentOuterId=commentId+"_private",privateCommentLink="",chatTitle="",privateCls="zgs19_gsMxWid80Per";continuechat.hasOwnProperty("private")&&(gsstreams.privateCommentArr[privatecommentOuterId]=continuechat.private,privateCommentLink=_jQueryGS("<label>",{class:"zgs19_gsStreamsPrivateComment zgs19_gsOverflow zgs19_gsCurPointer zgs19_gsfr",pcId:privatecommentOuterId,gs:"showprivatecomments",gstitle:zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")}).text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),chatTitle=_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow zgs19_gsDisplayNone",id:privatecommentOuterId}),privateCls="zgs19_gsMxWid76Per"),_jQueryGS(menuEl.commentcontent).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentHolder",id:commentOuterId}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:commentId,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:sName,istip:!0}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl "+privateCls,gstitle:sName,istip:!0}).text(sName)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(continuechat.time)).append(privateCommentLink)).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap",id:commentContentId}).append(continuechat.text)).append(attachments).append(_jQueryGS("<div>",{id:commentId+"_chat",class:"zgs19_gsConnChatHolder"})).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentAttach zgs19_gsOverflow",id:chatid}).append(attachments))).append(chatTitle).append(_jQueryGS("<div>",{class:"zgs19_gsHRLine90Per"})))),gsstreams.loadImagesWithDomain("#"+commentContentId),continuechat.hasOwnProperty("chatletTitle")&&(chatid=continuechat.chid,chatTitle=continuechat.chatletTitle,continuechat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),_jQueryGS("#"+commentId+"_chat").append(_jQueryGS("<div>",{class:"zgs19_gsConnChatTitle zgs19_gsOverflow",gstitle:chatTitle}).text(chatTitle)).append(_jQueryGS("<div>",{class:"zgs19_gsConnChatCount zgs19_gsCurPointer zgs19_gsOverflow",gs:"connectcontinuechat",chatid:chatid}).text(continuechat))),zgssearch.preventStylesFromParentDomain("#"+commentContentId);cphotoURL=zgssearch.getThumbPhotoURL(cphotoURL);zgssearch.updateUserPhoto(commentId+"Holder",cphotoURL)}},gsstreams.hidePrivateToPostComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","showprivatetopostcomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS("#"+eleId).css("display","none")},gsstreams.showPrivateToPostComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","hideprivatetopostcomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink"));var pComments=gsstreams.privateToPostCommentArr[eleId],pCommentsLen=pComments.length;if(0==_jQueryGS("#"+eleId).children().length)for(var i=0;i<pCommentsLen;i++){var cObj=pComments[i],txt=GSConstant.cuz||"",cphotoURL=cObj.i,sName=txt==cphotoURL?zgssearch.getI18NMsg("common.me"):cObj.n,privateimgId=eleId+"_Img",hrline=pCommentsLen-1===i?"":_jQueryGS("<div>",{class:"zgs19_gsHRLine"}),txt=zgssearch.gssecurity.textDecoder(cObj.txt);_jQueryGS("#"+eleId).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsPrivateComment",id:eleId+i+"privateHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:privateimgId,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:sName,istip:!0}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid78Per",gstitle:sName,istip:!0}).text(sName)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(cObj.pct))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap"}).text(txt))).append(hrline)));cphotoURL=zgssearch.getThumbPhotoURL(cphotoURL);zgssearch.updateUserPhoto(eleId+i+"privateHolder",cphotoURL)}_jQueryGS("#"+eleId).css("display","block")},gsstreams.hidePrivateComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","showprivatecomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.showprivateCommentsLink")),_jQueryGS("#"+eleId).css("display","none")},gsstreams.showPrivateComments=function(target){var eleId=_jQueryGS(target).attr("pcId");_jQueryGS(target).attr("gs","hideprivatecomments"),_jQueryGS(target).attr("gstitle",zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink")),_jQueryGS(target).empty().text(zgssearch.getI18NMsg("gs.search.service_connect.callout.hideprivateCommentsLink"));var pComments=gsstreams.privateCommentArr[eleId],pCommentsLen=pComments.length;if(0==_jQueryGS("#"+eleId).children().length){_jQueryGS("#"+eleId).append(_jQueryGS("<div>",{class:"zgs19_gsHRDottodLine"}));for(var i=0;i<pCommentsLen;i++){var cObj=pComments[i],txt=GSConstant.cuz||"",cphotoURL=cObj.i,sName=txt==cphotoURL?zgssearch.getI18NMsg("common.me"):cObj.n,privateimgId=eleId+"_Img",hrline=pCommentsLen-1===i?"":_jQueryGS("<div>",{class:"zgs19_gsHRLine"}),txt=zgssearch.gssecurity.textDecoder(cObj.txt);_jQueryGS("#"+eleId).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsPrivateComment",id:eleId+i+"privateHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(_jQueryGS("<img>",{src:zgssearch.gsspacer,gs:"gsUserPhoto",id:privateimgId,class:"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(_jQueryGS("<div>",{class:"zgs19_gsStreamsCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl",gstitle:sName,istip:!0}).append(_jQueryGS("<div>",{class:"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid78Per",gstitle:sName,istip:!0}).text(sName)).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(cObj.pct))).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<label>",{class:"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap"}).text(txt))))).append(hrline);cphotoURL=zgssearch.getThumbPhotoURL(cphotoURL);zgssearch.updateUserPhoto(eleId+i+"privateHolder",cphotoURL)}}_jQueryGS("#"+eleId).css("display","block")},gsstreams.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem(gsstreams.getCalloutHolder()),zgssearch.setGSTagElems(menuEl),gsstreams.setStreamsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsstreams.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{entity_id:resObj.id,account_id:resObj.gId,actionType:"true"===resObj.isOwner?"viewSelfData":"viewGroupEntity",entityType:resObj.entityType,module:GSConstant.STREAMS}},gsstreams)}(zgssearch,window),function(zgssearch,window){var gscrm,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gscrm=(gscrm=void 0,(gscrm=zgssearch.gscrm||{}).actionList=[{open:"common.open"},{edit:"common.edit"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gscrm.crmImpFieldsData=gscrm.crmImpFieldsData||{},gscrm.crmOwnerData={},gscrm.calloutParams=function(orgId){var entityId=orgId.id||orgId[zgssearch.entity_id],module=orgId.mod||orgId[zgssearch.module_id],service=orgId.serviceName||orgId.service||zgssearch.getCurSelectedEleAttr("service"),modName=service==zgssearch.GSConstant.CRM?"crmMod":service==zgssearch.GSConstant.BIGIN?"module":"",orgId=orgId.accId||orgId[zgssearch.account_id]||zgssearch.getResultAccountId();return"searchType="+service+"&entityId="+entityId+"&"+modName+"="+gscrm.getCrmModuleQueryName(module)+"&orgId="+orgId},gscrm.getCalloutHolder=function(){return"zgs20_gsCRMCallout"},gscrm.getCrmModuleQueryName=function(module){var modvsQueryObj=zgssearch.getCalloutSearchType(),modvsQueryObj=zgssearch.getFilterInfo(modvsQueryObj,"modules","current");return modvsQueryObj.hasOwnProperty(module)?modvsQueryObj[module]:module},gscrm.createCalloutTemplate=function(count,curCalloutObj,crmcallout){var crmcallout=crmcallout||zgssearch.getCalloutSearchType(),calloutId=curCalloutObj.calloutId,dcLength=_jQueryGS("#"+calloutId).length,prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),editTxt=zgssearch.getI18NMsg("common.edit");dcLength<=0&&(crmcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:crmcallout,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(crmcallout),service:crmcallout})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CRM})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsEditIcon zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr",gs:"calloutActionOptions",value:"edit",gstitle:editTxt,service:crmcallout})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:crmcallout})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:crmcallout}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsCrmImpInnerContent",class:"zgs19_gsCalloutIconInfo",gs:"impData"})).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolderParent zgs19_gsCalloutPopUp",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCRMLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayBlock",gs:"lineicon"}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutCRMRightPanel",class:"zgs19_gsCalloutCRMRightPanel zgs19_gsfl",gs:"crmcontent"}))))),_jQueryGS(curCalloutObj.parentElem).append(crmcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gscrm.setCrmCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.impData).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",contentHeight+"px")},gscrm.calloutResponse=function(response,resObj,labelAttr,argObj){var module,modMandCol,modDispObj,object,isPreviewCard,error=resObj.serviceName||resObj.service||zgssearch.getCalloutSearchType(),curCalloutObj=argObj.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(labelAttr),argObj=argObj||{},error!=zgssearch.GSConstant.BIGIN&&argObj.updateRecord&&!response&&(gscrm.crmImpFieldsData.Owner=argObj.owner,gscrm.crmImpFieldsData.editable=!1,response=gscrm.crmImpFieldsData),_jQueryGS(menuEl.actionPipe).hide(),_jQueryGS(menuEl.maxpreview).hide(),_jQueryGS(menuEl.minpreview).hide(),response?(module=resObj.mod,isPreviewCard=response[zgssearch.account_id],modMandCol=resObj.mandatoryCol||zgssearch[error+"MandName"][isPreviewCard][error+"_"+module],modDispObj=resObj.extraFields||zgssearch[error+"DispObj"][isPreviewCard][error+"_"+module],object=resObj.apiNames,isPreviewCard=resObj[modMandCol],object&&!_jQueryGS.isEmptyObject(object)&&(isPreviewCard=modDispObj[Object.keys(object).find(key=>object[key]===modMandCol)]),labelAttr=_jQueryGS(labelAttr.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",labelAttr),gscrm.generateCallOut(module,resObj,response,curCalloutObj,error),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(error,resObj,"",response)),"Events"==module&&(isPreviewCard=resObj.Event_Title||modDispObj.Title),isPreviewCard=zgssearch.checkUndefined(isPreviewCard),_jQueryGS(menuEl.ctitle).empty().text(isPreviewCard).attr("gstitle",isPreviewCard),_jQueryGS(menuEl.actionPipe).show(),_jQueryGS(menuEl.actionlist).show(),_jQueryGS(menuEl.ctitle).addClass("zgs19_gsCalloutTitleLink"),"Notes"===module&&(_jQueryGS(menuEl.actionPipe).hide(),_jQueryGS(menuEl.actionlist).hide()),(isPreviewCard=zgssearch.isPreviewCard(curCalloutObj))||(zgssearch.isMaxCalloutOpen?_jQueryGS(menuEl.minpreview).show():curCalloutObj.iconDisplay&&_jQueryGS(menuEl.maxpreview).show()),error!=_jQueryGS(menuEl.ctitle).attr("service")&&_jQueryGS(menuEl).find("*").attr("service",error),_jQueryGS(menuEl.calloutActionOptions).css("display","none"),_jQueryGS(menuEl).find(".zgs19_gsCalloutCRMEditIcon").css("display","none"),"Notes"!==module&&response.editable&&(_jQueryGS(menuEl.calloutActionOptions).css("display","block"),_jQueryGS(menuEl).find(".zgs19_gsCalloutCRMEditIcon").css("display","block")),(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.contPartHolder).scrollTop(0),_jQueryGS(menuEl.contPartHolder).scrollLeft(0),"Notes"!==module&&gscrm.addCalloutActionList(menuEl,response.editable,error),gscrm.setCrmCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()):(error="",argObj.updateRecord&&(_jQueryGS(menuEl).css("display","none"),error="ownerUpdate"),gscrm.calloutErrorMsg(error,curCalloutObj))},gscrm.generateCallOut=function(module,resObj,owner,curCalloutObj,service){var finalData={},mandDispName=curCalloutObj.calloutId,menuEl=zgssearch.getTargetElem(mandDispName);zgssearch.setGSTagElems(menuEl);var ajaxData=resObj.accId||resObj[zgssearch.account_id]||zgssearch.getResultAccountId();if("null"!==resObj&&null!==resObj){var modMandCol,mandDispName=resObj.extraFields||zgssearch[service+"DispObj"][ajaxData][service+"_"+module],ajaxData=modMandCol=resObj.mandatoryCol||zgssearch[service+"MandName"][ajaxData][service+"_"+module],object=resObj.apiNames,mandDispName=mandDispName[ajaxData=object&&0<object.length?Object.keys(object).find(key=>object[key]===modMandCol):ajaxData];if(void 0!==owner&&"null"!==owner&&null!==owner){var key,ajaxData=zgssearch.jsonParse(owner),extraFieldsData=ajaxData.extraFields,dataTypeFields=ajaxData.dt;for(key in(gscrm.crmImpFieldsData=ajaxData).hasOwnProperty("impFields")&&(curCalloutObj.type===zgssearch.dbCrdCalloutType||curCalloutObj.type===zgssearch.crdPagecalloutType?gscrm.crmOwnerData[curCalloutObj.cardId]=ajaxData.Owner&&ajaxData.Owner||{}:(owner=ajaxData.Owner&&ajaxData.Owner||{},gscrm.crmOwnerData="object"!=typeof owner?{name:owner}:owner),gscrm.crmApiNamesData=ajaxData.apiNames&&ajaxData.apiNames||{},gscrm.renderImportantFieldDetails(zgssearch.minPrevPane,menuEl,curCalloutObj)),extraFieldsData.hasOwnProperty(mandDispName)&&delete extraFieldsData[mandDispName],extraFieldsData)finalData[key]=extraFieldsData[key]}}_jQueryGS(menuEl.crmcontent).empty();var dispKey,crmDetails=_jQueryGS(menuEl.crmcontent);for(dispKey in finalData){var internalData=finalData[dispKey];""!==internalData&&(internalData=gscrm.renderCrmModuleDetails(module,dispKey,internalData,dataTypeFields,resObj,service),crmDetails=crmDetails.append(internalData))}},gscrm.addCalloutActionList=function(menuEl,isEditable,service){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscrm.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)("edit"!=key||isEditable)&&zgssearch.savePreviewNeeded(key)&&(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service,gstitle:dectext}).text(dectext)))}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,service)},gscrm.renderCrmModuleDetails=function(module,title,value,dt,resObj,service){var relatedURL,valueFieldObj="";return valueFieldObj="email"===dt[title]?_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+value,target:"_blank",gstitle:value,istip:!0}).text(value):"Notes"===module&&title===gscrm.crmImpFieldsData.related_to?(service===zgssearch.GSConstant.BIGIN?relatedURL=zgssearch.gscrm.openBiginResult(resObj):service===zgssearch.GSConstant.CRM&&(relatedURL=zgssearch.crmRecordOpen(resObj)),_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:relatedURL,target:"_blank",gstitle:value,istip:!0}).text(value)):_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gsfl zgs19_gsMxWid90Per",gstitle:value,istip:!0}).text(value),_jQueryGS("<div>",{class:"zgs19_gsCalloutCRMRecordInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(title)).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(valueFieldObj))},gscrm.getCRMApiType=function(title,curCalloutObj){var gsAttr="",module=(curCalloutObj.type==zgssearch.dbCrdCalloutType||curCalloutObj.type==zgssearch.crdPagecalloutType?zgssearch.cardObjForCurrentSelectedElem[curCalloutObj.cardId].resultObj:zgssearch.getCurrentResObj()).mod,apiObj=gscrm.crmApiNamesData;return gsAttr="Notes"!=module&&"Owner"==apiObj[title]&&gscrm.crmImpFieldsData.editable?curCalloutObj.service+"OwnerChange":gsAttr},gscrm.isOwnerField=function(title){return"Owner"==gscrm.crmApiNamesData[title]},gscrm.getCRMEditableField=function(gsAttr,title,value){var gsAttrChild="";return"crmOwnerChange"!=gsAttr&&"biginOwnerChange"!=gsAttr||(gsAttrChild=_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine"})),_jQueryGS("<div>",{class:"zgs19_gsEditFieldsNameHolder zgs19_gsEditFieldsUline zgs19_gsCalloutDocsAuthor zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl",field:title,gs:"CalloutEditFields",datatype:gsAttr}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsMxWid95Per zgs19_gsInLine zgs19_gsfl",gstitle:value}).text(value)).append(gsAttrChild)},gscrm.renderImportantFieldChild=function(titleEle,value,hrefValue,curCalloutObj){var gsattr,valueFieldObj="",valueFieldObj=""===value?_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl",gstitle:value}).html("&mdash;"):(gsattr=gscrm.getCRMApiType(titleEle,curCalloutObj),value=gscrm.isOwnerField(titleEle)?(curCalloutObj.type===zgssearch.dbCrdCalloutType||curCalloutObj.type===zgssearch.crdPagecalloutType?gscrm.crmOwnerData[curCalloutObj.cardId]:gscrm.crmOwnerData).name:value,gsattr?gscrm.getCRMEditableField(gsattr,titleEle,value):"email"===hrefValue[titleEle]?_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+value,target:"_blank",gstitle:value,istip:!0}).text(value)):"website"===hrefValue[titleEle]?(hrefValue=value,/^(?:f|ht)tps?\:\/\//.test(value)||(hrefValue=zgssearch.httpstxt+"://"+value),_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<a>",{class:"zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:hrefValue,target:"_blank",gstitle:value,istip:!0}).text(value))):_jQueryGS("<div>",{class:"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl",gstitle:value,istip:!0}).text(value))),titleEle=_jQueryGS("<span>",{istip:!0,gstitle:titleEle}).text(titleEle);return _jQueryGS("<div>",{class:"zgs19_gsCrmParent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCrmLabel zgs19_gsOverflow zgs19_gsfl"}).append(titleEle)).append(valueFieldObj)},gscrm.renderImportantFieldDetails=function(lvalueper,lnameper,curCalloutObj){zgssearch.setGSTagElems(lnameper);var bZOSLabelNameWidth=gscrm.crmImpFieldsData,impFieldsData=bZOSLabelNameWidth.impFields,dataTypeFields=bZOSLabelNameWidth.dt,bZOSLabelNameWidth=25*_jQueryGS(".zgs19_gsSearchResultRight").width()/100,labelNameWidth=0!==gscomponent.UIType?bZOSLabelNameWidth:125,bZOScrmTitleWidth=0!==gscomponent.UIType?bZOSLabelNameWidth:150;_jQueryGS(lnameper.impData).empty();var labelName,crmImpDetails=_jQueryGS(lnameper.impData);for(labelName in impFieldsData){var crmTitleWidth=impFieldsData[labelName],crmTitleWidth=gscrm.renderImportantFieldChild(labelName,crmTitleWidth,dataTypeFields,curCalloutObj);gscrm.isOwnerField(labelName)?crmImpDetails.prepend(crmTitleWidth):crmImpDetails.append(crmTitleWidth);crmTitleWidth=zgssearch.getWidthOfText(labelName,bZOScrmTitleWidth),labelNameWidth=labelNameWidth<crmTitleWidth?crmTitleWidth:labelNameWidth}lnameper=100*labelNameWidth/lvalueper+"%",lvalueper=100*(lvalueper-labelNameWidth-30)/lvalueper+"%";_jQueryGS(crmImpDetails).find(".zgs19_gsCrmLabel").css("width",lnameper),_jQueryGS(crmImpDetails).find(".zgs19_gsCrmValue").css("max-width",lvalueper),_jQueryGS(crmImpDetails).find(".zgs19_gsEditFieldsNameHolder").css("max-width",lvalueper)},gscrm.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?"gs.search.error.generic_error_messege":"ownerUpdate"===msg?"gs.search.result.bigin.status.recordupdate.errortext":"gs.search.result."+curCalloutObj.service+".status.callout.errortext",msg=zgssearch.getI18NMsg(msg),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscrm.EditRecord=function(moduleforURL){var entityId,domain_name;moduleforURL===zgssearch.GSConstant.BIGIN?gscrm.EditBiginRecord():moduleforURL===zgssearch.GSConstant.CRM&&(moduleforURL=(entityId=zgssearch.gsaction.currSearchType&&!_jQueryGS.isEmptyObject(zgssearch.gsaction.currSearchType)?zgssearch.gsaction.currSearchType.getCurrentResultObj():(domain_name=zgssearch.getCurSelectedEleAttr("index"),moduleforURL=zgssearch.getCurSelectedEleAttr("service"),zgssearch.getResultObject(moduleforURL,domain_name))).mod,moduleforURL=zgssearch.getFilterInfo(GSConstant.CRM,"modules","crm_modules")[domain_name=zgssearch.gsaction.currSearchType.getCurrAccId()][moduleforURL+"_url"],entityId=entityId.id||entityId[zgssearch.entity_id],domain_name=zgssearch.crmOrgInfo.getDomain(domain_name),zgssearch.openInNewTab(GSConstant.GS_CRM_URL+"/crm/"+domain_name+"/EditEntity.do?module="+moduleforURL+"&id="+entityId))},gscrm.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsCRMCallout"),zgssearch.setGSTagElems(menuEl),gscrm.setCrmCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscrm.openBiginResult=function(resObj,orgId){var module=resObj.mod,entityId=resObj.id||resObj[zgssearch.entity_id];zgssearch.getFilterInfo(GSConstant.BIGIN,"modules","data");if("Notes"===module){var mod,relatedRec=zgssearch.gscrm.crmImpFieldsData.related_record;for(mod in relatedRec)entityId=relatedRec[mod],module=mod}return(orgId=orgId||zgssearch.getResultAccountId())?GSConstant.GS_BIGIN_URL+"/"+GSConstant.BIGIN+"/Home#/"+module+"/"+entityId+"?orgId="+orgId:null},gscrm.EditBiginRecord=function(){var service=zgssearch.GSConstant.BIGIN;entityId=zgssearch.gsaction.currSearchType&&!_jQueryGS.isEmptyObject(zgssearch.gsaction.currSearchType)?zgssearch.gsaction.currSearchType.getCurrentResultObj():(moduleforURL=zgssearch.getCurSelectedEleAttr("index"),zgssearch.getResultObject(service,moduleforURL));var orgId=zgssearch.gsaction.currSearchType.getCurrAccId(),moduleforURL=entityId.mod,moduleforURL=zgssearch.getFilterInfo(service,"modules","data")[orgId][moduleforURL].toLowerCase(),entityId=entityId.id||entityId[zgssearch.entity_id];zgssearch.openInNewTab(GSConstant.GS_BIGIN_URL+"/"+service+"/Home#/"+moduleforURL+"/"+entityId+"?orgId="+orgId+"&recordaction=edit")},gscrm.getPreviewCrdParams=function(){var prevCrdObj={},resObj=zgssearch.getCurrentResObj();return prevCrdObj.entity_id=resObj.id,prevCrdObj.account_id=resObj.accId||zgssearch.getResultAccountId(),prevCrdObj[zgssearch.module_id]=gscrm.getCrmModuleQueryName(resObj.mod),prevCrdObj.mod=resObj.mod,prevCrdObj},gscrm)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS;zgssearch.pc={},zgssearch.getCalloutForResult=function(detailObj){var comp={};return comp.metaDetailObj=detailObj,zgssearch.GSConstant.cloud_app_id=detailObj.hasOwnProperty("appId")?detailObj.appId:-1,zgssearch.pc.containerMap=zgssearch.pc.containerMap||{},comp.constructPreviewComponent=function(){var service=this.metaDetailObj.serviceName,accId=zgssearch.mappedServiceList[service].id;this.isPreviewOpenedInComponent()&&(curCalloutObj="zgs20_pcSearch",zgssearch.pcResObj=this.metaDetailObj,_jQueryGS("#"+this.metaDetailObj.parent),_jQueryGS("#"+curCalloutObj).length<=0&&_jQueryGS("#"+this.metaDetailObj.parent).append(_jQueryGS("<div>",{id:curCalloutObj,class:"zgs19_pcglobalsearch"})));var curCalloutObj={type:this.metaDetailObj.calloutPgtype||"search",parentElem:this.isPreviewOpenedInComponent()?curCalloutObj:this.metaDetailObj.parent||this.metaDetailObj.parentElem,calloutId:this.metaDetailObj.calloutId||this.metaDetailObj.parent+"_"+accId,iconDisplay:null==this.metaDetailObj.iconDisplay||this.metaDetailObj.iconDisplay,cardId:this.metaDetailObj.cardId||"",cardCalloutType:this.metaDetailObj.cardCalloutType||"",callbackFn:this.metaDetailObj.callbackFn||""};zgssearch.pc.containerMap[this.metaDetailObj.parent]={service:service};accId=curCalloutObj.parentElem;"object"!=typeof curCalloutObj.parentElem&&accId.split("#").length<=1&&(curCalloutObj.parentElem="#"+accId),this.metaDetailObj.hasOwnProperty("height")&&_jQueryGS(curCalloutObj.parentElem).css("height",this.metaDetailObj.height),this.metaDetailObj.hasOwnProperty("width")&&_jQueryGS(curCalloutObj.parentElem).css("width",this.metaDetailObj.width),zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent&&this.isPreviewOpenedInComponent()&&(zgssearch.pcResObj.calloutId=curCalloutObj.calloutId,zgssearch.pcViewport=("object"!=typeof curCalloutObj.parentElem?_jQueryGS(curCalloutObj.parentElem):curCalloutObj.parentElem)[0],this.bindClickEvent());accId=this.metaDetailObj.accId;zgssearch.iterResultObjData(service,accId,this.metaDetailObj),this.isPreviewOpenedInComponent()?zgssearch.loadServiceComponent(service):zgssearch.preLoadComponentForServices(),_jQueryGS(curCalloutObj.parentElem).css("display","block"),zgssearch.getCalloutData("",this.metaDetailObj,curCalloutObj)},comp.isPreviewOpenedInComponent=function(){return zgssearch.isPreviewOpenedInComponent&&this.metaDetailObj&&"search"!=this.metaDetailObj.calloutPgtype},comp.bindClickEvent=function(){zgssearch.pcViewport.removeEventListener("click",zgssearch.pcClickEvent,!0),zgssearch.pcViewport.addEventListener("click",zgssearch.pcClickEvent,!0)},comp}}(zgssearch,window),zgssearch.res_services=[zgssearch.GSConstant.SALESFORCE,zgssearch.GSConstant.SLACK,zgssearch.GSConstant.BOX,zgssearch.GSConstant.DROPBOX,zgssearch.GSConstant.GOOGLEDRIVE,zgssearch.GSConstant.ASANA,zgssearch.GSConstant.PROJECTS],zgssearch.isHandlebarLoaded=function(){return!("undefined"==typeof search_handlebars||!(!zgssearch.isBuildChanged||zgssearch.GSConstant.handlebarsUrl&&zgssearch.includes(zgssearch.GSConstant.BUILD_DATE,zgssearch.GSConstant.handlebarsUrl)))},zgssearch.ResourceFactory=function(){var resource;this.createInstance=function(service_name,isConfigure){if(isConfigure=isConfigure||!1,!zgssearch.isPreviewOpenedInComponent){var serviceList=(zgssearch.isDashboardEnabled?zgssearch.getConstAllServList():zgssearch.getServiceList("serviceList"))||[];if(!zgssearch.isArrayContain(service_name,serviceList)&&!isConfigure)return null}switch(service_name){case zgssearch.GSConstant.SLACK:resource=new ZSSlackResource;break;case zgssearch.GSConstant.SALESFORCE:case zgssearch.GSConstant.DROPBOX:case zgssearch.GSConstant.GOOGLEDRIVE:case zgssearch.GSConstant.BOX:case zgssearch.GSConstant.ONEDRIVE:case zgssearch.GSConstant.ASANA:case zgssearch.GSConstant.PROJECTS:case zgssearch.GSConstant.EVERNOTE:resource=new ZSHandlebarsResource}return resource}},function(zgssearch,window){var gsconnect,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsconnect=(gsconnect=void 0,(gsconnect=zgssearch.gsconnect||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gsconnect.getCalloutHolder=function(){return"zgs20_gsConnectCallout"},gsconnect.calloutParams=function(resObj){var accId=resObj.accId||zgssearch.getResultAccountId();return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&streamId="+resObj.id+"&networkId="+zgssearch.pulseNetworkId[accId]+"&ctype=FEEDS"},gsconnect.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,ccallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=zgssearch.getFourDotLoader("zgs20_gsConnectPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.CONNECT,gs:"attachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CONNECT,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_callout_ptype zgs19_gsDisplayNone",gs:"ptype"})).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CONNECT),service:GSConstant.CONNECT})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CONNECT})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CONNECT})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.CONNECT}))))).append(_jQueryGS("<div>",{id:"zgs20_gsConnectCalloutFooter zgs19_gsw100h100",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsHW100per",id:"zgs20_gsConnectIframeHolder",gs:"oembedcontent"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsConnectPreviewLoader"}).append(ccallout))).append(_jQueryGS("<div>",{class:"zgs19_gsBtnCalloutContentInfo",gs:"contentHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsconnect.setConnectCalloutEleSize=function(menuEl){var contentHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl).height()-contentHeight;zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gsconnect.showContentLoader=function(menuEl){_jQueryGS(menuEl).find("#zgs20_gsConnectPreviewLoader").css("display","block")},gsconnect.hideContentLoader=function(menuEl){_jQueryGS(menuEl).find("#zgs20_gsConnectPreviewLoader").css("display","none")},gsconnect.openInConnectBtn=function(menuEl){_jQueryGS(menuEl.contentHolder).css("display","block"),_jQueryGS(menuEl.contentHolder).addClass("zgs19_gsHght100Per"),_jQueryGS(menuEl.contentHolder).empty().append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder zgs19_gsDocsPreviewHolderBtn",id:"zgs20_gsConnectpreviewHolder",gs:"previewHolder"})),zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl).find("#zgs20_gsConnectPreviewLoader").hide(),_jQueryGS(menuEl.previewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtnNew zgs19_gsOverflow",gs:"connPage",service:GSConstant.CONNECT}).append(_jQueryGS("<div>",{class:"zgs19_gsMgRt5Px"}).text(zgssearch.getI18NMsg("gs.search.result.connect.open_in_app"))).append(_jQueryGS("<div>",{class:"zgs19_gsfl zgs19_gsMxWid200Px"}))),_jQueryGS(menuEl.previewHolder).show()},gsconnect.calloutResponse=function(ptype,resObj,ptypeAttr,curCalloutObj){var curCalloutObj=curCalloutObj.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(ptypeAttr);_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CONNECT,resObj,"",ptype));ptype=resObj.hasOwnProperty("title")?resObj.title.trim():"";ctitle=zgssearch.replaceHTMLEntity(ptype)||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle"),_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("gstitle",ctitle),ptypeAttr&&(ptypeCls=_jQueryGS(ptypeAttr.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",ptypeCls)),_jQueryGS(menuEl.attachArea).css("display","none"),"true"===resObj.hasAttach&&_jQueryGS(menuEl.attachArea).css("display","block"),_jQueryGS(menuEl.contentHolder).css("display","none"),_jQueryGS(menuEl.contentHolder).removeClass("zgs19_gsHght100Per"),_jQueryGS(menuEl.oembedcontent).css("display","none");var ptype=resObj.type||"",ptypeAttr=zgssearch.getPosttypeCls(ptype),ptypeCls=ptypeAttr.class;_jQueryGS(menuEl.ptype).css("display","none"),_jQueryGS(menuEl.ptype).removeClass(),ptypeCls&&(_jQueryGS(menuEl.ptype).attr("gstitle",ptypeAttr.title),_jQueryGS(menuEl.ptype).attr("gslabel",zgssearch.getI18NMsg("common.posttype")),_jQueryGS(menuEl.ptype).addClass("zgs19_gsfl "+ptypeCls),_jQueryGS(menuEl.ptype).css("display","block")),zgssearch.isArrayContain(ptype,zgssearch.EXCLUDED_CONNECT_POSTTYPE)?gsconnect.openInConnectBtn(menuEl):(_jQueryGS(menuEl.oembedcontent).css("display","block"),gsconnect.showContentLoader(menuEl),isPreviewCard=zgssearch.GSConstant.isNightModeEnabled?"&nightmode=true":"&nightmode=false",isPreviewCard=resObj.url+"?oembedpreview=true&"+zgssearch.originParam+isPreviewCard+"&zia=true",gsconnect.renderConnectPreview(isPreviewCard,menuEl,curCalloutObj));var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);curCalloutObj.iconDisplay&&!isPreviewCard&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),isPreviewCard?_jQueryGS(menuEl.sender).removeClass("zgs19_gsCurPointer"):_jQueryGS(menuEl.sender).addClass("zgs19_gsCurPointer"),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block"),_jQueryGS(menuEl.loadericon).show()),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)},0),gsconnect.addCalloutActionList(menuEl),gsconnect.setConnectCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gsconnect.renderConnectPreview=function(url,menuEl,curCalloutObj){if(zgssearch.isExtension)gsconnect.openInConnectBtn(menuEl),_jQueryGS(menuEl.oembedcontent).hide();else{var curSelectedEle=zgssearch.getCurrentSelectedElem();gsconnect.currCalloutCount=(curSelectedEle||curCalloutObj).id;try{_jQueryGS(menuEl).find("#zgs20_gsConnectIframe").remove();var connectprev=document.createElement("iframe");connectprev.src=url,connectprev.id="zgs20_gsConnectIframe",connectprev.gs="connectCalloutData",connectprev.setAttribute("frameborder","0"),connectprev.setAttribute("allowfullscreen","true"),connectprev.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups"),_jQueryGS(menuEl.oembedcontent).append(connectprev),connectprev.onload=function(connectprev){gsconnect.hideContentLoader(menuEl),setTimeout(function(){var elem=(elem=zgssearch.getCurrentSelectedElem())?elem.id:"";(zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||gsconnect.currCalloutCount===elem||gsconnect.prevCrdCalloutId)&&(elem="",elem=(zgssearch.isDashboardViewOpened()?_jQueryGS("#"+menuEl.id):_jQueryGS(menuEl)).find("#zgs20_gsConnectIframe"),zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(elem),_jQueryGS(elem).css("display","block"))},100,connectprev)},connectprev.onerror=function(){gsconnect.calloutErrorMsg("",curCalloutObj)}}catch(ex){zgssearch.throwClientError("Error while loading Connect Page",ex),gsconnect.calloutErrorMsg("",curCalloutObj)}}},gsconnect.generateConnectCalloutImage=function(isLoaded){"use strict";return function(){var imageEle=zgssearch.getTargetElem(this.getAttribute("gs"));imageEle&&(_jQueryGS(imageEle).removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader").addClass("zgs19_gsConnectLinkImgPhoto"),imageEle.src=isLoaded?this.src:zgssearch.gsspacer,zgssearch.removeEle(this))}},gsconnect.showMoreCategories=function(target){var accId=_jQueryGS(target).attr("acc_id"),childEleId=_jQueryGS(target).attr("childId");_jQueryGS("#"+childEleId).remove();var categArr=_jQueryGS("<div>",{class:"zgs19_gsOverflow zgs19_gsfl",gs:"blogCategoryList",id:childEleId});_jQueryGS(target).parent().append(categArr);categArr=zgssearch.getTargetElem(target);zgssearch.setGSTagElems(categArr);categArr=_jQueryGS(target).attr("categArr");gsconnect.renderBlogCategories(target,accId,childEleId,categArr)},gsconnect.renderBlogCategories=function(target,accId,leftPos,categArr){var holder=_jQueryGS("#"+leftPos);_jQueryGS(holder).empty(),categArr=zgssearch.jsonParse(categArr);_jQueryGS(holder).width();for(var outerEleWid,lenArr=categArr.length,cmData=_jQueryGS(target).attr("canAppendGsAttr"),parentNode="zgs20_gsBlogCategoryResList"===leftPos?1:2,gsCls="zgs20_gsBlogCategoryResList"===leftPos&&"true"===cmData?"zgs19_gsForumCategory zgs19_gsCurPointer":"",cmData=zgssearch.hasOwnProperty("getFilterInfo")?zgssearch.getFilterInfo(GSConstant.CONNECT,"categories","dispname"):"",i=(zgssearch.replaceHTMLEntity(cmData),parentNode);i<lenArr;i++){var cbgColor,cid,eachClass,gsClsVal=categArr[i];gsClsVal.hasOwnProperty("name")&&(cbgColor=gsClsVal.bgColor,cid=gsClsVal.id,eachClass=gsClsVal.name,eachClass=zgssearch.replaceHTMLEntity(eachClass),gsClsVal=gsCls.replace("zgs19_gsCurPointer","zgs19_gsCurDefaultImp"),eachClass=_jQueryGS("<div>",{class:"zgs19_gsBlogCategoryListchNew zgs19_gsBorderBox zgs19_gsOverflow "+gsClsVal,gslabel:"",gsmodule:"forums",gs:"",cid:cid,acc_id:accId,gstitle:eachClass,istip:!0}).text(eachClass),_jQueryGS(holder).append(eachClass),eachClass.css("color","#"+cbgColor))}"zgs20_gsBlogCategoryResList"===leftPos&&(outerEleWid=0,parentNode=zgssearch.getNodeByAttr(target,"gs","categories"),_jQueryGS(parentNode).children("div.zgs19_gsForumCategory").each(function(){outerEleWid+=_jQueryGS(this).innerWidth()}),_jQueryGS(holder).css("width",outerEleWid+30+"px")),"zgs20_gsBlogCategoryDetList"!==leftPos||0<(leftPos=_jQueryGS(target).position().left-_jQueryGS(holder).width()+30)&&_jQueryGS(holder).css("left",leftPos+"px"),holder.show(),holder.scrollTop(0),holder.scrollLeft(0),zgssearch.currConnectCategoryWid=target,_jQueryGS(target).attr("gs","hideMoreCategories")},gsconnect.hideMoreCategories=function(target){var childEleId;!target||(childEleId=_jQueryGS(target).attr("childId"))&&(_jQueryGS(target).attr("gs","showMoreBlogCategory"),_jQueryGS("#"+childEleId).empty().hide())},gsconnect.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsconnect.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)zgssearch.savePreviewNeeded(key)&&(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CONNECT,gstitle:dectext}).text(dectext)))}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.CONNECT)},gsconnect.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.service_connect.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsconnect.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsConnectCallout"),zgssearch.setGSTagElems(menuEl),gsconnect.setConnectCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsconnect.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),accId=resObj.accId||zgssearch.getResultAccountId();return{entity_id:resObj.id,network_id:zgssearch.pulseNetworkId[accId],account_id:accId,module:resObj.m,url:encodeURI(resObj.url)}},gsconnect)}(zgssearch,window),function(zgssearch,window){var gscontacts,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{},gscomponent=zgssearch.gscomponent||{};zgssearch.gscontacts=(gscontacts=void 0,(gscontacts=zgssearch.gscontacts||{}).user_availability=gscontacts.user_availability||{throshold:"120000",limit:500,zuidList:[],userObj:{}},gscontacts.actionList=[{open:"common.open",sendMail:"gs.search.callout.send_mail_action",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],gscontacts.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&erecno="+resObj.pkid},gscontacts.createCalloutTemplate=function(count,curCalloutObj){zgssearch.getConTemp("",count,curCalloutObj)},gscontacts.setContactsCalloutEleSize=function(menuEl){var CalloutWidth=_jQueryGS(menuEl.header).height(),imgWidth=_jQueryGS(menuEl.iconHeight).height(),id=menuEl.getAttribute("id"),CalloutWidth=_jQueryGS("#"+id).height()-(CalloutWidth+imgWidth);zgssearch.isMobViewport()&&(CalloutWidth-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",CalloutWidth+"px");imgWidth=_jQueryGS(menuEl.calloutIconHolder).outerWidth()+30,CalloutWidth=_jQueryGS(menuEl).width();_jQueryGS(menuEl.contactsMetaInfo).css("width",CalloutWidth-imgWidth)},gscontacts.calloutResponse=function(resObj,curRe,ctitle){var composeMail,isMoreInfo,mobileLabel,emailLabel,zuid,peruser,curloggeduser,imgId,img_elem,photoURL,isValidEmailId,name,searchType=resObj.serviceName||resObj.service||_jQueryGS(curRe).attr("service")||"",curCalloutObj=ctitle.searchObj,rname=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(rname),zgssearch.setGSTagElems(curRe),_jQueryGS(rname.actionlist).attr("gsa",searchType),searchType!==GSConstant.PEOPLE?(_jQueryGS(rname.lineicon).hide(),_jQueryGS(rname.actionlist).hide(),_jQueryGS(rname.contactsDesgInfo).hide(),_jQueryGS(rname.contactsCalloutData).empty(),composeMail="",isMoreInfo=!1,mobileLabel=zgssearch.getI18NMsg("common.mobile"),isValidEmailId=zgssearch.getI18NMsg("common.phone"),emailLabel=zgssearch.getI18NMsg("common.email"),_jQueryGS(rname.ctitle).attr("service",searchType),_jQueryGS(rname.ctitle).removeClass("zgs19_gsCalloutTitleLink"),zuid=resObj.zuid,peruser="",imgId=(img_elem=zgssearch.getUserStatus(zuid,"big")).name,img_elem.status,curloggeduser=GSConstant.cuz,ctitle="zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl "+imgId,_jQueryGS(rname.calloutIconHolder).attr("class",ctitle),(img_elem=_jQueryGS(rname).find(".zgs19_gswmschat")).css("display","none"),img_elem.attr("chatid",zuid),imgId="zgs20_gsContactsCalloutUserImg"+_jQueryGS(rname).attr("ccount"),_jQueryGS(rname.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:imgId,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:zgssearch.gsspacer})),_jQueryGS(rname.clink).css("display","none"),ctitle=resObj.full_name||"",_jQueryGS(rname.ctitle).empty().text(ctitle).attr("gstitle",ctitle),_jQueryGS(rname.ctitle).removeAttr("href"),"personal"===resObj.type?(photoURL=resObj.photo+"?API=true",img_elem=_jQueryGS("#"+imgId),zgssearch.network.imageRenderer.renderImage(photoURL,{img_elem:img_elem,class_name:"zgs19_gsDocsCalloutImgNew",errorClass:"zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"},null)):"-1"!==zuid&&void 0!==zuid?(photoURL=zgssearch.getThumbPhotoURL(zuid),zgssearch.renderBigCalloutUserPhoto(imgId,photoURL)):_jQueryGS("#"+imgId).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"),_jQueryGS(rname.contactsNameInfo).empty().append(_jQueryGS("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:ctitle,istip:!0}).text(ctitle))),composeMail=resObj.email||"",zgssearch.renderContactsEmailId(rname,rname.contactsCalloutData,emailLabel,composeMail),zgssearch.renderContactsInfo(rname,rname.contactsCalloutData,mobileLabel,resObj.mobile||""),zgssearch.renderContactsInfo(rname,rname.contactsCalloutData,isValidEmailId,resObj.phone||""),"true"===resObj.mDet&&(isMoreInfo=!0),gscontacts.contactsMoreInfo(resObj)&&(isMoreInfo=!0),(isValidEmailId="null"!=composeMail&&""!=composeMail&&null!=composeMail)&&zuid!=curloggeduser&&0<=parseInt(resObj.status)&&(peruser=zuid,_jQueryGS(rname.gswmschat).show(),zgssearch.hasAudioSupport()&&_jQueryGS(rname.gswmsaudio).show(),zgssearch.hasVideoSupport()&&_jQueryGS(rname.gswmsvideo).show()),gscontacts.addCalloutActionList(rname,searchType,composeMail,peruser),isValidEmailId&&(_jQueryGS(rname.sendMail).css("display","block"),_jQueryGS(rname.sendMail).attr("email",composeMail)),isMoreInfo&&(name=zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more"),_jQueryGS(rname.contactsCalloutData).append(_jQueryGS("<div>",{id:"zgs20_gsContactsMoreOption",class:"zgs19_gsContactsMoreOption",gs:"contactsMoreHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsContactsMoreOptionElem zgs19_gsLinkElem zgs19_gsOverflow zgs19_gsfr",service:searchType,gs:"contactsMore"}).text(name))),1===gscomponent.UIType&&_jQueryGS("[gs=contactsMore]").click()),name=zgssearch.isPreviewCard(curCalloutObj),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||name)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(rname).css("display","block")),_jQueryGS(rname.contPartHolder).scrollTop(0),_jQueryGS(rname.contPartHolder).scrollLeft(0),gscontacts.setContactsCalloutEleSize(rname),zgssearch.calloutVisitRequest()):resObj&&!_jQueryGS.isEmptyObject(resObj)?(name=(name=(name=resObj.empFname||"")+" "+resObj.empLname||"").trim(),rname=(rname=(resObj.reportFname||"")+" "+(resObj.reportLname||"")).trim(),resObj.name=zgssearch.replaceHTMLEntity(name),resObj.rname=zgssearch.replaceHTMLEntity(rname),zgssearch.renderRes(resObj,curRe,curCalloutObj,{name:"name",email:"mailid",deptname:"deptname",desgname:"desgname",mobile:"mobile",empid:"empid",extn:"extn",location:"location",rName:"rname",phone:"phone",zuid:"zuid",mDet:"mDet",status:"status",deptmail:"deptmail",photo:"photo",reportingto:"reportingto"})):gscontacts.calloutErrorMsg("",curCalloutObj)},gscontacts.addCalloutActionList=function(menuEl,service,composeMail,peruser){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscontacts.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"open"==key&&GSConstant.PEOPLE!=service||"copyLink"==key&&GSConstant.PEOPLE!=service||"sendMail"==key&&!composeMail||"pcontinue"==key&&!peruser||("audio"!=key&&"video"!=key||peruser&&zgssearch.hasAudioSupport()&&zgssearch.hasVideoSupport())&&zgssearch.savePreviewNeeded(key)&&(_jQueryGS(menuEl.actionlist).css("display","block"),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,email:composeMail,chatid:peruser,service:service,gstitle:dectext}).text(dectext)))}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,service)},gscontacts.contactsMoreInfo=function(emailTo){var isMoreInfo=!1,webUrlMapEval=emailTo.web_url,emailsIdArr=emailTo.email_ids,instMesMapEval=emailTo.instant_ids,emailTo=emailTo.email||"";return emailsIdArr&&(emailsIdArr=zgssearch.jsonParse(emailsIdArr),gscontacts.objContainsEmailIds(emailsIdArr,emailTo)&&(isMoreInfo=!0)),instMesMapEval&&"{}"!==instMesMapEval&&(instMesMapEval=zgssearch.jsonParse(instMesMapEval),gscontacts.objContainsInstMsg(instMesMapEval)&&(isMoreInfo=!0)),webUrlMapEval&&"{}"!==webUrlMapEval&&(webUrlMapEval=zgssearch.jsonParse(webUrlMapEval),gscontacts.objContainsWebUrl(webUrlMapEval)&&(isMoreInfo=!0)),isMoreInfo},gscontacts.objContainsEmailIds=function(emailsIdArr,index){index=emailsIdArr.indexOf(index);return-1<index&&emailsIdArr.splice(index,1),!!(emailsIdArr&&0<emailsIdArr.length)},gscontacts.objContainsInstMsg=function(Other){var Google=!!Other.Google,Yahoo=!!Other.Yahoo,Skype=!!Other.Skype,AOL=!!Other.AOL,Msn=!!Other.Msn,ICQ=!!Other.ICQ,Jabber=!!Other.Jabber,Other=!!Other.Other||!!Other[""];return Google||Yahoo||Skype||AOL||Msn||ICQ||Jabber||Other},gscontacts.objContainsWebUrl=function(Others){var BlogURL=!!Others["Blog URL"],AmazonURL=!!Others["Amazon URL"],CompanyWebAddress=!!Others["Company Web Address"],DeliciousURL=!!Others["Delicious URL"],LinkedInURL=!!Others["LinkedIn URL"],PersonalWebAddress=!!Others["Personal Web Address"],FlickrURL=!!Others["Flickr URL"],Others=!!Others.Others||!!Others[""];return BlogURL||AmazonURL||CompanyWebAddress||DeliciousURL||LinkedInURL||PersonalWebAddress||FlickrURL||Others},gscontacts.getContactsMoreInfo=function(curObj,menuEl){var contactType=curObj.type,params=curObj.contact_id,menuEl=(new zgssearch.dashboardSearchActions).createActionType(menuEl).getSearchDBCalloutObj(),menuEl=zgssearch.getTargetElem(menuEl.calloutId);zgssearch.setGSTagElems(menuEl);params="action=fetchContactDetails&contactType="+contactType+"&contactId="+params;_jQueryGS(menuEl.contactsMoreHolder).empty().append(_jQueryGS("<span>",{class:"zgs19_gsFetchImgLoader zgs19_gsContactsMoreFetchImg zgs19_gsfr"})),zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,params,{curObj:curObj,menuEl:menuEl},function(homeAddr,status,menuEl){var workAddr=menuEl.args||{},menuEl=workAddr.menuEl;_jQueryGS(menuEl.contactsMoreHolder).remove(),gscontacts.contactsMoreInfo(workAddr.curObj)&&gscontacts.renderMoreInfo(menuEl,workAddr.curObj),homeAddr&&(""!==(homeAddr=(workAddr=zgssearch.jsonParse(homeAddr)).homeAddr||"")&&gscontacts.renderEmailORAddrInfo(menuEl,"address",homeAddr,zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.home_address")),""!==(workAddr=workAddr.workAddr||"")&&gscontacts.renderEmailORAddrInfo(menuEl,"address",workAddr,zgssearch.getI18NMsg("gs.search.result.contact.viewprofile_dialog.work_address")))})},gscontacts.renderMoreInfo=function(menuEl,emailTo){var webUrlMapEval=emailTo.web_url,emailsIdArr=emailTo.email_ids,instMesMapEval=emailTo.instant_ids,emailTo=emailTo.email||"";_jQueryGS(menuEl.lineicon).show(),emailsIdArr&&(emailsIdArr=zgssearch.jsonParse(emailsIdArr),gscontacts.objContainsEmailIds(emailsIdArr,emailTo)&&gscontacts.renderEmailORAddrInfo(menuEl,"email",emailsIdArr,zgssearch.getI18NMsg("common.secondary_email"))),instMesMapEval&&"{}"!==instMesMapEval&&(instMesMapEval=zgssearch.jsonParse(instMesMapEval),gscontacts.objContainsInstMsg(instMesMapEval)&&gscontacts.renderInstantMsgInfo(menuEl,instMesMapEval)),webUrlMapEval&&"{}"!==webUrlMapEval&&(webUrlMapEval=zgssearch.jsonParse(webUrlMapEval),gscontacts.objContainsWebUrl(webUrlMapEval)&&gscontacts.renderWebUrlInfo(menuEl,webUrlMapEval))},gscontacts.renderEmailORAddrInfo=function(menuEl,oper,list,text){if(0<list.length){for(var emailAddr=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(text))),listLen=list.length,i=0;i<listLen;i++){var elem=list[i],comma=i+1===list.length?"":",";"address"===oper?emailAddr.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:elem,istip:!0}).text(elem+comma)))):"email"===oper&&emailAddr.append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<a>",{class:"zgs19_gsEmailElem zgs19_gsLinkElem zgs19_gsOverflowWrap zgs19_gsfl",rel:"noopener noreferrer",href:"mailto:"+elem,target:"_blank",gstitle:elem,istip:!0}).text(elem+comma)))}_jQueryGS(menuEl.lineicon).show(),_jQueryGS(menuEl.contactsCalloutData).append(emailAddr)}},gscontacts.renderInstantMsgInfo=function(menuEl,others){var google=others.Google||"",yahoo=others.Yahoo||"",skype=others.Skype||"",aol=others.AOL||"",msn=others.Msn||"",icq=others.ICQ||"",jabber=others.Jabber||"",others=others.Other||others[""]||"";zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.google"),google),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.yahoo"),yahoo),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.skype"),skype),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.aol"),aol),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.msn"),msn),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.icq"),icq),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.jabber"),jabber),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"instant",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other"),others)},gscontacts.renderWebUrlInfo=function(menuEl,deliciousURL){var PersonalURL=deliciousURL["Personal Web Address"]||"",CompanyURL=deliciousURL["Company Web Address"]||"",blogURL=deliciousURL["Blog URL"]||"",linkedInURL=deliciousURL["LinkedIn URL"]||"",facebookURL=deliciousURL.FACEBOOK_web||"",twitterURL=deliciousURL.TWITTER_web||"",amazonURL=deliciousURL["Amazon URL"]||"",flickrURL=deliciousURL["Flickr URL"]||"",deliciousURL=deliciousURL["Delicious URL"]||"";zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.personal_webaddress"),PersonalURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.company_webaddress"),CompanyURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.blogurl"),blogURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.linkedinurl"),linkedInURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.FacebookURL"),facebookURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.TwitterURL"),twitterURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.amazonurl"),amazonURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.flickrurl"),flickrURL),zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",zgssearch.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.deliciousurl"),deliciousURL)},gscontacts.fetchUserAvailability=function(pzuid){pzuid=pzuid.zuid||"";pzuid&&(gscontacts.isUserStatusCached(pzuid)||zgssearch.uri(zgssearch.GET,zgssearch.fetchActionsURL,"action=fetchUserAvailability&zuid="+pzuid,{argZuid:pzuid},function(data,status,xhr){try{var argZuid=(xhr.args||{}).argZuid,response=zgssearch.jsonParse(data);response.hasOwnProperty("status")&&(gscontacts.user_availability.zuidList.push(argZuid),gscontacts.user_availability.userObj[argZuid]={response:response,time:(new Date).getTime()},gscontacts.renderUserAvailability(argZuid,response))}catch(ex){zgssearch.throwClientError("Error while fetch user availability",ex)}}))},gscontacts.isUserStatusCached=function(index){var fetchedTime=gscontacts.user_availability||{},userStatusObj=fetchedTime.userObj||{},zuidList=fetchedTime.zuidList||[],throshold=fetchedTime.throshold;if(fetchedTime.limit<=Object.keys(userStatusObj).length&&(delete userStatusObj[zuidList[0]],zuidList.splice(0,1)),userStatusObj.hasOwnProperty(index)){var userInfo=userStatusObj[index],fetchedTime=userInfo.time;if((new Date).getTime()-fetchedTime<throshold)return gscontacts.renderUserAvailability(index,userInfo.response),!0;delete userStatusObj[index];index=zuidList.indexOf(index);-1!==index&&zuidList.splice(index,1)}return!1},gscontacts.renderUserAvailability=function(argZuid,response){(zgssearch.getCurrentResObj().zuid||"")==argZuid&&response.hasOwnProperty("status")&&(_jQueryGS("#zgs20_gsPeopleStatus_"+argZuid).removeClass("zgs19_gsDisplayNone").addClass("zgs19_gsOverflow").text(response.status),_jQueryGS("#zgs20_gsPeopleStatus_"+argZuid).css("border","1px solid "+response.status_clr),_jQueryGS("#zgs20_gsPeopleStatus_"+argZuid).css("color",response.status_clr))},gscontacts.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsContactsCallout");zgssearch.setGSTagElems(menuEl),gscontacts.setContactsCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscontacts.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.contact.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscontacts.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{account_id:resObj.accId||zgssearch.getResultAccountId(),entity_id:(_jQueryGS(zgssearch.getCurrentSelectedElem()).attr("service")||resObj.serviceName)==zgssearch.GSConstant.PEOPLE?resObj.pkid:resObj.contact_id}},gscontacts)}(zgssearch,window),function(zgssearch,window){var _jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscomponent;zgssearch.contactTemp=(zgssearch.getConTemp=function(id,count,curCalloutObj){var composeMailTitle,continueChat,audioCall,gstitval,cliq_channel_str,desk_send_mail,connect_group_str,ccallout,calloutId=curCalloutObj.calloutId;"search"===curCalloutObj.type&&_jQueryGS("#zgs20_gsConnectorCallout").remove(),_jQueryGS("#"+calloutId).length<=0&&(composeMailTitle=zgssearch.getI18NMsg("gs.search.sevice_mail_sendMail"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.continueChat"),audioCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.audiochat"),ccallout=zgssearch.getI18NMsg("gs.search.result.chat.callout.videochat"),gstitval=zgssearch.getI18NMsg("gs.search.callout.open_tab"),cliq_channel_str=zgssearch.getI18NMsg("gs.connector.open.cliq.channel"),desk_send_mail=zgssearch.getI18NMsg("gs.connector.desk.send.mail"),connect_group_str=zgssearch.getI18NMsg("gs.connector.open.connect.group"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{gs:"ctitle",istip:!0,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:gstitval,istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsDisplayNone zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsContactsCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsContactsCalloutIconHeight",gs:"iconHeight"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsCalloutMetaInfo zgs19_gsfl zgs19_gsContactsCalloutMetaInfoMargin",gs:"contactsMetaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsNameInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsDesgInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsPdLt6Px",gs:"contactsActionInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"sendMail",gstitle:composeMailTitle})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"cliqchannel",gstitle:cliq_channel_str})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsDeskIcon zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"deskmail",gstitle:desk_send_mail})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"connectgroup",gstitle:connect_group_str})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmschat",gstitle:continueChat})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsaudio",gstitle:audioCall})).append(_jQueryGS("<div>",{class:"zgs19_gswmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsvideo",gstitle:ccallout}))))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolderParent zgs19_gsCalloutPopUp zgs19_gsWP100",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"}))))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},void(zgssearch.renderRes=function(resObj,suppmail,calloutObj,repName){var peruser="",searchType=resObj.serviceName||resObj.service||_jQueryGS(suppmail).attr("service"),menuEl=zgssearch.getTargetElem(calloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(suppmail),_jQueryGS(menuEl.lineicon).css("display","none"),_jQueryGS(menuEl.actionlist).css("display","none"),_jQueryGS(menuEl).find(".zgs19_gswmschat").css("display","none"),_jQueryGS(menuEl.contactsDesgInfo).css("display","none"),_jQueryGS(menuEl.contactsCalloutData).empty();var extnLabel=resObj[repName.name]||"";_jQueryGS(menuEl.ctitle).addClass("zgs19_gsCalloutTitleLink"),_jQueryGS(menuEl.ctitle).empty().text(extnLabel).attr("gstitle",extnLabel),searchType==GSConstant.PEOPLE?(_jQueryGS(menuEl.clink).attr("service",searchType),_jQueryGS(menuEl.clink).css("display","block"),_jQueryGS(menuEl.ctitle).attr("service",searchType),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.PEOPLE,resObj))):searchType==GSConstant.ORGRESOURCES&&"5"===resObj.cpt&&resObj.hasOwnProperty("url")&&resObj.url?(_jQueryGS(menuEl.clink).attr("service",searchType),_jQueryGS(menuEl.clink).css("display","block"),_jQueryGS(menuEl.ctitle).attr("service",searchType),_jQueryGS(menuEl.ctitle).attr("href",resObj.url)):(_jQueryGS(menuEl.ctitle).attr("service",searchType),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsCalloutTitleLink"),_jQueryGS(menuEl.clink).css("display","none"),_jQueryGS(menuEl.ctitle).removeAttr("href"));var zuid=resObj.zuid||"";_jQueryGS(menuEl).find(".zgs19_gswmschat").attr("chatid",zuid);var emailLabel="zgs20_gsContactsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount");"8"===resObj.cpt?_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<span>",{id:emailLabel})):_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:emailLabel,class:"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:zgssearch.gsspacer}));var reportingLabel=resObj[repName.photo]||"";"8"===resObj.cpt?_jQueryGS("#"+emailLabel).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsGRDeptIconStyle zgs19_gsGRDeptIcon"):reportingLabel?(reportingLabel=-1!==reportingLabel.indexOf("/file?")?reportingLabel+zgssearch.nps:reportingLabel.replace("/api/viewEmployeePhoto?","/viewPhoto?"),not_available_title=_jQueryGS("#"+emailLabel),zgssearch.network.imageRenderer.renderImage(reportingLabel,{img_elem:not_available_title,class_name:"zgs19_gsDocsCalloutImgNew",errorClass:"zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew"},null)):_jQueryGS("#"+emailLabel).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhotoNew");var addressLabel=resObj[repName.deptname]||"",empidLabel=resObj[repName.desgname]||"",mplabel=empidLabel?"":"zgs19_gsMgLf10Px",locationLabel="",temailLabel="";empidLabel&&addressLabel&&(temailLabel=_jQueryGS("<span>",{class:"zgs19_gsContactsPipeElem zgs19_gsOverflow zgs19_gsfl"}).text("|")),(empidLabel||addressLabel)&&_jQueryGS(menuEl.contactsDesgInfo).css("display","block"),addressLabel&&(locationLabel=_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons zgs19_gsContactDeptImg zgs19_gsfl zgs19_gsMgTop4Px "+mplabel}));var telPhNoLabel="",descLabel="",descLabel=resObj.hasOwnProperty("cpt")?"zgs19_gsContactsDesgElem":(telPhNoLabel="peopledept","zgs19_gsLinkElem zgs19_gsContactsTeamElem");_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",gslabel:zgssearch.getI18NMsg("gs.search.service_people.name"),gstitle:extnLabel,istip:!0}).text(extnLabel))).append(_jQueryGS("<div>",{id:"zgs20_gsPeopleStatus_"+zuid,gsa:"peopleStatus",class:"zgs19_gsContactsStatusElem zgs19_gsOverflow zgs19_gsfl zgs19_gsDisplayNone"})),"8"===resObj.cpt?("none"!==(erecno=resObj.deptmail||"")&&""!==erecno.trim()||(erecno=zgssearch.getI18NMsg("common.not_available")),_jQueryGS(menuEl.contactsDesgInfo).empty().append(_jQueryGS("<span>",{class:" zgs19_gsOverflow  zgs19_gsfl zgs19_gsMgLf10Px "+descLabel,gs:"dept_email",gslabel:"email",gstitle:erecno,istip:!0}).text(erecno))):_jQueryGS(menuEl.contactsDesgInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsDesgElem zgs19_gsOverflow zgs19_gsfl",gsa:"peopleDesignation",gstitle:empidLabel,istip:!0}).text(empidLabel)).append(temailLabel).append(locationLabel).append(_jQueryGS("<span>",{class:" zgs19_gsOverflow  zgs19_gsfl zgs19_gsMgLf5Px "+descLabel,gs:telPhNoLabel,gslabel:zgssearch.getI18NMsg("gs.search.result.support.department"),gstitle:addressLabel,istip:!0}).text(addressLabel));var extn=resObj[repName.extn]||"",pempid=resObj[repName.empid]||"",composeMail=resObj[repName.email]||"";"8"===resObj.cpt&&(composeMail=resObj.deptmail||"");var location=resObj[repName.location]||"",erecno=resObj[repName.deptmail]||"",mpvalue=resObj[repName.mobile]||"",summValue=(summValue=resObj[repName.summ]||"")&&zgssearch.gssecurity.textDecoder(summValue),suppmail=resObj.suppmail||"",reportingLabel=zgssearch.getI18NMsg("common.mobile"),not_available_title=zgssearch.getI18NMsg("common.phone"),emailLabel=zgssearch.getI18NMsg("common.email"),mplabel=resObj[repName.mobile]?reportingLabel:not_available_title,extnLabel=zgssearch.getI18NMsg("gs.search.service_people.extn"),empidLabel=zgssearch.getI18NMsg("gs.search.service_people.empid"),temailLabel=zgssearch.getI18NMsg("gs.search.service_people.teamemail"),locationLabel=zgssearch.getI18NMsg("gs.search.service_people.seatinglocation"),descLabel=zgssearch.getI18NMsg("common.description"),telPhNoLabel=zgssearch.getI18NMsg("gs.search.service_connector.telphno"),addressLabel=zgssearch.getI18NMsg("common.address"),reportingLabel=zgssearch.getI18NMsg("gs.search.service_people.reportingto"),not_available_title=zgssearch.getI18NMsg("common.not_available");"8"!==resObj.cpt||zgssearch.Utils.isValidDepartmentInfo(composeMail)?zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,emailLabel,composeMail):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.team.email"),not_available_title),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,extnLabel,extn),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,mplabel,mpvalue),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,empidLabel,pempid),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,locationLabel,location),zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,temailLabel,erecno);erecno=resObj[repName.reportingto]||{};if(_jQueryGS.isEmptyObject(erecno)||(repName=erecno.hasOwnProperty("empLName")?erecno.empLName:"",repName=erecno.empName+" "+repName,erecno=erecno.erecNo,zgssearch.renderActionableElems(menuEl,menuEl.contactsCalloutData,reportingLabel,erecno,repName,"people_reportingto")),"8"!==resObj.cpt&&zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,descLabel,summValue),searchType===GSConstant.ORGRESOURCES){var value,urlPattern=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),emailPattern=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(resObj.hasOwnProperty("ctno")&&resObj.ctno&&zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,telPhNoLabel,resObj.ctno),resObj.hasOwnProperty("cloc")&&resObj.cloc&&zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,addressLabel,resObj.cloc),"5"===resObj.cpt){let defaultFields=["contact_name","cpt","cnt","cntn","oid","dept","cn","ctno","cloc","emid","url","ct","cdt","cnextn","email","cid"];for(field of Object.keys(resObj))-1==defaultFields.indexOf(field)&&(value=resObj[field],fieldName=zgssearch.Utils.convertToTitleCase(field),urlPattern.test(value)?zgssearch.renderURL(menuEl,menuEl.contactsCalloutData,fieldName,value):emailPattern.test(value)?zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,fieldName,value):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,fieldName,value))}}"8"===resObj.cpt&&(cliq_channel=(cliq_channel=resObj.cliqchannel||"-").trim(),zgssearch.Utils.isValidDepartmentInfo(cliq_channel)?zgssearch.renderURL(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.cliq.channel"),cliq_channel):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.cliq.channel"),cliq_channel),isValidEmailId=(isValidEmailId=resObj.suppmail||"-").trim(),zgssearch.Utils.isValidDepartmentInfo(isValidEmailId)?zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.support.email"),isValidEmailId):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.support.email"),isValidEmailId),status=resObj.avayaextn||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.support.extn"),status),issameorg=(issameorg=resObj.connectgrp||"-").trim(),zgssearch.Utils.isValidDepartmentInfo(issameorg)?zgssearch.renderURL(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.connect.group"),issameorg):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.connect.group"),issameorg),isValidEmailId=resObj.jobdesc||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.job.desc"),isValidEmailId),status=resObj.otherres||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("gs.connector.other.data"),status),issameorg=resObj.summ||"-",zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,zgssearch.getI18NMsg("common.description"),issameorg));var cliq_channel,zuid=resObj.zuid,peruser="",isValidEmailId=zgssearch.getUserStatus(zuid,"big"),status=(isValidEmailId.name,isValidEmailId.status),issameorg=GSConstant.cuz,isValidEmailId="null"!==composeMail&&""!==composeMail&&null!=composeMail&&"-"!==composeMail&&"none"!==composeMail;isValidEmailId&&zuid!=issameorg&&searchType==GSConstant.PEOPLE&&(issameorg=resObj.issameorg||"",!isNaN(status)&&zuid&&"-1"!=zuid&&(status=parseInt(status),("true"==issameorg||0<=status)&&(peruser=zuid,_jQueryGS(menuEl.gswmschat).show(),zgssearch.hasAudioSupport()&&_jQueryGS(menuEl.gswmsaudio).show(),zgssearch.hasVideoSupport()&&_jQueryGS(menuEl.gswmsvideo).show()))),zgssearch.gscontacts.addCalloutActionList(menuEl,searchType,composeMail,peruser),isValidEmailId&&(_jQueryGS(menuEl.sendMail).css("display","block"),_jQueryGS(menuEl.sendMail).attr("email",composeMail)),"8"===resObj.cpt&&(_jQueryGS(menuEl.contactsDesgInfo).css("display","block"),isPreviewCard="none",zgssearch.Utils.isValidDepartmentInfo(composeMail)&&(_jQueryGS(menuEl.sendMail).attr("email",composeMail),isPreviewCard="block"),_jQueryGS(menuEl.sendMail).css("display",isPreviewCard),isPreviewCard="none",cliq_channel=resObj.cliqchannel||"",zgssearch.Utils.isValidDepartmentInfo(cliq_channel)&&(_jQueryGS(menuEl.cliqchannel).attr("cliq_channel_url",cliq_channel),isPreviewCard="block"),_jQueryGS(menuEl.cliqchannel).css("display",isPreviewCard),isPreviewCard="none",suppmail=resObj.suppmail||"",zgssearch.Utils.isValidDepartmentInfo(suppmail)&&(_jQueryGS(menuEl.deskmail).attr("email",suppmail),isPreviewCard="block"),_jQueryGS(menuEl.deskmail).css("display",isPreviewCard));var isPreviewCard=zgssearch.isPreviewCard(calloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(calloutObj),_jQueryGS(menuEl).css("display","block")),searchType===GSConstant.PEOPLE&&zgssearch.gscontacts.fetchUserAvailability(resObj),setTimeout(function(){_jQueryGS(menuEl.contPartHolder).scrollTop(0),_jQueryGS(menuEl.contPartHolder).scrollLeft(0)},0),(zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&!zgssearch.pccomponent.isActionsEnabled)&&_jQueryGS(menuEl.contactsActionInfo).css("display","none"),zgssearch.gscontacts.setContactsCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()}))}(zgssearch,window),function(zgssearch,window){var gssupport,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gssupport=(gssupport=void 0,(gssupport=zgssearch.gssupport||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gssupport.email="",gssupport.zuid="",gssupport.getCalloutHolder=function(){return"zgs20_gsSupportCallout"},gssupport.calloutParams=function(resObj,urlParam){var docId=resObj.doc_id||resObj[zgssearch.entity_id],module=resObj.module_id||resObj[zgssearch.module_id],urlParam="searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&id="+docId+"&module="+module+"&portalId="+(resObj.accId||resObj[zgssearch.account_id]||(urlParam&&(urlParam.updateRecord||urlParam.updateDueDate)?zgssearch.gsaction.currSearchType.getCurrAccId():zgssearch.getResultAccountId()));return resObj.hasOwnProperty("ATTACHMENT_NAMES")&&(urlParam+="&hasAttach=true"),urlParam},gssupport.openSupportResult=function(docId,portalName,portalObj){var moduleName=docId.module_id||portalObj[zgssearch.module_id],moduleName=gssupport.getUrlModuleName(moduleName),docId=docId.doc_id||portalObj[zgssearch.entity_id],portalObj=zgssearch.getFilterInfo(GSConstant.SUPPORT,"accounts","data"),portalName=portalObj.hasOwnProperty(portalName)?portalObj[portalName]:"";return GSConstant.GS_SUPPORT_URL+"/support/"+encodeURIComponent(portalName)+"/ShowHomePage.do#"+moduleName+"/dv/"+docId},gssupport.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,ccallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),ccallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.SUPPORT,gs:"moveToAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.SUPPORT,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.SUPPORT),service:GSConstant.SUPPORT})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.SUPPORT})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.SUPPORT})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:ccallout,gs:"minpreview",service:GSConstant.SUPPORT}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"footer1"}).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutMetaInfo",class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:zgssearch.gsspacer})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid50Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid30Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid50Per zgs19_gsOverflow",gs:"CalloutEditFields"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsInLine zgs19_gsMxWid90Per",gs:"receiverTxt",istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine",gs:"CalloutEditFields_icon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDiskStatusNew zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid30Per",gs:"rfolderHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsDeskStatusIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(_jQueryGS("<span>",{gs:"rfolder",istip:!0})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"ticket_third_row"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid18Per"}).append(_jQueryGS("<span>",{gs:"duelabel"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTicketDueDate",class:"zgs19_directionltr zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsEditFieldsUline zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid45Per zgs19_gsOverflow",datatype:"dueDateChange",gs:"ticketAction"}).append(_jQueryGS("<span>",{class:"zgs19_gsOverflow zgs19_gsInLine zgs19_gsMxWid90Per",gs:"duevalue"})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine zgs19_gsVisibleHidden",gs:"ticketDuedate_icon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid15Per"}).append(_jQueryGS("<span>",{gs:"statuslabel"}))).append(_jQueryGS("<div>",{id:"zgs20_gsTicketStatus",class:"zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsfl zgs19_gs_CRMw22 zgs19_gsFlex",datatype:"statusChange",gs:"ticketAction"}).append(_jQueryGS("<span>",{class:"zgs19_gsTicketStatusTxt zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid80Per",gs:"statusvalue",istip:!0})).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsInLine zgs19_gsVisibleHidden",gs:"ticketStatus_icon"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsDeskCalloutFooter",class:"zgs19_gsCalloutFooterHolder zgs19_gsCalloutPopUp zgs19_gsSupportCalloutFooter",gs:"supportcalloutFooter1"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(_jQueryGS("<div>",{id:"zgs20_gsDeskCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"footer2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsSupportCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsSupportCalloutIconHeight",gs:"metaInfo2"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsContactsCalloutMetaInfo zgs19_gsfl"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild",gs:"contactsNameInfo"})))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder zgs19_gsSupportCalloutcontPartHolder zgs19_gsSupportCalloutFooter zgs19_gsCalloutPopUp",gs:"supportcalloutFooter2"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"supportCalloutData"})))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent(),gssupport.addEventsForCalloutAction()),_jQueryGS("#"+calloutId).attr("ccount",count)},gssupport.addEventsForCalloutAction=function(){_jQueryGS(".zgs19_gsDeskTicketArrowElem").off().on({mouseenter:function(){"Open"===zgssearch.getCurrentResObj().statusType?_jQueryGS(this).find(".zgs18_gsModuleFilterDownIcon").css("visibility","visible"):_jQueryGS(this).find(".zgs18_gsModuleFilterDownIcon").css("visibility","hidden")},mouseleave:function(){_jQueryGS(this).find(".zgs18_gsModuleFilterDownIcon").css("visibility","hidden")}})},gssupport.setSupportCalloutEleSize=function(menuEl){var footerAttr=_jQueryGS(menuEl.footer1).is(":visible")?"supportcalloutFooter1":"supportcalloutFooter2",headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.footer1).is(":visible")?_jQueryGS(menuEl.metaInfo1).height():_jQueryGS(menuEl.metaInfo2).height()+(_jQueryGS(menuEl[footerAttr]).outerHeight(!0)-_jQueryGS(menuEl[footerAttr]).height()),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl[footerAttr]).css("height",contentHeight+"px")},gssupport.calloutResponse=function(street,lzip,description,city){var curCalloutObj=city.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(description);var lcountry=lzip.module_id||lzip.module;street=street||{},!(city=city||{}).updateRecord||street&&!street.hasOwnProperty("error")||(gssupport.calloutRespData.assigneeId="Unassigned"==city.owner.id?"null":city.owner.id,street=gssupport.calloutRespData),gssupport.calloutRespData=street;var lstate,lstreet=_jQueryGS(menuEl).attr("ccount"),dueDate=lzip.webUrl||zgssearch.fetchCalloutUrlByAccId(GSConstant.SUPPORT,street,street[zgssearch.account_id])||(lzip.hasOwnProperty("result")?lzip.result.webUrl:"");if(_jQueryGS(menuEl.ctitle).attr("href",dueDate),description&&(dueLabel=_jQueryGS(description.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",dueLabel)),_jQueryGS(menuEl.clink).css("display","block"),_jQueryGS(menuEl.footer1).css("display","none"),_jQueryGS(menuEl.footer2).css("display","none"),_jQueryGS(menuEl.attachHolder).css("display","none"),_jQueryGS(menuEl.attachHolder).empty(),_jQueryGS(menuEl.moveToAttachArea).css("display","none"),_jQueryGS(menuEl.CalloutEditFields_icon).addClass("zgs19_gsVisibleHidden"),_jQueryGS(menuEl.CalloutEditFields).attr("datatype",""),_jQueryGS(menuEl.CalloutEditFields).removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS("#zgs20_gsTicketStatus").attr("datatype",""),_jQueryGS("#zgs20_gsTicketStatus").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketStatus_icon).removeClass("zgs19_gsModuleFilterElemIcon"),"1"==lcountry||"2"==lcountry)if(street)if(street.hasOwnProperty("result")){_jQueryGS(menuEl.footer1).css("display","block"),_jQueryGS(menuEl.rfolderHolder).css("display","block"),_jQueryGS(menuEl.ticket_third_row).css("display","none"),_jQueryGS(menuEl.actionlist).css("display","block"),_jQueryGS(menuEl.contentHolder).empty(),_jQueryGS(menuEl.metaInfo1).css("minHeight",70),_jQueryGS(menuEl.metaInfo1).css("maxHeight",95);var forum="",lcity=street.result;gssupport.email=lcity.Email||"",gssupport.zuid=lcity.zuid||"",gssupport.isGroup=lcity.isGrp;var dueLabel,topicname,country=lcity.Status||"";if("1"===lcountry?(forum=(lzip.CUSTOMCASENUMBER||lzip.CASENUMBER)+" - "+lzip.support_title,_jQueryGS(menuEl.ctitle).empty().text(forum).attr("gstitle",forum),topicname=zgssearch.getI18NMsg("common.from",!0),dueDate=lcity.Email&&"null"!=lcity.Email?lcity.Email:lzip.CONTACTNAME,_jQueryGS(menuEl.slabel).empty().text(topicname).attr("gstitle",topicname),_jQueryGS(menuEl.sender).empty().text(dueDate).attr("gstitle",dueDate),_jQueryGS(menuEl.date).empty().text(lzip.display_time).attr("gstitle",lzip.display_time).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.creator.createdDate")),description=lcity["Case Owner"],dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.assignto"),dueDate=zgssearch.getI18NMsg("gs.search.result.support.callout.Notassigned"),dueDate="null"==street.assigneeId?dueDate:description,_jQueryGS(menuEl.rlabel).empty().text(dueLabel).attr("gstitle",dueLabel),_jQueryGS(menuEl.receiverTxt).empty().text(dueDate).attr("gstitle",dueDate),_jQueryGS(menuEl.rfolder).empty().text(country).attr("gstitle",country),dueLabel=description="",_jQueryGS(menuEl.rfolderHolder).css("display","none"),_jQueryGS(menuEl.ticket_third_row).css("display","flex"),"Closed"==(street.statusType||"")?(dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.closedtime"),description=street.disp_closeTime||"",_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").attr("datatype",""),_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketDuedate_icon).removeClass("zgs19_gsModuleFilterElemIcon")):(_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").attr("datatype","dueDateChange"),_jQueryGS(menuEl).find("#zgs20_gsTicketDueDate").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketDuedate_icon).addClass("zgs19_gsModuleFilterElemIcon"),dueLabel=zgssearch.getI18NMsg("gs.search.result.support.callout.duedate"),description=(description=street.disp_dueDate||"")&&"null"!=description?description:zgssearch.getI18NMsg("gs.search.result.support.callout.noduedate"),dueDate=(dueDate=street.key_dueDate||"")&&"null"!=dueDate?dueDate:void 0,_jQueryGS(menuEl.duevalue).attr("duedate",dueDate)),_jQueryGS(menuEl.duelabel).empty().text(dueLabel).attr("gstitle",dueLabel),_jQueryGS(menuEl.duevalue).empty().text(description).attr("gstitle",description),_jQueryGS(menuEl.statuslabel).empty().text("status").attr("gstitle","status"),_jQueryGS(menuEl.statusvalue).empty().text(country).attr("gstitle",country),(description=lcity.Description||"")&&"null"!=description&&(_jQueryGS(menuEl.contentHolder).append(description),zgssearch.preventStylesFromParentDomain(_jQueryGS(menuEl.contentHolder)),gssupport.loadDeskImagesWithDomain(menuEl.contentHolder)),(!zgssearch.isPreviewOpenedInComponent||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent.isActionsEnabled)&&(gssupport.addChangeOwnerOption(menuEl,street,lzip),zgssearch.loadDatePicker(),gssupport.addChangeStatusOption(menuEl,lzip),gssupport.addEventForDeskArrow(menuEl))):(forum=lzip.support_title||lzip.title||"",_jQueryGS(menuEl.ctitle).empty().text(forum).attr("gstitle",forum),forum=lcity["Created By"]||"-",topicname=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0),_jQueryGS(menuEl.slabel).empty().text(topicname).attr("gstitle",topicname),_jQueryGS(menuEl.sender).empty().text(forum).attr("gstitle",forum),_jQueryGS(menuEl.date).empty().text(lzip.display_time).attr("gstitle",lzip.display_time).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.creator.createdDate")),topicname=lzip.TOPIC_NAME||"",forum=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),_jQueryGS(menuEl.rlabel).empty().text(forum).attr("gstitle",forum),_jQueryGS(menuEl.receiverTxt).empty().text(topicname).attr("gstitle",topicname),_jQueryGS(menuEl.rfolder).empty().text(country).attr("gstitle",country),"null"!==lcity.Answer&&(_jQueryGS(menuEl.contentHolder).append(lcity.Answer),zgssearch.preventStylesFromParentDomain(_jQueryGS(menuEl.contentHolder)),gssupport.loadDeskImagesWithDomain(menuEl.contentHolder))),street.hasOwnProperty("attach")){var attachArr=street.attach||[],threadId=street.threadId||"",len=attachArr.length;if(0<len){var state=len+" "+zgssearch.getI18NMsg("gs.search.result.mail.callout.attachments");_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachHeader"}).append(_jQueryGS("<span>",{gstitle:state}).text(state)));for(var i=0;i<len;i++){var val=attachArr[i],fileName=zgssearch.replaceHTMLEntity(val.name),fileimage="zgs19_"+zgssearch.getFileImageClass(fileName),fileImgTitle=zgssearch.getDocResTT(fileimage);_jQueryGS(menuEl.attachHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachImage"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileimage,gstitle:fileImgTitle,gs:"resultMenuItem"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:GSConstant.SUPPORT,downloadUrl:val.downloadUrl||"",tId:threadId,aId:val.id||val.resourceId,gs:"attachtitle",gstitle:fileName,istip:!0}).text(fileName))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(_jQueryGS("<span>").text(zgssearch.convertToKBMB(val.size)))))}_jQueryGS(menuEl.moveToAttachArea).css("display","block"),_jQueryGS(menuEl.attachHolder).css("display","block")}}curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.actionPipe).css("display","block"));var country={},lcity=curCalloutObj.hasOwnProperty("type")?curCalloutObj.type:"search";city.updateRecord||city.updateDueDate?country=zgssearch.gsaction.currSearchType.getCurrentResultObj():zgssearch.hasOwnProperty("pccomponent")?country=lzip:lcity!==zgssearch.dbCrdCalloutType&&lcity!==zgssearch.crdPagecalloutType&&(country=zgssearch.Utils.getResultObjectofType(lcity,curCalloutObj.cardId));var state=street[zgssearch.entity_id]||lzip.doc_id;country.doc_id!=state&&lcity!==zgssearch.dbCrdCalloutType&&lcity!==zgssearch.crdPagecalloutType||(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),_jQueryGS(menuEl.supportcalloutFooter1).scrollTop(0),_jQueryGS(menuEl.supportcalloutFooter1).scrollLeft(0),gssupport.addCalloutActionList(menuEl)}else gssupport.calloutErrorMsg("",curCalloutObj);else gssupport.calloutErrorMsg("",curCalloutObj);else"3"!=lcountry&&"4"!=lcountry||(_jQueryGS(menuEl.maxpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","none"),_jQueryGS(menuEl.lineicon).css("display","none"),_jQueryGS(menuEl.supportCalloutData).empty(),_jQueryGS(menuEl.footer2).css("display","block"),city=lzip.support_title||"",_jQueryGS(menuEl.ctitle).empty().text(city).attr("gstitle",city),street="3"==lcountry?"zgs19_gsSuppContactsPhotoNew":"zgs19_gsSuppAccountPhotoNew",_jQueryGS(menuEl.calloutIconHolder).empty().append(_jQueryGS("<img>",{id:"zgs20_gsSupportCalloutUserImg"+lstreet,class:"zgs19_gsResultsUniIcons "+street,src:zgssearch.gsspacer})),"3"==lcountry?_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<div>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0,gstitle:city}).text(city))):_jQueryGS(menuEl.contactsNameInfo).empty().append(_jQueryGS("<span>",{class:"zgs19_gsContactsNameElem zgs19_gsOverflow zgs19_gsfl",gstitle:city}).text(city)),country=zgssearch.getI18NMsg("common.mobile"),isPreviewCard=zgssearch.getI18NMsg("common.phone"),state=zgssearch.getI18NMsg("common.email"),lcity=zgssearch.getI18NMsg("gs.search.result.support.callout.weburl"),zgssearch.renderContactsEmailId(menuEl,menuEl.supportCalloutData,state,lzip.EMAIL||""),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,country,lzip.MOBILE||""),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,isPreviewCard,lzip.PHONE||""),(lstreet=lzip.WEBSITE||"")&&((lstate=[]).push(lstreet),zgssearch.renderInstantORWebInfo(menuEl,menuEl.supportCalloutData,"url",lcity,lstate)),isPreviewCard=country=state=city=street="","3"===lcountry&&(street=lzip.MAILINGSTREET,city=lzip.MAILINGCITY,state=lzip.MAILINGSTATE,country=lzip.MAILINGCOUNTRY,isPreviewCard=lzip.MAILINGZIP),"4"===lcountry&&(street=lzip.BILLINGSTREET,city=lzip.BILLINGCITY,state=lzip.BILLINGSTATE,country=lzip.BILLINGCOUNTRY,isPreviewCard=lzip.BILLINGZIP),lstreet=zgssearch.getI18NMsg("gs.search.result.support.callout.street"),lcity=zgssearch.getI18NMsg("gs.search.result.support.callout.city"),lstate=zgssearch.getI18NMsg("gs.search.result.support.callout.state"),lcountry=zgssearch.getI18NMsg("gs.search.result.support.callout.country"),lzip=zgssearch.getI18NMsg("common.zip"),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lstreet,street),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lcity,city),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lstate,state),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lcountry,country),zgssearch.renderContactsInfo(menuEl,menuEl.supportCalloutData,lzip,isPreviewCard),_jQueryGS(menuEl.supportCalloutData).scrollTop(0),_jQueryGS(menuEl.supportCalloutData).scrollLeft(0),gssupport.addCalloutActionList(menuEl));var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),gssupport.setSupportCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gssupport.createDateTimepicker=function(targetElem){var attributeObj=_jQueryGS(targetElem).find(".zgs19_gsInLine")[0],dueDate=attributeObj?_jQueryGS(attributeObj).attr("duedate"):"";0===_jQueryGS("#zgs20_gsCustomDateTimePickerElem").length&&zgssearch.loadDatePicker(zgssearch.createNewCustomDateTimePicker.bind(null,"zgs20_gsDateTimePickerElem","dd-MM-yyyy hh:mm tt"));attributeObj={};attributeObj.callback=gssupport.updateDatePicker,attributeObj.currentDueDate=dueDate,attributeObj.value=dueDate,zgssearch.handleNewCustomDatePicker(targetElem,"customdatetime",attributeObj)},gssupport.updateDatePicker=function(response){var dueDate;response.fromUI&&((dueDate=""+response.valueString)!==(""+response.options.currentDueDate||"")&&zgssearch.gssupportaction.updateDeskDueDate(GSConstant.SUPPORT,dueDate),zgssearch.hideDatePicker())},gssupport.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gssupport.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);zgssearch.savePreviewNeeded(key)&&_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.SUPPORT,gstitle:dectext}).text(dectext))}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.SUPPORT)},gssupport.addChangeStatusOption=function(menuEl,unusedModData){var portalId=zgssearch.getResultAccountId()||unusedModData.accId||unusedModData[zgssearch.account_id],unusedModData=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","unusedModData");unusedModData.hasOwnProperty(portalId)&&1==(unusedModData[portalId]["1_et"]||!1)&&(_jQueryGS("#zgs20_gsTicketStatus").attr("datatype","statusChange"),_jQueryGS("#zgs20_gsTicketStatus").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),_jQueryGS(menuEl.ticketStatus_icon).addClass("zgs19_gsModuleFilterElemIcon"))},gssupport.addChangeOwnerOption=function(menuEl,coflag,ucoflag){var assigneeId=coflag.assigneeId||"null",coflag=zgssearch.getResultAccountId()||ucoflag.accId||ucoflag[zgssearch.account_id],ucoflag=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","unusedModData");ucoflag.hasOwnProperty(coflag)&&(coflag=(ucoflag=ucoflag[coflag])["1_co"]||!1,ucoflag=ucoflag["1_uco"]||!1,1!=coflag&&(1!=ucoflag||null!=assigneeId&&"null"!=assigneeId)||(gssupport.assigneeId=assigneeId||"",_jQueryGS(menuEl.CalloutEditFields_icon).removeClass("zgs19_gsVisibleHidden"),_jQueryGS(menuEl.CalloutEditFields).attr("datatype","deskOwnerChange"),_jQueryGS(menuEl.CalloutEditFields).addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer")))},gssupport.addEventForDeskArrow=function(menuEl){_jQueryGS(menuEl.ticketAction).off().on({mousemove:function(){_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){var soid=_jQueryGS(this).attr("datatype"),datatype=_jQueryGS("#zgs20_gsEditFieldsHolder").attr("datatype");zgssearch.isDatePickerDisplay&&(datatype=_jQueryGS("#zgs20_gsDateTimePickerElem").attr("datatype")),(zgssearch.isEditFieldsDisplay||zgssearch.isDatePickerDisplay)&&soid==datatype||_jQueryGS(this).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}})},gssupport.isAgentsExists=function(){var portalId=zgssearch.getResultAccountId(),ownerList=zgssearch.getFilterInfo(GSConstant.SUPPORT,"departments","current"),ownerList=zgssearch.gssupportaction.getSupportContactsObj(portalId,ownerList);return 0<Object.keys(ownerList).length},gssupport.getUrlModuleName=function(moduleId){switch(moduleId){case"1":return"Cases";case"2":return"Solutions";case"3":return"Contacts";case"4":return"Accounts"}},gssupport.getModuleName=function(moduleId,portalObj){var modulesObj=zgssearch.getFilterInfo(GSConstant.SUPPORT,"modules","data");if(modulesObj.hasOwnProperty(portalObj)){portalObj=modulesObj[portalObj];if(portalObj.hasOwnProperty(moduleId))return portalObj[moduleId]}return""},gssupport.moveToViewPort=function(){zgssearch.moveToViewPort("zgs20_gsSupportCalloutFooter","zgs20_gsSupportCalloutAttachInfo")},gssupport.downloadAttachment=function(elem){var atIndex,threadId,docId,portalId,params,downloadURL=_jQueryGS(elem).attr("downloadUrl");downloadURL||(params=_jQueryGS(elem).text(),atIndex=_jQueryGS(elem).attr("aId"),threadId=_jQueryGS(elem).attr("tId"),docId=(portalId=zgssearch.getCurrentResObj()).doc_id||portalId[zgssearch.entity_id],portalId=portalId[zgssearch.account_id]||zgssearch.getResultAccountId(),params="searchType="+_jQueryGS(elem).attr("service")+"&id="+docId+"&portalId="+portalId+"&threadId="+threadId+"&attachId="+atIndex+"&atName="+encodeURIComponent(params),downloadURL=zgssearch.attachmentURL+"?"+params),zgssearch.network.download_file(downloadURL)},gssupport.loadDeskImagesWithDomain=function(id){_jQueryGS(id).find("img").each(function(){var oldImgSrc=_jQueryGS(this).attr("src");oldImgSrc&&(-1!=oldImgSrc.indexOf("/ImageDisplayZSupportAPI?")?(oldImgSrc=oldImgSrc.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"),_jQueryGS(this).attr("src",oldImgSrc)):-1==oldImgSrc.indexOf("/supportapi")&&-1==oldImgSrc.indexOf("/supportapi/api/v1/threads")||_jQueryGS(this).attr("src",zgssearch.GSConstant.GS_SUPPORT_URL+oldImgSrc))}),_jQueryGS(id).find("a").each(function(){var extra,oldImgSrc=_jQueryGS(this).attr("href");oldImgSrc&&(0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")&&(extra=0==oldImgSrc.indexOf("/")?"":"/",_jQueryGS(this).attr("href",zgssearch.httpstxt+"://"+GSConstant.GS_SUPPORT_URL+extra+oldImgSrc)),_jQueryGS(this).removeAttr("onclick"),_jQueryGS(this).attr("target","_blank"),_jQueryGS(this).attr("rel","noopener noreferrer"))})},gssupport.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.support.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gssupport.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsSupportCallout");zgssearch.setGSTagElems(menuEl),gssupport.setSupportCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gssupport.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),prevCrdObj=resObj.accId||zgssearch.getResultAccountId(),module=resObj.module_id,prevCrdObj={entity_id:resObj.doc_id,account_id:prevCrdObj};return 1!=module&&2!=module||resObj.hasOwnProperty("ATTACHMENT_NAMES")&&(prevCrdObj.hasAttach=!0),prevCrdObj[zgssearch.module_id]=module,prevCrdObj},gssupport)}(zgssearch,window),function(zgssearch,window){var gsbooks,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsbooks=(gsbooks=void 0,(gsbooks=zgssearch.gsbooks||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gsbooks.email="",gsbooks.zuid="",gsbooks.isGroup="",gsbooks.getCalloutHolder=function(){return"zgs20_gsBooksCallout"},gsbooks.calloutParams=function(resObj){var modules=resObj.modules,orgId=resObj.accId||zgssearch.getResultAccountId();return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&id="+resObj.id+"&module="+modules+"&orgId="+orgId+"&requiredfields=html_string,status,comments,customer_name,recurrence_name,name"},gsbooks.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,mcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink zgs19_gsCFS",gs:"ctitle",istip:!0,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCFS zgs19_gsCurPointer zgs19_gsfl",gs:"clink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs19_gsCFS zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview"})).append(_jQueryGS("<div>",{class:"zgs19_gsCFS zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:mcallout,gs:"minpreview"}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",istip:!0,gs:"cname"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{istip:!0,gs:"cemailId"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutFooter zgs19_gsBorderBox zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutStatusMap zgs19_gsBorderBox",gs:"statusMap"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutContentInfo zgs19_gsBorderBox",gs:"content"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutMoreInfo zgs19_gsBorderBox",gs:"moreInfo"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksCalloutComments zgs19_gsBorderBox",gs:"comments"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsbooks.setBooksCalloutEleSize=function(menuEl,isPreviewCardCalloutType,paddingVal){var headerHeight,contentHeight;menuEl&&(contentHeight=0,"none"!=_jQueryGS(menuEl.metaInfo).css("display")&&(contentHeight=_jQueryGS(menuEl.metaInfo).height()),headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"),!isPreviewCardCalloutType&&paddingVal?(_jQueryGS(menuEl.content).addClass("zgs19_gsBooksCalloutDashboardContentInfo"),_jQueryGS(menuEl.comments).addClass("zgs19_gsBooksCalloutDashboardContentInfo")):(_jQueryGS(menuEl.content).removeClass("zgs19_gsBooksCalloutDashboardContentInfo"),_jQueryGS(menuEl.comments).removeClass("zgs19_gsBooksCalloutDashboardContentInfo")),paddingVal=_jQueryGS(menuEl.content).outerWidth(),paddingVal=-1<(paddingVal=(_jQueryGS(menuEl.calloutFooter).outerWidth()-paddingVal)/2)?paddingVal:10,_jQueryGS(menuEl.calloutFooter).css({padding:"10px "+paddingVal+"px"}),_jQueryGS(menuEl.statusMap).css({top:4,left:paddingVal-6,margin:"0px"}))},gsbooks.calloutResponse=function(respObj,invamtLab,ContactPersonObj,currencycodeLab){var isPreviewCardCalloutType=currencycodeLab.searchObj,isDashboardCardType=zgssearch.isPreviewCard(isPreviewCardCalloutType),menuEl=zgssearch.getTargetElem(isPreviewCardCalloutType.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(ContactPersonObj);var commentsLab=respObj||{},wModules=respObj[zgssearch.module_id]||"",shipAddrLab=Object.keys(commentsLab).length,service=invamtLab.serviceName||_jQueryGS(ContactPersonObj).attr("service");if(_jQueryGS(menuEl.actionlist).attr("gsa",service),0<shipAddrLab){_jQueryGS(menuEl.metaInfo).hide(),_jQueryGS(menuEl.content).empty(),_jQueryGS(menuEl.statusMap).hide(),_jQueryGS(menuEl.moreInfo).empty().hide(),_jQueryGS(menuEl.content).removeClass("zgs19_gsBooksCalloutContentPrev");var currencyCode=respObj[zgssearch.account_id]||_jQueryGS(ContactPersonObj).attr("acc_id");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrlByAccId(service,invamtLab,currencyCode));var wTitle=respObj.name||respObj.custName||respObj.rName||"";if(_jQueryGS(menuEl.ctitle).text(wTitle).attr("gstitle",wTitle),_jQueryGS(menuEl.clink).attr("gstitle",zgssearch.getNewTabTip(service)),_jQueryGS(menuEl).find(".zgs19_gsCFS").attr("service",service),ContactPersonObj&&(cnameFText=_jQueryGS(ContactPersonObj.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",cnameFText)),gsbooks.email=commentsLab.email||"",gsbooks.zuid=commentsLab.zuid||"",gsbooks.isGroup=commentsLab.isGrp,commentsLab.hasOwnProperty("html_string")){(payAmtText=commentsLab.status||invamtLab.status||"")&&(invnoLab=gsbooks.getBooksPrevStatus(payAmtText),_jQueryGS(menuEl.statusMap).empty().show(),_jQueryGS(menuEl.statusMap).append(_jQueryGS("<div>",{class:"zgs19_gsBorderBox zgs19_gsBooksCalloutStatus_"+invnoLab}).text(payAmtText))),_jQueryGS(menuEl).find(".zgs19_FinanceIframe").remove();var previewId="zgs19_FinanceIframe"+(isPreviewCardCalloutType.hasOwnProperty("cardNum")?isPreviewCardCalloutType.cardNum:"search"),cnameLText=document.createElement("iframe");cnameLText.src="",cnameLText.srcdoc=commentsLab.html_string,cnameLText.id=previewId,cnameLText.className="zgs19_FinanceIframe zgs19_gsw100h100",cnameLText.gs="financeCalloutData",cnameLText.setAttribute("frameborder","0"),zgssearch.Utils.addSandboxToEle(cnameLText),cnameLText.onload=function(){setTimeout(function(){var curSelectedEle=zgssearch.getCurrentSelectedElem();(zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||gsbooks.currCalloutCount===curSelectedEle.id)&&(zgssearch.setScrollTopLeft(_jQueryGS("#"+previewId)),_jQueryGS(previewId).css("display","block")),_jQueryGS("#"+previewId).css("height",_jQueryGS("#"+previewId).contents().height()+10+"px")},100)},_jQueryGS(menuEl.content).append(cnameLText),_jQueryGS(menuEl.content).show()}else if("contacts"==wModules||"recurring_invoices"==wModules){var cnameFText,cnameText="",cemailText="",unusedCreditLab="",billAddrVal="",currencycodeLab="",shipAddrLab="--",currencyCode="--",discAmtText="--";"contacts"==wModules?(cnameFText=(ContactPersonObj=gsbooks.getPrimaryContactPerson(commentsLab)).first_name||"",cnameLText=ContactPersonObj.last_name||"",cemailText=ContactPersonObj.email||"",cnameText=cnameFText.trim()+" "+cnameLText.trim(),unusedCreditLab=zgssearch.getI18NMsg("gs.search.service_books.unusedCredit"),billAddrVal=zgssearch.getI18NMsg("gs.search.service_books.outstanding"),currencycodeLab=zgssearch.getI18NMsg("gs.search.service_books.paymentdue"),shipAddrLab=commentsLab.credits||"--",currencyCode=commentsLab.outstanding||"--",discAmtText=commentsLab.payTerms||"--"):"recurring_invoices"==wModules&&(cnameText=invamtLab.cname||respObj.cname||"",unusedCreditLab=zgssearch.getI18NMsg("gs.search.service_books.invoiceamount"),billAddrVal=zgssearch.getI18NMsg("gs.search.service_books.nextinvoicedate"),currencycodeLab=zgssearch.getI18NMsg("gs.search.service_books.recurringperiod"),shipAddrLab=commentsLab.total||"--",currencyCode=commentsLab.nextInvoice||"--",discAmtText=commentsLab.frequency||"--"),cnameText=zgssearch.isQueryValid(cnameText)?cnameText:wTitle,_jQueryGS(menuEl.cname).empty().attr("gstitle",cnameText).text(cnameText),_jQueryGS(menuEl.cemailId).empty().attr("gstitle",cemailText).text(cemailText),_jQueryGS(menuEl.metaInfo).show(),_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_111 zgs19_gsBorderBox"}).append(_jQueryGS("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(unusedCreditLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(shipAddrLab))).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBooks_text_overdue_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(billAddrVal)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencyCode))).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBooks_text_key zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencycodeLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow"}).text(discAmtText)))));shipAddrLab=commentsLab.billAddr||{},billAddrVal=shipAddrLab.attention?shipAddrLab.attention+" ":"";billAddrVal+=shipAddrLab.address?shipAddrLab.address+", ":"",billAddrVal+=shipAddrLab.street2?shipAddrLab.street2+" ":"",billAddrVal+=shipAddrLab.city?shipAddrLab.city+", ":"",billAddrVal+=shipAddrLab.state?shipAddrLab.state+" ":"",billAddrVal+=shipAddrLab.country?shipAddrLab.country+" ":"",billAddrVal+=shipAddrLab.zip?"- "+shipAddrLab.zip:"";currencyCode=commentsLab.shipAddr||{},currencycodeLab=currencyCode.attention?currencyCode.attention+" ":"";currencycodeLab+=currencyCode.address?currencyCode.address+", ":"",currencycodeLab+=currencyCode.street2?currencyCode.street2+" ":"",currencycodeLab+=currencyCode.city?currencyCode.city+", ":"",currencycodeLab+=currencyCode.state?currencyCode.state+" ":"",currencycodeLab+=currencyCode.country?currencyCode.country+" ":"",currencycodeLab+=currencyCode.zip?"- "+currencyCode.zip:"";billAddrVal=billAddrVal||zgssearch.getI18NMsg("gs.search.service_books.nobilladdr"),currencycodeLab=currencycodeLab||zgssearch.getI18NMsg("gs.search.service_books.noshipaddr"),shipAddrLab=zgssearch.getI18NMsg("gs.search.service_books.billaddr"),currencyCode=zgssearch.getI18NMsg("gs.search.service_books.shipaddr");if(_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_222 zgs19_gsBorderBox"}).append(_jQueryGS("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox"}).text(shipAddrLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox"}).text(billAddrVal))).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox"}).text(currencyCode)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox"}).text(currencycodeLab))))),"contacts"==wModules){var contPerArr=commentsLab.contPerson||[],primContactID=commentsLab.priContId||"",contPerArrLen=contPerArr.length||0;_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_333 zgs19_gsBorderBox"}).append(_jQueryGS("<ul>",{class:"zgs19_gsBooks_list_unstyled zgs19_gsBorderBox"}).append(_jQueryGS("<li>",{class:"zgs19_gsBooks_col_md_4 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox"}).text("Contact Persons")).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox",id:"zgs20_gsBooksContPerHolder"})))));for(var isContactsAvail=!1,i=0;i<contPerArrLen;i++){var scemail,scfname,scname=contPerArr[i];primContactID!=(scname.contact_person_id||"")&&(isContactsAvail=!0,scemail=scname.email||"",scfname=scname.first_name||"",scname=scname.last_name||"",scname=scfname.trim()+" "+scname.trim(),_jQueryGS("#zgs20_gsBooksContPerHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks_col333_row_1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(scname)).append(_jQueryGS("<a>",{class:"zgs19_gsBooks_col333_row_2 zgs19_gsBorderBox zgs19_gsOverflow",rel:"noopener noreferrer",href:"mailto:"+scemail,target:"_blank",istip:!0,gstitle:scemail}).text(scemail))))}isContactsAvail||(pay_HeaderTempl=zgssearch.getI18NMsg("gs.search.service_books.nocontact"),_jQueryGS("#zgs20_gsBooksContPerHolder").text(pay_HeaderTempl));var subtotalLab=commentsLab.notes||"-",creditsAmtText=commentsLab.website||"-",currencyCode=commentsLab.currCode||"-",totalLab=commentsLab.langCode||"-",discLab=zgssearch.getI18NMsg("gs.search.service_books.otherdetails"),currencycodeLab=zgssearch.getI18NMsg("gs.search.service_books.currency"),adjAmtText=zgssearch.getI18NMsg("common.website"),balanceDueLabel=zgssearch.getI18NMsg("gs.search.service_books.language"),pay_HeaderTempl=zgssearch.getI18NMsg("common.notes");_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(discLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow",id:"zgs20_gsBooksOtherHolder"}))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencycodeLab)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(currencyCode))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(adjAmtText)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(creditsAmtText))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(balanceDueLabel)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(totalLab))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(pay_HeaderTempl)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(subtotalLab)))}else"recurring_invoices"==wModules&&(adjAmtLab=commentsLab.startDate||"-",paymentMadeText=commentsLab.childInvoice||"-",totalText=(totalText=commentsLab.endDate||"")||zgssearch.getI18NMsg("gs.search.service_books.neverexpries"),discLab=zgssearch.getI18NMsg("gs.search.service_books.otherdetails"),paymentLab=zgssearch.getI18NMsg("gs.search.service_books.startdate"),creditsAmtLab=zgssearch.getI18NMsg("common.enddate"),discPerText=zgssearch.getI18NMsg("gs.search.service_books.payterm"),subTotalText=zgssearch.getI18NMsg("gs.search.service_books.manualInv"),_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(discLab)).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_text_value zgs19_gsBorderBox zgs19_gsOverflow",id:"zgs20_gsBooksOtherHolder"}))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(paymentLab)).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(adjAmtLab+":"))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(creditsAmtLab+":")).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(totalText))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(discPerText+":")).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(discAmtText))),_jQueryGS("#zgs20_gsBooksOtherHolder").append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col1 zgs19_gsBorderBox zgs19_gsOverflow"}).text(subTotalText+":")).append(_jQueryGS("<span>",{class:"zgs19_gsBooks444_row1_col2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(paymentMadeText))))}else if("invoices"==wModules||"estimates"==wModules||"creditnotes"==wModules){var pay_BodyTemplChild8=_jQueryGS("<div>",{class:"zgs19_gsInvParentTempl zgs19_gsBorderBox"}),pay_BodyTemplChild5=_jQueryGS("<div>",{class:"zgs19_gsInvHeaderTempl zgs19_gsBorderBox"}),pay_BodyTemplChild6=_jQueryGS("<div>",{class:"zgs19_gsInvBodyTempl zgs19_gsBorderBox"}),pay_BodyTemplChild7=_jQueryGS("<div>",{class:"zgs19_gsInvFooterTempl zgs19_gsBorderBox"}),pay_BodyTempl=_jQueryGS("<table>",{class:"zgs19_gsInvTemplChild1 zgs19_gsBorderBox",width:"100%"}),pay_FooterTempl=_jQueryGS("<table>",{class:"zgs19_gsInvTemplChild2 zgs19_gsBorderBox",width:"100%"}),pay_BodyTemplChild1=_jQueryGS("<table>",{class:"zgs19_gsInvTemplChild3 zgs19_gsBorderBox",width:"100%",cellpadding:"0",cellspacing:"0",border:"0"}),pay_BodyTemplChild3=_jQueryGS("<div>",{class:"zgs19_gsInvTemplChild4 zgs19_gsBorderBox"}),pay_BodyTemplChild4=_jQueryGS("<div>",{class:"zgs19_gsInvTemplChild5 zgs19_gsBorderBox zgs19_gsDisplayNone"}),adjAmtText="",creditsAmtText="",pay_ParentTempl="",balanceDueLabel="";"invoices"==wModules?(adjAmtText=zgssearch.getI18NMsg("gs.search.service_books.invoice"),balanceDueLabel=zgssearch.getI18NMsg("gs.search.service_books.balancedue"),creditsAmtText=commentsLab.invoiceNo||"",pay_ParentTempl=commentsLab.balance||""):"estimates"==wModules?(adjAmtText=zgssearch.getI18NMsg("gs.search.service_books.estimate"),creditsAmtText=commentsLab.estimateNo||""):"creditnotes"==wModules&&(adjAmtText=zgssearch.getI18NMsg("gs.search.service_books.creditnote"),balanceDueLabel=zgssearch.getI18NMsg("gs.search.service_books.creditremain"),creditsAmtText=commentsLab.creditnoteNo||"",pay_ParentTempl=commentsLab.balance||"");totalLab="",creditsAmtText=creditsAmtText?"# "+creditsAmtText:"";pay_ParentTempl&&(totalLab=_jQueryGS("<div>",{class:"zgs19_gsInvT1R1_DueAmt zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_DueAmtLab zgs19_gsBorderBox"}).text(balanceDueLabel)).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_DueAmtVal zgs19_gsBorderBox"}).text(pay_ParentTempl))),pay_BodyTempl.append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L1 zgs19_gsBorderBox"})).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R1 zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_InvLabel zgs19_gsBorderBox"}).text(adjAmtText)).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R1_InvId zgs19_gsBorderBox"}).text(creditsAmtText)).append(totalLab))));var templCh2Ro2Arr=[];"invoices"==wModules?(templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.invoicedate")+" :",value:commentsLab.date}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.term")+" :",value:commentsLab.payTerm}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.filter.dueDate")+" :",value:commentsLab.dueDate})):"estimates"==wModules?(templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.estimatedate")+" :",value:commentsLab.date}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.expirydate")+" :",value:commentsLab.expiry}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.ref")+"# :",value:commentsLab.refNo}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.lookup")+" :",value:gsbooks.getLookUpValue(commentsLab,"lookup")})):"creditnotes"==wModules&&(templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.creditdate")+" :",value:commentsLab.date}),templCh2Ro2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.ref")+"# :",value:commentsLab.refNo}));for(var templCh2Ro2Elem=_jQueryGS("<tbody>"),templCh2Ro2Len=templCh2Ro2Arr.length,j=0;j<templCh2Ro2Len;j++){var templCh2Ro2Obj=templCh2Ro2Arr[j];templCh2Ro2Obj.value&&templCh2Ro2Elem.append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R2_td1"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R2_span"}).text(templCh2Ro2Obj.key))).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R2_td2"}).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1R2_span"}).text(templCh2Ro2Obj.value))))}var templCh2Ro2Elem=_jQueryGS("<table>",{class:"zgs19_gsInvT1R2_table",width:"100%"}).append(templCh2Ro2Elem),subtotalLab=commentsLab.custName||"",invdateLab=zgssearch.getI18NMsg("gs.search.service_books.billto");pay_FooterTempl.append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L2 zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsBorderBox"}).append(_jQueryGS("<label>",{class:"zgs19_gsInvT1L2_BillLab zgs19_gsBorderBox"}).text(invdateLab)).append(_jQueryGS("<span>",{class:"zgs19_gsInvT1L2_CusName zgs19_gsBorderBox"}).text(subtotalLab)))).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R2 zgs19_gsBorderBox"}).append(templCh2Ro2Elem))));for(var itemsDetailsElem=_jQueryGS("<tbody>"),lineItemsArr=commentsLab.lineItems||[],lineItemsLen=lineItemsArr.length,i=0;i<lineItemsLen;i++){var item_total_formatted=lineItemsArr[i],item_name=item_total_formatted.name||"",item_desc=item_total_formatted.description||"",item_quantity=item_total_formatted.quantity||"",item_rate_formatted=item_total_formatted.rate_formatted||"",item_total_formatted=item_total_formatted.item_total_formatted||"";itemsDetailsElem.append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td6 zgs19_gsBorderBox"}).text(i+1)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td7 zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowWrap"}).text(item_name)).append(_jQueryGS("<div>",{class:"zgs19_gsConnectLinkDesc zgs19_gsOverflowWrap"}).text(item_desc))).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td8 zgs19_gsBorderBox"}).text(item_quantity)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td9 zgs19_gsBorderBox"}).text(item_rate_formatted)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td10 zgs19_gsBorderBox"}).text(item_total_formatted)))}var discLab=zgssearch.getI18NMsg("gs.search.service_books.items"),paymentLab=zgssearch.getI18NMsg("gs.search.service_books.qty"),adjAmtLab=zgssearch.getI18NMsg("gs.search.service_books.rate"),creditsAmtLab=zgssearch.getI18NMsg("gs.search.service_books.amount");pay_BodyTemplChild1.append(_jQueryGS("<thead>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td1 zgs19_gsBorderBox"}).text("#")).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td2 zgs19_gsBorderBox"}).text(discLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td3 zgs19_gsBorderBox"}).text(paymentLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td4 zgs19_gsBorderBox"}).text(adjAmtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1L3_td5 zgs19_gsBorderBox"}).text(creditsAmtLab)))).append(itemsDetailsElem);var taxesArr=commentsLab.taxes||[],totalText=commentsLab.total||"",discPerText=commentsLab.discPer||"",discAmtText=commentsLab.discAmt||"",subTotalText=commentsLab.subTotal||"",paymentMadeText=commentsLab.paymentMade||"",adjAmtText=commentsLab.adjAmt||"",creditsAmtText=commentsLab.creditsAmt||"",tbodyDiv=_jQueryGS("<tbody>"),totalLab=zgssearch.getI18NMsg("gs.search.service_books.total"),subtotalLab=zgssearch.getI18NMsg("gs.search.service_books.subtotal"),discLab=zgssearch.getI18NMsg("gs.search.service_books.discount"),paymentLab=zgssearch.getI18NMsg("gs.search.service_books.paymentmade"),adjAmtLab=zgssearch.getI18NMsg("gs.search.service_books.adjAmt"),creditsAmtLab=zgssearch.getI18NMsg("gs.search.service_books.creditsAmt");subTotalText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(subtotalLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(subTotalText))),discAmtText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(discLab+" ("+discPerText+")")).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+discAmtText))),adjAmtText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(adjAmtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(adjAmtText)));var taLen=taxesArr.length||0;if(0<taLen)for(var ti=0;ti<taLen;ti++){var taObj=taxesArr[ti];taObj.tax_name&&taObj.tax_amount_formatted&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(taObj.tax_name)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(taObj.tax_amount_formatted)))}totalText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(totalLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(totalText))),paymentMadeText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(paymentLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+paymentMadeText))),creditsAmtText&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(creditsAmtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text("(-) "+creditsAmtText))),pay_ParentTempl&&tbodyDiv.append(_jQueryGS("<tr>",{class:"zgs19_gsInvT1R4_tr3 zgs19_gsBorderBox"}).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td5 zgs19_gsBorderBox"}).text(balanceDueLabel)).append(_jQueryGS("<td>",{class:"zgs19_gsInvT1R4_td6 zgs19_gsBorderBox"}).text(pay_ParentTempl))),pay_BodyTemplChild3.append(_jQueryGS("<div>",{class:"zgs19_gsInvT1L4 zgs19_gsBorderBox"})).append(_jQueryGS("<div>",{class:"zgs19_gsInvT1R4 zgs19_gsBorderBox"}).append(_jQueryGS("<table>",{class:"zgs19_gsInvT1R4_table zgs19_gsBorderBox",cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}).append(tbodyDiv))).append(_jQueryGS("<div>",{class:"zgs19_gsClearBoth"})),commentsLab.notes&&(pay_HeaderTempl=zgssearch.getI18NMsg("common.notes"),_jQueryGS(pay_BodyTemplChild4).removeClass("zgs19_gsDisplayNone"),pay_BodyTemplChild4.append(_jQueryGS("<label>",{class:"zgs19_gsInvT1L5 zgs19_gsBorderBox"}).text(pay_HeaderTempl)).append(_jQueryGS("<p>",{class:"zgs19_gsInvTR5 zgs19_gsBorderBox"}).text(commentsLab.notes))),pay_BodyTemplChild6.append(pay_BodyTempl).append(pay_FooterTempl).append(pay_BodyTemplChild1).append(pay_BodyTemplChild3).append(pay_BodyTemplChild4),pay_BodyTemplChild8.append(pay_BodyTemplChild5).append(pay_BodyTemplChild6).append(pay_BodyTemplChild7),_jQueryGS(menuEl.content).append(pay_BodyTemplChild8),_jQueryGS(menuEl.content).addClass("zgs19_gsBooksCalloutContentPrev"),_jQueryGS(menuEl.content).show(),(payAmtText=commentsLab.status||invamtLab.status||"")&&(invnoLab=gsbooks.getBooksPrevStatus(payAmtText),_jQueryGS(menuEl.statusMap).empty().show(),_jQueryGS(menuEl.statusMap).append(_jQueryGS("<div>",{class:"zgs19_gsBorderBox zgs19_gsBooksCalloutStatus_"+invnoLab}).text(payAmtText)))}else if("customerpayments"==wModules){var pay_ParentTempl=_jQueryGS("<div>",{class:"zgs19_gsPayParentTempl zgs19_gsBorderBox"}),pay_HeaderTempl=_jQueryGS("<div>",{class:"zgs19_gsInvHeaderTempl zgs19_gsBorderBox"}),pay_BodyTempl=_jQueryGS("<div>",{class:"zgs19_gsInvBodyTempl zgs19_gsBorderBox"}),pay_FooterTempl=_jQueryGS("<div>",{class:"zgs19_gsInvFooterTempl zgs19_gsBorderBox"}),pay_BodyTemplChild1=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild1 zgs19_gsBorderBox"}),pay_BodyTemplChild2=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild2 zgs19_gsBorderBox"}),pay_BodyTemplChild3=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild3 zgs19_gsBorderBox"}),pay_BodyTemplChild4=_jQueryGS("<div>",{class:"zgs19_gsClearBoth"}),pay_BodyTemplChild5=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild5 zgs19_gsBorderBox"}),pay_BodyTemplChild6=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild6 zgs19_gsBorderBox"}),pay_BodyTemplChild7=_jQueryGS("<div>",{class:"zgs19_gsPageBreak zgs19_gsBorderBox"}),pay_BodyTemplChild8=_jQueryGS("<div>",{class:"zgs19_gsPayTemplChild8 zgs19_gsBorderBox"}),invamtLab=zgssearch.getI18NMsg("gs.search.service_books.payrecript"),invnoLab=zgssearch.getI18NMsg("gs.search.service_books.amtreceived"),invdateLab=zgssearch.getI18NMsg("gs.search.service_books.billto");pay_BodyTemplChild1.append(_jQueryGS("<span>",{class:"zgs19_gsPayT1_header"}).text(invamtLab));var payTempl2Arr=[];payTempl2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.paymentdate"),value:commentsLab.date}),payTempl2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.refno"),value:commentsLab.refNo}),payTempl2Arr.push({key:zgssearch.getI18NMsg("gs.search.service_books.paymentmode"),value:commentsLab.payMode});for(var payTempl2Len=payTempl2Arr.length,k=0;k<payTempl2Len;k++){var Templ2Obj=payTempl2Arr[k];Templ2Obj.value&&pay_BodyTemplChild2.append(_jQueryGS("<div>",{class:"zgs19_gsPayT1R2_div zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsPayT1R2_div1 zgs19_gsBorderBox"}).text(Templ2Obj.key)).append(_jQueryGS("<div>",{class:"zgs19_gsPayT1R2_div2 zgs19_gsBorderBox"}).text(Templ2Obj.value)).append(_jQueryGS("<div>",{class:"zgs19_gsClearBoth"})))}var payAmtText=commentsLab.amount||"-";pay_BodyTemplChild3.append(_jQueryGS("<span>",{class:"zgs19_gsPayT1R3_key zgs19_gsBorderBox"}).text(invnoLab)).append(_jQueryGS("<span>",{class:"zgs19_gsPayT1R3_value zgs19_gsBorderBox"}).text(payAmtText)).append(_jQueryGS("<div>",{class:"zgs19_gsClearBoth"}));invamtLab=commentsLab.custName||"-";pay_BodyTemplChild5.append(_jQueryGS("<table>",{class:"zgs19_gsWid100Per"}).append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>").append(_jQueryGS("<div>").append(_jQueryGS("<p>",{class:"zgs19_gsPayT1R5_key zgs19_gsBorderBox"}).text(invdateLab)).append(_jQueryGS("<span>",{class:"zgs19_gsPayT1R5_value zgs19_gsBorderBox"}).text(invamtLab)))))));var paylineItemsArr=commentsLab.invoices||[],paylineItemsLen=paylineItemsArr.length;if(0<paylineItemsLen){for(var payItemsDetailsElem=_jQueryGS("<tbody>"),x=0;x<paylineItemsLen;x++){var pay_amount_applied=paylineItemsArr[x],pay_item_invoice=pay_amount_applied.invoice_number||"",pay_item_date=pay_amount_applied.date_formatted||"",pay_item_total=pay_amount_applied.total_formatted||"",pay_amount_applied=pay_amount_applied.amount_applied_formatted||"";payItemsDetailsElem.append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_item_invoice)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_item_date)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_item_total)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td5 zgs19_gsBorderBox"}).text(pay_amount_applied)))}var invnoLab=zgssearch.getI18NMsg("gs.search.service_books.invoiceno"),invdateLab=zgssearch.getI18NMsg("gs.search.service_books.invoicedate"),invamtLab=zgssearch.getI18NMsg("gs.search.service_books.invoiceamount"),overpayLab=zgssearch.getI18NMsg("gs.search.service_books.paymentamt");pay_BodyTemplChild8.append(_jQueryGS("<h4>",{class:"zgs19_gsInvT8_hr zgs19_gsBorderBox"}).text("Payment for")).append(_jQueryGS("<table>",{class:"zgs19_gsInvT8_label zgs19_gsBorderBox",cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}).append(_jQueryGS("<thead>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td1 zgs19_gsBorderBox"}).text(invnoLab)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td2 zgs19_gsBorderBox"}).text(invdateLab)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td3 zgs19_gsBorderBox"}).text(invamtLab)).append(_jQueryGS("<td>",{class:"zgs19_gsPayT8L3_td4 zgs19_gsBorderBox"}).text(overpayLab)))).append(payItemsDetailsElem))}else{overpayLab=zgssearch.getI18NMsg("gs.search.service_books.overpayment");pay_BodyTemplChild8.append(_jQueryGS("<div>",{class:"zgs19_gsPageBreak zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox zgs19_gsfl"}).append(_jQueryGS("<table>",{class:"zgs19_gsWid100Per zgs19_gsBorderBox"}).append(_jQueryGS("<tbody>").append(_jQueryGS("<tr>").append(_jQueryGS("<td>").append(_jQueryGS("<div>",{class:"zgs19_gsPayT9R1 zgs19_gsBorderBox"}).text(overpayLab)).append(_jQueryGS("<div>",{class:"zgs19_gsPayT9R2 zgs19_gsBorderBox"}).text(payAmtText))))))))}pay_BodyTempl.append(pay_BodyTemplChild1).append(pay_BodyTemplChild2).append(pay_BodyTemplChild3).append(pay_BodyTemplChild4).append(pay_BodyTemplChild5).append(pay_BodyTemplChild6).append(pay_BodyTemplChild7).append(pay_BodyTemplChild8),pay_ParentTempl.append(pay_HeaderTempl).append(pay_BodyTempl).append(pay_FooterTempl),_jQueryGS(menuEl.content).append(pay_ParentTempl),_jQueryGS(menuEl.content).addClass("zgs19_gsBooksCalloutContentPrev"),_jQueryGS(menuEl.content).show()}_jQueryGS(menuEl.comments).empty().hide();var commentsArr=commentsLab.comments||[],commentsLen=commentsArr.length||0;if(0<commentsLen){for(var commentsHolder=_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Header zgs19_gsBorderBox",id:"zgs20_gsBooksCommentsHolder"}),i=0;i<commentsLen;i++){var transaction_type=commentsArr[i],operation_type=transaction_type.commented_by||"",description=transaction_type.description||"",date_formatted=transaction_type.date_formatted||"",fullContent=zgssearch.getI18NMsg("gs.search.service_books.by"),fullContent=description.trim()+" "+fullContent+" "+operation_type;"customerpayments"==wModules&&(description=zgssearch.getI18NMsg("gs.search.service_books.paymentreceived"));operation_type=transaction_type.operation_type||"",transaction_type=transaction_type.transaction_type||"";transaction_type&&operation_type&&(description=transaction_type.trim()+" "+operation_type.trim()),commentsHolder.append(_jQueryGS("<div>").append(_jQueryGS("<div>",{class:"zgs18_gsBooksComments_Pa1 zgs18_gsCalloutUniIcons zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch1 zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooksComments_Ch1R1 zgs19_gsBorderBox"}).text(date_formatted))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch2 zgs19_gsBorderBox"}).append(_jQueryGS("<span>",{class:"zgs19_gsBooksComments_Ch2R1 zgs19_gsBorderBox"}))).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3 zgs19_gsBorderBox"}).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3R1 zgs19_gsBorderBox"})).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3R2 zgs19_gsBorderBox zgs19_gsOverflow"}).text(description)).append(_jQueryGS("<div>",{class:"zgs19_gsBooksComments_Ch3R3 zgs19_gsBorderBox"}).text(fullContent)))))}commentsLab=zgssearch.getI18NMsg("gs.search.service_books.commentshistory");"customerpayments"==wModules?commentsLab=zgssearch.getI18NMsg("gs.search.service_books.paymenthistory"):"recurring_invoices"==wModules&&(commentsLab=zgssearch.getI18NMsg("gs.search.service_books.childinvoices")),_jQueryGS(menuEl.comments).append(_jQueryGS("<div>",{class:"zgs19_gsBooks_col_md_444 zgs19_gsBorderBox"}).append(_jQueryGS("<h6>",{class:"zgs19_gsBorderBox zgs19_gsOverflow"}).text(commentsLab)).append(commentsHolder)),_jQueryGS(menuEl.comments).show()}isPreviewCardCalloutType.iconDisplay&&(_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.actionPipe).css("display","block")),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isDashboardCardType)&&(zgssearch.hideCalloutLoader(isPreviewCardCalloutType),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)}else gsbooks.calloutErrorMsg("",isPreviewCardCalloutType);isDashboardCardType="dashboardCard"===isPreviewCardCalloutType.type,isPreviewCardCalloutType=!!isPreviewCardCalloutType.hasOwnProperty("cardCalloutType")&&"cardCalloutType"===isPreviewCardCalloutType.cardCalloutType;gsbooks.addCalloutActionList(menuEl,service),gsbooks.setBooksCalloutEleSize(menuEl,isPreviewCardCalloutType,isDashboardCardType),zgssearch.calloutVisitRequest()},gsbooks.getPrimaryContactPerson=function(moduleData){for(var primContactID=moduleData.priContId||"",primContactArr=moduleData.contPerson||[],primContactLen=primContactArr.length,i=0;i<primContactLen;i++){var contactObj=primContactArr[i]||{};if(primContactID==(contactObj.contact_person_id||""))return contactObj}return{}},gsbooks.getLookUpValue=function(moduleData,type){for(var lookupArr=moduleData.customFields||[],lookupLen=lookupArr.length,i=0;i<lookupLen;i++){var lookupObj=lookupArr[i]||{};if(type==(lookupObj.data_type||""))return lookupObj.value_formatted}},gsbooks.getBooksPrevStatus=function(status){var staVal=status.toLowerCase();switch(staVal){case"open":case"accepted":case"success":case"overdue":case"draft":case"error":case"void":case"pending":case"approved":case"paid":return staVal;default:return"default"}},gsbooks.getFinanceSuiteProductDomainURL=function(service){var domainURL="";switch(service){case GSConstant.BOOKS:domainURL=GSConstant.GS_BOOKS_URL;break;case GSConstant.INVOICE:domainURL=GSConstant.GS_INVOICE_URL;break;case GSConstant.INVENTORY:domainURL=GSConstant.GS_INVENTORY_URL}return domainURL},gsbooks.openBooksResult=function(service,accId,resObj,calloutResp={}){var url="",mod="",id=resObj.id||calloutResp[zgssearch.entity_id],bmodules=resObj.modules||calloutResp[zgssearch.module_id]||"";return mod="items"==bmodules?GSConstant.INVENTORY+"/items":"estimates"==bmodules?"quotes":"customerpayments"==bmodules?"paymentsreceived":"recurring_invoices"==bmodules?"recurringinvoices":"contacts"===bmodules&&"vendor"===(resObj.contact_type||calloutResp.contactType)?"vendors":bmodules,url=id&&mod?gsbooks.getFinanceSuiteProductDomainURL(service)+"/app/"+accId+"#/"+mod+"/"+id:url},gsbooks.addCalloutActionList=function(menuEl,service){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsbooks.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)zgssearch.savePreviewNeeded(key)&&(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:service,gstitle:dectext}).text(dectext)))}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,service)},gsbooks.calloutErrorMsg=function(msg,curCalloutObj){if(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent){zgssearch.hideCalloutLoader(curCalloutObj);var errorMsg="";switch(zgssearch.searchType){case GSConstant.BOOKS:errorMsg=zgssearch.getI18NMsg("gs.search.result.books.status.callout.errortext");break;case GSConstant.INVOICE:errorMsg=zgssearch.getI18NMsg("gs.search.result.invoice.status.callout.errortext");break;case GSConstant.INVENTORY:errorMsg=zgssearch.getI18NMsg("gs.search.result.inventory.status.callout.errortext")}msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):errorMsg;zgssearch.calloutErrorPage(curCalloutObj,msg)}},gsbooks.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsBooksCallout"),zgssearch.setGSTagElems(menuEl),gsbooks.setBooksCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsbooks.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{module:resObj.modules,account_id:resObj.accId||zgssearch.getResultAccountId(),entity_id:resObj.id,requiredfields:"html_string,status,comments,customer_name,recurrence_name,name"}},gsbooks)}(zgssearch,window),function(zgssearch,window){var gscalendar,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscalendar=(gscalendar=void 0,(gscalendar=zgssearch.gscalendar||{}).actionList=[{open:"common.open",sendMail:"gs.search.callout.send_mail_action",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],gscalendar.startTimeMillis=0,gscalendar.endTimeMillis=0,gscalendar.currentTimeMillis=0,gscalendar.todayInMills=0,gscalendar.attendeesListObj=gscalendar.attendeesListObj||{},zgssearch.eventHostZUID=zgssearch.eventHostZUID||"",gscalendar.supportedDispField=["Duration","Description","Your_Role","Url","Category","Status","Ticket_Subject","Priority"],gscalendar.weekOrder=["MO","TU","WE","TH","FR","SA","SU"],gscalendar.weekVsDisplayName={MO:"monday",TU:"tuesday",WE:"wednesday",TH:"thursday",FR:"friday",SA:"saturday",SU:"sunday"},gscalendar.monthOrder=["january","february","march","april","may","june","july","august","september","october","november","december"],gscalendar.countVsWord={1:"first",2:"second",3:"third",4:"fourth",5:"fifth","-1":"last"},gscalendar.freqVsDisplayName={DAILY:["weekday","days"],WEEKLY:["week","weeks"],MONTHLY:["month","months"],YEARLY:["year","years"]},gscalendar.getCalloutHolder=function(){return"zgs20_gsCalendarCallout"},gscalendar.calloutParams=function(resObj){var serviceId=resObj.sId,requestUrl="searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&sId="+serviceId+"&eventId="+(resObj.eId||resObj[zgssearch.entity_id]);switch(serviceId){case"4":requestUrl+="&calendarId="+resObj.cId,resObj.hasOwnProperty("recId")&&(requestUrl+="&recurrenceId="+resObj.recId);break;case"8":case"9":case"31":requestUrl+="&account_id="+resObj.zsoid}return requestUrl},gscalendar.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,ccallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(gscalendar.composeMailTitle=zgssearch.getI18NMsg("gs.search.sevice_mail_sendMail"),gscalendar.continueChat=zgssearch.getI18NMsg("gs.search.result.chat.callout.continueChat"),gscalendar.audioCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.audiochat"),gscalendar.videoCall=zgssearch.getI18NMsg("gs.search.result.chat.callout.videochat"),prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),ccallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),ccallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CALENDAR,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getI18NMsg("gs.search.callout.open_tab"),service:GSConstant.CALENDAR})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CALENDAR})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<span>",{id:"zgs20_gsCalendarEdit",class:"zgs18_gsEditIcon zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"calendarActions",actionType:"editEvent",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.editEvent")})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CALENDAR})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:ccallout,gs:"minpreview",service:GSConstant.CALENDAR}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutIconInfo zgs19_gsCalendarCalloutIconHeight zgs19_gsHgt140Px",gs:"iconHeight"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutIconHolderNew zgs19_gsCalendarCalloutIconHolderNew zgs19_gsfl",gs:"calloutIconHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsEventDurationCalcInfo",gs:"eventStatus"}).append(_jQueryGS("<span>",{class:"zgs19_gsEventDurMsgTxt zgs19_gsOverflow"}).append(_jQueryGS("<span>",{class:"zgs19_gsDurationInfo",gs:"calculateDuration"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalendarCalloutMetaInfo zgs19_gsfl",gs:"calendarMetaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf20Px"}).append(_jQueryGS("<span>",{id:"zgs20_gsStartDateTxt",class:"zgs19_gsEventDateTxt",gs:"eventStartDate"})).append(_jQueryGS("<span>",{id:"zgs20_gsStartTimeTxt",class:"zgs19_gsEventTimeTxt",gs:"eventStartTime"})).append(_jQueryGS("<span>",{class:"zgs19_gsHyphenTxt",gs:"hyphenTxt"}).text("-")).append(_jQueryGS("<span>",{id:"zgs20_endDateTxt",class:"zgs19_gsEventDateTxt",gs:"eventEndDate"})).append(_jQueryGS("<span>",{id:"zgs20_endTimeTxt",class:"zgs19_gsEventTimeTxt",gs:"eventEndTime"}))).append(_jQueryGS("<div>",{id:"zgs20_gsRecurringEventDetails",class:"zgs19_gsRecurringEvents zgs19_gsContactsMetaChild zgs19_gsMgLf20Px zgs19_gsDisplayNone",gs:"recurringEventParent"}).append(_jQueryGS("<span>",{class:"zgs18_gsRecurrenceIcon zgs19_gsfl",gstitle:zgssearch.getI18NMsg("gs.search.calendar.results.recurringevent")})).append(_jQueryGS("<span>",{id:"zgs20_gsRecurringEvery",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringEvery"}).text(zgssearch.getI18NMsg("gs.search.calendar.callout.every"))).append(_jQueryGS("<span>",{id:"zgs20_gsRecurringInterval",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringInterval"})).append(_jQueryGS("<span>",{id:"zgs20_gsRecurringFreq",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringFreq"})).append(_jQueryGS("<span>",{id:"zgs20_gsRecurringOn",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringOn"})).append(_jQueryGS("<span>",{id:"zgs20_gsRecurringEnds",class:"zgs19_gsRecurringEventTxt zgs19_gsOverflow zgs19_gsfl",gs:"recurringEnds"}))).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf20Px zgs19_gsfl"}).append(_jQueryGS("<span>",{id:"zgs20_gsEventHostByTxt",class:"zgs19_eventHostByTxt zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_books.by"))).append(_jQueryGS("<span>",{id:"zgs20_gsHostTxt",class:"zgs19_gsEventHostTxt zgs19_gsOverflow zgs19_gsfl",gs:"eventHostInfo"})).append(_jQueryGS("<span>",{class:"zgs19_gsInTxt zgs19_gsfl"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0))).append(_jQueryGS("<span>",{id:"zgs20_gsEventServiceTxt",class:"zgs19_gsEventServiceTxt  zgs19_gsOverflow zgs19_gsfl",gs:"eventService"}))).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsMgLf10Px",gs:"contactsActionInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"sendMail",gstitle:gscalendar.composeMailTitle})).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmschat",gstitle:gscalendar.continueChat})).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsaudio",gstitle:gscalendar.audioCall})).append(_jQueryGS("<div>",{class:"zgs19_gscalcwmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfl",gs:"gswmsvideo",gstitle:gscalendar.videoCall}))))).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder",gs:"contPartHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutCRMLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsMgTop20pxLeft30px zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutCalendarRightPanel",class:"zgs19_gsCalloutCRMRightPanel zgs19_gsCalloutPopUp zgs19_gsfl",gs:"eventDetails"})))),_jQueryGS(curCalloutObj.parentElem).append(ccallout),zgssearch.attachDoubleClickPopUpEvent()),zgssearch.getTargetElem(calloutId).setAttribute("ccount",count)},gscalendar.setCalendarCalloutEleSize=function(menuEl){var CalloutWidth=_jQueryGS(menuEl.header).height(),imgWidth=_jQueryGS(menuEl.iconHeight).height(),CalloutWidth=_jQueryGS(menuEl).height()-(CalloutWidth+imgWidth);CalloutWidth-=_jQueryGS(menuEl.contPartHolder).outerHeight(!0)-_jQueryGS(menuEl.contPartHolder).height(),zgssearch.isMobViewport()&&(CalloutWidth-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.contPartHolder).css("height",CalloutWidth+"px");imgWidth=_jQueryGS(menuEl.calloutIconHolder).outerWidth()+30,CalloutWidth=_jQueryGS("#zgs20_gsSearchResultRight").width();_jQueryGS(menuEl.contactsMetaInfo).css("width",CalloutWidth-imgWidth)},gscalendar.calloutResponse=function(freq,editIconElem,zuid,curCalloutObj){curCalloutObj=curCalloutObj.searchObj;curCalloutObj.type!==zgssearch.dbCrdCalloutType&&curCalloutObj.type!==zgssearch.crdPagecalloutType||(isValidEmailId=curCalloutObj.cardId,zgssearch.cardObjForCurrentSelectedElem[isValidEmailId]||(zgssearch.cardObjForCurrentSelectedElem[isValidEmailId]={}),zgssearch.cardObjForCurrentSelectedElem[isValidEmailId].calloutRespObj=freq);var menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);if(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(zuid),_jQueryGS(menuEl.lineicon).css("display","none"),_jQueryGS(menuEl.actionlist).css("display","none"),_jQueryGS(menuEl.attendeeStatus).remove(),_jQueryGS(menuEl.calculateDuration).empty(),freq){var isValidEmailId=_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CALENDAR,editIconElem,"",freq)),_jQueryGS(menuEl.actionlist).css("display","block");zuid=freq.Title||zgssearch.getI18NMsg("gs.search.service_connect.callout.noTitle");_jQueryGS(menuEl.ctitle).attr("gslabel",zgssearch.getI18NMsg("common.eventtitle")),_jQueryGS(menuEl.ctitle).empty().text(zuid).attr("gstitle",zuid);editIconElem="zgs20_gsCalendarCalloutUserImg"+isValidEmailId;_jQueryGS(menuEl.calloutIconHolder).html("").append(_jQueryGS("<img>",{id:editIconElem,class:"zgs19_gsFetchImgLoader zgs19_gsCalendarFetchImgLoader",src:zgssearch.gsspacer}));zuid=freq.zuid||"";""!==(zgssearch.eventHostZUID=zuid)&&"-1"!==zuid?(status=zgssearch.getThumbPhotoURL(zuid),freqName=_jQueryGS("#"+editIconElem),zgssearch.network.imageRenderer.renderImage(status,{img_elem:freqName,class_name:"zgs19_gsCalendarCalloutImgNew",errorClass:"zgs19_gsCalendarCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsCalendarCalloutNoPhotoNew"},null)):_jQueryGS("#"+editIconElem).removeClass("zgs19_gsFetchImgLoader zgs19_gsCalendarFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsCalendarCalloutImgNew zgs19_gsResultsUniIcons zgs19_gsCalendarCalloutNoPhotoNew"),clearInterval(zgssearch.calendarInterval),gscalendar.startTimeMillis=freq.STM||"",gscalendar.endTimeMillis=freq.ETM||"",gscalendar.currentTimeMillis=freq.CTM||"",gscalendar.todayInMills=freq.TTM||"",gscalendar.colorElem=_jQueryGS(menuEl.eventStatus),gscalendar.statusElem=_jQueryGS(menuEl.calculateDuration),gscalendar.eventStatusCheck();var isValidEmailId=freq.SDT||"",status=freq.EDT||"",freqName=freq.timezone||"",editIconElem=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),isValidEmailId=gscalendar.getEventDateValues(isValidEmailId,status);zgssearch.getTargetElem("zgs20_gsStartDateTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.service_books.startdate"));status=_jQueryGS(menuEl.eventStartDate);status.attr("gstitle",isValidEmailId[0]+" "+editIconElem+" "+freqName),status.text(isValidEmailId[0]);status=_jQueryGS(menuEl.eventStartTime);""!=isValidEmailId[1]&&(zgssearch.getTargetElem("zgs20_gsStartTimeTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.callout.startTime")),status.attr("gstitle",isValidEmailId[1]+" "+editIconElem+" "+freqName)),status.text(isValidEmailId[1]);status=_jQueryGS(menuEl.eventEndDate);""!=isValidEmailId[2]&&(zgssearch.getTargetElem("zgs20_endDateTxt").setAttribute("gslabel",zgssearch.getI18NMsg("common.enddate")),status.attr("gstitle",isValidEmailId[2]+" "+editIconElem+" "+freqName)),status.text(isValidEmailId[2]);status=_jQueryGS(menuEl.eventEndTime);""!=isValidEmailId[3]&&(zgssearch.getTargetElem("zgs20_endTimeTxt").setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.callout.endTime")),status.attr("gstitle",isValidEmailId[3]+" "+editIconElem+" "+freqName)),status.text(isValidEmailId[3]),freq.allDay&&""==isValidEmailId[2]?_jQueryGS(".zgs19_gsHyphenTxt").text(""):_jQueryGS(".zgs19_gsHyphenTxt").text("-");editIconElem=freq.Host||freq.Host_Email||"",freqName=_jQueryGS(menuEl.eventHostInfo);freqName.attr("gslabel",zgssearch.getI18NMsg("gs.search.calendar.results.host")),freqName.attr("gstitle",editIconElem),freqName.text(editIconElem);status=menuEl.eventService,isValidEmailId=zgssearch.getCalendarServiceName(freq.sId);status.setAttribute("gslabel",zgssearch.getI18NMsg("gs.search.calendar.callout.eventFrom")),status.setAttribute("gstitle",isValidEmailId),status.innerHTML=isValidEmailId,_jQueryGS(menuEl).find(".zgs19_gscalcwmschat").attr("chatid",zuid);freqName=freq.Host_Email||"",editIconElem="",status=zgssearch.getUserStatus(zuid,"big").status;gscalendar.curloggeduser=GSConstant.cuz;isValidEmailId="null"!==freqName&&""!==freqName&&null!=freqName&&"-"!==freqName&&"none"!==freqName;_jQueryGS(menuEl.sendMail).css("display","none"),_jQueryGS(menuEl.gswmschat).css("display","none"),_jQueryGS(menuEl.gswmsaudio).css("display","none"),_jQueryGS(menuEl.gswmsvideo).css("display","none"),isValidEmailId&&!zgssearch.isPreviewOpenedInComponent&&(_jQueryGS(menuEl.sendMail).css("display","block"),_jQueryGS(menuEl.sendMail).attr("email",freqName),zuid&&"-1"!=zuid&&zuid!=gscalendar.curloggeduser&&(status=parseInt(status),(freq.issameorg||""||0<=status)&&(editIconElem=zuid,_jQueryGS(menuEl.gswmschat).css("display","block"),zgssearch.hasAudioSupport()&&_jQueryGS(menuEl.gswmsaudio).css("display","block"),zgssearch.hasVideoSupport()&&_jQueryGS(menuEl.gswmsvideo).css("display","block")))),gscalendar.addCalloutActionList(menuEl,freqName,editIconElem,zuid);freqName=curCalloutObj.iconDisplay,editIconElem=_jQueryGS(menuEl).find("#zgs20_gsCalendarEdit");editIconElem.css("display","none"),!!freq.hasOwnProperty("hasEditPermission")&&freq.hasEditPermission?editIconElem.css("display","block"):freqName||_jQueryGS(menuEl.actionPipe).css("display","none"),freq.hasOwnProperty("userStatus")&&!zgssearch.isPreviewOpenedInComponent?gscalendar.renderUserStatus(menuEl,zuid,freq.userStatus.status):_jQueryGS(menuEl.iconHeight).removeClass("zgs19_gsHgt140Px"),freqName&&(_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.maxpreview).css("display","block"));freqName=zgssearch.isPreviewCard(curCalloutObj);if((zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||freqName)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),gscalendar.generateCallOut(menuEl,freq),0<_jQueryGS(menuEl).find(".zgs19_gsCalloutDocsLabel").length?_jQueryGS(menuEl.lineicon).css("display","block"):_jQueryGS(menuEl.lineicon).css("display","none"),freq.hasOwnProperty("rrule")){_jQueryGS(menuEl.recurringEventParent).removeClass("zgs19_gsDisplayNone"),freq.hasOwnProperty("userStatus")?_jQueryGS(menuEl.iconHeight).removeClass("zgs19_gsHgt140Px").addClass("zgs19_gsHgt170Px"):_jQueryGS(menuEl.iconHeight).removeClass("zgs19_gsHgt170Px").addClass("zgs19_gsHgt140Px");var beforeText,valueText,freqName=freq.rrule,ruleObj=gscalendar.getRuleObject(freqName),freq=ruleObj.FREQ||"",interval=ruleObj.INTERVAL||"",freqName="",freqName=1<interval?(_jQueryGS(menuEl.recurringInterval).text(interval).removeClass("zgs19_gsDisplayNone"),gscalendar.freqVsDisplayName[freq][1]):(_jQueryGS(menuEl.recurringInterval).addClass("zgs19_gsDisplayNone"),gscalendar.freqVsDisplayName[freq][0]);switch(_jQueryGS(menuEl.recurringFreq).text(zgssearch.getI18NMsg("common.date."+freqName)),freq){case"DAILY":1!=interval||ruleObj.hasOwnProperty("BYDAY")||_jQueryGS(menuEl.recurringFreq).text("1 "+zgssearch.getI18NMsg("common.date.day")),_jQueryGS(menuEl.recurringOn).addClass("zgs19_gsDisplayNone");break;case"WEEKLY":gscalendar.renderByDayRecurringEvent(menuEl,ruleObj);break;case"MONTHLY":gscalendar.renderMonthlyRecurringEvent(menuEl,ruleObj);break;case"YEARLY":gscalendar.renderYearlyRecurringEvent(menuEl,ruleObj)}ruleObj.hasOwnProperty("COUNT")?(beforeText=" "+zgssearch.getI18NMsg("gs.search.calendar.callout.for")+" ",valueText=ruleObj.COUNT+" "+zgssearch.getI18NMsg("gs.search.calendar.callout.times"),gscalendar.updateRecurringEventDetails(menuEl.recurringEnds,beforeText,valueText)):ruleObj.hasOwnProperty("UNTIL")?(beforeText=" "+zgssearch.getI18NMsg("gs.search.calendar.callout.until")+" ",valueText=gscalendar.getUntilDateString(ruleObj.UNTIL),gscalendar.updateRecurringEventDetails(menuEl.recurringEnds,beforeText,valueText)):_jQueryGS(menuEl.recurringEnds).addClass("zgs19_gsDisplayNone")}else _jQueryGS(menuEl.recurringEventParent).addClass("zgs19_gsDisplayNone"),_jQueryGS(menuEl.iconHeight).removeClass("zgs19_gsHgt170Px");gscalendar.setCalendarCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()}else gscalendar.calloutErrorMsg("",curCalloutObj)},gscalendar.renderUserStatus=function(menuEl,zuid,status){_jQueryGS(menuEl.iconHeight).addClass("zgs19_gsHgt140Px");var yesStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusAccepted zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"yes",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.yes"),text:zgssearch.getI18NMsg("gs.search.calendar.callout.yes")}),noStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusRejected zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"no",gstitle:zgssearch.getI18NMsg("common.no"),text:zgssearch.getI18NMsg("common.no")}),maybeStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatus zgs19_gsOverflow zgs19_gsAttendeeStatusMaybe zgs19_gsCurPointer",gs:"calendarActions",actionType:"updateStatus",datatype:"maybe",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.maybe"),text:zgssearch.getI18NMsg("gs.search.calendar.callout.maybe")}),attendeeStatusDiv=_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsCalcMetaChild zgs19_gsMgLf20Px zgs19_gsfl",gs:"attendeeStatus"}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeeStatusMsg zgs19_gsOverflow",gstitle:zgssearch.getI18NMsg("gs.search.calendar.callout.attendeeStatusMsg")}).text(zgssearch.getI18NMsg("gs.search.calendar.callout.attendeeStatusMsg"))).append(yesStatusDiv).append(noStatusDiv).append(maybeStatusDiv);switch(_jQueryGS(menuEl.calendarMetaInfo).append(attendeeStatusDiv),gscalendar.currentTimeMillis>=gscalendar.startTimeMillis&&_jQueryGS(attendeeStatusDiv).addClass("zgs19_gsHideEleme"),status){case 0:yesStatusDiv.removeAttr("gs"),yesStatusDiv.addClass("zgs19_gsSatusUpdateAccepted");break;case 1:noStatusDiv.removeAttr("gs"),noStatusDiv.addClass("zgs19_gsSatusUpdateRejected");break;case 2:maybeStatusDiv.removeAttr("gs"),maybeStatusDiv.addClass("zgs19_gsSatusUpdateMaybe")}},gscalendar.eventStatusCheck=function(){var duration=gscalendar.startTimeMillis-gscalendar.currentTimeMillis,removeClasses="",addClass="";gscalendar.todayInMills<=gscalendar.startTimeMillis&&gscalendar.startTimeMillis<gscalendar.todayInMills+zgssearch.DAY_IN_MILLIS&&gscalendar.calcDurationTime(duration),gscalendar.endTimeMillis-zgssearch.SECOND_IN_MILLIS<=gscalendar.currentTimeMillis?(removeClasses="zgs19_gsUpcomingBgColor zgs19_gsTodayBgColor zgs19_gsTomorrowBgColor",addClass="zgs19_gsCompletedBgColor",gscalendar.statusElem.empty().addClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.calendar.callout.completed")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.calendar.callout.completed"))):gscalendar.startTimeMillis<=gscalendar.currentTimeMillis&&gscalendar.currentTimeMillis<gscalendar.endTimeMillis?(removeClasses="zgs19_gsUpcomingBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor",addClass="zgs19_gsTodayBgColor",gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.calendar.callout.started")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.calendar.callout.started"))):gscalendar.todayInMills+zgssearch.DAY_IN_MILLIS<=gscalendar.startTimeMillis&&gscalendar.startTimeMillis<gscalendar.todayInMills+2*zgssearch.DAY_IN_MILLIS?(removeClasses="zgs19_gsUpcomingBgColor zgs19_gsTodayBgColor zgs19_gsCompletedBgColor",addClass="zgs19_gsTomorrowBgColor",gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.filter.tomorrow")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.filter.tomorrow"))):gscalendar.todayInMills+2*zgssearch.DAY_IN_MILLIS<=gscalendar.startTimeMillis&&(removeClasses="zgs19_gsTodayBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor",addClass="zgs19_gsUpcomingBgColor",gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(zgssearch.getI18NMsg("gs.search.calendar.callout.upcoming")),gscalendar.statusElem.attr("gstitle",zgssearch.getI18NMsg("gs.search.calendar.callout.upcoming"))),gscalendar.colorElem.removeClass(removeClasses).addClass(addClass)},gscalendar.calcDurationTime=function(duration){gscalendar.displayTimeTxt(duration),zgssearch.calendarInterval=setInterval(function(){gscalendar.currentTimeMillis<gscalendar.endTimeMillis&&(clearInterval(zgssearch.calendarInterval),gscalendar.eventStatusCheck()),gscalendar.currentTimeMillis+=zgssearch.SECOND_IN_MILLIS},zgssearch.SECOND_IN_MILLIS)},gscalendar.displayTimeTxt=function(duration){var displayTxt="",secs=(duration%=zgssearch.DAY_IN_MILLIS)%zgssearch.HOURS_IN_MILLIS,mins=(duration-secs)/zgssearch.HOURS_IN_MILLIS;0<mins&&(displayTxt+=String(mins).padStart(2,"0")+":");mins=((duration=secs)-(secs=duration%zgssearch.MINUTE_IN_MILLIS))/zgssearch.MINUTE_IN_MILLIS;0<=mins&&(displayTxt+=String(mins).padStart(2,"0")+":");secs=((duration=secs)-(secs=duration%zgssearch.SECOND_IN_MILLIS))/zgssearch.SECOND_IN_MILLIS;0<=secs&&(displayTxt+=String(secs).padStart(2,"0")),gscalendar.colorElem.removeClass("zgs19_gsUpcomingBgColor zgs19_gsTomorrowBgColor zgs19_gsCompletedBgColor").addClass("zgs19_gsTodayBgColor"),gscalendar.statusElem.empty().removeClass("zgs19_gs606060Col").text(displayTxt)},gscalendar.generateCallOut=function(menuEl,response){_jQueryGS(menuEl.eventDetails).empty();var cardId,dispKey,calendarDetails=_jQueryGS(menuEl.eventDetails);for(dispKey in response.hasOwnProperty("Attendees")&&(gscalendar.previousAttendeesId="",gscalendar.isFisrtTime=!1,gscalendar.isPopUpAlreadyGenerated={},_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").remove(),_jQueryGS(".zgs19_gsAttendeeMenuPopUp").remove(),zgssearch.isDashboardViewOpened()||zgssearch.isCardViewOpened()?(cardId=(zgssearch.isDashboardViewOpened()?_jQueryGS(menuEl).closest(".zgs19_gsCard"):_jQueryGS(menuEl).closest("#zgs20_gsCrdPrevBdy")).attr("cardId"),gscalendar.attendeesListObj[cardId]=response.Attendees):gscalendar.attendeesListObj=response.Attendees,gscalendar.statusMsg=[zgssearch.getI18NMsg("gs.search.calendar.callout.yes"),zgssearch.getI18NMsg("common.no"),zgssearch.getI18NMsg("gs.search.calendar.callout.maybe"),zgssearch.getI18NMsg("gs.search.calendar.callout.notResponding")],gscalendar.statusCode=["zgs18_gsInvitationAccepted","zgs18_gsInvitationCancelled","zgs18_gsInvitationMaybe","zgs18_gsInvitationNotResponsed"],calendarDetails=calendarDetails.append(gscalendar.addAttendeesList(cardId))),response.hasOwnProperty("Location")&&(calendarDetails=calendarDetails.append(gscalendar.renderCalendarModuleDetails("Location",response.Location))),response){var internalData=response[dispKey];""!==internalData&&"Host_Email"==dispKey||"Last_Modified_By"==dispKey||"Contact_Email"==dispKey?(dispKey=dispKey.replace(/_/g," "),zgssearch.renderContactsEmailId(menuEl,calendarDetails,dispKey,internalData)):""!==internalData&&zgssearch.includes(dispKey,gscalendar.supportedDispField)&&(internalData=gscalendar.renderCalendarModuleDetails(dispKey,internalData),calendarDetails=calendarDetails.append(internalData))}},gscalendar.renderCalendarModuleDetails=function(title,value){return title=title.replace(/_/g," "),_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(title)).append(_jQueryGS("<div>",{class:"zgs19_gsWidth100"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gs_CRMw90 zgs19_gsfl",istip:!0}).text(value)))},gscalendar.addAttendeesList=function(countDiv){var attendeeListObj=countDiv?gscalendar.attendeesListObj[countDiv]:gscalendar.attendeesListObj,countDiv=attendeeListObj.length,attendeeDiv=_jQueryGS("<div>",{class:"zgs19_gsWidth100"});if(zgssearch.isPreviewOpenedInComponent)attendeeDiv=_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gs_CRMw90 zgs19_gsfl"}).text(countDiv);else{for(var attendeeObj,n=5<countDiv?5:countDiv,i=0;i<n;i++)attendeeObj=attendeeListObj[i],attendeeDiv=attendeeDiv.append(gscalendar.renderAttendeesImg(i,attendeeObj,!1));5<countDiv&&(countDiv="+"+(countDiv-=5),countDiv=_jQueryGS("<div>",{id:"zgs20_gsAttendeesList",class:"zgs19_gsAttendeesCount zgs19_attendeesBG zgs19_gsfl",gs:"attendeesListPopup"}).text(countDiv),attendeeDiv=attendeeDiv.append(countDiv))}return _jQueryGS("<div>",{class:"zgs19_gsCalloutDocsUserInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).text(zgssearch.getI18NMsg("gs.search.calendar.callout.attendees"))).append(attendeeDiv)},gscalendar.renderAttendeesImg=function(i,attendeeObj,isPopUp){var iconHolder=_jQueryGS("<img>",{id:i,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader",src:zgssearch.gsspacer});attendeeObj.hasOwnProperty("grpName")&&(iconHolder=_jQueryGS("<span>",{id:i,class:"zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader"}));var imgDiv=_jQueryGS("<div>").append(iconHolder);_jQueryGS(imgDiv).attr("gslabel",zgssearch.getI18NMsg("common.status"));var status,photoURL,labelName="",labelValue="";return attendeeObj.hasOwnProperty("grpName")?(labelName=zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),labelValue=attendeeObj.grpName,_jQueryGS(imgDiv).attr("class","zgs19_gsGroupOfAttendees zgs19_gsfl"),iconHolder.removeClass("zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader").addClass("zgs19_gsAttendeesImg zgs18_gsGroupOfAttendeesIcon")):(photoURL=attendeeObj.zuid||"",status=attendeeObj.status,_jQueryGS(imgDiv).attr("class",gscalendar.statusCode[status]+" zgs19_gsfl"),_jQueryGS(imgDiv).attr("gstitle",gscalendar.statusMsg[status]),""!==photoURL&&"-1"!==photoURL?(labelName=zgssearch.getI18NMsg("gs.search.service_people.name"),labelValue=attendeeObj.name,photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderPhoto("",photoURL,"zgs19_gsAttendeesImg","zgs19_gsAttendeesNoUserImg zgs19_gsAttendeesImg zgs19_gsResultsUniIcons",iconHolder)):(labelName=zgssearch.getI18NMsg("gs.search.calendar.callout.mailId"),labelValue=attendeeObj.email,iconHolder.removeClass("zgs19_gsFetchImgLoader zgs19_gsAttendeesFetchImgLoader").addClass("zgs19_gsAttendeesNoUserImg zgs19_gsAttendeesImg zgs19_gsResultsUniIcons"))),i<5&&!isPopUp&&(_jQueryGS(imgDiv).addClass("zgs19_gsAttendeePopup"),_jQueryGS(iconHolder).attr("gs","attendeeMenuPopUp"),_jQueryGS(iconHolder).attr("gslabel",labelName),_jQueryGS(iconHolder).attr("gstitle",labelValue)),imgDiv},gscalendar.attendeeMenuActionsPopUp=function(target){var id=new zgssearch.dashboardSearchActions;gscalendar.currSearchType=id.createActionType(target),gscalendar.currSearchType.currCard?gscalendar.attendeeMenuActionsForCard(target):(id=target.getAttribute("id"),zgssearch.isAttendeeMenuPopUp&&gscalendar.previousAttendeesId==id?(_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id).css("display","none"),zgssearch.isAttendeeMenuPopUp=!1,gscalendar.previousAttendeesId=""):(_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+gscalendar.previousAttendeesId).css("display","none"),gscalendar.isPopUpAlreadyGenerated[id]||gscalendar.renderAttendeeMenu(target,id),_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id).css("display","block"),gscalendar.previousAttendeesId=id,zgssearch.isAttendeeMenuPopUp=!0))},gscalendar.attendeeMenuActionsForCard=function(target){var id=target.getAttribute("id");gscalendar.previousAttendeesId!=id||gscalendar.previousAttendeeActionCard!=gscalendar.currSearchType.getCurrentCardId()?(_jQueryGS(".zgs19_gsAttendeeMenuPopUp").css("display","none"),!_jQueryGS.isEmptyObject(gscalendar.isPopUpAlreadyGenerated)&&gscalendar.isPopUpAlreadyGenerated[gscalendar.currSearchType.getCurrentCardId()]&&gscalendar.isPopUpAlreadyGenerated[gscalendar.currSearchType.getCurrentCardId()][id]?(_jQueryGS(gscalendar.currSearchType.currCard).find("#zgs20_gsAttendeeMenuPopUp"+id).css("display","block"),gscalendar.setAttendeeMenuPos(target,id)):gscalendar.renderAttendeeMenu(target,id),gscalendar.previousAttendeesId=id,gscalendar.previousAttendeeActionCard=gscalendar.currSearchType.getCurrentCardId(),zgssearch.isAttendeeMenuPopUp=!0):(_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id).css("display","none"),gscalendar.previousAttendeesId="",zgssearch.isAttendeeMenuPopUp=!1)},gscalendar.renderAttendeeMenu=function(target,id){var cardId,menu=_jQueryGS("<div>",{id:"zgs20_gsAttendeeMenuPopUp"+id,class:"zgs19_gsAttendeeMenuPopUp zgs19_gsDisplayNone"});gscalendar.currSearchType.currCard?(cardId=gscalendar.currSearchType.getCurrentCardId(),parent=gscalendar.attendeesListObj[cardId][id],_jQueryGS(gscalendar.currSearchType.currCard).find("#zgs20_gsAttendeeMenuPopUp"+id),gscalendar.isPopUpAlreadyGenerated[cardId]||(gscalendar.isPopUpAlreadyGenerated[cardId]={}),gscalendar.isPopUpAlreadyGenerated[cardId][id]=!0):(parent=gscalendar.attendeesListObj[id],_jQueryGS("#zgs20_gsAttendeeMenuPopUp"+id)),gscalendar.addMoreAttendeeDetails(menu,id,parent);var parent=gscalendar.currSearchType.getCalloutParent();_jQueryGS(parent).append(menu),gscalendar.setAttendeeMenuPos(target,id),gscalendar.isPopUpAlreadyGenerated[id]=!0},gscalendar.setAttendeeMenuPos=function(topPos,menuEle){var parentClientRect=gscalendar.currSearchType.getCalloutParent(),posVal=zgssearch.gscomponent.isRTLEnabled?"right":"left",topPos=_jQueryGS(topPos).get(0).getBoundingClientRect(),parentClientRect=_jQueryGS(parentClientRect).get(0).getBoundingClientRect(),posVal=zgssearch.gscomponent.isRTLEnabled?parentClientRect[posVal]-topPos[posVal]:topPos[posVal]-parentClientRect[posVal],topPos=topPos.top-parentClientRect.top+topPos.height+10,menuEle=gscalendar.currSearchType.getTargetElem("#zgs20_gsAttendeeMenuPopUp"+menuEle);_jQueryGS(menuEle).css({"inset-inline-start":Math.floor(posVal-20),"inset-block-start":topPos})},gscalendar.attendeesListMenuActionsPopUp=function(target){var parEle=new zgssearch.dashboardSearchActions;gscalendar.currSearchType=parEle.createActionType(target),!zgssearch.isAttendeesListOpened||zgssearch.isDashboardViewOpened()?(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),parEle=gscalendar.currSearchType.getTargetElem("#zgs20_gsAttendeesListMenuPopUp"),(gscalendar.isFisrtTime||!zgssearch.isDashboardViewOpened())&&parEle&&"none"===_jQueryGS(parEle).css("display")||gscalendar.renderAttendeesList(target),gscalendar.setAttendeesListPos(target),_jQueryGS(parEle).css("display","block"),zgssearch.isAttendeesListOpened=!0):(_jQueryGS(".zgs19_gsAttendeesListMenuPopUp").css("display","none"),zgssearch.isAttendeesListOpened=!1,gscalendar.previousAttendeesId="")},gscalendar.renderAttendeesList=function(calloutPar){var menu=new zgssearch.dashboardSearchActions;gscalendar.currSearchType=menu.createActionType(calloutPar);for(var attendeeList=gscalendar.currSearchType.currCard?gscalendar.attendeesListObj[gscalendar.currSearchType.getCurrentCardId()]:gscalendar.attendeesListObj,menu=_jQueryGS("<div>",{id:"zgs20_gsAttendeesListMenuPopUp",class:"zgs19_gsAttendeesListMenuPopUp zgs19_gsDisplayNone"}),listDiv=_jQueryGS("<div>",{class:"zgs19_gssAttendeesList"}),alistLen=attendeeList.length,i=5;i<alistLen;i++)gscalendar.addMoreAttendeeDetails(listDiv,i,attendeeList[i]);menu.append(listDiv);calloutPar=gscalendar.currSearchType.getCalloutParent();_jQueryGS(calloutPar).append(menu),zgssearch.jqueryMouseEvent(),_jQueryGS(gscalendar.currSearchType.getTargetElem(".zgs19_gsAttendeeActionsHover")).addClass("zgs19_gsVisbHdn"),gscalendar.isFisrtTime=!0},gscalendar.setAttendeesListPos=function(target){_jQueryGS(target).closest(".zgs19_gsAttendeesCount").width();var srrPos=gscalendar.currSearchType.getCalloutParent(),posVal=338-_jQueryGS(gscalendar.currSearchType.getTargetElem("#zgs20_gsAttendeesListMenuPopUp")).outerWidth()/2-9,topPos=_jQueryGS(target).height(),srrPos=_jQueryGS(srrPos).get(0).getBoundingClientRect(),topPos=_jQueryGS(target).get(0).getBoundingClientRect().top-srrPos.top+topPos+10;_jQueryGS(gscalendar.currSearchType.getTargetElem(".zgs19_gsAttendeesListMenuPopUp")).css({"inset-inline-start":Math.floor(posVal),"inset-block-start":topPos})},gscalendar.addMoreAttendeeDetails=function(menu,i,attendeeObj){var finalDispName=attendeeObj.name||attendeeObj.email||attendeeObj.grpName,parentClsName="zgs19_gsAteendeeInfo",groupDivName="",nameDiv="zgs19_gsAttendeeDetails",LabelName=zgssearch.getI18NMsg("gs.search.service_people.name"),attendeesDiv="zgs19_gsAttendeeActionsHover";(i=parseInt(i))<5&&(nameDiv="zgs19_gsAttendeesInfoOuter",attendeesDiv=parentClsName=""),attendeeObj.grpName&&(LabelName=zgssearch.getI18NMsg("gs.search.calendar.callout.groupName"),groupDivName=" zgs19_gsGroupName");attendeesDiv=_jQueryGS("<div>",{id:i,class:"zgs19_gsSenderAbout zgs19_gsfl "+parentClsName}).append(_jQueryGS("<div>",{class:"zgs19_gsSenderInnerAbout"}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesPhoto"}).append(gscalendar.renderAttendeesImg(i,attendeeObj,!0))).append(_jQueryGS("<div>",{class:nameDiv+groupDivName}).append(_jQueryGS("<div>",{class:"zgs19_gsAttendeesName zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gs:"cmusername",gslabel:LabelName,gstitle:finalDispName}).text(finalDispName))).append(_jQueryGS("<div>",{class:"zgs19_gsContactsMetaChild zgs19_gsAttendeeActions zgs19_gsfl "+attendeesDiv,gs:"attendeesActionInfo"}))));gscalendar.enableAttendeesWmsService(attendeesDiv,attendeeObj),menu.append(attendeesDiv)},gscalendar.enableAttendeesWmsService=function(status,attendeeObj){var zuid=attendeeObj.zuid||"",attendeeMail=attendeeObj.email,actionDiv=_jQueryGS(status).find(".zgs19_gsAttendeeActions"),status=zgssearch.getUserStatus(zuid,"big").status;"null"!==attendeeMail&&""!==attendeeMail&&null!=attendeeMail&&"-"!==attendeeMail&&"none"!==attendeeMail&&(actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsComposeMail zgs19_gsCurPointer zgs19_gsfl",gs:"sendMail",email:attendeeMail,gstitle:gscalendar.composeMailTitle})),zuid!=gscalendar.curloggeduser&&zuid&&"-1"!=zuid&&(status=parseInt(status),(attendeeObj.issameorg||""||0<=status)&&(actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfl",gs:"gswmschat",chatid:zuid,gstitle:gscalendar.continueChat})),zgssearch.hasAudioSupport()&&actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsAudioChat zgs19_gsCurPointer zgs19_gsfl",gs:"attendeegswmsaudio",zuid:zuid,gstitle:gscalendar.audioCall})),zgssearch.hasVideoSupport()&&actionDiv.append(_jQueryGS("<span>",{class:"zgs19_gsAttendeewmschat zgs18_gsVideoChat zgs19_gsCurPointer zgs19_gsfl",gs:"attendeegswmsvideo",zuid:zuid,gstitle:gscalendar.videoCall})))))},gscalendar.addCalloutActionList=function(menuEl,composeMail,peruser,zuid){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscalendar.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)zgssearch.savePreviewNeeded(key)&&("sendMail"==key&&!composeMail||"sendMail"==key&&zuid==GSConstant.cuz||"pcontinue"==key&&!peruser||!("audio"!=key&&"video"!=key||peruser&&zgssearch.hasAudioSupport()&&zgssearch.hasVideoSupport())||(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,email:composeMail,chatid:peruser,service:GSConstant.CALENDAR,gstitle:dectext}).text(dectext))))}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.CALENDAR)},gscalendar.openCalendarResult=function(resObj,calloutResp){calloutResp=calloutResp||{};var serviceId=resObj.sId||calloutResp.sId||"",eId=resObj.eId||calloutResp[zgssearch.entity_id],orgId=resObj.orgId||calloutResp[zgssearch.account_id],spn=resObj.spn||calloutResp.spn;switch(serviceId){case"4":return resObj.eventUrl||calloutResp.eventUrl||"";case"8":return GSConstant.GS_CRM_URL+"/"+GSConstant.CRM+"/"+(resObj.domain_name||calloutResp.domain_name)+"/EntityInfo.do?module=Events&id="+eId;case"9":return GSConstant.GS_SUPPORT_URL+"/"+GSConstant.SUPPORT+"/"+encodeURIComponent(spn)+"/ShowHomePage.do#Events/dv/"+eId;case"31":return GSConstant.GS_BIGIN_URL+"/"+GSConstant.BIGIN+"/Home#/events/"+eId+"?orgId="+orgId}},gscalendar.getEventDateValues=function(startDateAndTime,endDateAndTime){startDateAndTime=startDateAndTime.split("-"),endDateAndTime=endDateAndTime.split("-");return gscalendar.checkStartAndEndDatesAreSame(startDateAndTime[0],endDateAndTime[0])&&(endDateAndTime[0]=""),startDateAndTime[1]=null==startDateAndTime[1]?"":startDateAndTime[1],endDateAndTime[1]=null==endDateAndTime[1]?"":endDateAndTime[1],[startDateAndTime[0],startDateAndTime[1],endDateAndTime[0],endDateAndTime[1]]},gscalendar.checkStartAndEndDatesAreSame=function(startDate,endDate){return startDate===endDate},gscalendar.calloutErrorMsg=function(msg,curCalloutObj){(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.service_calednar.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscalendar.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsCalendarCallout"),zgssearch.setGSTagElems(menuEl),gscalendar.setCalendarCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscalendar.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),prevCrdObj={sId:resObj.sId,entity_id:resObj.eId};switch(prevCrdObj.sId){case"4":prevCrdObj.cId=resObj.cId,resObj.hasOwnProperty("recId")&&(prevCrdObj.recurrenceId=resObj.recId),prevCrdObj.eventUrl=encodeURI(resObj.eventUrl);break;case"8":prevCrdObj.domain_name=encodeURIComponent(resObj.domain_name),prevCrdObj.account_id=resObj.zsoid;break;case"9":prevCrdObj.spn=encodeURIComponent(resObj.spn),prevCrdObj.account_id=resObj.zsoid;break;case"31":prevCrdObj.account_id=resObj.zsoid}return prevCrdObj},gscalendar.getRuleObject=function(rrule){for(var ruleArr=rrule.split(";"),length=ruleArr.length,ruleObj={},i=0;i<length;i++){var keyVsValue=ruleArr[i].split("=");ruleObj[keyVsValue[0]]=keyVsValue[1]}return ruleObj},gscalendar.renderMonthlyRecurringEvent=function(menuEl,ruleObj){ruleObj.hasOwnProperty("BYMONTHDAY")?gscalendar.renderByMonthdayRecurringEvent(menuEl,ruleObj):ruleObj.hasOwnProperty("BYDAY")&&gscalendar.renderByDayRecurringEvent(menuEl,ruleObj)},gscalendar.renderYearlyRecurringEvent=function(menuEl,forElem){var valueElem;forElem.hasOwnProperty("BYMONTH")&&(valueElem=zgssearch.getI18NMsg("common.date."+gscalendar.monthOrder[forElem.BYMONTH-1]),forElem.hasOwnProperty("BYMONTHDAY")?(_jQueryGS(menuEl.recurringFreq).text(valueElem),gscalendar.renderByMonthdayRecurringEvent(menuEl,forElem)):forElem.hasOwnProperty("BYDAY")&&(gscalendar.renderByDayRecurringEvent(menuEl,forElem),forElem=_jQueryGS("<span>",{class:"zgs19_gsRecurringShortTxt"}).text(" "+zgssearch.getI18NMsg("gs.search.calendar.callout.of")+" "),valueElem=_jQueryGS("<span>",{gstitle:valueElem}).text(valueElem),_jQueryGS(menuEl.recurringOn).append(forElem).append(valueElem).removeClass("zgs19_gsDisplayNone")))},gscalendar.renderByMonthdayRecurringEvent=function(menuEl,beforeText){var valueText=beforeText.BYMONTHDAY;valueText&&(beforeText=zgssearch.getI18NMsg("gs.search.calendar.callout.on")+" ",valueText=zgssearch.getI18NMsg("common.date.day")+" "+valueText,gscalendar.updateRecurringEventDetails(menuEl.recurringOn,beforeText,valueText))},gscalendar.renderByDayRecurringEvent=function(menuEl,count){var beforeText=(count.BYDAY||"").split(","),dayStr=gscalendar.getMultiDayString(beforeText)||"",beforeText=count.BYSETPOS||"",count=beforeText?zgssearch.getI18NMsg("common.date."+gscalendar.countVsWord[beforeText])+" ":"";dayStr&&(beforeText=zgssearch.getI18NMsg("gs.search.calendar.callout.on")+" ",gscalendar.updateRecurringEventDetails(menuEl.recurringOn,beforeText,count+dayStr))},gscalendar.getMultiDayString=function(valueArr){var finalStr="",length=valueArr.length;valueArr.sort(function(a,b){return gscalendar.weekOrder.indexOf(a)-gscalendar.weekOrder.indexOf(b)});for(var finalStr=zgssearch.getI18NMsg("common.date."+gscalendar.weekVsDisplayName[valueArr[0]]),i=1;i<length;i++)finalStr+=", "+zgssearch.getI18NMsg("common.date."+gscalendar.weekVsDisplayName[valueArr[i]]);return finalStr},gscalendar.updateRecurringEventDetails=function(endElem,beforeText,valueText){var forElem=_jQueryGS("<span>",{class:"zgs19_gsRecurringShortTxt"}).text(beforeText),valueElem=document.createTextNode(valueText);_jQueryGS(endElem).empty().append(forElem).append(valueElem).attr("gstitle",beforeText+valueText).removeClass("zgs19_gsDisplayNone")},gscalendar.getUntilDateString=function(day){var year=day.slice(0,4),month=day.slice(4,6)-1,day=day.slice(6,8);return new Date(Date.UTC(year,month,day)).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour12:!0})||""},gscalendar)}(zgssearch,window),function(zgssearch,window){var gscliq,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscliq=(gscliq=void 0,(gscliq=zgssearch.gscliq||{}).catchedPreview=gscliq.catchedPreview||[],gscliq.actionList=[{open:"common.open"},{continue:"gs.search.result.chat.viewtranscript_dialog.continue"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gscliq.getCalloutHolder=function(){return"zgs20_gsCliqCallout"},gscliq.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,continueChat,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),dcallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),continueChat=zgssearch.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsw100h100",gs:"cliqTranscript"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CLIQ,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CLIQ),service:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr",gstitle:continueChat,gs:"continuechat",service:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CLIQ})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:dcallout,gs:"minpreview",service:GSConstant.CLIQ}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder zgs19_gsZIndex0",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per",gs:"userBgColor"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{gs:"partCount"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsWMSCalloutFooter zgs19_gsCalloutPopUp zgs19_gsBorderBox",gs:"calloutFooter"}))).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"cliqIEContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutErrorMsg",gs:"cliqPageTxt"}).text(zgssearch.getI18NMsg("gs.e.common.iesupportmsg")))).append(_jQueryGS("<div>",{class:"zgs19_gsChatPreview zgs19_gsBorderBox zgs19_gsDisplayNone",id:"zgs20_gsChatPreview",gs:"cliqPreview"})),_jQueryGS(curCalloutObj.parentElem).append(dcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gscliq.setCliqCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),cheight=_jQueryGS(menuEl).height(),contentHeight=cheight-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),zgssearch.hasWMSTranscript&&(_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"),_jQueryGS(menuEl.cliqPreview).css("height",cheight-headerHeight+"px"))},gscliq.calloutResponse=function(response,resObj,ctype,group_id){var isPreviewCard,pcount,channeltype,sname,photoURL,imgId,calloutCount,curCalloutObj=group_id.searchObj,type=group_id.searchObj.type,currService=curCalloutObj.calloutId,menuEl=zgssearch.getTargetElem(currService);menuEl&&(gscliq.registerCliqPreviewTemplate(menuEl,resObj),zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(ctype),_jQueryGS("#zgs20_gsChatPreview").hide(),_jQueryGS("#zgs20_gsCqC2Outer").remove(),_jQueryGS(menuEl).find(".zgs18_gsContinueChat").removeClass("zgs19_gsHideEleme"),zgssearch.isIE?(_jQueryGS(menuEl.cliqIEContent).css("display","block"),_jQueryGS(menuEl.cliqTranscript).css("display","none")):(_jQueryGS(menuEl.cliqIEContent).css("display","none"),_jQueryGS(menuEl.cliqTranscript).css("display","block"),pcount=zgssearch.chidVsMeta||{},(isPreviewCard=zgssearch.isPreviewCard(curCalloutObj))&&(pcount=resObj.chidVsMeta||{}),group_id=resObj.cid||"",currService=pcount.hasOwnProperty(group_id)?pcount[group_id]:"",pcount=resObj.title||zgssearch.replaceHTMLEntity(currService.title)||"",_jQueryGS(menuEl.owner).empty().text(pcount).attr("gstitle",pcount).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.cliq.title")),_jQueryGS(menuEl.ctitle).empty().text(pcount).attr("gstitle",pcount).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CLIQ,resObj)),ctype&&(photoURL=_jQueryGS(ctype.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",photoURL)),group_id=resObj.dT||"-",_jQueryGS(menuEl.date).empty().text(group_id).attr("gstitle",group_id).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.lastReplied")),pcount=currService.pcount||"",_jQueryGS(menuEl.partCount).empty(),pcount&&2<pcount&&(channeltype=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),_jQueryGS(menuEl.partCount).text(channeltype).attr("gstitle",pcount).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"))),ctype=resObj.ctt||"",photoURL=currService.owner||resObj.owner||"",group_id=currService.groupid||"",channeltype=resObj.clt||"",currService="",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader").attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.owner).removeClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).removeClass("zgs19_gsUserBackground"),2<pcount||group_id||channeltype||"8"==ctype||"9"==ctype||"11"==ctype?(sname="zgs19_gsChatGroupIcon",currService=zgssearch.getI18NMsg("gs.search.filter.cliq.groupchat"),"8"==ctype?"1"==channeltype?(currService=zgssearch.getI18NMsg("gs.search.filter.cliq.orgchannel"),sname="zgs19_gsCliqOCI"):"2"==channeltype?(currService=zgssearch.getI18NMsg("gs.search.filter.cliq.teamchannel"),sname="zgs19_gsCliqTCI"):"3"==channeltype?(currService=zgssearch.getI18NMsg("gs.search.filter.cliq.perschannel"),sname="zgs19_gsCliqPCI"):"4"==channeltype&&(currService=zgssearch.getI18NMsg("gs.search.filter.cliq.extchannel"),sname="zgs19_gsCliqECI"):"9"==ctype&&(currService=zgssearch.getI18NMsg("gs.search.filter.cliq.bot"),sname="zgs19_gsCliqBCI"),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsResultsUniIcons zgs19_gsCqCOImg "+sname)):photoURL&&"-1"!==photoURL?(imgId="zgs20_gsChatCalloutUserImg"+(calloutCount=_jQueryGS(menuEl).attr("ccount")),_jQueryGS(menuEl.authorPhoto).attr("id",imgId),sname=zgssearch.getUserStatus(photoURL).name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname),photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderCalloutUserPhoto(imgId,photoURL),_jQueryGS(menuEl.owner).addClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).addClass("zgs19_gsUserBackground")):(imgId="zgs20_gsChatCalloutUserImg"+(calloutCount=_jQueryGS(menuEl).attr("ccount")),_jQueryGS(menuEl.authorPhoto).attr("id",imgId),zgssearch.loadCalloutNoPhotoImg(imgId)),_jQueryGS(menuEl.authorPhoto).attr("gstitle",currService),gscliq.setCliqCalloutEleSize(menuEl),_jQueryGS(menuEl.calloutFooter).empty().show(),zgssearch.isExtension||zgssearch.isEmbedDashboardEnabled?(_jQueryGS(menuEl).show(),_jQueryGS(menuEl.previewHolder).show(),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsWMSCalloutFooter").addClass("zgs19_gsCliqBtnOuter"),currService={gs:"cliqApp",service:GSConstant.CLIQ,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.cliq.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):(gscliq.checkForRenderTranscript(resObj,menuEl),zgssearch.hasOwnProperty("gscomponent")&&1==zgssearch.gscomponent.UIType&&zgssearch.GSConstant.isContinueChatEnabled&&((type==zgssearch.dbCrdCalloutType||type===zgssearch.crdPagecalloutType)&&zgssearch.isDashboardViewOpened()&&zgssearch.gscardinDb.isCardMaximised||zgssearch.isCardPageOpened&&zgssearch.gscards.isCardPreviewPageOpened()||"search"==type)&&gscliq.addContinueHTMLElem(menuEl.calloutFooter)),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide())),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),calloutCount=_jQueryGS(menuEl).attr("ccount"),zgssearch.curCalloutCount==calloutCount&&setTimeout(function(){_jQueryGS("#zgs20_gsCqC2").css("margin-block-start","0px")},500),gscliq.addCalloutActionList(menuEl),zgssearch.calloutVisitRequest(),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),_jQueryGS(menuEl.calloutFooter).scrollTop(_jQueryGS(menuEl.calloutFooter)[0].scrollHeight))},gscliq.clearChatPreview=function(menuEl){zgssearch.gscliq.clearPreviewList(),_jQueryGS(menuEl).find("#zgs20_gsChatPreview").empty().hide()},gscliq.isWMSBARCSSLoaded=gscliq.isWMSBARCSSLoaded||!1,zgssearch.isCssFileloadedCheckCalled||(zgssearch.isCssFileloadedCheckCalled=!0,gscliq.isWMSBARCSSLoaded=!!zgssearch.isCliqDomain||zgssearch.isCssFileloadedCheck("wmsbar.css"),zgssearch.hasWMSTranscript=!!zgssearch.hasWMSTranscript&&gscliq.isWMSBARCSSLoaded),gscliq.showBtn=function(menuEl){_jQueryGS(menuEl).show(),_jQueryGS(menuEl.previewHolder).show(),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsWMSCalloutFooter").addClass("zgs19_gsCliqBtnOuter");var currService={gs:"cliqApp",service:GSConstant.CLIQ,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.cliq.callout.open_in_app")};zgssearch.obtainAppOpenBtn(menuEl,currService)},gscliq.checkForRenderTranscript=function(resObj,menuEl){var intervalStartTime,wmsLoader;zgssearch.hasWMSTranscript?gscliq.renderCliqTranscript(resObj,menuEl):gscliq.isWMSBARCSSLoaded?(intervalStartTime=(new Date).getTime(),wmsLoader=setInterval(function(){gscliq.updateWMSTranscript(),3e4<(new Date).getTime()-intervalStartTime&&(clearInterval(wmsLoader),gscliq.showBtn(menuEl)),zgssearch.hasWMSTranscript&&(clearInterval(wmsLoader),gscliq.renderCliqTranscript(resObj,menuEl))},500)):gscliq.showBtn(menuEl)},gscliq.updateWMSTranscript=function(){zgssearch.hasWMSTranscript||(zgssearch.hasWebMessanger=zgssearch.hasWebMessanger||"undefined"!=typeof WebMessanger&&!zgssearch.isUBIDomain(),zgssearch.hasWMSTranscript=!(!zgssearch.hasWebMessanger||zgssearch.isUBIDomain())&&void 0!==WebMessanger.renderTranscript)},gscliq.renderCliqTranscript=function(resObj,menuEl){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsCliqBtnOuter").addClass("zgs19_gsWMSCalloutFooter");var sZUID=resObj.sid||"",cmtime=resObj.msg||resObj.muid||resObj.fn||resObj.fc?resObj.mT:"";WebMessanger.renderTranscript(menuEl.calloutFooter,resObj.cid,cmtime,sZUID)},gscliq.getContinueHTMLElem=function(){var continueChat=zgssearch.getI18NMsg("gs.search.filter.cliq.continue");return _jQueryGS("<div>",{id:"zgs20_gsCqC2Outer",class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox",gs:"continuechat",service:GSConstant.CLIQ}).text(continueChat))},gscliq.addContinueHTMLElem=function(calloutFooterElem){var continueElem=gscliq.getContinueHTMLElem();_jQueryGS(calloutFooterElem).append(continueElem)},gscliq.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscliq.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)zgssearch.savePreviewNeeded(key)&&(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CLIQ,gstitle:dectext}).text(dectext)))}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.CLIQ)},gscliq.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsCliqCallout");zgssearch.setGSTagElems(menuEl),gscliq.setCliqCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscliq.setPreviewList=function(chatId){zgssearch.isArrayContain(chatId,gscliq.catchedPreview)||gscliq.catchedPreview.push(chatId)},gscliq.getPreviewList=function(){return gscliq.catchedPreview||[]},gscliq.clearPreviewList=function(){if("undefined"!=typeof WmsUIImpl)try{for(var cplist=gscliq.getPreviewList();0<cplist.length;){var chatId=cplist.pop();WmsUIImpl.closeChatWindow(chatId)}}catch(ex){zgssearch.throwClientError("Unable to close chat from WMS which is opened via Zia search. ",ex)}gscliq.catchedPreview=[]},gscliq.registerCliqPreviewTemplate=function(menuEl,resObj){var hasWmsUIImpl="undefined"!=typeof WmsUIImpl;zgssearch.GSConstant.isContinueChatEnabled&&hasWmsUIImpl&&(WmsUIImpl.getChatWindowContainer=function(chatid,ctype,channeluid,channelservicecode,channelsoid){zgssearch.gsaction.currSearchType=(new zgssearch.dashboardSearchActions).createActionType(),zgssearch.gsaction.currSearchType.hasOwnProperty("setCardFromCallout")&&zgssearch.gsaction.currSearchType.setCardFromCallout(menuEl);var service=zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getServiceName():{},resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),tempCatchedPreview=gscliq.getPreviewList();if(GSConstant.CLIQ==service&&((zgssearch.isDashboardViewOpened()?_jQueryGS(menuEl.MobDisableFields):_jQueryGS(menuEl).find(".zgs18_gsContinueChat")).removeClass("zgs19_gsHideEleme"),resObj&&resObj.cid==chatid&&zgssearch.isArrayContain(chatid,tempCatchedPreview)))return _jQueryGS(menuEl).find(".zgs19_gsChatPreview")[0]},WmsUIImpl.handleChatWindowClose=function(ctype,chid,channeluid){zgssearch.gsaction.currSearchType=(new zgssearch.dashboardSearchActions).createActionType(),zgssearch.gsaction.currSearchType.hasOwnProperty("setCardFromCallout")&&zgssearch.gsaction.currSearchType.setCardFromCallout(menuEl);var service=zgssearch.gsaction.currSearchType?zgssearch.gsaction.currSearchType.getServiceName():{},resObj=zgssearch.gsaction.currSearchType.getCurrentResultObj(),tempCatchedPreview=gscliq.getPreviewList();GSConstant.CLIQ==service&&resObj&&resObj.cid==chid&&zgssearch.isArrayContain(chid,tempCatchedPreview)&&(zgssearch.gscliq.clearChatPreview(menuEl),(zgssearch.isDashboardViewOpened()?_jQueryGS(menuEl.MobDisableFields):_jQueryGS(menuEl).find(".zgs18_gsContinueChat")).removeClass("zgs19_gsHideEleme"))},WmsUIImpl.getChatWindowOptions=function(chatid,ctype,channeluid,channelservicecode,channelsoid,entityid){var tempCatchedPreview=gscliq.getPreviewList();if(resObj&&resObj.cid==chatid&&zgssearch.isArrayContain(chatid,tempCatchedPreview))return{minimize:"disable"}})},gscliq.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),prevCrdObj={entity_id:resObj.cid,mT:resObj.mT};return resObj.sid&&(prevCrdObj.sid=resObj.sid),prevCrdObj},gscliq)}(zgssearch,window),function(zgssearch,window){var gsworkdrive,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsworkdrive=(gsworkdrive=void 0,(gsworkdrive=zgssearch.gsworkdrive||{}).actionList=[{open:"common.open"},{download:"gs.search.result.document.download"},{properties:"gs.search.result.workdrive.callout.properties"},{favourites:"gs.search.add_to_favourite"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"},{label:"gs.action.label"},{shareInWD:"common.share"}],gsworkdrive.getCalloutHolder=function(){return"zgs20_gsWorkDriveCallout"},gsworkdrive.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&id="+resObj.dId},gsworkdrive.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,downtxt,gstitval,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),downtxt=zgssearch.getI18NMsg("gs.search.result.document.download"),gstitval=zgssearch.getI18NMsg("gs.search.callout.open_tab"),dcallout=zgssearch.getFourDotLoader("zgs20_gsWorkDrivePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.WORKDRIVE,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:gstitval,service:GSConstant.WORKDRIVE})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.WORKDRIVE})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsWDShareIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:zgssearch.getI18NMsg("common.share"),gs:"shareInWD"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:downtxt,gs:"workdrivedownload"})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.WORKDRIVE})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.WORKDRIVE}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsUserBackground zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsWorkdriveCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(dcallout).append(_jQueryGS("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gsworkdrive.setWorkDriveCalloutEleSize=function(menuEl){var headerHeight=0<_jQueryGS(menuEl.header).length?40:0,calloutFooterWidth=0<_jQueryGS(menuEl.metaInfo).length?70:0,calloutFooterWidth=_jQueryGS(menuEl).height()-(headerHeight+calloutFooterWidth);zgssearch.isMobViewport()&&(calloutFooterWidth-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",calloutFooterWidth+"px");calloutFooterWidth=_jQueryGS(menuEl).width();_jQueryGS(menuEl.calloutFooter).css("width",calloutFooterWidth+"px")},gsworkdrive.calloutResponse=function(response,resObj,zuid,isPreviewCard){var staObj,metaParent,currService=!(!zgssearch.isExtension||!zgssearch.thirdPartyCookieDisabled),curCalloutObj=isPreviewCard.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);menuEl&&(zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(zuid),_jQueryGS(menuEl.shareInWD).css("display","none"),staObj=_jQueryGS(menuEl).attr("ccount"),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.WORKDRIVE,resObj,"",response)),isPreviewCard=resObj.dN||"",_jQueryGS(menuEl.ctitle).empty().text(isPreviewCard).attr("gstitle",isPreviewCard),zuid=resObj.zuid,_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader"),isPreviewCard="zgs20_gsDocsCalloutUserImg"+staObj,_jQueryGS(menuEl.authorPhoto).attr("id",isPreviewCard),staObj=zgssearch.getUserStatus(zuid),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==zuid&&void 0!==zuid?(metaParent=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+metaParent),metaParent=zgssearch.getThumbPhotoURL(zuid),zgssearch.renderCalloutUserPhoto(isPreviewCard,metaParent)):zgssearch.renderCalloutNoUserPhoto(isPreviewCard),metaParent=resObj.shared?zgssearch.getI18NMsg("common.shared_by"):zgssearch.getI18NMsg("common.owned_by"),_jQueryGS(menuEl.startedBy).empty().text(metaParent).attr("gstitle",metaParent),_jQueryGS(menuEl.owner).empty().text(resObj.auth).attr("gstitle",resObj.auth),_jQueryGS(menuEl.date).empty().text(resObj.time).attr("gstitle",resObj.time),_jQueryGS(menuEl.workdrivedownload).hide(),currService||gsworkdrive.renderWorkDrivePreview(menuEl,resObj),isPreviewCard=curCalloutObj.iconDisplay,"true"!==resObj.isF?response.canDownload&&(_jQueryGS(menuEl.workdrivedownload).show(),_jQueryGS(menuEl.ctitle).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.document.documentName"))):(_jQueryGS(menuEl.ctitle).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.document.folderName")),isPreviewCard||_jQueryGS(menuEl.actionPipe).hide()),metaParent=_jQueryGS(menuEl).find(".zgs19_gsCalloutMetaLeft"),gsworkdrive.addLabelList(resObj.fileInfo.labels,metaParent),isPreviewCard&&(_jQueryGS(menuEl.maxpreview).show(),_jQueryGS(menuEl.minpreview).hide()),isPreviewCard=zgssearch.isPreviewCard(curCalloutObj),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsworkdrive.addCalloutActionList(menuEl,resObj,response),response.canShare&&0!=zgssearch.gscomponent.UIType&&!zgssearch.isExtension&&_jQueryGS(menuEl.shareInWD).css("display","block"),currService&&(_jQueryGS(menuEl.docspreviewHolder).empty().show(),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible"),currService={gs:"workDriveApp",service:GSConstant.WORKDRIVE,previewHolder:"docspreviewHolder",content:zgssearch.getI18NMsg("gs.search.result.workdrive.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)))},gsworkdrive.addLabelList=function(labelList,parentElem){var moreElement=labelList.length;if(_jQueryGS(parentElem).find(".zgs19_gsCallOutLabelsElement").remove(),0<moreElement){var parentElement=_jQueryGS("<div>",{class:"zgs19_gsCallOutLabelsElement"});let uiLen=3;uiLen>=moreElement&&(uiLen=moreElement);for(let index=0;index<uiLen;index++){var childElement=_jQueryGS("<div>",{class:"zgs19_gsCallOutLabels",labelId:labelList[index].id}).append(_jQueryGS("<span>",{class:"zgs19_gsCallOutLabelsIcon zgs18_gsLabelIcon",style:"color:#"+labelList[index].color})).append(_jQueryGS("<span>",{class:"zgs19_gsCallOutLabelName zgs19_gsOverflow",gstitle:labelList[index].name}).text(labelList[index].name));_jQueryGS(parentElement).append(childElement)}moreElement>uiLen&&(moreElement=_jQueryGS("<div>",{class:"zgs19_gsMoreLabels",gs:"moreLabel"}).text("+"+(moreElement-uiLen)),_jQueryGS(parentElement).append(moreElement)),_jQueryGS(parentElem).append(parentElement)}},gsworkdrive.renderMoreLabelPopUp=function(leftPos,labelList,parentElement){var moreLabelPopUp=_jQueryGS("<div>",{class:"zgs19_gsMoreLabelsPopUp",gs:"moreLabels"});for(let index=3;index<labelList.length;index++){var labelPopUpElem=labelList[index].name||labelList[index],labelPopUpElem=_jQueryGS("<div>",{class:"zgs19_gsCallOutLabels",labelId:labelList[index].id,gs:"moreLabels"}).append(_jQueryGS("<span>",{class:"zgs19_gsCallOutLabelsIcon zgs18_gsLabelIcon",style:"color:#"+labelList[index].color})).append(_jQueryGS("<span>",{class:"zgs19_gsCallOutLabelName zgs19_gsOverflow",gstitle:labelPopUpElem}).text(labelPopUpElem));_jQueryGS(moreLabelPopUp).append(labelPopUpElem)}parentElement=_jQueryGS(leftPos).closest(parentElement);_jQueryGS(parentElement).append(moreLabelPopUp);leftPos=Math.floor(_jQueryGS(leftPos).offset().left-_jQueryGS(leftPos).closest(".zgs19_gsCalloutMetaLeft").offset().left);_jQueryGS(moreLabelPopUp).css("left",leftPos+"px")},gsworkdrive.addCalloutActionList=function(menuEl,resObj,calloutResponse){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsworkdrive.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var actionElement=zgssearch.getI18NMsg(obj[key]);if("download"==key){var docType=resObj.isF,downloadURL=GSConstant.downloadServer;if(!calloutResponse.canDownload||!downloadURL&&"null"===downloadURL||"true"===docType)continue}if(("shareInWD"!=key||calloutResponse.canShare&&!zgssearch.isExtension)&&zgssearch.savePreviewNeeded(key)){if("label"==key){let currAccLabels=zgssearch.serviceActionDetails?.workdrive?.labels?.[resObj.zsoid];if(currAccLabels&&(0==currAccLabels.length||0==currAccLabels.filter(obj=>3!==obj.type).length))continue}"favourites"==key&&(actionElement=calloutResponse.isFav?zgssearch.getI18NMsg("gs.search.remove_from_favourite"):zgssearch.getI18NMsg("gs.search.add_to_favourite")),actionElement="label"==key?_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox zgs19_gs"+key+"action",gs:"callout"+key+"Action",service:GSConstant.WORKDRIVE}).append(_jQueryGS("<span>",{class:"zgs19_gsMgRt5Px"}).text(actionElement)).append(_jQueryGS("<span>",{class:"zgs18_gsarrowright zgs19_gsfr zgs19_gsMgLfAuto zgs19_gsFontSize13Px zgs19_gsMgTop4Px"})):_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.WORKDRIVE}).text(actionElement),_jQueryGS(actionList).append(actionElement)}}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.WORKDRIVE)},gsworkdrive.openWorkDriveResult=function(zsTheme){var previewTheme=zsTheme.dId||zsTheme[zgssearch.entity_id],url=zgssearch.GSConstant.GS_WORKDRIVE_URL+"/preview/"+previewTheme,zsTheme=zgssearch.GSConstant.hasOwnProperty("SUPPORTED_THEME")?zgssearch.getTheme():"";url+="?theme=";previewTheme="white";try{("zsNavyMode"===zsTheme||"zsNightMode"===zsTheme||void 0!==localStorage&&1==localStorage.isNightModeEnabled)&&(previewTheme="grey")}catch(ex){}return(url+=previewTheme)+"&"+zgssearch.originParam},gsworkdrive.downloadWorkDriveDocument=function(downloadURL){downloadURL=downloadURL.dURL||downloadURL.data.dURL;zgssearch.network.download_file(downloadURL)},gsworkdrive.renderWorkDrivePreview=function(menuEl,workdriveprev){gsworkdrive.setWorkDriveCalloutEleSize(menuEl);var documentUrl=gsworkdrive.openWorkDriveResult(workdriveprev);_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden");var prevfoldererr,workdriveprev="";zgssearch.isIE?workdriveprev=_jQueryGS("<div>",{class:"zgs19_gsCalloutErrorMsg",gstitle:prevfoldererr}).text(zgssearch.getI18NMsg("gs.e.common.iesupportmsg")):documentUrl&&"null"!==documentUrl?(_jQueryGS(menuEl.loadericon).show(),_jQueryGS(menuEl.docspreviewHolder).empty(),(workdriveprev=document.createElement("iframe")).src=documentUrl,workdriveprev.className="zgs19_Border0px zgs19_gsDocsIframeTag",workdriveprev.setAttribute("frameborder","0"),workdriveprev.setAttribute("allowfullscreen","true"),workdriveprev.onload=function(){zgssearch.calloutVisitRequest(),setTimeout(function(){_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.loadericon).hide()},500)}):(prevfoldererr=zgssearch.getI18NMsg("gs.search.sevice_docs_previewfolerr"),_jQueryGS(menuEl.calloutLoader).hide(),workdriveprev=_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr),_jQueryGS(menuEl.docspreviewHolder).append(workdriveprev),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden"),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")),_jQueryGS(menuEl.docspreviewHolder).append(workdriveprev),_jQueryGS(menuEl.docspreviewHolder).css("visibility","visible")},gsworkdrive.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsWorkDriveCallout"),zgssearch.setGSTagElems(menuEl),gsworkdrive.setWorkDriveCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsworkdrive.getPreviewCard=function(respObj){gsworkdrive.constructPreviewForCrd(respObj);var menuEl=zgssearch.getTargetElem(respObj.calloutId);zgssearch.setGSTagElems(menuEl),gsworkdrive.renderWorkDrivePreview(menuEl,respObj)},gsworkdrive.constructPreviewForCrd=function(respObj){var calloutDiv;_jQueryGS("#"+respObj.calloutId).length<=0&&(calloutDiv=zgssearch.getFourDotLoader("zgs20_gsWorkDrivePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),calloutDiv=_jQueryGS("<div>",{id:respObj.calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDocsCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(calloutDiv).append(_jQueryGS("<div>",{id:"zgs20_gsDocsPreviewHolder",class:"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"}))),_jQueryGS(respObj.parentElem).append(calloutDiv))},gsworkdrive.calloutErrorMsg=function(msg,curCalloutObj){(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.website.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsworkdrive.showFileProperty=function(resObj,calloutResp=0){var header=resObj.dN,fileInfo=resObj.fileInfo,parentElement=resObj.imgIcon+" zgs19_gsResultsUniIcons",createdTimeInfo=fileInfo.formattedCreatedTime?" "+gsworkdrive.getPrepositionForTime(resObj.createdTimeMS)+" "+fileInfo.formattedCreatedTime:"",elementObj=fileInfo.formattedModifiedTime?" "+gsworkdrive.getPrepositionForTime(resObj.modifiedTimeMS)+" "+fileInfo.formattedModifiedTime:"",header=zgssearch.actionHeaderElement(header,parentElement,!0),parentElement=_jQueryGS("<div>",{class:"zgs19_gsFilePropertyElem"}),elementObj={"gs.search.result.workdrive.callout.Type":zgssearch.capitalizeFirstLetter(resObj.fT),"gs.search.sevice_docs_createdBy":fileInfo.createdBy+createdTimeInfo,"gs.common.Modified_by":fileInfo.modifiedBy+elementObj};zgssearch.gsworkdrive.constructPropertyElement(elementObj,parentElement),_jQueryGS(parentElement).append(_jQueryGS("<div>",{class:"zgs19_gsPropertyEleme"}).append(_jQueryGS("<span>",{class:"zgs19_gsPropertyTitle"}).text(zgssearch.getI18NMsg("gs.search.result.workdrive.callout.permalink"))).append(_jQueryGS("<div>",{class:"zgs19_gsFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsPropertyResult zgs19_gsPropertyLink zgs19_gsOverflow",target:"_blank",rel:"noopener noreferrer",href:fileInfo.permalink}).text(fileInfo.permalink)).append(_jQueryGS("<span>",{class:"zgs18_gsCopyLink zgs19_gsWDCopyIcon",gs:"copyWDLink"})))),_jQueryGS("#zgs20_gsOverlayDialog").append(_jQueryGS("<div>",{class:"zgs19_gsBoxCentre"}).append(_jQueryGS("<div>",{class:"zgs19_gsActionsPopUp"}).append(header).append(parentElement))),_jQueryGS("#zgs20_gsOverlayDialog").css("display","block")},gsworkdrive.constructPropertyElement=function(elementObj,parentElement){for(var key in elementObj)_jQueryGS(parentElement).append(_jQueryGS("<div>",{class:"zgs19_gsPropertyEleme"}).append(_jQueryGS("<span>",{class:"zgs19_gsPropertyTitle"}).text(zgssearch.getI18NMsg(key))).append(_jQueryGS("<span>",{class:"zgs19_gsPropertyResult zgs19_gsOverflow"}).text(elementObj[key])))},gsworkdrive.getPrepositionForTime=function(milliseconds){return(new Date).toLocaleDateString()==new Date(milliseconds).toLocaleDateString()?zgssearch.getI18NMsg("common.at"):zgssearch.getI18NMsg("gs.search.calendar.callout.on")},gsworkdrive.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{account_id:resObj.accId||zgssearch.getResultAccountId(),entity_id:resObj.dId}},gsworkdrive)}(zgssearch,window),function(zgssearch,window){var gswebsite,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gswebsite=(gswebsite=void 0,(gswebsite=zgssearch.gswebsite||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],gswebsite.appInitKBContainerId="zgs20_gsASAPKBContent",gswebsite.getCalloutHolder=function(){return"zgs20_gsWebsiteCallout"},gswebsite.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&aId="+resObj.aId+"&portalId="+(resObj.pId||GSConstant.pId)},gswebsite.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,wcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),wcallout=zgssearch.getFourDotLoader("zgs20_gsWebsitePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),wcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.WEBSITE,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",service:GSConstant.WEBSITE})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.WEBSITE})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.WEBSITE})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.WEBSITE}))))).append(_jQueryGS("<div>",{class:"zgs19_gsNoMetaCalloutFooter",id:"zgs20_gsWebsitepreviewHolder",gs:"content"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsWebsitePreviewLoader"}).append(wcallout)).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone zgs19_gsw100h100",id:gswebsite.appInitKBContainerId})).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone zgs19_gsVerticalScroll zgs19_gsKBContent",id:"zgs20_gsKBContent"})).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsBtnContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"websitePageTxt"}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_preview_page")).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn",gs:"websitePage",service:GSConstant.WEBSITE}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_page")))))),_jQueryGS(curCalloutObj.parentElem).append(wcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gswebsite.openKBArticle=function(aId,menuEl){gswebsite.ZohoHCAsap.kbArticles.view({articleId:aId}),_jQueryGS("#"+gswebsite.appInitKBContainerId).css("display","block"),zgssearch.calloutVisitRequest(),gswebsite.hideContentLoader(menuEl)},gswebsite.renderKBArticle=function(aId,menuEl){var asap_url,instance;gswebsite.ZohoHCAsap?gswebsite.openKBArticle(aId,menuEl):(asap_url=zgssearch.httpstxt+"://"+GSConstant.ASAP_URL+"/portal/api/web/inapp/"+GSConstant.ASAP_SEARCH_INAPPID+"?orgId="+GSConstant.ASAP_ORGID,(instance=new asapAppInstanceCreator(asap_url,gswebsite.appInitKBContainerId,function(){gswebsite.ZohoHCAsap=instance.getAsapClientApis(),gswebsite.isASAPLoaded=!0,gswebsite.openKBArticle(aId,menuEl)})).init(gswebsite.appInitKBContainerId))},gswebsite.isASAPLoaded=!1,gswebsite.loadASAPComponent=function(aId,menuEl){gswebsite.isASAPLoaded?gswebsite.renderKBArticle(aId,menuEl):zgssearch.network.loadSRIJSFile("js/helpASAP.js",gswebsite.renderKBArticle.bind(this,aId,menuEl))},gswebsite.showContentLoader=function(menuEl){_jQueryGS(menuEl).find("#zgs20_gsWebsitePreviewLoader").css("display","block")},gswebsite.hideContentLoader=function(menuEl){_jQueryGS(menuEl).find("#zgs20_gsWebsitePreviewLoader").css("display","none")},gswebsite.getKBContent=function(actualContent,menuEl){!(actualContent=actualContent||{})||""!==(actualContent=actualContent.answer||"")&&(gswebsite.loadCssAndObtainContent(actualContent,menuEl),gswebsite.loadDeskImagesWithDomain(menuEl),_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent").css("display","block"),gswebsite.hideContentLoader(menuEl),zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent")))},gswebsite.calloutResponse=function(wUrl,resObj,openIconTT,websiteURL){var curCalloutObj=websiteURL.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(openIconTT);websiteURL=resObj.t||"";_jQueryGS(menuEl.ctitle).html("").text(websiteURL).attr("gstitle",websiteURL),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.WEBSITE,resObj,"",wUrl)),openIconTT&&(elem=_jQueryGS(openIconTT.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",elem)),gswebsite.addCalloutActionList(menuEl);websiteURL=zgssearch.isPreviewCard(curCalloutObj);curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),_jQueryGS(menuEl).find("#zgs20_gsWebsitepreviewHolder").children().css("display","none"),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||websiteURL)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),gswebsite.showContentLoader(menuEl);var openIconTT=!1,elem=resObj.aId||"";elem?zgssearch.isIE||zgssearch.isExtension||window.hasOwnProperty("zmList")||GSConstant.hasOwnProperty("ziaOrigin")&&GSConstant.ziaOrigin===GSConstant.MAILS||"search"!==curCalloutObj.type?gswebsite.getKBContent(wUrl,menuEl):gswebsite.loadASAPComponent(elem,menuEl):0===resObj.cO?gswebsite.obtainPageOpenBtn(menuEl):(wUrl=(websiteURL=resObj.pk_id)+"?zgs=1",GSConstant.rD&&(wUrl=zgssearch.httpstxt+"://"+GSConstant.rD+resObj.p+"?zgs=1"),_jQueryGS(menuEl).find("#zgs20_gsWebsitepreviewHolder").removeClass("zgs19_gsWebsiteVP"),elem=zgssearch.getCurrentSelectedElem(),gswebsite.currCalloutCount=(elem||curCalloutObj).id,_jQueryGS(menuEl).find("#zgs20_gsWebsiteVideoframe").remove(),resObj.tURL?(openIconTT=!0,_jQueryGS(menuEl).find("#zgs20_gsWebsitepreviewHolder").addClass("zgs19_gsWebsiteVP"),elem=_jQueryGS("<span>",{class:"zgs19_gsVideotime zgs19_gsVideotimeOuter zgs18_gsHPVideotime"}),elem=zgssearch.obtainLineIconPaths("zgs18_gsHPVideotime",elem,!0),videoEle=_jQueryGS("<div>",{class:"zgs19_resVideo"}).append(_jQueryGS("<a>",{href:websiteURL,target:"_blank"}).append(_jQueryGS("<img>",{src:resObj.tURL,class:"zgs19_gsHW100per zgs19_gsfl"})).append(elem)),_jQueryGS(menuEl.content).append(_jQueryGS("<div>",{id:"zgs20_gsWebsiteVideoframe",class:"zgs19_gsWebsiteVPOuter"})),_jQueryGS(menuEl).find("#zgs20_gsWebsiteVideoframe").append(videoEle),elem="",elem=(zgssearch.isDashboardViewOpened()?_jQueryGS("#"+menuEl.id):_jQueryGS(menuEl)).find("#zgs20_gsWebsiteVideoframe"),zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(elem),gswebsite.hideContentLoader(menuEl),_jQueryGS(elem).css("display","block"),gswebsite.setVideoPreviewPosition()):gswebsite.renderWebsitePagePreview(wUrl,menuEl,curCalloutObj));openIconTT=openIconTT?zgssearch.getI18NMsg("gs.search.callout.open_video_tab"):zgssearch.getNewTabTip(GSConstant.WEBSITE);_jQueryGS(menuEl.clink).attr("gstitle",openIconTT)},gswebsite.loadCssAndObtainContent=function(actualContent,menuEl){var cssFilePath;zgssearch.isExtension||(cssFilePath=zgssearch.httpstxt+"://"+GSConstant.website_cssStaticServer+"/support/v1/css/zohohc-kb-article-theme.min.css",_jQueryGS('link[href="'+cssFilePath+'"]')[0]||zgssearch.network.loadCSSFile(cssFilePath)),_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent").html("").append(actualContent)},gswebsite.loadDeskImagesWithDomain=function(menuEl){var imgList=_jQueryGS("#"+menuEl.id+" #zgs20_gsKBContent").find("img"),imgListLen=imgList.length;if(0<imgListLen)for(var i=0;i<imgListLen;i++){var obj=imgList[i],oldImgSrc=_jQueryGS(obj).attr("src");oldImgSrc&&((oldImgSrc=-1!=oldImgSrc.indexOf("/ImageDisplayZSupportAPI?")?oldImgSrc.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"):oldImgSrc).startsWith("//")&&(oldImgSrc="https:"+oldImgSrc),_jQueryGS(obj).attr("src",oldImgSrc))}},gswebsite.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gswebsite.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);zgssearch.savePreviewNeeded(key)&&_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.WEBSITE,gstitle:dectext}).text(dectext))}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.WEBSITE)},gswebsite.obtainPageOpenBtn=function(menuEl){_jQueryGS("#zgs20_gsBtnContent").css("display","block"),gswebsite.hideContentLoader(menuEl),zgssearch.setGSTagElems(menuEl),gswebsite.setPreviewBtnPosition(menuEl)},gswebsite.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=(_jQueryGS(menuEl.content).height()-(_jQueryGS(menuEl.websitePageTxt).height()+20))/2;_jQueryGS(menuEl.websitePageTxt).css("margin",actualCenterPosition+"px auto")},gswebsite.setVideoPreviewPosition=function(){var actualCenterPosition=(_jQueryGS("#zgs20_gsWebsitepreviewHolder").height()-(_jQueryGS("#zgs20_gsWebsiteIframe").outerHeight(!0)+20))/2;_jQueryGS("#zgs20_gsWebsiteIframe").css("margin-block-start",actualCenterPosition+"px")},gswebsite.renderWebsitePagePreview=function(url,menuEl,curCalloutObj){try{_jQueryGS(menuEl).find("#zgs20_gsWebsiteIframe").remove();var websiteprev=document.createElement("iframe");websiteprev.src=url,websiteprev.id="zgs20_gsWebsiteIframe",websiteprev.gs="websiteCalloutData",websiteprev.setAttribute("frameborder","0"),websiteprev.setAttribute("allowfullscreen","true"),zgssearch.Utils.addSandboxToEle(websiteprev),_jQueryGS(menuEl.content).append(websiteprev),websiteprev.onload=function(websiteprev){setTimeout(function(){var elem=zgssearch.isPreviewCard(curCalloutObj),curSelectedEle=(curSelectedEle=zgssearch.getCurrentSelectedElem())?curSelectedEle.id:"";(zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||gswebsite.currCalloutCount===curSelectedEle||elem)&&(elem="",elem=(zgssearch.isDashboardViewOpened()?_jQueryGS("#"+menuEl.id):_jQueryGS(menuEl)).find("#zgs20_gsWebsiteIframe"),zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(elem),gswebsite.hideContentLoader(menuEl),_jQueryGS(elem).css("display","block"))},100,websiteprev)},websiteprev.onerror=function(){gswebsite.calloutErrorMsg("",curCalloutObj)}}catch(ex){zgssearch.throwClientError("Error while loading Website Page",ex),gswebsite.calloutErrorMsg("",curCalloutObj)}},gswebsite.calloutErrorMsg=function(msg,curCalloutObj){(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.website.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gswebsite.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsWebsiteCallout");zgssearch.setGSTagElems(menuEl),gswebsite.setPreviewBtnPosition(menuEl),gswebsite.setVideoPreviewPosition(),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gswebsite.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),prevCrdObj={entity_id:resObj.pk_id,portalId:resObj.pId||GSConstant.pId};return resObj.aId&&(prevCrdObj.aId=resObj.aId),resObj.aId&&(prevCrdObj.module="deskkb"),prevCrdObj},gswebsite)}(zgssearch,window),function(zgssearch,window){var gscreator,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscreator=(gscreator=void 0,(gscreator=zgssearch.gscreator||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}],gscreator.appsHeaderList={formList:"gs.search.result.creator.form",viewList:"gs.search.result.creator.view",pageList:"gs.search.result.creator.page"},gscreator.getCalloutHolder=function(){return"zgs20_gsCreatorCallout"},gscreator.calloutParams=function(resObj){return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&appLinkName="+resObj.lN+"&appOwnerName="+encodeURIComponent(resObj.sN)},gscreator.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getFourDotLoader("zgs20_gsCreatorPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CREATOR,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CREATOR),service:GSConstant.CREATOR})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CREATOR})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CREATOR})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.CREATOR}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{id:"zgs20_gsDocsCalloutUserImg",class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per zgs19_directionltr"}).append(_jQueryGS("<span>",{gs:"date"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCreatorCalloutFooter zgs19_gsOverflowHidden",id:"zgs20_gsCreatorCalloutFooter",gs:"calloutFooter"}).append(dcallout).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder",id:"zgs20_gsCreatorpreviewHolder",gs:"previewHolder"})).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsDisableBtnContent",gs:"content"}).append(_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"creatorPageTxt"}).append(_jQueryGS("<span>").text(zgssearch.getI18NMsg("gs.search.result.creator.disabled_app_info")).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn zgs19_gsWid200px",gs:"creatorApp",service:GSConstant.CREATOR}).text(zgssearch.getI18NMsg("gs.search.result.creator.open_in_app"))))))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gscreator.setCreatorCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gscreator.calloutResponse=function(currService,resObj,startedBy,author){var curCalloutObj=author.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(startedBy);author=resObj.aN||"";_jQueryGS(menuEl.ctitle).empty().text(author).attr("gstitle",author),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.CREATOR,resObj,"",currService)),startedBy&&(staObj=_jQueryGS(startedBy.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",staObj));var author=resObj.zuid,startedBy="zgs20_gsDocsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount"),staObj=_jQueryGS(menuEl.authorPhoto);staObj.attr("src",zgssearch.gsspacer),staObj.attr("class","zgs19_gsFetchLoader"),staObj.attr("id",startedBy);staObj=zgssearch.getUserStatus(author);_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),"-1"!==author&&void 0!==author?(time=staObj.name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+time),time=zgssearch.getThumbPhotoURL(author),zgssearch.renderCalloutUserPhoto(startedBy,time)):zgssearch.renderCalloutNoUserPhoto(startedBy);var author=resObj.auth,time=void 0!==resObj.time?resObj.time:"",startedBy=1==resObj.cg?zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0):zgssearch.getI18NMsg("common.shared_by");_jQueryGS(menuEl.startedBy).empty().text(startedBy).attr("gstitle",startedBy),_jQueryGS(menuEl.owner).empty().text(author).attr("gstitle",author),_jQueryGS(menuEl.date).empty().text(time).attr("gstitle",time).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.creator.createdDate")),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),(zgssearch.getCurrentSelectedElem()||zgssearch.isPreviewCard(curCalloutObj))&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gscreator.addCalloutActionList(menuEl),_jQueryGS(menuEl.previewHolder).empty().show(),_jQueryGS("#zgs20_gsDisableBtnContent").css("display","none"),gscreator.setCreatorCalloutEleSize(menuEl),_jQueryGS(menuEl).find("#zgs20_gsCreatorpreviewHolder").children().css("display","none"),currService&&!_jQueryGS.isEmptyObject(currService)?(_jQueryGS(menuEl.previewHolder).removeClass("zgs19_gsFlex"),gscreator.renderCreatorPreview(currService,menuEl,curCalloutObj,resObj)):null==currService?(_jQueryGS(menuEl.previewHolder).show(),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS(menuEl).find("#zgs20_gsCreatorpreviewHolder").css("display","block"),currService={gs:"creatorApp",service:GSConstant.CREATOR,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.creator.callout.access_this_application")},zgssearch.obtainAppOpenBtn(menuEl,currService)):(_jQueryGS(menuEl.previewHolder).hide(),_jQueryGS(menuEl).find("#zgs20_gsCreatorpreviewHolder").css("display","none !important"),_jQueryGS(menuEl.previewHolder).addClass("zgs19_gsFlex"),gscreator.obtainDisablePageOpenBtn(menuEl))},gscreator.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscreator.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,dectext,obj=alist[i];for(key in obj)zgssearch.savePreviewNeeded(key)&&(dectext=zgssearch.getI18NMsg(obj[key]),_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CREATOR,gstitle:dectext}).text(dectext)))}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.CREATOR)},gscreator.openCreatorResult=function(resObj){var scopeName=resObj.sN||decodeURIComponent(resObj.appOwnerName),creatorAppURL=resObj.lN||resObj.appLinkName,creatorAppURL=GSConstant.GS_APPCREATOR_URL+"/"+scopeName+"/"+creatorAppURL;return resObj.aURL||creatorAppURL},gscreator.obtainDisablePageOpenBtn=function(menuEl){_jQueryGS("#zgs20_gsDisableBtnContent").css("display","block"),gscreator.setPreviewBtnPosition(menuEl)},gscreator.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-(_jQueryGS(menuEl.creatorPageTxt).height()+20))/2;_jQueryGS(menuEl.creatorPageTxt).css("margin",actualCenterPosition+"px auto")},gscreator.getFormOrViewOpenUrl=function(componentName,scopeName,linkName){var embedtype="";switch(scopeName){case"formList":embedtype="form-embed";break;case"viewList":embedtype="view-embed";break;case"pageList":embedtype="page-embed"}scopeName=(linkName=linkName||zgssearch.getCurrentResObj()).sN,linkName=linkName.lN;return GSConstant.GS_APPCREATOR_URL+"/"+scopeName+"/"+linkName+"/"+embedtype+"/"+componentName+"?"+zgssearch.originParam},gscreator.renderCreatorPreview=function(currService,menuEl,curCalloutObj,resObj){if(currService&&"null"!==currService){var isDataObtained=!1,formsAndViews=zgssearch.jsonParse(currService);_jQueryGS("#zgs20_gsCreatorPrevLoader").show();var fwidth=_jQueryGS(menuEl.previewHolder).width()/2;zgssearch.removeEle(_jQueryGS("#zgs20_gsFormViewsFilterDataHolder")[0]),_jQueryGS(menuEl.previewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsCreatorListHolder zgs19_gsVisible",id:"zgs20_gsFormViewsFilterDataHolder",gs:"creatorListHolder"}));var key,listData,headerVal,itemObj,selectedHeaderCls,textWidth=fwidth-22,gffo=zgssearch.gFilterData[zgssearch.GSConstant.CREATOR],wffodata={},componentName="",componentKey="",formViewPresentsLen=Object.keys(formsAndViews).length;for(key in gscreator.appsHeaderList)formsAndViews.hasOwnProperty(key)&&(selectedHeaderCls=(listData=formsAndViews[key])[0][key.replace("List","")+"Count"],delete listData[0],0<selectedHeaderCls&&(isDataObtained=!0,headerVal=zgssearch.getI18NMsg(gscreator.appsHeaderList[key]),selectedHeaderCls=resObj.aN+" "+headerVal,zgssearch.setFiltersDetails(wffodata={},"type",key),zgssearch.setFiltersDetails(wffodata,"data",listData),zgssearch.setFiltersDetails(wffodata,"title",selectedHeaderCls),zgssearch.setFiltersDetails(wffodata,"current",""),selectedHeaderCls="zgs19_gsModuleFilterSerNameSelect",""===componentName&&(1<formViewPresentsLen?(itemObj=listData[1],selectedHeaderCls="",zgssearch.currCreatorFilterHeaderSelectedEleId="#zgs20_gs"+key):itemObj=listData[1],componentName=itemObj.componentname,componentKey=key,zgssearch.setFiltersDetails(wffodata,"current",componentName)),_jQueryGS("#zgs20_gsFormViewsFilterDataHolder").append(_jQueryGS("<div>",{id:"zgs20_gsModuleFilterElem_"+key,class:"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",fkey:key,gs:"mFilterWidget",service:zgssearch.getCalloutSearchType(),style:"max-width:"+fwidth+"px;"}).append(_jQueryGS("<div>",{id:"zgs20_gs"+key,gsa:GSConstant.CREATOR+"_"+key,class:"zgs19_gsModuleFilterSerNameNew zgs19_tc2fa6ea zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl "+selectedHeaderCls,gstitle:headerVal,style:"max-width: "+textWidth+"px; "}).text(headerVal)).append(_jQueryGS("<div>",{class:"zgs19_gsModuleFilterElemIcon zgs18_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl zgs19_gsModuleFilterElemIcon zgs19_gsVisibleHidden"}))),zgssearch.setFiltersDetails(gffo,key,wffodata)));zgssearch.setFilterObj(GSConstant.CREATOR,gffo),zgssearch.addEventFormsViewsFilterElem(),_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsOverflowHidden"),curCalloutObj&&!curCalloutObj.obtainAppOpenBtn&&isDataObtained?gscreator.loadCreatorFormView(componentName,componentKey,menuEl,curCalloutObj,resObj):(zgssearch.removeEle(_jQueryGS("#zgs20_gsFormViewsFilterDataHolder")[0]),_jQueryGS(menuEl.previewHolder).show(),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("display","block"),currService={gs:"creatorApp",service:GSConstant.CREATOR,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.creator.callout.access_this_application")},zgssearch.obtainAppOpenBtn(menuEl,currService))}else gscreator.calloutErrorMsg("",curCalloutObj)},gscreator.loadCreatorFormView=function(componentType,componentKey,previewHolder,curCalloutObj,url){if(zgssearch.isExtension){_jQueryGS(previewHolder.creatorpreviewHolder).empty().show(),_jQueryGS(previewHolder.loadericon).hide(),_jQueryGS("#zgs20_gsFormViewsFilterDataHolder").remove();var currService={gs:"creatorApp",service:GSConstant.CREATOR,previewHolder:"calloutFooter",content:zgssearch.getI18NMsg("gs.search.result.creator.callout.open_in_app")};zgssearch.obtainAppOpenBtn(previewHolder,currService)}else{url=gscreator.getFormOrViewOpenUrl(componentType,componentKey,url),previewHolder=_jQueryGS(previewHolder?previewHolder.previewHolder:"#zgs20_gsCreatorpreviewHolder");try{zgssearch.removeEle(_jQueryGS("#zgs20_gsCreatorIframe")[0]),zgssearch.removeEle(_jQueryGS("#zgs20_gsCreatorIframePrevLoader")[0]);var loadericon=zgssearch.getFourDotLoader("zgs20_gsCreatorIframePrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader");previewHolder.append(loadericon),_jQueryGS("#zgs20_gsCreatorIframePrevLoader").css("padding-top",_jQueryGS("#zgs20_gsCreatorPrevLoader").css("padding-top"));var creatorprev=document.createElement("iframe");creatorprev.src=url,creatorprev.id="zgs20_gsCreatorIframe",creatorprev.className="zgs19_Border0px zgs19_gsWid100Per zgs19_gsVisibleHidden",creatorprev.setAttribute("frameborder","0"),creatorprev.setAttribute("allowfullscreen","true"),zgssearch.Utils.addSandboxToEle(creatorprev),creatorprev.onload=function(){zgssearch.calloutVisitRequest(),setTimeout(function(){_jQueryGS("#zgs20_gsCreatorIframePrevLoader").hide(),_jQueryGS("#zgs20_gsCreatorIframe").css("visibility","visible")},100)},previewHolder.append(creatorprev);var calloutParentHeight=_jQueryGS("#zgs20_gsCreatorCalloutFooter").height(),listViewHeight=_jQueryGS("#zgs20_gsFormViewsFilterDataHolder").outerHeight(!0)||0,iframeHeight=calloutParentHeight-listViewHeight;_jQueryGS("#zgs20_gsCreatorIframe").css("inset-block-start",listViewHeight),_jQueryGS("#zgs20_gsCreatorIframe").css("height",iframeHeight+"px"),_jQueryGS("#zgs20_gsCreatorPrevLoader").hide(),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("display","block")}catch(ex){zgssearch.throwClientError("Error while loading Creator's Form data",ex),gscreator.calloutErrorMsg("",curCalloutObj)}}},gscreator.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS("#zgs20_gsCreatorpreviewHolder").css("display","block"),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.creator.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscreator.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsCreatorCallout");zgssearch.setGSTagElems(menuEl),gscreator.setCreatorCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscreator.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{appLinkName:resObj.lN,appOwnerName:encodeURIComponent(resObj.sN),entity_id:resObj.aId}},gscreator)}(zgssearch,window),function(zgssearch,window){var gswiki,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gswiki=(gswiki=void 0,(gswiki=zgssearch.gswiki||{}).actionList=[{open:"common.open"},{download:"gs.search.result.document.download"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gswiki.getCalloutHolder=function(){return"zgs20_gsWikiCallout"},gswiki.calloutParams=function(resObj){var docId=resObj.doc_id,wikiType=resObj.ty,wikiId=resObj.wId,categId=resObj.wcId;return"searchType="+(resObj.serviceName||zgssearch.getCurSelectedEleAttr("service"))+"&docId="+docId+"&wikiId="+wikiId+"&wikiCatId="+categId+"&type="+wikiType},gswiki.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,mcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),mcallout=zgssearch.getI18NMsg("gs.search.service_people.status.in",!0),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.WIKI,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.WIKI),service:GSConstant.WIKI})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.WIKI})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"wikidownload"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.WIKI})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.WIKI}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gs:"rlabel",gstitle:mcallout}).text(mcallout))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per",gs:"toaddress"}).append(_jQueryGS("<span>",{gs:"receiver",istip:!0}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsWikiCalloutFooter zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gswiki.setWikiCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gswiki.calloutResponse=function(isPreviewCard,resObj,createdBy,wAuthor){var curCalloutObj=wAuthor.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(createdBy);var sname=_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.WIKI,resObj,"",isPreviewCard)),createdBy&&(workspaceName=_jQueryGS(createdBy.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",workspaceName));var photoURL=resObj.zuid||"",wAuthor=resObj.dN||"",createdBy=zgssearch.replaceHTMLEntity(resObj.title)||"",workspaceName=resObj.dT||"";_jQueryGS(menuEl.ctitle).text(createdBy).attr("gstitle",createdBy),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),_jQueryGS(menuEl.authorPhoto).attr("src",zgssearch.gsspacer),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader");createdBy="zgs20_gsWikiCalloutUserImg"+sname;_jQueryGS(menuEl.authorPhoto).attr("id",createdBy),photoURL&&"-1"!==photoURL?(sname=zgssearch.getUserStatus(photoURL).name||"",_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+sname),photoURL=zgssearch.getThumbPhotoURL(photoURL),zgssearch.renderCalloutUserPhoto(createdBy,photoURL)):zgssearch.renderCalloutNoUserPhoto(createdBy);createdBy=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0);_jQueryGS(menuEl.slabel).empty().text(createdBy).attr("gstitle",createdBy),_jQueryGS(menuEl.sender).empty().text(wAuthor).attr("gstitle",wAuthor),_jQueryGS(menuEl.date).empty().text(workspaceName).attr("gstitle",workspaceName).attr("gslabel",zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")),_jQueryGS(menuEl.rlabel).css("display","none"),_jQueryGS(menuEl.receiver).css("display","none"),_jQueryGS(menuEl.content).empty(),null!=isPreviewCard&&isPreviewCard&&(isPreviewCard.hasOwnProperty("wsName")&&(workspaceName=isPreviewCard.wsName||"",_jQueryGS(menuEl.receiver).empty().text(workspaceName).attr("gstitle",workspaceName).attr("gslabel",zgssearch.getI18NMsg("gs.search.multi.database")),_jQueryGS(menuEl.rlabel).css("display","block"),_jQueryGS(menuEl.receiver).css("display","block")),0==resObj.ty&&isPreviewCard.hasOwnProperty("actualContent")&&(_jQueryGS(menuEl.content).append(isPreviewCard.actualContent),resObj.domainAdded||gswiki.checkWikiDataAndAddDomain(menuEl.content,resObj,isPreviewCard),zgssearch.preventStylesFromParentDomain(menuEl.content))),_jQueryGS(menuEl.wikidownload).css("display","none"),1==resObj.ty&&_jQueryGS(menuEl.wikidownload).css("display","block"),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block"));isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gswiki.addCalloutActionList(menuEl,resObj),gswiki.setWikiCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gswiki.addCalloutActionList=function(menuEl,resObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gswiki.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"download"===key&&1!=resObj.ty||!zgssearch.savePreviewNeeded(key)||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.WIKI,gstitle:dectext}).text(dectext))}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.WIKI)},gswiki.downloadWikiDocument=function(downloadURL){downloadURL=gswiki.openWikiResult(downloadURL,!0);zgssearch.network.download_file(downloadURL)},gswiki.openWikiResult=function(wikiCateId,isdownload,pageTitle){var docId=wikiCateId.doc_id||pageTitle[zgssearch.entity_id],wikiId=wikiCateId.wId||pageTitle[zgssearch.account_id],topicType=wikiCateId.ty,url=wikiCateId.pId,pageTitle=wikiCateId.title,wikiCateId=wikiCateId.wcId;if(void 0!==wikiId&&""!==wikiId&&"null"!==wikiId&&wikiCateId){url=GSConstant.GS_WIKI_URL+"/searchurl?docId="+docId+"&catId="+wikiCateId+"&wikiId="+wikiId+"&parentId="+url+"&type="+topicType;return!isdownload&&pageTitle&&"1"==topicType&&zgssearch.Utils.endsWithAny(pageTitle,[".xls",".xlsx",".ods","sxc",".doc",".docx",".sxw",".odt",".rtf",".odp",".pps",".ppt"])&&(url+="&m=edit"),url}},gswiki.checkWikiDataAndAddDomain=function(id,resObj,accId){var accId=resObj.accId||accId[zgssearch.account_id]||zgssearch.getResultAccountId(),wikiURL=gswiki.getTruncatedSchemaURL(),wikiName=resObj.wikiname||zgssearch.getFilterData(GSConstant.WIKI,"accounts","data",accId);_jQueryGS(id).find("img").each(function(){var oldImgSrc="";(oldImgSrc=this.getAttribute("src")&&""!=this.getAttribute("src")?this.getAttribute("src"):oldImgSrc)&&0===oldImgSrc.indexOf("/")&&_jQueryGS(this).attr("src",zgssearch.httpstxt+"://"+wikiName+"."+wikiURL+oldImgSrc)}),_jQueryGS(id).find("a").each(function(){var extra,oldImgSrc=this.getAttribute("href");oldImgSrc&&(0!=oldImgSrc.indexOf("http")&&0!=oldImgSrc.indexOf("mailto:")&&0!=oldImgSrc.indexOf("#")&&(extra=0==oldImgSrc.indexOf("/")?"":"/",_jQueryGS(this).attr("href",zgssearch.httpstxt+"://"+wikiName+"."+wikiURL+extra+oldImgSrc)),this.removeAttribute("onclick"),this.setAttribute("target","_blank"),this.setAttribute("rel","noopener noreferrer"))})},gswiki.getTruncatedSchemaURL=function(){var wikiURL=GSConstant.GS_WIKI_URL;if(wikiURL.indexOf(zgssearch.httpstxt+"://")<=0)return wikiURL=wikiURL.substring(wikiURL.indexOf(zgssearch.httpstxt+"://")+8,wikiURL.length)},gswiki.calloutErrorMsg=function(msg,curCalloutObj){var isPreviewCard=zgssearch.isPreviewCard(curCalloutObj);(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||isPreviewCard)&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.wiki.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gswiki.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsWikiCallout");zgssearch.setGSTagElems(menuEl),gswiki.setWikiCalloutEleSize(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gswiki.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),accId=resObj.accId||zgssearch.getResultAccountId();return{entity_id:resObj.doc_id,wikiCatId:resObj.wcId,type:resObj.ty,account_id:accId,url:encodeURI(zgssearch.gswiki.openWikiResult(resObj,!1))}},gswiki)}(zgssearch,window),function(zgssearch,window){var document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsnotebook=function(gsnotebook){(gsnotebook=zgssearch.gsnotebook||{}).actionList=[{open:"common.open",copyLink:"gs.search.callout.copylink",savePreview:"gs.search.callout.savePreviewCard"}];var gsnotebookresults=zgssearch.gsnotebookresults||{};return gsnotebook.getCalloutHolder=function(){return"zgs20_gsNoteBookCallout"},gsnotebook.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.getFourDotLoader("zgs20_gsNoteBookPrevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader"),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.NOTEBOOK,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.NOTEBOOK),service:GSConstant.NOTEBOOK})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.NOTEBOOK})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.NOTEBOOK})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.NOTEBOOK}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"startedBy"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader",gs:"nbNField"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid25Px"}).text(zgssearch.getI18NMsg("gs.search.service_people.status.in",!0)))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid310Px"}).append(_jQueryGS("<span>",{gs:"nbN"}))))))).append(_jQueryGS("<div>",{class:"zgs19_gsw100h100 zgs19_gsMetaCalloutFooter zgs19_gsOverflowHidden",id:"zgs20_gsNoteBookPreviewHolder",gs:"previewHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsOverflowHidden zgs19_gsDisplayNone zgs19_gsw100h100",id:"zgs20_gsNotebookPreviewLoader",gs:"previewLoader"}).append(dcallout)).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",id:"zgs20_gsNotebookBtnContent",gs:"notebookBtnCont"}).append(_jQueryGS("<div>",{class:"zgs19_gsPreviewTxt",gs:"notebookPageTxt"}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_preview_page")).append(_jQueryGS("<div>",{class:"zgs19_gsTabOpenBtn",gs:"notebookPage",service:GSConstant.NOTEBOOK}).text(zgssearch.getI18NMsg("gs.search.result.website.callout.open_page")))))).append(_jQueryGS("<div>",{class:"zgs19_gsDisplayNone",gs:"notebookIEContent"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutErrorMsg"}).text(zgssearch.getI18NMsg("gs.e.common.iesupportmsg")))),_jQueryGS(curCalloutObj.parentElem).append(dcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsnotebook.showContentLoader=function(menuEl){_jQueryGS(menuEl.previewLoader).css("display","block")},gsnotebook.hideContentLoader=function(menuEl){_jQueryGS(menuEl.previewLoader).css("display","none")},gsnotebook.calloutResponse=function(resObj,author,noteCardId){var startedBy,url,curCalloutObj=noteCardId.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(author),zgssearch.gsnotebookresults.unSupportedBrowser?(_jQueryGS("#zgs20_gsNoteBookCallout").children().css("display","none"),_jQueryGS(menuEl).css("display","block"),_jQueryGS(menuEl.notebookIEContent).css("display","block")):(gsnotebookresults.nbClient.process(resObj),noteCardId=gsnotebookresults.nbClient.getTitle()||resObj.name||zgssearch.getI18NMsg("gs.r.nb.untitled"),_jQueryGS(menuEl.ctitle).text(noteCardId).attr("gstitle",noteCardId),_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.NOTEBOOK,resObj)),author&&(startedBy=_jQueryGS(author.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",startedBy)),noteCardId="zgs20_gsDocsCalloutUserImg"+_jQueryGS(menuEl).attr("ccount"),(author=_jQueryGS(menuEl.authorPhoto)).attr("src",zgssearch.gsspacer),author.attr("class","zgs19_gsFetchLoader"),author.attr("id",noteCardId),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),startedBy=zgssearch.getThumbPhotoURL(zgssearch.GSConstant.cuz),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "),zgssearch.renderCalloutUserPhoto(noteCardId,startedBy),author=zgssearch.GSConstant.cun,noteCardId=gsnotebookresults.nbClient.getDate()||"",startedBy=zgssearch.getI18NMsg("common.owned_by"),_jQueryGS(menuEl.startedBy).html("").text(startedBy).attr("gstitle",startedBy),_jQueryGS(menuEl.owner).html("").text(author).attr("gstitle",author),_jQueryGS(menuEl.date).html("").text(noteCardId).attr("gslabel",zgssearch.getI18NMsg("gs.search.sevice_docs_lastModifiedTime")).attr("gstitle",noteCardId),gsnotebook.setPreviewBtnPosition(menuEl),gsnotebook.addCalloutActionList(menuEl),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),_jQueryGS(menuEl.previewHolder).children().css("display","none"),(noteCardId=zgssearch.isPreviewCard(curCalloutObj))?_jQueryGS(menuEl.owner).removeClass("zgs19_gsCurPointer"):_jQueryGS(menuEl.owner).addClass("zgs19_gsCurPointer"),(zgssearch.getCurrentSelectedElem()||zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||noteCardId)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).css("display","block")),gsnotebook.showContentLoader(menuEl),noteCardId=resObj.notecard_id,_jQueryGS(menuEl.nbNField).css("display","none"),!noteCardId||""!==(url=resObj.nbN)&&(_jQueryGS(menuEl.nbN).text(url).attr("gstitle",url),_jQueryGS(menuEl.nbNField).css("display","block")),gsnotebookresults.nbClient.isNewTabLoad()||zgssearch.isEmbed?gsnotebook.obtainOpenBtn(menuEl):(url=gsnotebookresults.nbClient.getUrl(),gsnotebook.renderNoteBookPreview(url,menuEl,curCalloutObj)))},gsnotebook.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsnotebook.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);zgssearch.savePreviewNeeded(key)&&_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.NOTEBOOK,gstitle:dectext}).text(dectext))}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.NOTEBOOK)},gsnotebook.getNotebookResultURL=function(notebookAppURL){var notebookId=notebookAppURL.module,noteCardId=notebookAppURL.notecard_id||("notes"==notebookId?notebookAppURL[zgssearch.entity_id]:""),notebookId=notebookAppURL.notebook_id||("notebooks"==notebookId?notebookAppURL[zgssearch.entity_id]:""),notebookAppURL=GSConstant.GS_NOTEBOOK_URL+"/app/index.html#/notebooks/"+notebookId+"/notecards";return noteCardId?notebookAppURL+"/"+noteCardId:notebookId?notebookAppURL:void 0},gsnotebook.obtainOpenBtn=function(menuEl){_jQueryGS(menuEl.notebookBtnCont).css("display","block"),gsnotebook.hideContentLoader(menuEl),zgssearch.setGSTagElems(menuEl),gsnotebook.setPreviewBtnPosition(menuEl)},gsnotebook.setPreviewBtnPosition=function(menuEl){var actualCenterPosition=(_jQueryGS(menuEl.previewHolder).height()-(_jQueryGS(menuEl.notebookPageTxt).height()+20))/2;_jQueryGS(menuEl.notebookPageTxt).css("margin",actualCenterPosition+"px auto")},gsnotebook.renderNoteBookPreview=function(url,menuEl,curCalloutObj){if(zgssearch.isExtension){_jQueryGS(menuEl.previewHolder).show(),gsnotebook.hideContentLoader(menuEl);var curSelectedEle={gs:"notebookApp",service:GSConstant.NOTEBOOK,previewHolder:"previewHolder",content:zgssearch.getI18NMsg("gs.search.result.notebook.callout.open_in_app")};zgssearch.obtainAppOpenBtn(menuEl,curSelectedEle)}else{curSelectedEle=zgssearch.getCurrentSelectedElem();gsnotebook.currCalloutCount=curSelectedEle.id;try{_jQueryGS(menuEl).find(".zgs19_gsNoteBookIframe").remove();var notebookprev=document.createElement("iframe");notebookprev.src=url;var previewId="zgs20_gsNbIframe_"+(curCalloutObj.hasOwnProperty("cardNum")?curCalloutObj.cardNum:"search");notebookprev.id=previewId,notebookprev.className="zgs19_gsNoteBookIframe zgs19_gsw100h100",notebookprev.gs="notebookCalloutData",zgssearch.Utils.addSandboxToEle(notebookprev),notebookprev.setAttribute("frameborder","0"),notebookprev.setAttribute("allowfullscreen","true"),notebookprev.onload=function(){setTimeout(function(){var curSelectedEle=zgssearch.getCurrentSelectedElem();(zgssearch.hasOwnProperty("pccomponent")&&zgssearch.pccomponent||gsnotebook.currCalloutCount===curSelectedEle.id)&&(zgssearch.calloutVisitRequest(),zgssearch.setScrollTopLeft(_jQueryGS("#"+previewId)),gsnotebook.hideContentLoader(menuEl),_jQueryGS(previewId).css("display","block"))},100)},notebookprev.onerror=function(){gsnotebook.calloutErrorMsg("",curCalloutObj)},_jQueryGS(menuEl.previewHolder).append(notebookprev)}catch(ex){zgssearch.throwClientError("Error while loading Notebook Page",ex),gsnotebook.calloutErrorMsg("",curCalloutObj)}}},gsnotebook.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.website.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsnotebook.setServiceEleSize=function(curResEleId,curResPageHeight,menuEl){menuEl=menuEl||zgssearch.getTargetElem("zgs20_gsNoteBookCallout");zgssearch.setGSTagElems(menuEl),gsnotebook.setPreviewBtnPosition(menuEl),curResEleId&&_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsnotebook.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj();return{entity_id:resObj.notecard_id||resObj.notebook_id,module:resObj.notecard_id?"notes":"notebooks"}},gsnotebook}(void 0)}(zgssearch,window),function(zgssearch,window){var gscampaign,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gscampaign=(gscampaign=void 0,(gscampaign=zgssearch.gscampaign||{}).actionList=[{open:"common.open"},{copyLink:"gs.search.callout.copylink"},{savePreview:"gs.search.callout.savePreviewCard"}],gscampaign.getCalloutHolder=function(){return"zgs20_gsCampaignCallout"},gscampaign.calloutParams=function(resObj){var camMod=resObj.accId||zgssearch.getResultAccountId(),service=resObj.serviceName||zgssearch.getCurSelectedEleAttr("service");switch(camMod){case"1":var camTy=resObj.cty,camId=resObj.cky,mail=resObj.accId||zgssearch.getResultAccountId();return"searchType="+service+"&campaigntype="+camTy+"&campaignkey="+camId+"&module=Campaigns&version="+(zgssearch.campaigns_version[mail]||"");case"2":mail=resObj.c_mail;return"searchType="+service+"&emailid="+encodeURIComponent(mail)+"&module=Contacts";case"3":return"searchType="+service+"&listKey="+resObj.lKey+"&module=Lists"}return""},gscampaign.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,concallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),concallout=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),concallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.CAMPAIGNS,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.CAMPAIGNS),service:GSConstant.CAMPAIGNS})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.CAMPAIGNS})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.CAMPAIGNS})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:concallout,gs:"minpreview",service:GSConstant.CAMPAIGNS}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons",gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl  zgs19_gsUserBackground zgs19_gsMxWid55Per",gs:"userBgColor"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"owner",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per zgs19_directionltr"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per",gs:"receiverLabel"}).append(_jQueryGS("<span>",{class:"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl",gs:"receiverin"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsCurPointer zgs19_gsMxWid75Per",gs:"receiver"})))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutFooter zgs19_gsOverflowHidden zgs19_gsCalloutPopUp",gs:"calloutFooter"}).append(_jQueryGS("<div>",{class:"zgs19_gscontPartHolder",gs:"calloutContentHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(_jQueryGS("<span>",{class:"zgs18_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"}))).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewHolder zgs19_gsPdfAtDark zgs19_gsDisplayNone",gs:"campaignpreviewHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(concallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gscampaign.setCampaignsCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-headerHeight-contentHeight;contentHeight-=_jQueryGS(menuEl.calloutFooter).outerHeight(!0)-_jQueryGS(menuEl.calloutFooter).height(),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gscampaign.calloutResponse=function(response,resObj,camMod,hrefer){var curCalloutObj=hrefer.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);if(zgssearch.setGSTagElems(menuEl),response&&null!=response){var ctitle=response.title||"";_jQueryGS(menuEl.ctitle).empty().text(ctitle).attr("gstitle",ctitle);var currService=resObj.accId||response[zgssearch.module_id]||_jQueryGS(camMod).attr("acc_id"),hrefer=zgssearch.fetchCalloutUrlByAccId(GSConstant.CAMPAIGNS,resObj,currService,response);_jQueryGS(menuEl.ctitle).attr("href",hrefer),camMod&&(prevfoldererr=_jQueryGS(camMod.resultTitle).attr("gslabel")||"",_jQueryGS(menuEl.ctitle).attr("gslabel",prevfoldererr));camMod=resObj.cct||resObj.ct||resObj.mD||"";_jQueryGS(menuEl.date).empty().text(camMod).attr("gstitle",camMod),_jQueryGS(menuEl.receiverLabel).show(),_jQueryGS(menuEl.contactsCalloutData).empty(),_jQueryGS(menuEl.campaignpreviewHolder).empty(),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsCalloutPopUp"),_jQueryGS(menuEl.owner).removeClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).removeClass("zgs19_gsUserBackground"),_jQueryGS(menuEl.receiver).removeClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.receiver).removeClass("zgs19_gsUserBackground"),_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsOverflowHidden").addClass("zgs19_gsVerticalScroll");var prevfoldererr=response.campaign_preview||resObj.cpr||"",camMod=currService;if("1"==camMod){var docsprev,currService=response.campaign_status||resObj.cst||"",statusTip=zgssearch.getI18NMsg("common.status");_jQueryGS(menuEl.receiver).empty().text(currService).attr("gstitle",currService),_jQueryGS(menuEl.receiverin).empty().text(statusTip.toLowerCase()).attr("gstitle",statusTip.toLowerCase()),_jQueryGS(menuEl.authorPhoto).attr("class","").addClass("zgs18_gsCampIcon zgs19_gsCampaignsCOImg"),ctitle=response.ES||response.AES||response.BES||resObj.title||"",_jQueryGS(menuEl.owner).empty().text(ctitle).attr("gstitle",ctitle),prevfoldererr&&"null"!=prevfoldererr?zgssearch.isExtension?(_jQueryGS(menuEl.campaignpreviewHolder).empty().show(),_jQueryGS(menuEl.loadericon).hide(),_jQueryGS(menuEl).show(),currService={gs:"campaignApp",service:GSConstant.CAMPAIGNS,previewHolder:"campaignpreviewHolder",content:zgssearch.getI18NMsg("gs.search.result.campaigns.callout.open_in_app")},zgssearch.obtainAppOpenBtn(menuEl,currService)):((docsprev=document.createElement("iframe")).src=gscampaign.formatCampaignPrevURL(prevfoldererr),docsprev.setAttribute("frameborder","0"),docsprev.setAttribute("allowfullscreen","true"),docsprev.className="zgs19_Border0px zgs19_gsDocsIframeTag",zgssearch.Utils.addSandboxToEle(docsprev),docsprev.onload=function(){setTimeout(function(){_jQueryGS(menuEl.campaignpreviewHolder).css("visibility","visible")},500)}):(_jQueryGS(menuEl.calloutFooter).removeClass("zgs19_gsVerticalScroll"),prevfoldererr=zgssearch.getI18NMsg("gs.search.campaign.callout.nocontent"),_jQueryGS(menuEl.campaignpreviewHolder).append(_jQueryGS("<div>",{class:"zgs19_gsDocsPreviewError",gstitle:prevfoldererr}).text(prevfoldererr)),_jQueryGS(menuEl.campaignpreviewHolder).css("visibility","visible")),_jQueryGS(menuEl.calloutContentHolder).hide(),_jQueryGS(menuEl.campaignpreviewHolder).append(docsprev).show()}else{if(_jQueryGS(menuEl.calloutContentHolder).show(),_jQueryGS(menuEl.campaignpreviewHolder).hide(),_jQueryGS(menuEl.owner).empty().text(ctitle).attr("gstitle",ctitle),_jQueryGS(menuEl.calloutFooter).addClass("zgs19_gsCalloutPopUp"),"2"==camMod){var mSenderTip=resObj.c_mail||response.CE||"";_jQueryGS(menuEl.receiverin).empty(),_jQueryGS(menuEl.receiverLabel).hide(),_jQueryGS(menuEl.receiver).empty().text(mSenderTip).attr("gstitle",mSenderTip),_jQueryGS(menuEl.authorPhoto).attr("class","").addClass("zgs18_gsCampContIcon zgs19_gsCampaignsCOImg"),response.CE=response.CE&&"null"!=response.CE?response.CE:mSenderTip;var emailField=["CE","SE"],urlField=["WE","FH","LH","TH"],cmetaData={NO:"common.notes",CI:"gs.search.campaign.callout.city",ST:"gs.search.campaign.callout.state",PH:"common.phone",MO:"common.mobile",CO:"gs.search.campaign.callout.country",AD:"common.address",ZC:"gs.search.campaign.callout.zipcode",WE:"common.website",JT:"gs.search.campaign.callout.job",CN:"gs.search.campaign.callout.company",CE:"gs.search.campaign.callout.email",CS:"gs.search.campaign.callout.campaignscore",TH:"gs.search.campaign.callout.twitter",FH:"gs.search.campaign.callout.facebook",LH:"gs.search.campaign.callout.linkedin",SE:"common.secondary_email"};for(ckey in response)cmetaData.hasOwnProperty(ckey)&&response[ckey]&&"null"!=response[ckey]&&(cval=(cval=response[ckey]||"").replace(/\n|\r/g," "),clabel=zgssearch.getI18NMsg(cmetaData[ckey]),-1!=emailField.indexOf(ckey)?zgssearch.renderContactsEmailId(menuEl,menuEl.contactsCalloutData,clabel,cval):-1!=urlField.indexOf(ckey)?zgssearch.renderInstantORWebInfo(menuEl,menuEl.contactsCalloutData,"url",clabel,cval.split()):zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,clabel,cval));"search"==curCalloutObj.type&&_jQueryGS(menuEl.owner).addClass("zgs19_gsCurPointer"),_jQueryGS(menuEl.userBgColor).addClass("zgs19_gsUserBackground")}else if("3"==camMod){mSenderTip=resObj.oNam||"",statusTip=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy",!0);_jQueryGS(menuEl.receiver).empty().text(mSenderTip).attr("gstitle",mSenderTip),_jQueryGS(menuEl.receiverin).empty().text(statusTip).attr("gstitle",statusTip),_jQueryGS(menuEl.authorPhoto).attr("class","").addClass("zgs18_gsCampListIcon zgs19_gsCampaignsCOImg"),_jQueryGS(menuEl.receiver).addClass("zgs19_gsUserBackground zgs19_gsCurPointer");var ckey,cval,clabel,contactStats=response.CS||{};for(ckey in cmetaData={no_of_active:"common.contact",no_of_unsub:"gs.search.campaign.callout.unsubscribes",sent_count:"gs.search.service_campaigns",no_of_bounce:"gs.search.campaign.callout.bounces"})contactStats.hasOwnProperty(ckey)&&"null"!=contactStats[ckey]&&(cval=""+(contactStats[ckey]||"0"),clabel=zgssearch.getI18NMsg(cmetaData[ckey]),zgssearch.renderContactsInfo(menuEl,menuEl.contactsCalloutData,clabel,cval))}0<_jQueryGS(menuEl).find(".zgs19_gsCalloutDocsUserInfo").length?_jQueryGS(menuEl.lineicon).show():_jQueryGS(menuEl.lineicon).hide()}curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show()),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0)}else gscampaign.calloutErrorMsg("",curCalloutObj);gscampaign.addCalloutActionList(menuEl),gscampaign.setCampaignsCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gscampaign.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gscampaign.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);zgssearch.savePreviewNeeded(key)&&_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.CAMPAIGNS,gstitle:dectext}).text(dectext))}}zgssearch.Utils.constructSaveBookmarkInCallout(actionList,GSConstant.CAMPAIGNS)},gscampaign.formatCampaignPrevURL=function(url){var urlHost,campaignHost;return-1<(url=0!=(url=0==url.indexOf(".")?url.substr(1):url).indexOf("http")?zgssearch.httpstxt+"://"+url:url).indexOf(".localzoho.")&&(urlHost=zgssearch.getURLHostName(url),campaignHost=zgssearch.getURLHostName(GSConstant.GS_CAMPAIGN_URL),url=url.replace(urlHost,campaignHost)),url+"&"+zgssearch.originParam},gscampaign.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.campaign.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gscampaign.openCampaignsResult=function(resObj,accId,calloutResp){var url=GSConstant.GS_CAMPAIGN_URL+"/home.do?";switch(accId=accId||calloutResp[zgssearch.module_id]){case"1":case"Campaigns":url+="campaignkey="+(resObj.cky||calloutResp.cky||resObj[zgssearch.entity_id]);break;case"2":case"Contacts":url+="contactid="+(resObj.cid||calloutResp.cid);break;case"3":case"Lists":url+="listkey="+(resObj.lKey||calloutResp.lKey||resObj[zgssearch.entity_id])}return url},gscampaign.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsCampaignCallout");zgssearch.setGSTagElems(menuEl),gscampaign.setCampaignsCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gscampaign.getPreviewCrdParams=function(){var resObj=zgssearch.getCurrentResObj(),mod=resObj.accId||zgssearch.getResultAccountId(),prevCrdObj={module:mod};switch(mod){case"1":var accId=resObj.accId||zgssearch.getResultAccountId();prevCrdObj.cty=resObj.cty,prevCrdObj[zgssearch.entity_id]=resObj.cky,prevCrdObj.version=zgssearch.campaigns_version[accId]||"",prevCrdObj[zgssearch.module_id]="Campaigns";break;case"2":prevCrdObj[zgssearch.entity_id]=encodeURIComponent(resObj.c_mail),prevCrdObj[zgssearch.module_id]="Contacts",prevCrdObj.cid=resObj.cid;break;case"3":prevCrdObj[zgssearch.entity_id]=resObj.lKey,prevCrdObj[zgssearch.module_id]="Lists"}return prevCrdObj},gscampaign)}(zgssearch,window),function(zgssearch,window){var gso365mail,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gso365mail=(gso365mail=void 0,(gso365mail=zgssearch.gso365mail||{}).curcalloutObj=gso365mail.curcalloutObj||{},gso365mail.actionList=[{open:"common.open"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{copyLink:"gs.search.callout.copylink"}],gso365mail.getCalloutHolder=function(){return"zgs20_gsOutlookcallout"},gso365mail.calloutParams=function(resObj){var conId=zgssearch.getCurrentSelectedElem()||{},conId=resObj.accId||conId.getAttribute("acc_id")||"";return"action=getO365MailOneTimeURL&service_name=o365mail&connector_id="+conId+"&msgId="+(resObj.id||"")+"&domName="+(window.location.protocol+"//"+window.location.host)+"&app_id="+zgssearch.getAppIdForCloudApps(conId)+"&isWDEnabled="+zgssearch.addToWDEnabled()},gso365mail.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,extimgtip,extimgtext,shrinkedtext,mcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),extimgtip=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),extimgtext=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_text"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),shrinkedtext=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_text"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.O365MAIL,gs:"attachIcon"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.O365MAIL,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.O365MAIL),service:GSConstant.O365MAIL})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.O365MAIL})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.O365MAIL})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.O365MAIL}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid5Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid45Per",gs:"toaddress"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid25Per"}).append(_jQueryGS("<span>",{gs:"rfolder"}))))))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutFooArea",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gso365mailCalloutFooter zgs19_gsHt88Per",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:extimgtext}).text(extimgtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:extimgtip}).text(extimgtip))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:GSConstant.O365MAIL,gstitle:shrinkedtext}).text(shrinkedtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:mcallout}).text(mcallout))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gso365mail.setO365MailCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight);zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px")},gso365mail.calloutResponse=function(url,resObj,curRe={},labelTxt){var title=resObj.subject||zgssearch.getI18NMsg("gs.search.result.mail.subject"),curCalloutObj=labelTxt.searchObj;gso365mail.curcalloutObj=curCalloutObj;var menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);var toOthersCount=_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.O365MAIL,resObj,"",url));labelTxt=_jQueryGS(curRe.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",labelTxt),_jQueryGS(menuEl.ctitle).text(title),_jQueryGS(menuEl.attachIcon).css("display","none"),resObj.hasAttachments&&_jQueryGS(menuEl.attachIcon).css("display","block");toOthersCount="zgs20_gsO365MailCalloutUserImg"+toOthersCount;_jQueryGS(menuEl.authorPhoto).attr("id",toOthersCount),zgssearch.renderCalloutNoUserPhoto(toOthersCount);toOthersCount=resObj.sender_mail||resObj.sender_name||"-na-";_jQueryGS(menuEl.slabel).text(zgssearch.getI18NMsg("common.from")),_jQueryGS(menuEl.sender).text(toOthersCount);toOthersCount=resObj.toRecipients[0]||"",toOthersCount=toOthersCount.hasOwnProperty("emailAddress")?toOthersCount.emailAddress:"",toOthersCount=toOthersCount.hasOwnProperty("address")?toOthersCount.address:toOthersCount.hasOwnProperty("name")?toOthersCount.name:"-na-";_jQueryGS(menuEl.rlabel).text(zgssearch.getI18NMsg("common.to")).attr("gstitle",zgssearch.getI18NMsg("common.to")),_jQueryGS(menuEl.receiver).text(toOthersCount).attr("gstitle",toOthersCount),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove(),_jQueryGS(menuEl.toaddress).css("maxWidth","60%");toOthersCount=resObj.bccRecipients.length+resObj.ccRecipients.length+resObj.toRecipients.length-1;0<toOthersCount&&(_jQueryGS(menuEl.toaddress).css("maxWidth","50%"),mailResp=zgssearch.gsmails.getTotalEmailCount(toOthersCount),_jQueryGS(menuEl.tolink).append(_jQueryGS("<div>",{class:"zgs19_gsOverflow",gstitle:mailResp}).text(mailResp)).show(),gso365mail.loadToOthersList(menuEl,resObj.toRecipients,resObj.ccRecipients,resObj.bccRecipients));var mailResp=resObj.date||"";_jQueryGS(menuEl.date).text(mailResp);mailResp=resObj.folderName||"";_jQueryGS(menuEl.rfolder).text(mailResp).attr("gstitle",mailResp);mailResp=url.response,url=mailResp.url;mailResp.hasOwnProperty("status")&&"success"==mailResp.status&&gso365mail.renderIframePreview(resObj,menuEl,url),(zgssearch.getCurrentSelectedElem()||zgssearch.isPreviewOpenedInComponent)&&(_jQueryGS(menuEl).show(),!1===resObj.isRead&&gso365mail.toggleMailStatus("read",curRe,resObj,curCalloutObj.calloutId)),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gso365mail.addCalloutActionList(menuEl),gso365mail.setO365MailCalloutEleSize(menuEl),zgssearch.calloutVisitRequest()},gso365mail.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gso365mail.renderToOthersList(toAddr,zgssearch.getI18NMsg("common.to")),gso365mail.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gso365mail.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gso365mail.renderToOthersList=function(emailList,label){if(emailList&&0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),alistLen=emailList.length,i=0;i<alistLen;i++){var comma=i+1===emailList.length?"":",",mailAddressObj=emailList[i],mailAddressObj=(mailAddressObj.emailAddress.address||mailAddressObj.emailAddress.name,emailList[i].hasOwnProperty("emailAddress")?emailList[i].emailAddress:""),emailId=mailAddressObj.hasOwnProperty("address")?mailAddressObj.address:mailAddressObj.hasOwnProperty("name")?mailAddressObj.name:"";emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:emailId}).text(emailId+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}},gso365mail.renderIframePreview=function(resObj,menuEl,iframeUrl){var o365MailPreview=document.createElement("iframe");o365MailPreview.id="zgs20_o365MailIframePrev";iframeUrl=iframeUrl+"&"+zgssearch.originParam;o365MailPreview.src=iframeUrl||"",o365MailPreview.sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts",o365MailPreview.className="zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor",o365MailPreview.setAttribute("frameborder","0"),o365MailPreview.setAttribute("allowfullscreen","true"),o365MailPreview.onload=function(){setTimeout(function(curcalloutObj){zgssearch.hideCalloutLoader(curcalloutObj)},500,gso365mail.curcalloutObj)},_jQueryGS(menuEl.calloutFooter).empty().append(o365MailPreview)},gso365mail.downloadAttachment=function(ud_download_url,download_obj){var msgId=(download_obj=download_obj&&0<Object.keys(download_obj).length?download_obj:zgssearch.getCurrentResObj()).id||"",conId=download_obj.accId||zgssearch.getCurSelectedEleAttr("acc_id")||"",download_url=zgssearch.getAppIdForCloudApps(conId),download_obj={};download_obj.connector_id=conId,download_obj.service_name="o365mail",download_obj.action="getO365UDAttachmentUrl",download_obj.isExAttachment=!0,download_obj.msgId=msgId,download_obj.attachmentId=ud_download_url,download_obj.app_id=download_url;ud_download_url=zgssearch.GSConstant.ud_download_server_url,download_url=zgssearch.GSConstant.ud_service_name,download_url=ud_download_url+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+JSON.stringify(download_obj)+"&x-service="+download_url;zgssearch.network.download_file(download_url)},gso365mail.addToWD=function(resObj,attachId,folderId){var paramObj={};paramObj.service=zgssearch.GSConstant.O365MAIL,paramObj.attachId=attachId,paramObj.folderId=folderId,paramObj.connectorId=zgssearch.curSelectedEle.getAttribute("acc_id")||"",zgssearch.connectors.addFileToWD(paramObj,resObj)},gso365mail.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsOutlookcallout");zgssearch.setGSTagElems(menuEl),gso365mail.setO365MailCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gso365mail.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gso365mail.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.O365MAIL,gstitle:dectext}).text(dectext))}}},gso365mail.toggleMailStatus=function(action,curRe,resObj,calloutId,target){var conId,msgId,isRead,zsoid;curRe&&(conId=zgssearch.getCurrentSelectedElem().getAttribute("acc_id")||"",msgId=resObj.id,isRead=!0,"read"==action?isRead=!0:"unread"==action&&(isRead=!1),zsoid=zgssearch.getAppIdForCloudApps(conId),zgssearch.uri(zgssearch.POST,"/zgssearch/exconnector/getCalloutData","action=updateReadStatus&service_name=o365mail&connector_id="+conId+"&msgId="+msgId+"&isRead="+isRead+"&app_id="+zsoid,{curRe:curRe,resObj:resObj,action:action,accountId:conId,msgId:msgId,calloutId:calloutId,target:target},function(data,status,xhr){gso365mail.markAsReadOrUnreadAction(data,action,curRe,resObj,calloutId,target)}))},gso365mail.markAsReadOrUnreadAction=function(vtext,action,curRe,resObj,toBeChangeCls,target){var menuEl,toBeRemoveCls,toBeChangeTitle;!vtext||"null"===vtext||"success"==((toBeRemoveCls=zgssearch.jsonParse(vtext))&&toBeRemoveCls.response||"").status&&curRe&&(menuEl="",menuEl=target?zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"):zgssearch.getTargetElem(toBeChangeCls),vtext=toBeChangeTitle="","read"==action?toBeChangeTitle=zgssearch.getMailImageStatus(0):"unread"==action&&(toBeChangeTitle=zgssearch.getMailImageStatus(1)),toBeRemoveCls=toBeChangeTitle.image,toBeChangeCls=toBeChangeTitle.toBeImage,toBeChangeTitle=toBeChangeTitle.toBeTitle,_jQueryGS(curRe.resultMenuItem).attr("gstitle",toBeChangeTitle),"read"==action?(resObj.isRead=!0,_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&_jQueryGS(target).attr("value","unread").attr("gstitle",vtext).text(vtext)):"unread"==action&&(resObj.isRead=!1,_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsRead"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&_jQueryGS(target).attr("value","read").attr("gstitle",vtext).text(vtext)))},gso365mail.calloutErrorMsg=function(error,curCalloutObj){var msg;zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj,msg),msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gso365mail)}(zgssearch,window),function(zgssearch,window){var gsslack,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsslack=(gsslack=void 0,(gsslack=zgssearch.gsslack||{}).actionList=[{open:"common.open"},{continue:"gs.search.result.chat.viewtranscript_dialog.continue"},{copyLink:"gs.search.callout.copylink"}],gsslack.getCalloutHolder=function(){return"zgs20_gsSlackCallout"},gsslack.calloutParams=function(resObj,cargparam){var cid=zgssearch.getCurrentSelectedElem(),cid=resObj.CONNECTOR_ID||resObj.accId||cid.getAttribute("acc_id");return"action=getSlackCallout&channel="+(resObj.conid||resObj.id||"")+"&service_name=slack&connector_id="+cid+"&time="+(resObj.slacktm||"")+"&r_type="+(resObj.result_type||"")+"&islist="+gsslack.getIfListView(cargparam.searchObj)+"&app_id="+zgssearch.getAppIdForCloudApps(cid)},gsslack.getIfListView=function(ocardId){return zgssearch.isDashboardViewOpened()?(ocardId=ocardId.cardId,ocardId=zgssearch.gscardinDb.getOriginalCardId(ocardId),!zgssearch.gscardinDb.getFilterVal(zgssearch.gsdbUtils.cardIdsVsObject[ocardId].cardconfig,"zs_query")[0]):zgssearch.isPreviewOpenedInComponent||zgssearch.isListViewSearch()},gsslack.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,dcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),dcallout=zgssearch.GSConstant.SLACK.substring(0,1).toUpperCase()+zgssearch.GSConstant.SLACK.substring(1),dcallout=zgssearch.I18N.getValue("gs.con.continue.chat.title",[dcallout]),dcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",service:GSConstant.SLACK,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",service:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsContinueChat zgs19_gsCurPointer zgs19_gsfr zgs19_gsOverflow",gstitle:dcallout,gs:"slackcontinuechat",service:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.SLACK})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.SLACK}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})).append(_jQueryGS("<span>",{class:"zgs19_gsFetchLoader",gs:"authorPhotoSpan"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid55Per"}).append(_jQueryGS("<span>",{gs:"author"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid70Per"}).append(_jQueryGS("<span>",{gs:"partCount"}))))))).append(_jQueryGS("<div>",{gs:"calloutFooter",class:"zgs19_gsPadBotLeft10"}).append(_jQueryGS("<div>",{id:"zgs20_gsSlackPreviewHolder",class:"zgs19_gsSlkPreviewHolder zgs19_gsOvfwYAuto",gs:"slackpreviewHolder"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox zgs19_gsOverflow",gstitle:dcallout,gs:"slackcontinuechat",service:GSConstant.SLACK}).text(dcallout))),_jQueryGS(curCalloutObj.parentElem).append(dcallout)),_jQueryGS("#"+calloutId).attr("ccount",count)},gsslack.setSlackCalloutEleSize=function(menuEl){var headerHeight=_jQueryGS(menuEl.header).height(),metaInfoHeight=_jQueryGS(menuEl.metaInfo).height(),result_type=_jQueryGS(menuEl.slackcontinuechat).height()+40,result_type=_jQueryGS(menuEl).height()-(headerHeight+metaInfoHeight+result_type);zgssearch.isMobViewport()&&(result_type-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",result_type+"px");result_type=zgssearch.getCurrentResObj().result_type||"";_jQueryGS("#zgs20_gsCqC2").parent().removeClass("zgs19_gsDisplayNone"),2==result_type&&_jQueryGS("#zgs20_gsCqC2").parent().addClass("zgs19_gsDisplayNone")},gsslack.calloutResponse=function(msgArr,resObj,participants_text={},argObj){var group_icon="",paramsObj="",actualCenterPosition=0,curCalloutObj=argObj.searchObj,menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(participants_text);var rType=resObj.result_type||"",creBy=resObj.title||"";msgArr&&(paramsObj=msgArr.response||{});var modType=resObj.module_id||paramsObj.module_id||"",pcount=resObj.p_uname||resObj.cname||resObj.cby||"";3!=rType&&2!=rType||(pcount=resObj.h_uname||pcount),_jQueryGS(menuEl.author).empty().text(pcount).attr("gstitle",pcount).attr("gslabel",zgssearch.getI18NMsg("gs.search.filter.cliq.title")),_jQueryGS(menuEl.ctitle).empty().text(creBy).attr("gstitle",creBy).attr("href",zgssearch.fetchCalloutUrl(GSConstant.SLACK,resObj,"",msgArr));var icon_title=_jQueryGS(participants_text.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",icon_title),_jQueryGS(menuEl.clink).attr("gstitle",zgssearch.getNewTabTip(GSConstant.SLACK));var participants_gstitle_value=resObj.time||"-";_jQueryGS(menuEl.date).empty().text(participants_gstitle_value).attr("gstitle",participants_gstitle_value).attr("gslabel",zgssearch.getI18NMsg("gs.search.result.lastReplied"));pcount=resObj.mcount||"",creBy=resObj.cby||"";_jQueryGS(menuEl.partCount).empty();participants_text="",icon_title="",participants_gstitle_value="";"1"!=modType&&"5"!=modType&&(participants_gstitle_value=pcount&&2<pcount?(participants_text=pcount+" "+zgssearch.getI18NMsg("gs.search.result.chat.callout.participants"),icon_title=zgssearch.getI18NMsg("gs.search.filter.cliq.participantsCount"),pcount):creBy?(participants_text=creBy,icon_title=zgssearch.getI18NMsg("gs.search.sevice_docs_createdBy"),creBy):(participants_text=resObj.module_name||paramsObj.module_name||"",icon_title=zgssearch.getI18NMsg("Module"),participants_text)),_jQueryGS(menuEl.partCount).text(participants_text).attr("class","zgs19_gsCatTxt").attr("gstitle",participants_gstitle_value).attr("gslabel",icon_title),_jQueryGS(menuEl.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),1!=modType&&5!=modType&&resObj.hasOwnProperty("conid")?2!=modType&&3!=modType&&4!=modType||(icon_title="",group_icon=(resObj.hasOwnProperty("is_priv")&&resObj.is_priv?resObj.is_priv:"")?"zgs18_gsSlackPrivateChannel":"zgs18_gsSlackPublicChannel",3==modType?icon_title=zgssearch.getI18NMsg("gs.search.filter.cliq.channel"):2!=modType&&4!=modType||(icon_title=zgssearch.getI18NMsg("gs.search.result.slack.callout.group")),_jQueryGS(menuEl.authorPhotoSpan).show(),_jQueryGS(menuEl.authorPhotoSpan).attr("class","zgs19_gsSlackCOImg "+group_icon),_jQueryGS(menuEl.authorPhotoSpan).attr("gstitle",icon_title),_jQueryGS(menuEl.authorPhoto).hide()):(_jQueryGS(menuEl.authorPhoto).show(),_jQueryGS(menuEl.authorPhoto).attr("class","zgs19_gsFetchLoader").attr("src",zgssearch.gsspacer),result_link="zgs20_gsChatCalloutUserImg"+(calloutCount=_jQueryGS(menuEl).attr("ccount")),_jQueryGS(menuEl.authorPhoto).attr("id",result_link),result_link=resObj.photo||paramsObj.photo,_jQueryGS(menuEl.authorPhoto).removeClass("zgs19_gsFetchLoader").addClass("zgs19_gsCalloutUserImg"),_jQueryGS(menuEl.authorPhoto).attr("src",result_link),_jQueryGS(menuEl.authorPhotoSpan).hide());var renType,result_link=resObj.link=resObj.link||"javascript:;";resObj.hasOwnProperty("conid")||"2"!=rType?msgArr?("success"==(paramsObj.status||"failed").toLowerCase()?(paramsObj=(msgArr=paramsObj.messages||"").length,_jQueryGS(menuEl.slackpreviewHolder).empty(),0==paramsObj&&"2"!=rType&&(paramsObj={service:GSConstant.SLACK,previewHolder:"slackpreviewHolder",text:zgssearch.I18N.getValue("gs.con.slack.create.conv"),btnTxt:""},zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)),zgssearch.gsslack.getMSGDOM(menuEl,msgArr,curCalloutObj),"2"==rType&&(renType=_jQueryGS("<div>",{class:"zgs19_gstac zgs19_gsHgt300Px",gs:"slackFileTy"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsFileCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(resObj.title)).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeSize"}).append(_jQueryGS("<span>").append("size - ")).append(_jQueryGS("<span>").append(resObj.size))).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:result_link}).append(zgssearch.I18N.getValue("common.open")))),_jQueryGS(menuEl.slackpreviewHolder).append(renType),zgssearch.setGSTagElems(menuEl),actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-_jQueryGS(menuEl.slackFileTy).height())/2)):zgssearch.gsslack.setErrorResponse(menuEl,resObj),_jQueryGS(menuEl.slackpreviewHolder).css("margin",actualCenterPosition+"px auto")):zgssearch.gsslack.setEmptyResponse(menuEl,resObj):(renType=_jQueryGS("<div>",{class:"zgs19_gstac zgs19_gsHgt300Px",gs:"slackFileTy"}).append(_jQueryGS("<div>",{class:"zgs19_gsResultsUniIcons zgs19_gsFileCalloutIcon",src:zgssearch.gsspacer})).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeName"}).text(resObj.title)).append(_jQueryGS("<div>",{class:"zgs19_gsFileTypeSize"}).append(_jQueryGS("<span>").append("size - ")).append(_jQueryGS("<span>").append(resObj.size))).append(_jQueryGS("<div>",{class:"zgs19_gsInLineFlex"}).append(_jQueryGS("<a>",{class:"zgs19_gsFileTypeOpen",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:result_link}).append(zgssearch.I18N.getValue("common.open")))),_jQueryGS(menuEl.slackpreviewHolder).empty(),_jQueryGS(menuEl.slackpreviewHolder).append(renType),zgssearch.setGSTagElems(menuEl),actualCenterPosition=((_jQueryGS(menuEl.calloutFooter).height()||0)-_jQueryGS(menuEl.slackFileTy).height())/2,_jQueryGS(menuEl.slackpreviewHolder).css("margin",actualCenterPosition+"px auto")),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none")),(zgssearch.getCurrentSelectedElem()||zgssearch.isPreviewOpenedInComponent)&&(zgssearch.hideCalloutLoader(curCalloutObj),_jQueryGS(menuEl).show());var calloutCount=argObj.curCalloutCount;zgssearch.curCalloutCount==calloutCount&&setTimeout(function(){_jQueryGS(".zgs19_gsCqC2").css("margin-block-start","0px")},500),gsslack.addCalloutActionList(menuEl,resObj),gsslack.setSlackCalloutEleSize(menuEl),zgssearch.calloutVisitRequest(),_jQueryGS(menuEl.slackpreviewHolder).scrollLeft(0),_jQueryGS(menuEl.slackpreviewHolder).scrollTop(0)},gsslack.getMSGDOM=function(menuEl,messages_data,curCalloutObj){for(var resObj=zgssearch.getCurrentResObj(),messages_data_length=messages_data.length,is_search_results=!1,isList=gsslack.getIfListView(curCalloutObj),i=0;i<messages_data_length;i++){var message_info=messages_data[i],pos="",pad="",user="",renType="",fileAln="",fileCls="",uname="",fileCmt="",text_html="",date=message_info.date||"",msg=message_info.time||"",type=message_info.result_type||"",datefil=messages_data[i-1]||"",pDate=0<i?datefil.date:"",puname=0<i?datefil.h_uname:"";2!=datefil.result_type&&3!=datefil.result_type&&4!=datefil.result_type||(puname=datefil.files[0].h_uname||"");var nTime=i<messages_data_length-1?messages_data[i+1].time:"",is_high=message_info.is_high||!1,is_cuUser=!1,photo=0<(uname=message_info.files||"").length?uname[0]:{},is_search_results=!!is_high,highTxt="",uname=message_info.h_uname||"";(uname=2==type||3==type||4==type?photo.h_uname||"":uname)&&(user=(message_info.hasOwnProperty("is_cu")&&1==message_info.is_cu||photo.hasOwnProperty("is_cu")&&1==photo.is_cu)&&uname?(is_cuUser=!0,pad=fileCls="zgs19_gsMsgTxtBack",fileAln="zgs19_gsMsgFileAlnRht",_jQueryGS("<div>",{class:pos="zgs19_gsSlkCuser"}).append(_jQueryGS("<span>").append(zgssearch.getI18NMsg("gs.search.filter.cliq.you")))):(pos="zgs19_gsSlkuser",fileAln="zgs19_gsMsgFileAlnLft",fileCls="zgs19_gsMsgBc",photo=message_info.photo||resObj.photo||"https://contacts.zoho.com/file?ID=645626233&t=user&height=50&width=50&exp=360000",_jQueryGS("<div>").append(_jQueryGS("<img>",{class:"zgs19_gsMsgUserPhoto",src:photo})).append(_jQueryGS("<div>",{class:"zgs19_gsGrpChatUserName"}).append(document.createTextNode(uname)))),is_high&&(highTxt="zgs20_gsBlink")),uname&&puname==uname&&(user=""),(date&&0==i||pDate!=date)&&(datefil=_jQueryGS("<div>",{gs:"date",class:"zgs19_gsMsgDate"}).append(_jQueryGS("<span>",{class:"zgs19_gsMsgDateVal"}).append(date)),_jQueryGS(menuEl.slackpreviewHolder).append(datefil)),msg&&nTime==msg&&(msg="");var text=message_info.hasOwnProperty("txt")&&message_info.txt?message_info.txt:"";switch(""!==text&&(text=zgssearch.emoji.renderEmojis(text)),type){case 1:renType=_jQueryGS("<div>",{class:pos}).append(_jQueryGS("<div>",{class:"zgs19_gsMsg zgs19_gsMsgTxt "+pad,id:highTxt}).append(text));break;case 2:case 3:case 4:case 6:var cmtCls,renType=gsslack.attachmentRendering(fileAln,fileCls,highTxt,message_info);4!=type&&6!=type||(cmtCls=is_cuUser?"zgs19_gsMgRt20Px zgs19_gsInvT1R2_span zgs19_gsfl;":"",6==type?fileCmt=_jQueryGS("<div>",{class:"zgs19_gsMsgFileCmt zgs19_gsMgTop15Px "+cmtCls}).append(text):4==type&&(text_html=_jQueryGS("<div>",{class:"zgs19_gsMsgFileCmt "+cmtCls}).append(text)));break;case 5:renType=gsslack.renderAppNotification(pos,pad,highTxt,message_info)}msg=_jQueryGS("<div>",{gs:"msg",class:"zgs19_gsSlkMsg"}).append(user).append(fileCmt).append(renType).append(text_html).append(_jQueryGS("<div>",{class:"zgs19_gsFloatClear zgs19_gsSlkuser zgs19_gsSlkTime "+pos}).append(msg));_jQueryGS(menuEl.slackpreviewHolder).append(msg),(is_search_results||isList&&i==messages_data_length-1)&&gsslack.scrollToMatchedMsg(menuEl,is_high)}},gsslack.attachmentRendering=function(fileAln,fileCls,highTxt,marCls){for(var fileArr=marCls.files||"",type=marCls.result_type||"",marCls="",fullAttach=_jQueryGS("<div>",{class:"zgs19_gsSetCatDivsn zgs19_gsFloatClear",style:marCls=6!=type?"margin-top:15px;":marCls}),iterator=0;iterator<fileArr.length;iterator++){var renType=fileArr[iterator],fName=renType.name||"",fSize=renType.size||"",link=renType.link||"javascript:;";(renType.hasOwnProperty("is_cu")?renType.is_cu:"")&&fullAttach.css("justify-content","flex-end");var fileIcon=renType.servImg||"zgs19_writer",renType="",renType=_jQueryGS("<div>",{class:"zgs19_gsMsgFileType "+fileAln+" "+fileCls}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{class:"zgs19_gsFlex zgs19_gsPdng4Px",id:highTxt}).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileIcon"}).append(_jQueryGS("<span>",{class:"zgs19_gsResultsUniIcons "+fileIcon}))).append(_jQueryGS("<div>",{class:"zgs19_gsSlackFileContentDiv"}).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileCon"}).append(document.createTextNode(fName))).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileSize"}).append(fSize))).append(_jQueryGS("<div>",{class:"zgs19_gsMsgFileActions"}).append(_jQueryGS("<a>",{class:"zgs19_gsResultsUniIcons zgs19_gsOpenFile zgs19_gsCurPointer zgs19_gsfr",gs:"slackopen",target:"_blank",rel:"noopener noreferrer",href:link})))));fullAttach.append(renType)}return fullAttach},gsslack.renderAppNotification=function(pos,pad,highTxt,message_info){for(var fileAttach=message_info.attachments||[],fullAttach=_jQueryGS("<div>"),iterator=0;iterator<fileAttach.length;iterator++){var icon_text=fileAttach[iterator],authorName=icon_text.user||"",notificationMsg=icon_text.txt||"";""!==notificationMsg&&(notificationMsg=zgssearch.emoji.renderEmojis(notificationMsg));var appName=message_info.app_name||authorName||"",icon_text=zgssearch.getCapitalizedLtr(appName),renType=_jQueryGS("<div>",{class:pos}).append(_jQueryGS("<div>").append(_jQueryGS("<div>",{class:"zgs19_gsSlackAppNotificationIconOuter"}).append(_jQueryGS("<span>",{class:"zgs19_gsfl zgs19_gsSlackAppNotificationIconInner"}).append(icon_text))).append(_jQueryGS("<div>",{class:"zgs19_gsSlackAppNotificationName"}).append(appName))).append(_jQueryGS("<div>",{class:"zgs19_gsMsg zgs19_gsMsgTxt "+pad,id:highTxt}).append(_jQueryGS("<div>",{class:"zgs19_gsFontWeight600"}).append(authorName)).append(_jQueryGS("<div>").append(notificationMsg)));fullAttach.append(renType)}return fullAttach},gsslack.txthighBlink=function(menuEl){zgssearch.setGSTagElems(menuEl),_jQueryGS(menuEl).find("#zgs20_gsBlink").css("background-color","#b6b5b5").animate({"background-color":"#b6b5b5"},2e3,function(){_jQueryGS(menuEl).find("#zgs20_gsBlink").removeClass("zgs19_gsMsgTxtHighBack").addClass("zgs19_gsMsgTxt"),_jQueryGS(menuEl).find("#zgs20_gsBlink").css("background-color","")})},gsslack.scrollToMatchedMsg=function(menuEl,is_high){setTimeout(function(){var viewport_height,elem_top,slackPrevHeight;is_high?(viewport_height=_jQueryGS(menuEl.calloutFooter).height(),0<_jQueryGS(menuEl).find("#zgs20_gsBlink").length&&(elem_top=_jQueryGS(menuEl).find("#zgs20_gsBlink").position().top,slackPrevHeight=_jQueryGS(menuEl).find("#zgs20_gsBlink").outerHeight(),viewport_height<elem_top&&_jQueryGS(menuEl).find("#zgs20_gsSlackPreviewHolder").animate({scrollTop:elem_top+slackPrevHeight},1e3),is_high&&gsslack.txthighBlink(menuEl))):(slackPrevHeight=menuEl.getElementsByClassName("zgs19_gsSlkMsg")[menuEl.getElementsByClassName("zgs19_gsSlkMsg").length-1].offsetTop,_jQueryGS(menuEl).find("#zgs20_gsSlackPreviewHolder").animate({scrollTop:slackPrevHeight},1e3))},1e3)},gsslack.setErrorResponse=function(menuEl,resObj){var paramsObj={service:GSConstant.SLACK,previewHolder:"slackpreviewHolder",text:zgssearch.I18N.getValue("gs.search.error.msg"),btnTxt:""};zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)},gsslack.setEmptyResponse=function(menuEl,resObj){var paramsObj={service:GSConstant.SLACK,previewHolder:"slackpreviewHolder",text:zgssearch.I18N.getValue("gs.con.slack.create.conv")};zgssearch.Utils.obtainPageOpenBtn(menuEl,resObj,paramsObj)},gsslack.getContinueHTMLElem=function(){var continueChat=zgssearch.GSConstant.SLACK.substring(0,1).toUpperCase()+zgssearch.GSConstant.SLACK.substring(1),continueChat=zgssearch.I18N.getValue("gs.con.continue.chat.title",[continueChat]);return _jQueryGS("<div>",{class:"zgs19_gsCqC1 zgs19_gsBorderBox zgs19_gsOverflow"}).append(_jQueryGS("<div>",{id:"zgs20_gsCqC2",class:"zgs19_gsCqC2 zgs19_gsBorderBox zgs19_gsOverflow",gstitle:continueChat,gs:"slackcontinuechat",service:zgssearch.GSConstant.SLACK}).text(continueChat))},gsslack.calloutErrorMsg=function(msg,curCalloutObj){zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj),msg="ERROR"===msg?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.connector.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsslack.addCalloutActionList=function(menuEl,resObj){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsslack.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);"continue"==key&&"2"==resObj.result_type||"open"==key&&"2"!=resObj.result_type||_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.SLACK,gstitle:dectext}).text(dectext))}}},gsslack.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsSlackCallout");zgssearch.setGSTagElems(menuEl),gsslack.setSlackCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsslack)}(zgssearch,window),function(zgssearch,window){var gsgmail,document=window.document,_jQueryGS=window._jQueryGS,GSConstant=zgssearch.getGSConstantObj()||{};zgssearch.gsgmail=(gsgmail=void 0,(gsgmail=zgssearch.gsgmail||{}).curcalloutObj=gsgmail.curcalloutObj||{},gsgmail.actionList=[{open:"common.open"},{unread:"gs.search.sevice_mail_maskAsUnRead"},{copyLink:"gs.search.callout.copylink"}],gsgmail.getCalloutHolder=function(){return"zgs20_gsGmailCallout"},gsgmail.calloutParams=function(resObj){var conId=zgssearch.getCurrentSelectedElem().getAttribute("acc_id")||"";return"action=getGMailOneTimeURLCallout&service_name=gmail&connector_id="+conId+"&msgId="+(resObj.id||"")+"&domName="+(window.location.protocol+"//"+window.location.host)+"&app_id="+zgssearch.getAppIdForCloudApps(conId)+"&isWDEnabled="+zgssearch.addToWDEnabled()},gsgmail.createCalloutTemplate=function(count,curCalloutObj){var prevmaxtxt,prevmintxt,extimgtip,extimgtext,shrinkedtext,mcallout,calloutId=curCalloutObj.calloutId;_jQueryGS("#"+calloutId).length<=0&&(prevmaxtxt=zgssearch.getI18NMsg("gs.search.sevice_prevmax"),prevmintxt=zgssearch.getI18NMsg("gs.search.sevice_prevmin"),extimgtip=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),extimgtext=zgssearch.getI18NMsg("gs.search.sevice_mail_ext_img_text"),mcallout=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),shrinkedtext=zgssearch.getI18NMsg("gs.search.sevice_mail_shrinked_text"),mcallout=_jQueryGS("<div>",{id:calloutId,class:"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutHeader",gs:"header"}).append(_jQueryGS("<span>",{class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.GMAIL,gs:"attachIcon"})).append(_jQueryGS("<span>",{id:"zgs20_gmailAttachIcon",class:"zgs18_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:GSConstant.GMAIL,gs:"moveToGmailAttachArea"})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(_jQueryGS("<a>",{class:"zgs19_gsCalloutTitleLink",gs:"ctitle",istip:!0,service:GSConstant.GMAIL,target:"_blank",rel:"noopener noreferrer"}))).append(_jQueryGS("<span>",{class:"zgs18_gsNTab zgs19_gsCurPointer zgs19_gsfl",gs:"clink",gstitle:zgssearch.getNewTabTip(GSConstant.GMAIL),service:GSConstant.GMAIL})).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(_jQueryGS("<div>",{class:"zgs18_gsCloseIcon zgs19_gsCalloutActionMob zgs19_gsQueryCloseBox zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",gs:"closeBoxMob"})).append(_jQueryGS("<div>",{class:"zgs18_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist",gsa:GSConstant.GMAIL})).append(_jQueryGS("<div>",{class:"zgs19_gsMobDisableFields zgs19_gsfr",gs:"MobDisableFields"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutPipeSymbol zgs19_gsfr zgs19_gsDisplayNone",gs:"actionPipe"})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmaxtxt,gs:"maxpreview",service:GSConstant.GMAIL})).append(_jQueryGS("<div>",{class:"zgs18_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gstitle:prevmintxt,gs:"minpreview",service:GSConstant.GMAIL}))))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserPhoto"}).append(_jQueryGS("<div>",{class:"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(_jQueryGS("<img>",{class:"zgs19_gsFetchLoader",src:zgssearch.gsspacer,gs:"authorPhoto"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutMetaLeft"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"slabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid60Per"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"sender",istip:!0}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"date"})))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl zgs19_gsMxWid20Per"}).append(_jQueryGS("<span>",{gs:"rlabel"}))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl zgs19_gsUserBackground zgs19_gsMxWid60Per",gs:"toaddress"}).append(_jQueryGS("<span>",{class:"zgs19_gsCurPointer",gs:"receiver",istip:!0}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutDDList1",class:"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl zgs19_gsMxWid20Per",gs:"tolink"}))).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutUserLabelHeader",class:"zgs19_gsCalloutUserHeader"}).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",gs:"labelList"})))))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutFooArea",class:"zgs19_gsCalloutFooter zgs19_gsCalloutPopUp zgs19_gsgmailCalloutFooter zgs19_gsHt88Per",gs:"calloutFooter"}).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutExtImg",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"ext_img_text",gstitle:extimgtext}).text(extimgtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:extimgtip}).text(extimgtip))).append(_jQueryGS("<div>",{class:"zgs19_gsCalloutContentInfo",gs:"content"})).append(_jQueryGS("<div>",{id:"zgs20_gsMailCalloutshrinked",class:"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(_jQueryGS("<a>",{class:"zgs19_gsCurPointer",gs:"calloutActionOptions",value:"open",service:GSConstant.GMAIL,gstitle:shrinkedtext}).text(shrinkedtext)).append(_jQueryGS("<span>",{class:"zgs19_gsMailCalloutExtTip",gstitle:mcallout}).text(mcallout))).append(_jQueryGS("<div>",{id:"zgs20_gsMailsCalloutAttachInfo",class:"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"}))),_jQueryGS(curCalloutObj.parentElem).append(mcallout),zgssearch.attachDoubleClickPopUpEvent()),_jQueryGS("#"+calloutId).attr("ccount",count)},gsgmail.setGmailCalloutEleSize=function(menuEl){var headerHeight,contentHeight;menuEl&&(headerHeight=_jQueryGS(menuEl.header).height(),contentHeight=_jQueryGS(menuEl.metaInfo).height(),contentHeight=_jQueryGS(menuEl).height()-(headerHeight+contentHeight),zgssearch.isMobViewport()&&(contentHeight-=zgssearch.getLHSServicePaneHeight()),_jQueryGS(menuEl.calloutFooter).css("height",contentHeight+"px"))},gsgmail.calloutResponse=function(url,resObj,curRe,labelTxt){var mailResp=resObj.Subject||zgssearch.getI18NMsg("gs.search.result.mail.subject"),curCalloutObj=labelTxt.searchObj;gsgmail.curcalloutObj=curCalloutObj;var menuEl=zgssearch.getTargetElem(curCalloutObj.calloutId);zgssearch.setGSTagElems(menuEl),zgssearch.setGSTagElems(curRe);_jQueryGS(curRe).attr("acc_id");_jQueryGS(menuEl.ctitle).attr("href",zgssearch.fetchCalloutUrl(GSConstant.GMAIL,resObj));labelTxt=_jQueryGS(curRe.resultTitle).attr("gslabel")||"";_jQueryGS(menuEl.ctitle).attr("gslabel",labelTxt),_jQueryGS(menuEl.ctitle).text(mailResp);mailResp="zgs20_gsgmailCalloutUserImg"+_jQueryGS(menuEl).attr("ccount");_jQueryGS(menuEl.authorPhoto).attr("id",mailResp),zgssearch.renderCalloutNoUserPhoto(mailResp);var headerDivs=_jQueryGS.find(".zgs19_gsCalloutUserHeader");for(let i=0;i<headerDivs.length;i++)_jQueryGS(headerDivs[i]).css("display","block");mailResp=resObj.From||"";mailResp?(_jQueryGS(menuEl.slabel).text(zgssearch.getI18NMsg("common.from")).attr("gstitle",zgssearch.getI18NMsg("common.from")),_jQueryGS(menuEl.sender).text(mailResp).attr("gstitle",mailResp)):_jQueryGS(_jQueryGS(menuEl.slabel).parents().find(".zgs19_gsCalloutUserHeader")[0]).css("display","none");mailResp=resObj.To||"";mailResp?(_jQueryGS(menuEl.rlabel).text(zgssearch.getI18NMsg("common.to")).attr("gstitle",zgssearch.getI18NMsg("common.to")),_jQueryGS(menuEl.receiver).text(mailResp).attr("gstitle",mailResp)):_jQueryGS(_jQueryGS(menuEl.rlabel).parents().find(".zgs19_gsCalloutUserHeader")[1]).css("display","none"),_jQueryGS(menuEl.tolink).hide().empty(),_jQueryGS("#zgs20_gsDropdownToList").remove();mailResp=resObj.Date||"";_jQueryGS(menuEl.date).text(mailResp),_jQueryGS(menuEl.date).attr("gstitle",resObj.unformattedDate),_jQueryGS(menuEl.labelList).find(".zgs19_labelsList")&&_jQueryGS(menuEl.labelList).children().remove(".zgs19_labelsList");mailResp=zgssearch.getSearchType(),zgssearch.getCurrentValue("label",mailResp),zgssearch.getFilterInfo(GSConstant.GMAIL,"labels","data");let labelListDiv=_jQueryGS("<div>",{id:"zgs20_calloutGmailLabelList",class:"zgs19_labelsList zgs18_gmailLabelIcon"});_jQueryGS(menuEl.labelList).append(labelListDiv);mailResp=url.response,url=mailResp.url;mailResp.hasOwnProperty("status")&&"success"==mailResp.status&&gsgmail.renderIframePreview(resObj,menuEl,url),zgssearch.getCurrentSelectedElem()&&(_jQueryGS(menuEl).show(),!1===resObj.isRead&&gsgmail.toggleMailStatus("read",curRe,resObj,curCalloutObj.calloutId)),curCalloutObj.iconDisplay&&(_jQueryGS(menuEl.maxpreview).css("display","block"),_jQueryGS(menuEl.minpreview).css("display","none"),_jQueryGS(menuEl.actionPipe).css("display","block")),_jQueryGS(menuEl.calloutFooter).scrollTop(0),_jQueryGS(menuEl.calloutFooter).scrollLeft(0),gsgmail.addCalloutActionList(menuEl),gsgmail.setGmailCalloutEleSize(menuEl),zgssearch.calloutVisitRequest(),labelListDiv=_jQueryGS("#zgs20_calloutGmailLabelList");let labelIds=resObj.labelIds,targetElement=_jQueryGS("#zgs20_gsCalloutUserLabelHeader");targetElement.find(".zgs19_gsShowHiddenLabelCount").remove(),targetElement.find("#zgs20_gsGmailLabelsDropDownContainer").remove();var labelItem,totalWidth=_jQueryGS(targetElement.get(0)).outerWidth(!0);for(let i=0;i<labelIds.length;i++){if(dropdownLabelDiv=totalWidth-_jQueryGS(targetElement.get(0)).find(".zgs19_gsCalloutUserValue").outerWidth(!0),labelItem=labelIds[i],dropdownLabelDiv<.4*totalWidth){var moreLabelCount=labelIds.slice(i),dropdownLabelDiv=zgssearch.Template.getGmailHiddenLabelsDiv(moreLabelCount,"",!1),moreLabelCount=_jQueryGS("<span>",{class:"zgs19_gsShowHiddenLabelCount",gstitle:zgssearch.I18N.getValue("gs.search.result.mail.allLabels"),gs:"gmailLabelDropdown"}).text("+"+moreLabelCount.length);_jQueryGS(targetElement.get(0)).find(".zgs19_gsCalloutUserValue").append(moreLabelCount).append(dropdownLabelDiv);break}labelItem=_jQueryGS("<div>",{class:"zgs19_labelItem",gstitle:zgssearch.getI18NMsg("common.labels").replace("s","")+": "+labelItem.name}).text(labelItem.name),labelListDiv.append(labelItem)}},gsgmail.loadToOthersList=function(menuEl,toAddr,ccAddr,bccAddr){_jQueryGS(menuEl.metaInfo).append(_jQueryGS("<div>",{id:"zgs20_gsDropdownToList",class:"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),gsgmail.renderToOthersList(toAddr,zgssearch.getI18NMsg("common.to")),gsgmail.renderToOthersList(ccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.cc")),gsgmail.renderToOthersList(bccAddr,zgssearch.getI18NMsg("gs.search.result.mail.callout.bcc"))},gsgmail.renderToOthersList=function(emailList,label){if(emailList&&0<emailList.length){for(var emailIdList=_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"}),alistLen=emailList.length,i=0;i<alistLen;i++){var comma=i+1===emailList.length?"":",",mailAddressObj=emailList[i],mailAddressObj=(mailAddressObj.emailAddress.address||mailAddressObj.emailAddress.name,emailList[i].hasOwnProperty("emailAddress")?emailList[i].emailAddress:""),emailId=mailAddressObj.hasOwnProperty("address")?mailAddressObj.address:mailAddressObj.hasOwnProperty("name")?mailAddressObj.name:"";emailIdList.append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(_jQueryGS("<span>",{gstitle:emailId}).text(emailId+comma)))}_jQueryGS("#zgs20_gsDropdownToList").append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListHolder"}).append(_jQueryGS("<div>",{class:"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(_jQueryGS("<span>",{gstitle:label}).text(label))).append(_jQueryGS("<div>",{class:"zgs19_gsSemicolon zgs19_gsfl"}).append(_jQueryGS("<span>").text(":"))).append(emailIdList))}},gsgmail.renderIframePreview=function(resObj,menuEl,iframeUrl){var gmailPreview=document.createElement("iframe");gmailPreview.id="zgs20_gmailIframePrev";iframeUrl=iframeUrl+"&"+zgssearch.originParam;gmailPreview.src=iframeUrl,gmailPreview.className="zgs19_Border0px zgs19_gsDocsIframeTag zgs19_gsIframeBgColor",gmailPreview.setAttribute("frameborder","0"),gmailPreview.setAttribute("allowfullscreen","true"),gmailPreview.setAttribute("sandbox","allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"),gmailPreview.onload=function(){setTimeout(function(curcalloutObj){zgssearch.hideCalloutLoader(curcalloutObj)},500,gsgmail.curcalloutObj)},_jQueryGS(menuEl.calloutFooter).empty().append(gmailPreview)},gsgmail.downloadAttachment=function(ud_download_url,fileName,mimeType){var msgId=zgssearch.getCurrentResObj().id||"",conId=zgssearch.getCurSelectedEleAttr("acc_id")||"",download_url=zgssearch.getAppIdForCloudApps(conId),download_obj={};download_obj.connector_id=conId,download_obj.service_name="gmail",download_obj.action="getGMailUDAttachmentUrl",download_obj.isExAttachment=!0,download_obj.msgId=msgId,download_obj.mimeType=mimeType,download_obj.fileName=encodeURIComponent(encodeURIComponent(fileName)),download_obj.attId=ud_download_url,download_obj.app_id=download_url;ud_download_url=zgssearch.GSConstant.ud_download_server_url,download_url=zgssearch.GSConstant.ud_service_name,download_url=ud_download_url+"?event-id="+("search_download_"+(new Date).getTime())+"&x-cli-msg="+encodeURIComponent(JSON.stringify(download_obj))+"&x-service="+download_url;zgssearch.network.download_file(download_url)},gsgmail.addToWD=function(resObj,attachId,folderId,attachmentData){var paramObj={};paramObj.service=zgssearch.GSConstant.GMAIL,paramObj.attachmentId=attachId,paramObj.folderId=folderId,paramObj.msgId=attachmentData.messageId,paramObj.isExAttachment=attachmentData.isExAttachment,paramObj.mimeType=attachmentData.mimeType,paramObj.fileName=encodeURIComponent(attachmentData.fileName),paramObj.connectorId=zgssearch.curSelectedEle.getAttribute("acc_id")||"",zgssearch.connectors.addFileToWD(paramObj,resObj)},gsgmail.setServiceEleSize=function(curResEleId,curResPageHeight){var menuEl=zgssearch.getTargetElem("zgs20_gsGmailcallout");zgssearch.setGSTagElems(menuEl),gsgmail.setGmailCalloutEleSize(menuEl),_jQueryGS("#"+curResEleId).css("height",curResPageHeight+"px")},gsgmail.addCalloutActionList=function(menuEl){var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList");_jQueryGS(actionList).empty().remove(),_jQueryGS(menuEl.calloutActionHolder).append(_jQueryGS("<div>",{id:"zgs20_gsCalloutActionList",class:"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));for(var actionList=menuEl.getElementsByClassName("zgs19_gsCalloutActionList"),alist=gsgmail.actionList,alistLen=alist.length,i=0;i<alistLen;i++){var key,obj=alist[i];for(key in obj){var dectext=zgssearch.getI18NMsg(obj[key]);_jQueryGS(actionList).append(_jQueryGS("<div>",{class:"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"calloutActionOptions",value:key,service:GSConstant.GMAIL,gstitle:dectext}).text(dectext))}}},gsgmail.toggleMailStatus=function(action,curRe,resObj,calloutId,target){var conId,msgId,isRead,zsoid;curRe&&(conId=zgssearch.getCurrentSelectedElem().getAttribute("acc_id")||"",msgId=resObj.id,isRead=!0,"read"==action?isRead=!0:"unread"==action&&(isRead=!1),zsoid=zgssearch.getAppIdForCloudApps(conId),zgssearch.uri(zgssearch.POST,"/zgssearch/exconnector/getCalloutData","action=updateReadStatus&service_name=gmail&connector_id="+conId+"&msgId="+msgId+"&isRead="+isRead+"&app_id="+zsoid,{curRe:curRe,resObj:resObj,action:action,accountId:conId,msgId:msgId,calloutId:calloutId,target:target},function(data,status,xhr){gsgmail.markAsReadOrUnreadAction(data,action,curRe,resObj,calloutId,target)}))},gsgmail.markAsReadOrUnreadAction=function(vtext,action,curRe,resObj,toBeChangeCls,target){var menuEl,toBeRemoveCls,toBeChangeTitle;!vtext||"null"===vtext||"success"==((toBeRemoveCls=zgssearch.jsonParse(vtext))&&toBeRemoveCls.response||"").status&&curRe&&(menuEl="",menuEl=target?zgssearch.getNodeByAttr(target,"class","zgs19_gsServiceCalloutHolder"):zgssearch.getTargetElem(toBeChangeCls),vtext=toBeChangeTitle="","read"==action?toBeChangeTitle=zgssearch.getMailImageStatus(0):"unread"==action&&(toBeChangeTitle=zgssearch.getMailImageStatus(1)),toBeRemoveCls=toBeChangeTitle.image,toBeChangeCls=toBeChangeTitle.toBeImage,toBeChangeTitle=toBeChangeTitle.toBeTitle,_jQueryGS(curRe.resultMenuItem).attr("gstitle",toBeChangeTitle),"read"==action?(resObj.isRead=!0,_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsUnRead"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&_jQueryGS(target).attr("value","unread").attr("gstitle",vtext).text(vtext)):"unread"==action&&(resObj.isRead=!1,_jQueryGS(curRe.resultTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),vtext=zgssearch.getI18NMsg("gs.search.sevice_mail_maskAsRead"),_jQueryGS(menuEl.ctitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),_jQueryGS(curRe.resultMenuItem).removeClass(toBeRemoveCls).addClass(toBeChangeCls),target&&_jQueryGS(target).attr("value","read").attr("gstitle",vtext).text(vtext)))},gsgmail.calloutErrorMsg=function(error,curCalloutObj){var msg;zgssearch.getCurrentSelectedElem()&&(zgssearch.hideCalloutLoader(curCalloutObj,msg),msg="ERROR"===error?zgssearch.getI18NMsg("gs.search.error.generic_error_messege"):zgssearch.getI18NMsg("gs.search.result.mail.status.callout.errortext"),zgssearch.calloutErrorPage(curCalloutObj,msg))},gsgmail)}(zgssearch,window),function(zgssearch,window){var gssecurity,document=window.document;zgssearch.gssecurity=(gssecurity=void 0,(gssecurity=zgssearch.gssecurity||{}).textDecoder=function(encodedText){var tempDoc=window.document,useXHR=!1,useDOMParser=!1;"function"!=typeof window.HTMLTemplateElement||(decodedText=tempDoc.createElement("template")).content&&decodedText.content.ownerDocument&&(tempDoc=decodedText.content.ownerDocument);function _initDocument(dirty){var doc;if(useXHR){try{dirty=window.encodeURI(dirty)}catch(err){}var body=new window.XMLHttpRequest;body.responseType="document",body.open("GET","data:text/html;charset=utf-8,"+dirty,!1),body.send(null),doc=body.response}if(useDOMParser)try{doc=(new window.DOMParser).parseFromString(dirty,"text/html")}catch(err){}return doc&&doc.documentElement||((body=(doc=tempDoc.implementation.createHTMLDocument("")).body).parentNode.removeChild(body.parentNode.firstElementChild),body.outerHTML=dirty),tempDoc.getElementsByTagName.call(doc,"body")[0]}var decodedText=tempDoc.implementation&&void 0!==tempDoc.implementation.createHTMLDocument&&9!==tempDoc.documentMode;decodedText&&function(){var doc=_initDocument('<svg><g onload="this.parentNode.remove()"></g></svg>');doc.querySelector("svg")||(useXHR=!0);try{(doc=_initDocument('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(useDOMParser=!0)}catch(err){}}();decodedText=_initDocument("<textarea class='toDecode'></textarea>").getElementsByClassName("toDecode")[0];return decodedText.innerHTML=encodedText,decodedText.value},gssecurity.createTextNode=function(text){var textElem=document.createDocumentFragment();return textElem.appendChild(document.createTextNode(text||"")),textElem},gssecurity.createFontNode=function(matchChildElm,attr){var fontElm=document.createElement("FONT");if(attr)for(var at in attr)fontElm.setAttribute(at,attr[at]);var textElem=gssecurity.createTextNode(matchChildElm),matchChildElm=document.createDocumentFragment();return matchChildElm.appendChild(textElem),fontElm.appendChild(matchChildElm),fontElm},gssecurity.getHighlightTextNode=function(prefixElm,match,suffixElm,matchElm){var docFragment=document.createDocumentFragment();return prefixElm&&(prefixElm=gssecurity.createTextNode(prefixElm),docFragment.appendChild(prefixElm)),match&&(matchElm=gssecurity.createFontNode(match,matchElm),docFragment.appendChild(matchElm)),suffixElm&&(suffixElm=gssecurity.createTextNode(suffixElm),docFragment.appendChild(suffixElm)),docFragment},gssecurity)}(zgssearch,window),function(onZiaReadyCallback){onZiaReadyCallback=(onZiaReadyCallback.gscomponent||{}).onZSReady;onZiaReadyCallback&&onZiaReadyCallback()}(zgssearch,window);